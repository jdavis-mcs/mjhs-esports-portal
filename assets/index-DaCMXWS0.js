(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Im={exports:{}},zl={};var hb;function FS(){if(hb)return zl;hb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var db;function GS(){return db||(db=1,Im.exports=FS()),Im.exports}var _=GS(),Dm={exports:{}},Te={};var fb;function $S(){if(fb)return Te;fb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function O(j){return j===null||typeof j!="object"?null:(j=S&&j[S]||j["@@iterator"],typeof j=="function"?j:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,G={};function ne(j,Z,ae){this.props=j,this.context=Z,this.refs=G,this.updater=ae||D}ne.prototype.isReactComponent={},ne.prototype.setState=function(j,Z){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Z,"setState")},ne.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function te(){}te.prototype=ne.prototype;function re(j,Z,ae){this.props=j,this.context=Z,this.refs=G,this.updater=ae||D}var de=re.prototype=new te;de.constructor=re,H(de,ne.prototype),de.isPureReactComponent=!0;var Se=Array.isArray;function Ee(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(j,Z,ae){var ue=ae.ref;return{$$typeof:i,type:j,key:Z,ref:ue!==void 0?ue:null,props:ae}}function L(j,Z){return C(j.type,Z,j.props)}function V(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function P(j){var Z={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ae){return Z[ae]})}var N=/\/+/g;function st(j,Z){return typeof j=="object"&&j!==null&&j.key!=null?P(""+j.key):Z.toString(36)}function Ot(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Ee,Ee):(j.status="pending",j.then(function(Z){j.status==="pending"&&(j.status="fulfilled",j.value=Z)},function(Z){j.status==="pending"&&(j.status="rejected",j.reason=Z)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Q(j,Z,ae,ue,ve){var Re=typeof j;(Re==="undefined"||Re==="boolean")&&(j=null);var Ue=!1;if(j===null)Ue=!0;else switch(Re){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(j.$$typeof){case i:case e:Ue=!0;break;case T:return Ue=j._init,Q(Ue(j._payload),Z,ae,ue,ve)}}if(Ue)return ve=ve(j),Ue=ue===""?"."+st(j,0):ue,Se(ve)?(ae="",Ue!=null&&(ae=Ue.replace(N,"$&/")+"/"),Q(ve,Z,ae,"",function(Rs){return Rs})):ve!=null&&(V(ve)&&(ve=L(ve,ae+(ve.key==null||j&&j.key===ve.key?"":(""+ve.key).replace(N,"$&/")+"/")+Ue)),Z.push(ve)),1;Ue=0;var Mt=ue===""?".":ue+":";if(Se(j))for(var at=0;at<j.length;at++)ue=j[at],Re=Mt+st(ue,at),Ue+=Q(ue,Z,ae,Re,ve);else if(at=O(j),typeof at=="function")for(j=at.call(j),at=0;!(ue=j.next()).done;)ue=ue.value,Re=Mt+st(ue,at++),Ue+=Q(ue,Z,ae,Re,ve);else if(Re==="object"){if(typeof j.then=="function")return Q(Ot(j),Z,ae,ue,ve);throw Z=String(j),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function se(j,Z,ae){if(j==null)return j;var ue=[],ve=0;return Q(j,ue,"","",function(Re){return Z.call(ae,Re,ve++)}),ue}function pe(j){if(j._status===-1){var Z=j._result;Z=Z(),Z.then(function(ae){(j._status===0||j._status===-1)&&(j._status=1,j._result=ae)},function(ae){(j._status===0||j._status===-1)&&(j._status=2,j._result=ae)}),j._status===-1&&(j._status=0,j._result=Z)}if(j._status===1)return j._result.default;throw j._result}var ze=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},$e={map:se,forEach:function(j,Z,ae){se(j,function(){Z.apply(this,arguments)},ae)},count:function(j){var Z=0;return se(j,function(){Z++}),Z},toArray:function(j){return se(j,function(Z){return Z})||[]},only:function(j){if(!V(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Te.Activity=b,Te.Children=$e,Te.Component=ne,Te.Fragment=n,Te.Profiler=o,Te.PureComponent=re,Te.StrictMode=s,Te.Suspense=p,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Te.__COMPILER_RUNTIME={__proto__:null,c:function(j){return R.H.useMemoCache(j)}},Te.cache=function(j){return function(){return j.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(j,Z,ae){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ue=H({},j.props),ve=j.key;if(Z!=null)for(Re in Z.key!==void 0&&(ve=""+Z.key),Z)!w.call(Z,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Z.ref===void 0||(ue[Re]=Z[Re]);var Re=arguments.length-2;if(Re===1)ue.children=ae;else if(1<Re){for(var Ue=Array(Re),Mt=0;Mt<Re;Mt++)Ue[Mt]=arguments[Mt+2];ue.children=Ue}return C(j.type,ve,ue)},Te.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},Te.createElement=function(j,Z,ae){var ue,ve={},Re=null;if(Z!=null)for(ue in Z.key!==void 0&&(Re=""+Z.key),Z)w.call(Z,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=Z[ue]);var Ue=arguments.length-2;if(Ue===1)ve.children=ae;else if(1<Ue){for(var Mt=Array(Ue),at=0;at<Ue;at++)Mt[at]=arguments[at+2];ve.children=Mt}if(j&&j.defaultProps)for(ue in Ue=j.defaultProps,Ue)ve[ue]===void 0&&(ve[ue]=Ue[ue]);return C(j,Re,ve)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(j){return{$$typeof:m,render:j}},Te.isValidElement=V,Te.lazy=function(j){return{$$typeof:T,_payload:{_status:-1,_result:j},_init:pe}},Te.memo=function(j,Z){return{$$typeof:g,type:j,compare:Z===void 0?null:Z}},Te.startTransition=function(j){var Z=R.T,ae={};R.T=ae;try{var ue=j(),ve=R.S;ve!==null&&ve(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ee,ze)}catch(Re){ze(Re)}finally{Z!==null&&ae.types!==null&&(Z.types=ae.types),R.T=Z}},Te.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Te.use=function(j){return R.H.use(j)},Te.useActionState=function(j,Z,ae){return R.H.useActionState(j,Z,ae)},Te.useCallback=function(j,Z){return R.H.useCallback(j,Z)},Te.useContext=function(j){return R.H.useContext(j)},Te.useDebugValue=function(){},Te.useDeferredValue=function(j,Z){return R.H.useDeferredValue(j,Z)},Te.useEffect=function(j,Z){return R.H.useEffect(j,Z)},Te.useEffectEvent=function(j){return R.H.useEffectEvent(j)},Te.useId=function(){return R.H.useId()},Te.useImperativeHandle=function(j,Z,ae){return R.H.useImperativeHandle(j,Z,ae)},Te.useInsertionEffect=function(j,Z){return R.H.useInsertionEffect(j,Z)},Te.useLayoutEffect=function(j,Z){return R.H.useLayoutEffect(j,Z)},Te.useMemo=function(j,Z){return R.H.useMemo(j,Z)},Te.useOptimistic=function(j,Z){return R.H.useOptimistic(j,Z)},Te.useReducer=function(j,Z,ae){return R.H.useReducer(j,Z,ae)},Te.useRef=function(j){return R.H.useRef(j)},Te.useState=function(j){return R.H.useState(j)},Te.useSyncExternalStore=function(j,Z,ae){return R.H.useSyncExternalStore(j,Z,ae)},Te.useTransition=function(){return R.H.useTransition()},Te.version="19.2.3",Te}var mb;function Ip(){return mb||(mb=1,Dm.exports=$S()),Dm.exports}var k=Ip(),Om={exports:{}},Bl={},Mm={exports:{}},km={};var pb;function YS(){return pb||(pb=1,(function(i){function e(Q,se){var pe=Q.length;Q.push(se);e:for(;0<pe;){var ze=pe-1>>>1,$e=Q[ze];if(0<o($e,se))Q[ze]=se,Q[pe]=$e,pe=ze;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var se=Q[0],pe=Q.pop();if(pe!==se){Q[0]=pe;e:for(var ze=0,$e=Q.length,j=$e>>>1;ze<j;){var Z=2*(ze+1)-1,ae=Q[Z],ue=Z+1,ve=Q[ue];if(0>o(ae,pe))ue<$e&&0>o(ve,ae)?(Q[ze]=ve,Q[ue]=pe,ze=ue):(Q[ze]=ae,Q[Z]=pe,ze=Z);else if(ue<$e&&0>o(ve,pe))Q[ze]=ve,Q[ue]=pe,ze=ue;else break e}}return se}function o(Q,se){var pe=Q.sortIndex-se.sortIndex;return pe!==0?pe:Q.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],T=1,b=null,S=3,O=!1,D=!1,H=!1,G=!1,ne=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function de(Q){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=Q)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function Se(Q){if(H=!1,de(Q),!D)if(n(p)!==null)D=!0,Ee||(Ee=!0,P());else{var se=n(g);se!==null&&Ot(Se,se.startTime-Q)}}var Ee=!1,R=-1,w=5,C=-1;function L(){return G?!0:!(i.unstable_now()-C<w)}function V(){if(G=!1,Ee){var Q=i.unstable_now();C=Q;var se=!0;try{e:{D=!1,H&&(H=!1,te(R),R=-1),O=!0;var pe=S;try{t:{for(de(Q),b=n(p);b!==null&&!(b.expirationTime>Q&&L());){var ze=b.callback;if(typeof ze=="function"){b.callback=null,S=b.priorityLevel;var $e=ze(b.expirationTime<=Q);if(Q=i.unstable_now(),typeof $e=="function"){b.callback=$e,de(Q),se=!0;break t}b===n(p)&&s(p),de(Q)}else s(p);b=n(p)}if(b!==null)se=!0;else{var j=n(g);j!==null&&Ot(Se,j.startTime-Q),se=!1}}break e}finally{b=null,S=pe,O=!1}se=void 0}}finally{se?P():Ee=!1}}}var P;if(typeof re=="function")P=function(){re(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,st=N.port2;N.port1.onmessage=V,P=function(){st.postMessage(null)}}else P=function(){ne(V,0)};function Ot(Q,se){R=ne(function(){Q(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var pe=S;S=se;try{return Q()}finally{S=pe}},i.unstable_requestPaint=function(){G=!0},i.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pe=S;S=Q;try{return se()}finally{S=pe}},i.unstable_scheduleCallback=function(Q,se,pe){var ze=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,Q){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=pe+$e,Q={id:T++,callback:se,priorityLevel:Q,startTime:pe,expirationTime:$e,sortIndex:-1},pe>ze?(Q.sortIndex=pe,e(g,Q),n(p)===null&&Q===n(g)&&(H?(te(R),R=-1):H=!0,Ot(Se,pe-ze))):(Q.sortIndex=$e,e(p,Q),D||O||(D=!0,Ee||(Ee=!0,P()))),Q},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(Q){var se=S;return function(){var pe=S;S=se;try{return Q.apply(this,arguments)}finally{S=pe}}}})(km)),km}var gb;function KS(){return gb||(gb=1,Mm.exports=YS()),Mm.exports}var Vm={exports:{}},Wt={};var yb;function QS(){if(yb)return Wt;yb=1;var i=Ip();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:T}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},Wt.flushSync=function(p){var g=h.T,T=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=T,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:O}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,T){return h.H.useFormState(p,g,T)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.2.3",Wt}var _b;function XS(){if(_b)return Vm.exports;_b=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Vm.exports=QS(),Vm.exports}var vb;function JS(){if(vb)return Bl;vb=1;var i=KS(),e=Ip(),n=XS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return p(d),t;if(f===l)return p(d),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var v=!1,x=d.child;x;){if(x===a){v=!0,a=d,l=f;break}if(x===l){v=!0,l=d,a=f;break}x=x.sibling}if(!v){for(x=f.child;x;){if(x===a){v=!0,a=f,l=d;break}if(x===l){v=!0,l=f,a=d;break}x=x.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function T(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=T(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),re=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case ne:return"Profiler";case G:return"StrictMode";case Se:return"Suspense";case Ee:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case re:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case de:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return r=t.displayName||null,r!==null?r:st(t.type)||"Memo";case w:r=t._payload,t=t._init;try{return st(t(r))}catch{}}return null}var Ot=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],$e=-1;function j(t){return{current:t}}function Z(t){0>$e||(t.current=ze[$e],ze[$e]=null,$e--)}function ae(t,r){$e++,ze[$e]=t.current,t.current=r}var ue=j(null),ve=j(null),Re=j(null),Ue=j(null);function Mt(t,r){switch(ae(Re,r),ae(ve,t),ae(ue,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?kv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=kv(r),t=Vv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ue),ae(ue,t)}function at(){Z(ue),Z(ve),Z(Re)}function Rs(t){t.memoizedState!==null&&ae(Ue,t);var r=ue.current,a=Vv(r,t.type);r!==a&&(ae(ve,t),ae(ue,a))}function Ea(t){ve.current===t&&(Z(ue),Z(ve)),Ue.current===t&&(Z(Ue),jl._currentValue=pe)}var Ta,xa;function fr(t){if(Ta===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ta=r&&r[1]||"",xa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ta+t+xa}var jo=!1;function Cs(t,r){if(!t||jo)return"";jo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var F=Y}Reflect.construct(t,[],W)}else{try{W.call()}catch(Y){F=Y}t.call(W.prototype)}}else{try{throw Error()}catch(Y){F=Y}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],x=f[1];if(v&&x){var I=v.split(`
`),q=x.split(`
`);for(d=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(l===I.length||d===q.length)for(l=I.length-1,d=q.length-1;1<=l&&0<=d&&I[l]!==q[d];)d--;for(;1<=l&&0<=d;l--,d--)if(I[l]!==q[d]){if(l!==1||d!==1)do if(l--,d--,0>d||I[l]!==q[d]){var K=`
`+I[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=d);break}}}finally{jo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?fr(a):""}function Lo(t,r){switch(t.tag){case 26:case 27:case 5:return fr(t.type);case 16:return fr("Lazy");case 13:return t.child!==r&&r!==null?fr("Suspense Fallback"):fr("Suspense");case 19:return fr("SuspenseList");case 0:case 15:return Cs(t.type,!1);case 11:return Cs(t.type.render,!1);case 1:return Cs(t.type,!0);case 31:return fr("Activity");default:return""}}function Uo(t){try{var r="",a=null;do r+=Lo(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,kt=i.unstable_scheduleCallback,Ci=i.unstable_cancelCallback,Dd=i.unstable_shouldYield,Ru=i.unstable_requestPaint,rn=i.unstable_now,Ns=i.unstable_getCurrentPriorityLevel,Po=i.unstable_ImmediatePriority,zo=i.unstable_UserBlockingPriority,Ni=i.unstable_NormalPriority,Od=i.unstable_LowPriority,Cu=i.unstable_IdlePriority,Nu=i.log,Iu=i.unstable_setDisableYieldValue,Kn=null,Ht=null;function On(t){if(typeof Nu=="function"&&Iu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Kn,t)}catch{}}var mt=Math.clz32?Math.clz32:Ou,Du=Math.log,Sa=Math.LN2;function Ou(t){return t>>>=0,t===0?32:31-(Du(t)/Sa|0)|0}var mr=256,Is=262144,Et=4194304;function pr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gr(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~f,l!==0?d=pr(l):(v&=x,v!==0?d=pr(v):a||(a=x&~t,a!==0&&(d=pr(a))))):(x=l&~f,x!==0?d=pr(x):v!==0?d=pr(v):a||(a=l&~t,a!==0&&(d=pr(a)))),d===0?0:r!==0&&r!==d&&(r&f)===0&&(f=d&-d,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:d}function Qn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Md(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function yr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ds(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kd(t,r,a,l,d,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-mt(a),W=1<<K;x[K]=0,I[K]=-1;var F=q[K];if(F!==null)for(q[K]=null,K=0;K<F.length;K++){var Y=F[K];Y!==null&&(Y.lane&=-536870913)}a&=~W}l!==0&&Os(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~r))}function Os(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-mt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Bo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-mt(a),d=1<<l;d&r|t[l]&r&&(t[l]|=r),a&=~d}}function qo(t,r){var a=r&-r;return a=(a&42)!==0?1:Ms(a),(a&(t.suspendedLanes|r))!==0?0:a}function Ms(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ku(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:ib(t.type))}function Xn(t,r){var a=se.p;try{return se.p=t,r()}finally{se.p=a}}var Jn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Jn,Pt="__reactProps$"+Jn,_r="__reactContainer$"+Jn,Aa="__reactEvents$"+Jn,Vd="__reactListeners$"+Jn,Vu="__reactHandles$"+Jn,ju="__reactResources$"+Jn,vr="__reactMarker$"+Jn;function wa(t){delete t[Tt],delete t[Pt],delete t[Aa],delete t[Vd],delete t[Vu]}function br(t){var r=t[Tt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[_r]||a[Tt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=qv(t);t!==null;){if(a=t[Tt])return a;t=qv(t)}return r}t=a,a=t.parentNode}return null}function Mn(t){if(t=t[Tt]||t[_r]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function _n(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Er(t){var r=t[ju];return r||(r=t[ju]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xt(t){t[vr]=!0}var Ho=new Set,Fo={};function Tr(t,r){xr(t,r),xr(t+"Capture",r)}function xr(t,r){for(Fo[t]=r,t=0;t<r.length;t++)Ho.add(r[t])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$o={},Yo={};function Lu(t){return bt.call(Yo,t)?!0:bt.call($o,t)?!1:Go.test(t)?Yo[t]=!0:($o[t]=!0,!1)}function Ra(t,r,a){if(Lu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function vn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function St(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ii(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ko(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ye(t){if(!t._valueTracker){var r=Ii(t)?"checked":"value";t._valueTracker=Ko(t,r,""+t[r])}}function ks(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Ii(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Sr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vs=/[\n"\\]/g;function ln(t){return t.replace(Vs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ca(t,r,a,l,d,f,v,x){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+zt(r)):t.value!==""+zt(r)&&(t.value=""+zt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Qo(t,v,zt(r)):a!=null?Qo(t,v,zt(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+zt(x):t.removeAttribute("name")}function Uu(t,r,a,l,d,f,v,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){Ye(t);return}a=a!=null?""+zt(a):"",r=r!=null?""+zt(r):a,x||r===t.value||(t.value=r),t.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ye(t)}function Qo(t,r,a){r==="number"&&Sr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Di(t,r,a,l){if(t=t.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=r.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),r=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function Pu(t,r,a){if(r!=null&&(r=""+zt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+zt(a):""}function Oi(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=zt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function un(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||zu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Jo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&Xo(t,d,l)}else for(var f in r)r.hasOwnProperty(f)&&Xo(t,f,r[f])}function Na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return Mi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Wn(){}var Wo=null;function kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ki=null,Ar=null;function js(t){var r=Mn(t);if(r&&(t=r.stateNode)){var a=t[Pt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var d=l[Pt]||null;if(!d)throw Error(s(90));Ca(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&ks(l)}break e;case"textarea":Pu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Di(t,!!a.multiple,r,!1)}}}var Da=!1;function Vi(t,r,a){if(Da)return t(r,a);Da=!0;try{var l=t(r);return l}finally{if(Da=!1,(ki!==null||Ar!==null)&&(kc(),ki&&(r=ki,t=Ar,Ar=ki=null,js(r),t)))for(r=0;r<t.length;r++)js(t[r])}}function Zn(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ls=!1;if(Vn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Ls=!1}var wr=null,Zo=null,Us=null;function el(){if(Us)return Us;var t,r=Zo,a=r.length,l,d="value"in wr?wr.value:wr.textContent,f=d.length;for(t=0;t<a&&r[t]===d[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===d[f-l];l++);return Us=d.slice(t,1<l?1-l:void 0)}function Ps(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Kr(){return!0}function er(){return!1}function Ft(t){function r(a,l,d,f,v){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Kr:er,this.isPropagationStopped=er,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),r}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rr=Ft(Qr),ji=b({},Qr,{view:0,detail:0}),tl=Ft(ji),Li,Oa,Cr,Ma=b({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ui,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cr&&(Cr&&t.type==="mousemove"?(Li=t.screenX-Cr.screenX,Oa=t.screenY-Cr.screenY):Oa=Li=0,Cr=t),Li)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),nl=Ft(Ma),zs=b({},Ma,{dataTransfer:0}),qu=Ft(zs),Hu=b({},ji,{relatedTarget:0}),Bs=Ft(Hu),rl=b({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Fu=Ft(rl),ka=b({},Qr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gu=Ft(ka),$u=b({},Qr,{data:0}),Nr=Ft($u),Yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Qu[t])?!!r[t]:!1}function Ui(){return Xu}var sn=b({},ji,{key:function(t){if(t.key){var r=Yu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ui,charCode:function(t){return t.type==="keypress"?Ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ju=Ft(sn),Wu=b({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xr=Ft(Wu),c=b({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ui}),y=Ft(c),E=b({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ft(E),z=b({},Ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Ft(z),ie=b({},Qr,{newState:0,oldState:0}),Ae=Ft(ie),pt=[9,13,27,32],He=Vn&&"CompositionEvent"in window,ot=null;Vn&&"documentMode"in document&&(ot=document.documentMode);var jn=Vn&&"TextEvent"in window&&!ot,Ir=Vn&&(!He||ot&&8<ot&&11>=ot),tr=" ",nr=!1;function qs(t,r){switch(t){case"keyup":return pt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Va(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ja=!1;function mx(t,r){switch(t){case"compositionend":return Va(r);case"keypress":return r.which!==32?null:(nr=!0,tr);case"textInput":return t=r.data,t===tr&&nr?null:t;default:return null}}function px(t,r){if(ja)return t==="compositionend"||!He&&qs(t,r)?(t=el(),Us=Zo=wr=null,ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ir&&r.locale!=="ko"?null:r.data;default:return null}}var gx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!gx[t.type]:r==="textarea"}function $g(t,r,a,l){ki?Ar?Ar.push(l):Ar=[l]:ki=l,r=Bc(r,"onChange"),0<r.length&&(a=new Rr("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var il=null,sl=null;function yx(t){Cv(t,0)}function Zu(t){var r=_n(t);if(ks(r))return t}function Yg(t,r){if(t==="change")return r}var Kg=!1;if(Vn){var jd;if(Vn){var Ld="oninput"in document;if(!Ld){var Qg=document.createElement("div");Qg.setAttribute("oninput","return;"),Ld=typeof Qg.oninput=="function"}jd=Ld}else jd=!1;Kg=jd&&(!document.documentMode||9<document.documentMode)}function Xg(){il&&(il.detachEvent("onpropertychange",Jg),sl=il=null)}function Jg(t){if(t.propertyName==="value"&&Zu(sl)){var r=[];$g(r,sl,t,kn(t)),Vi(yx,r)}}function _x(t,r,a){t==="focusin"?(Xg(),il=r,sl=a,il.attachEvent("onpropertychange",Jg)):t==="focusout"&&Xg()}function vx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zu(sl)}function bx(t,r){if(t==="click")return Zu(r)}function Ex(t,r){if(t==="input"||t==="change")return Zu(r)}function Tx(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var bn=typeof Object.is=="function"?Object.is:Tx;function al(t,r){if(bn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!bt.call(r,d)||!bn(t[d],r[d]))return!1}return!0}function Wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zg(t,r){var a=Wg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wg(a)}}function ey(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ey(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ty(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Sr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Sr(t.document)}return r}function Ud(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var xx=Vn&&"documentMode"in document&&11>=document.documentMode,La=null,Pd=null,ol=null,zd=!1;function ny(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zd||La==null||La!==Sr(l)||(l=La,"selectionStart"in l&&Ud(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=Bc(Pd,"onSelect"),0<l.length&&(r=new Rr("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=La)))}function Hs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ua={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},Bd={},ry={};Vn&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Fs(t){if(Bd[t])return Bd[t];if(!Ua[t])return t;var r=Ua[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in ry)return Bd[t]=r[a];return t}var iy=Fs("animationend"),sy=Fs("animationiteration"),ay=Fs("animationstart"),Sx=Fs("transitionrun"),Ax=Fs("transitionstart"),wx=Fs("transitioncancel"),oy=Fs("transitionend"),ly=new Map,qd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qd.push("scrollEnd");function rr(t,r){ly.set(t,r),Tr(r,[t])}var ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ln=[],Pa=0,Hd=0;function tc(){for(var t=Pa,r=Hd=Pa=0;r<t;){var a=Ln[r];Ln[r++]=null;var l=Ln[r];Ln[r++]=null;var d=Ln[r];Ln[r++]=null;var f=Ln[r];if(Ln[r++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}f!==0&&uy(a,d,f)}}function nc(t,r,a,l){Ln[Pa++]=t,Ln[Pa++]=r,Ln[Pa++]=a,Ln[Pa++]=l,Hd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Fd(t,r,a,l){return nc(t,r,a,l),rc(t)}function Gs(t,r){return nc(t,null,null,r),rc(t)}function uy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&r!==null&&(d=31-mt(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[r]:l.push(r),r.lane=a|536870912),f):null}function rc(t){if(50<Nl)throw Nl=0,em=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var za={};function Rx(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,r,a,l){return new Rx(t,r,a,l)}function Gd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jr(t,r){var a=t.alternate;return a===null?(a=En(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function cy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ic(t,r,a,l,d,f){var v=0;if(l=t,typeof t=="function")Gd(t)&&(v=1);else if(typeof t=="string")v=OS(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=En(31,a,r,d),t.elementType=C,t.lanes=f,t;case H:return $s(a.children,d,f,r);case G:v=8,d|=24;break;case ne:return t=En(12,a,r,d|2),t.elementType=ne,t.lanes=f,t;case Se:return t=En(13,a,r,d),t.elementType=Se,t.lanes=f,t;case Ee:return t=En(19,a,r,d),t.elementType=Ee,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case te:v=9;break e;case de:v=11;break e;case R:v=14;break e;case w:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=En(v,a,r,d),r.elementType=t,r.type=l,r.lanes=f,r}function $s(t,r,a,l){return t=En(7,t,l,r),t.lanes=a,t}function $d(t,r,a){return t=En(6,t,null,r),t.lanes=a,t}function hy(t){var r=En(18,null,null,0);return r.stateNode=t,r}function Yd(t,r,a){return r=En(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var dy=new WeakMap;function Un(t,r){if(typeof t=="object"&&t!==null){var a=dy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Uo(r)},dy.set(t,r),r)}return{value:t,source:r,stack:Uo(r)}}var Ba=[],qa=0,sc=null,ll=0,Pn=[],zn=0,Pi=null,Dr=1,Or="";function Wr(t,r){Ba[qa++]=ll,Ba[qa++]=sc,sc=t,ll=r}function fy(t,r,a){Pn[zn++]=Dr,Pn[zn++]=Or,Pn[zn++]=Pi,Pi=t;var l=Dr;t=Or;var d=32-mt(l)-1;l&=~(1<<d),a+=1;var f=32-mt(r)+d;if(30<f){var v=d-d%5;f=(l&(1<<v)-1).toString(32),l>>=v,d-=v,Dr=1<<32-mt(r)+d|a<<d|l,Or=f+t}else Dr=1<<f|a<<d|l,Or=t}function Kd(t){t.return!==null&&(Wr(t,1),fy(t,1,0))}function Qd(t){for(;t===sc;)sc=Ba[--qa],Ba[qa]=null,ll=Ba[--qa],Ba[qa]=null;for(;t===Pi;)Pi=Pn[--zn],Pn[zn]=null,Or=Pn[--zn],Pn[zn]=null,Dr=Pn[--zn],Pn[zn]=null}function my(t,r){Pn[zn++]=Dr,Pn[zn++]=Or,Pn[zn++]=Pi,Dr=r.id,Or=r.overflow,Pi=t}var Gt=null,nt=null,je=!1,zi=null,Bn=!1,Xd=Error(s(519));function Bi(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(Un(r,t)),Xd}function py(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Tt]=t,r[Pt]=l,a){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(a=0;a<Dl.length;a++)Ie(Dl[a],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Ie("invalid",r),Uu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ie("invalid",r);break;case"textarea":Ie("invalid",r),Oi(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Ov(r.textContent,a)?(l.popover!=null&&(Ie("beforetoggle",r),Ie("toggle",r)),l.onScroll!=null&&Ie("scroll",r),l.onScrollEnd!=null&&Ie("scrollend",r),l.onClick!=null&&(r.onclick=Wn),r=!0):r=!1,r||Bi(t,!0)}function gy(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Gt=Gt.return}}function Ha(t){if(t!==Gt)return!1;if(!je)return gy(t),je=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||pm(t.type,t.memoizedProps)),a=!a),a&&nt&&Bi(t),gy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=Bv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=Bv(t)}else r===27?(r=nt,ts(t.type)?(t=bm,bm=null,nt=t):nt=r):nt=Gt?Hn(t.stateNode.nextSibling):null;return!0}function Ys(){nt=Gt=null,je=!1}function Jd(){var t=zi;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),zi=null),t}function ul(t){zi===null?zi=[t]:zi.push(t)}var Wd=j(null),Ks=null,Zr=null;function qi(t,r,a){ae(Wd,r._currentValue),r._currentValue=a}function ei(t){t._currentValue=Wd.current,Z(Wd)}function Zd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function ef(t,r,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=d;for(var I=0;I<r.length;I++)if(x.context===r[I]){f.lanes|=a,x=f.alternate,x!==null&&(x.lanes|=a),Zd(f.return,a,t),l||(v=null);break e}f=x.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Zd(v,a,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Fa(t,r,a,l){t=null;for(var d=r,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var x=d.type;bn(d.pendingProps.value,v.value)||(t!==null?t.push(x):t=[x])}}else if(d===Ue.current){if(v=d.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}d=d.return}t!==null&&ef(r,t,a,l),r.flags|=262144}function ac(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qs(t){Ks=t,Zr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return yy(Ks,t)}function oc(t,r){return Ks===null&&Qs(t),yy(t,r)}function yy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Zr===null){if(t===null)throw Error(s(308));Zr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Zr=Zr.next=r;return a}var Cx=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Nx=i.unstable_scheduleCallback,Ix=i.unstable_NormalPriority,At={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new Cx,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&Nx(Ix,function(){t.controller.abort()})}var hl=null,nf=0,Ga=0,$a=null;function Dx(t,r){if(hl===null){var a=hl=[];nf=0,Ga=am(),$a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return nf++,r.then(_y,_y),r}function _y(){if(--nf===0&&hl!==null){$a!==null&&($a.status="fulfilled");var t=hl;hl=null,Ga=0,$a=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Ox(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var vy=Q.S;Q.S=function(t,r){nv=rn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Dx(t,r),vy!==null&&vy(t,r)};var Xs=j(null);function rf(){var t=Xs.current;return t!==null?t:et.pooledCache}function lc(t,r){r===null?ae(Xs,Xs.current):ae(Xs,r.pool)}function by(){var t=rf();return t===null?null:{parent:At._currentValue,pool:t}}var Ya=Error(s(460)),sf=Error(s(474)),uc=Error(s(542)),cc={then:function(){}};function Ey(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ty(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Wn,Wn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Sy(t),t;default:if(typeof r.status=="string")r.then(Wn,Wn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Sy(t),t}throw Ws=r,Ya}}function Js(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ws=a,Ya):a}}var Ws=null;function xy(){if(Ws===null)throw Error(s(459));var t=Ws;return Ws=null,t}function Sy(t){if(t===Ya||t===uc)throw Error(s(483))}var Ka=null,dl=0;function hc(t){var r=dl;return dl+=1,Ka===null&&(Ka=[]),Ty(Ka,t,r)}function fl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function dc(t,r){throw r.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ay(t){function r(U,M){if(t){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)r(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function d(U,M){return U=Jr(U,M),U.index=0,U.sibling=null,U}function f(U,M,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=67108866,M):B):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function x(U,M,B,X){return M===null||M.tag!==6?(M=$d(B,U.mode,X),M.return=U,M):(M=d(M,B),M.return=U,M)}function I(U,M,B,X){var fe=B.type;return fe===H?K(U,M,B.props.children,X,B.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Js(fe)===M.type)?(M=d(M,B.props),fl(M,B),M.return=U,M):(M=ic(B.type,B.key,B.props,null,U.mode,X),fl(M,B),M.return=U,M)}function q(U,M,B,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Yd(B,U.mode,X),M.return=U,M):(M=d(M,B.children||[]),M.return=U,M)}function K(U,M,B,X,fe){return M===null||M.tag!==7?(M=$s(B,U.mode,X,fe),M.return=U,M):(M=d(M,B),M.return=U,M)}function W(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=$d(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case O:return B=ic(M.type,M.key,M.props,null,U.mode,B),fl(B,M),B.return=U,B;case D:return M=Yd(M,U.mode,B),M.return=U,M;case w:return M=Js(M),W(U,M,B)}if(Ot(M)||P(M))return M=$s(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return W(U,hc(M),B);if(M.$$typeof===re)return W(U,oc(U,M),B);dc(U,M)}return null}function F(U,M,B,X){var fe=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:x(U,M,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case O:return B.key===fe?I(U,M,B,X):null;case D:return B.key===fe?q(U,M,B,X):null;case w:return B=Js(B),F(U,M,B,X)}if(Ot(B)||P(B))return fe!==null?null:K(U,M,B,X,null);if(typeof B.then=="function")return F(U,M,hc(B),X);if(B.$$typeof===re)return F(U,M,oc(U,B),X);dc(U,B)}return null}function Y(U,M,B,X,fe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(B)||null,x(M,U,""+X,fe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case O:return U=U.get(X.key===null?B:X.key)||null,I(M,U,X,fe);case D:return U=U.get(X.key===null?B:X.key)||null,q(M,U,X,fe);case w:return X=Js(X),Y(U,M,B,X,fe)}if(Ot(X)||P(X))return U=U.get(B)||null,K(M,U,X,fe,null);if(typeof X.then=="function")return Y(U,M,B,hc(X),fe);if(X.$$typeof===re)return Y(U,M,B,oc(M,X),fe);dc(M,X)}return null}function ce(U,M,B,X){for(var fe=null,Be=null,he=M,Ce=M=0,Oe=null;he!==null&&Ce<B.length;Ce++){he.index>Ce?(Oe=he,he=null):Oe=he.sibling;var qe=F(U,he,B[Ce],X);if(qe===null){he===null&&(he=Oe);break}t&&he&&qe.alternate===null&&r(U,he),M=f(qe,M,Ce),Be===null?fe=qe:Be.sibling=qe,Be=qe,he=Oe}if(Ce===B.length)return a(U,he),je&&Wr(U,Ce),fe;if(he===null){for(;Ce<B.length;Ce++)he=W(U,B[Ce],X),he!==null&&(M=f(he,M,Ce),Be===null?fe=he:Be.sibling=he,Be=he);return je&&Wr(U,Ce),fe}for(he=l(he);Ce<B.length;Ce++)Oe=Y(he,U,Ce,B[Ce],X),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?Ce:Oe.key),M=f(Oe,M,Ce),Be===null?fe=Oe:Be.sibling=Oe,Be=Oe);return t&&he.forEach(function(as){return r(U,as)}),je&&Wr(U,Ce),fe}function ge(U,M,B,X){if(B==null)throw Error(s(151));for(var fe=null,Be=null,he=M,Ce=M=0,Oe=null,qe=B.next();he!==null&&!qe.done;Ce++,qe=B.next()){he.index>Ce?(Oe=he,he=null):Oe=he.sibling;var as=F(U,he,qe.value,X);if(as===null){he===null&&(he=Oe);break}t&&he&&as.alternate===null&&r(U,he),M=f(as,M,Ce),Be===null?fe=as:Be.sibling=as,Be=as,he=Oe}if(qe.done)return a(U,he),je&&Wr(U,Ce),fe;if(he===null){for(;!qe.done;Ce++,qe=B.next())qe=W(U,qe.value,X),qe!==null&&(M=f(qe,M,Ce),Be===null?fe=qe:Be.sibling=qe,Be=qe);return je&&Wr(U,Ce),fe}for(he=l(he);!qe.done;Ce++,qe=B.next())qe=Y(he,U,Ce,qe.value,X),qe!==null&&(t&&qe.alternate!==null&&he.delete(qe.key===null?Ce:qe.key),M=f(qe,M,Ce),Be===null?fe=qe:Be.sibling=qe,Be=qe);return t&&he.forEach(function(HS){return r(U,HS)}),je&&Wr(U,Ce),fe}function Ze(U,M,B,X){if(typeof B=="object"&&B!==null&&B.type===H&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case O:e:{for(var fe=B.key;M!==null;){if(M.key===fe){if(fe=B.type,fe===H){if(M.tag===7){a(U,M.sibling),X=d(M,B.props.children),X.return=U,U=X;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Js(fe)===M.type){a(U,M.sibling),X=d(M,B.props),fl(X,B),X.return=U,U=X;break e}a(U,M);break}else r(U,M);M=M.sibling}B.type===H?(X=$s(B.props.children,U.mode,X,B.key),X.return=U,U=X):(X=ic(B.type,B.key,B.props,null,U.mode,X),fl(X,B),X.return=U,U=X)}return v(U);case D:e:{for(fe=B.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(U,M.sibling),X=d(M,B.children||[]),X.return=U,U=X;break e}else{a(U,M);break}else r(U,M);M=M.sibling}X=Yd(B,U.mode,X),X.return=U,U=X}return v(U);case w:return B=Js(B),Ze(U,M,B,X)}if(Ot(B))return ce(U,M,B,X);if(P(B)){if(fe=P(B),typeof fe!="function")throw Error(s(150));return B=fe.call(B),ge(U,M,B,X)}if(typeof B.then=="function")return Ze(U,M,hc(B),X);if(B.$$typeof===re)return Ze(U,M,oc(U,B),X);dc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(U,M.sibling),X=d(M,B),X.return=U,U=X):(a(U,M),X=$d(B,U.mode,X),X.return=U,U=X),v(U)):a(U,M)}return function(U,M,B,X){try{dl=0;var fe=Ze(U,M,B,X);return Ka=null,fe}catch(he){if(he===Ya||he===uc)throw he;var Be=En(29,he,null,U.mode);return Be.lanes=X,Be.return=U,Be}}}var Zs=Ay(!0),wy=Ay(!1),Hi=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=rc(t),uy(t,null,a),r}return nc(t,l,r,a),rc(t)}function ml(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Bo(t,a)}}function lf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?d=f=r:f=f.next=r}else d=f=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var uf=!1;function pl(){if(uf){var t=$a;if(t!==null)throw t}}function gl(t,r,a,l){uf=!1;var d=t.updateQueue;Hi=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var I=x,q=I.next;I.next=null,v===null?f=q:v.next=q,v=I;var K=t.alternate;K!==null&&(K=K.updateQueue,x=K.lastBaseUpdate,x!==v&&(x===null?K.firstBaseUpdate=q:x.next=q,K.lastBaseUpdate=I))}if(f!==null){var W=d.baseState;v=0,K=q=I=null,x=f;do{var F=x.lane&-536870913,Y=F!==x.lane;if(Y?(De&F)===F:(l&F)===F){F!==0&&F===Ga&&(uf=!0),K!==null&&(K=K.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ce=t,ge=x;F=r;var Ze=a;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){W=ce.call(Ze,W,F);break e}W=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,F=typeof ce=="function"?ce.call(Ze,W,F):ce,F==null)break e;W=b({},W,F);break e;case 2:Hi=!0}}F=x.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=d.callbacks,Y===null?d.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:x.tag,payload:x.payload,callback:x.callback,next:null},K===null?(q=K=Y,I=W):K=K.next=Y,v|=F;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);K===null&&(I=W),d.baseState=I,d.firstBaseUpdate=q,d.lastBaseUpdate=K,f===null&&(d.shared.lanes=0),Xi|=v,t.lanes=v,t.memoizedState=W}}function Ry(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Cy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ry(a[t],r)}var Qa=j(null),fc=j(0);function Ny(t,r){t=ui,ae(fc,t),ae(Qa,r),ui=t|r.baseLanes}function cf(){ae(fc,ui),ae(Qa,Qa.current)}function hf(){ui=fc.current,Z(Qa),Z(fc)}var Tn=j(null),qn=null;function $i(t){var r=t.alternate;ae(gt,gt.current&1),ae(Tn,t),qn===null&&(r===null||Qa.current!==null||r.memoizedState!==null)&&(qn=t)}function df(t){ae(gt,gt.current),ae(Tn,t),qn===null&&(qn=t)}function Iy(t){t.tag===22?(ae(gt,gt.current),ae(Tn,t),qn===null&&(qn=t)):Yi()}function Yi(){ae(gt,gt.current),ae(Tn,Tn.current)}function xn(t){Z(Tn),qn===t&&(qn=null),Z(gt)}var gt=j(0);function mc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_m(a)||vm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ti=0,we=null,Je=null,wt=null,pc=!1,Xa=!1,ea=!1,gc=0,yl=0,Ja=null,Mx=0;function ht(){throw Error(s(321))}function ff(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!bn(t[a],r[a]))return!1;return!0}function mf(t,r,a,l,d,f){return ti=f,we=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?f_:Nf,ea=!1,f=a(l,d),ea=!1,Xa&&(f=Oy(r,a,l,d)),Dy(t),f}function Dy(t){Q.H=bl;var r=Je!==null&&Je.next!==null;if(ti=0,wt=Je=we=null,pc=!1,yl=0,Ja=null,r)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&ac(t)&&(Rt=!0))}function Oy(t,r,a,l){we=t;var d=0;do{if(Xa&&(Ja=null),yl=0,Xa=!1,25<=d)throw Error(s(301));if(d+=1,wt=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=m_,f=r(a,l)}while(Xa);return f}function kx(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?_l(r):r,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(we.flags|=1024),r}function pf(){var t=gc!==0;return gc=0,t}function gf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function yf(t){if(pc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}pc=!1}ti=0,wt=Je=we=null,Xa=!1,yl=gc=0,Ja=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?we.memoizedState=wt=t:wt=wt.next=t,wt}function yt(){if(Je===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var r=wt===null?we.memoizedState:wt.next;if(r!==null)wt=r,Je=t;else{if(t===null)throw we.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},wt===null?we.memoizedState=wt=t:wt=wt.next=t}return wt}function yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var r=yl;return yl+=1,Ja===null&&(Ja=[]),t=Ty(Ja,t,r),r=we,(wt===null?r.memoizedState:wt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?f_:Nf),t}function _c(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===re)return $t(t)}throw Error(s(438,String(t)))}function _f(t){var r=null,a=we.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=yc(),we.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=L;return r.index++,a}function ni(t,r){return typeof r=="function"?r(t):r}function vc(t){var r=yt();return vf(r,Je,t)}function vf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}r.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{r=d.next;var x=v=null,I=null,q=r,K=!1;do{var W=q.lane&-536870913;if(W!==q.lane?(De&W)===W:(ti&W)===W){var F=q.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),W===Ga&&(K=!0);else if((ti&F)===F){q=q.next,F===Ga&&(K=!0);continue}else W={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(x=I=W,v=f):I=I.next=W,we.lanes|=F,Xi|=F;W=q.action,ea&&a(f,W),f=q.hasEagerState?q.eagerState:a(f,W)}else F={lane:W,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(x=I=F,v=f):I=I.next=F,we.lanes|=W,Xi|=W;q=q.next}while(q!==null&&q!==r);if(I===null?v=f:I.next=x,!bn(f,t.memoizedState)&&(Rt=!0,K&&(a=$a,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=I,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bf(t){var r=yt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=r.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do f=t(f,v.action),v=v.next;while(v!==d);bn(f,r.memoizedState)||(Rt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function My(t,r,a){var l=we,d=yt(),f=je;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!bn((Je||d).memoizedState,a);if(v&&(d.memoizedState=a,Rt=!0),d=d.queue,xf(jy.bind(null,l,d,t),[t]),d.getSnapshot!==r||v||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Wa(9,{destroy:void 0},Vy.bind(null,l,d,a,r),null),et===null)throw Error(s(349));f||(ti&127)!==0||ky(l,r,a)}return a}function ky(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=we.updateQueue,r===null?(r=yc(),we.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Vy(t,r,a,l){r.value=a,r.getSnapshot=l,Ly(r)&&Uy(t)}function jy(t,r,a){return a(function(){Ly(r)&&Uy(t)})}function Ly(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!bn(t,a)}catch{return!0}}function Uy(t){var r=Gs(t,2);r!==null&&mn(r,t,2)}function Ef(t){var r=an();if(typeof t=="function"){var a=t;if(t=a(),ea){On(!0);try{a()}finally{On(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:t},r}function Py(t,r,a,l){return t.baseState=a,vf(t,Je,typeof l=="function"?l:ni)}function Vx(t,r,a,l,d){if(Tc(t))throw Error(s(485));if(t=r.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,zy(r,f)):(f.next=a.next,r.pending=a.next=f)}}function zy(t,r){var a=r.action,l=r.payload,d=t.state;if(r.isTransition){var f=Q.T,v={};Q.T=v;try{var x=a(d,l),I=Q.S;I!==null&&I(v,x),By(t,r,x)}catch(q){Tf(t,r,q)}finally{f!==null&&v.types!==null&&(f.types=v.types),Q.T=f}}else try{f=a(d,l),By(t,r,f)}catch(q){Tf(t,r,q)}}function By(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){qy(t,r,l)},function(l){return Tf(t,r,l)}):qy(t,r,a)}function qy(t,r,a){r.status="fulfilled",r.value=a,Hy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,zy(t,a)))}function Tf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Hy(r),r=r.next;while(r!==l)}t.action=null}function Hy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Fy(t,r){return r}function Gy(t,r){if(je){var a=et.formState;if(a!==null){e:{var l=we;if(je){if(nt){t:{for(var d=nt,f=Bn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Hn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){nt=Hn(d.nextSibling),l=d.data==="F!";break e}}Bi(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fy,lastRenderedState:r},a.queue=l,a=c_.bind(null,we,l),l.dispatch=a,l=Ef(!1),f=Cf.bind(null,we,!1,l.queue),l=an(),d={state:r,dispatch:null,action:t,pending:null},l.queue=d,a=Vx.bind(null,we,d,f,a),d.dispatch=a,l.memoizedState=t,[r,a,!1]}function $y(t){var r=yt();return Yy(r,Je,t)}function Yy(t,r,a){if(r=vf(t,r,Fy)[0],t=vc(ni)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=_l(r)}catch(v){throw v===Ya?uc:v}else l=r;r=yt();var d=r.queue,f=d.dispatch;return a!==r.memoizedState&&(we.flags|=2048,Wa(9,{destroy:void 0},jx.bind(null,d,a),null)),[l,f,t]}function jx(t,r){t.action=r}function Ky(t){var r=yt(),a=Je;if(a!==null)return Yy(r,a,t);yt(),r=r.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Wa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=we.updateQueue,r===null&&(r=yc(),we.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Qy(){return yt().memoizedState}function bc(t,r,a,l){var d=an();we.flags|=t,d.memoizedState=Wa(1|r,{destroy:void 0},a,l===void 0?null:l)}function Ec(t,r,a,l){var d=yt();l=l===void 0?null:l;var f=d.memoizedState.inst;Je!==null&&l!==null&&ff(l,Je.memoizedState.deps)?d.memoizedState=Wa(r,f,a,l):(we.flags|=t,d.memoizedState=Wa(1|r,f,a,l))}function Xy(t,r){bc(8390656,8,t,r)}function xf(t,r){Ec(2048,8,t,r)}function Lx(t){we.flags|=4;var r=we.updateQueue;if(r===null)r=yc(),we.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Jy(t){var r=yt().memoizedState;return Lx({ref:r,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Wy(t,r){return Ec(4,2,t,r)}function Zy(t,r){return Ec(4,4,t,r)}function e_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function t_(t,r,a){a=a!=null?a.concat([t]):null,Ec(4,4,e_.bind(null,r,t),a)}function Sf(){}function n_(t,r){var a=yt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&ff(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function r_(t,r){var a=yt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&ff(r,l[1]))return l[0];if(l=t(),ea){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[l,r],l}function Af(t,r,a){return a===void 0||(ti&1073741824)!==0&&(De&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=iv(),we.lanes|=t,Xi|=t,a)}function i_(t,r,a,l){return bn(a,r)?a:Qa.current!==null?(t=Af(t,a,l),bn(t,r)||(Rt=!0),t):(ti&42)===0||(ti&1073741824)!==0&&(De&261930)===0?(Rt=!0,t.memoizedState=a):(t=iv(),we.lanes|=t,Xi|=t,r)}function s_(t,r,a,l,d){var f=se.p;se.p=f!==0&&8>f?f:8;var v=Q.T,x={};Q.T=x,Cf(t,!1,r,a);try{var I=d(),q=Q.S;if(q!==null&&q(x,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=Ox(I,l);vl(t,r,K,wn(t))}else vl(t,r,l,wn(t))}catch(W){vl(t,r,{then:function(){},status:"rejected",reason:W},wn())}finally{se.p=f,v!==null&&x.types!==null&&(v.types=x.types),Q.T=v}}function Ux(){}function wf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var d=a_(t).queue;s_(t,d,r,pe,a===null?Ux:function(){return o_(t),a(l)})}function a_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function o_(t){var r=a_(t);r.next===null&&(r=t.alternate.memoizedState),vl(t,r.next.queue,{},wn())}function Rf(){return $t(jl)}function l_(){return yt().memoizedState}function u_(){return yt().memoizedState}function Px(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=wn();t=Fi(a);var l=Gi(r,t,a);l!==null&&(mn(l,r,a),ml(l,r,a)),r={cache:tf()},t.payload=r;return}r=r.return}}function zx(t,r,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Tc(t)?h_(r,a):(a=Fd(t,r,a,l),a!==null&&(mn(a,t,l),d_(a,r,l)))}function c_(t,r,a){var l=wn();vl(t,r,a,l)}function vl(t,r,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tc(t))h_(r,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var v=r.lastRenderedState,x=f(v,a);if(d.hasEagerState=!0,d.eagerState=x,bn(x,v))return nc(t,r,d,0),et===null&&tc(),!1}catch{}if(a=Fd(t,r,d,l),a!==null)return mn(a,t,l),d_(a,r,l),!0}return!1}function Cf(t,r,a,l){if(l={lane:2,revertLane:am(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Tc(t)){if(r)throw Error(s(479))}else r=Fd(t,a,l,2),r!==null&&mn(r,t,2)}function Tc(t){var r=t.alternate;return t===we||r!==null&&r===we}function h_(t,r){Xa=pc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function d_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Bo(t,a)}}var bl={readContext:$t,use:_c,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};bl.useEffectEvent=ht;var f_={readContext:$t,use:_c,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:$t,useEffect:Xy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,bc(4194308,4,e_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return bc(4194308,4,t,r)},useInsertionEffect:function(t,r){bc(4,2,t,r)},useMemo:function(t,r){var a=an();r=r===void 0?null:r;var l=t();if(ea){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=an();if(a!==void 0){var d=a(r);if(ea){On(!0);try{a(r)}finally{On(!1)}}}else d=r;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=zx.bind(null,we,t),[l.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=Ef(t);var r=t.queue,a=c_.bind(null,we,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Sf,useDeferredValue:function(t,r){var a=an();return Af(a,t,r)},useTransition:function(){var t=Ef(!1);return t=s_.bind(null,we,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=we,d=an();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(De&127)!==0||ky(l,r,a)}d.memoizedState=a;var f={value:a,getSnapshot:r};return d.queue=f,Xy(jy.bind(null,l,f,t),[t]),l.flags|=2048,Wa(9,{destroy:void 0},Vy.bind(null,l,f,a,r),null),a},useId:function(){var t=an(),r=et.identifierPrefix;if(je){var a=Or,l=Dr;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=gc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Mx++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Rf,useFormState:Gy,useActionState:Gy,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Cf.bind(null,we,!0,a),a.dispatch=r,[t,r]},useMemoCache:_f,useCacheRefresh:function(){return an().memoizedState=Px.bind(null,we)},useEffectEvent:function(t){var r=an(),a={impl:t};return r.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Nf={readContext:$t,use:_c,useCallback:n_,useContext:$t,useEffect:xf,useImperativeHandle:t_,useInsertionEffect:Wy,useLayoutEffect:Zy,useMemo:r_,useReducer:vc,useRef:Qy,useState:function(){return vc(ni)},useDebugValue:Sf,useDeferredValue:function(t,r){var a=yt();return i_(a,Je.memoizedState,t,r)},useTransition:function(){var t=vc(ni)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:_l(t),r]},useSyncExternalStore:My,useId:l_,useHostTransitionStatus:Rf,useFormState:$y,useActionState:$y,useOptimistic:function(t,r){var a=yt();return Py(a,Je,t,r)},useMemoCache:_f,useCacheRefresh:u_};Nf.useEffectEvent=Jy;var m_={readContext:$t,use:_c,useCallback:n_,useContext:$t,useEffect:xf,useImperativeHandle:t_,useInsertionEffect:Wy,useLayoutEffect:Zy,useMemo:r_,useReducer:bf,useRef:Qy,useState:function(){return bf(ni)},useDebugValue:Sf,useDeferredValue:function(t,r){var a=yt();return Je===null?Af(a,t,r):i_(a,Je.memoizedState,t,r)},useTransition:function(){var t=bf(ni)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:_l(t),r]},useSyncExternalStore:My,useId:l_,useHostTransitionStatus:Rf,useFormState:Ky,useActionState:Ky,useOptimistic:function(t,r){var a=yt();return Je!==null?Py(a,Je,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:_f,useCacheRefresh:u_};m_.useEffectEvent=Jy;function If(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Df={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=wn(),d=Fi(l);d.payload=r,a!=null&&(d.callback=a),r=Gi(t,d,l),r!==null&&(mn(r,t,l),ml(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=wn(),d=Fi(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=Gi(t,d,l),r!==null&&(mn(r,t,l),ml(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=wn(),l=Fi(a);l.tag=2,r!=null&&(l.callback=r),r=Gi(t,l,a),r!==null&&(mn(r,t,a),ml(r,t,a))}};function p_(t,r,a,l,d,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):r.prototype&&r.prototype.isPureReactComponent?!al(a,l)||!al(d,f):!0}function g_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Df.enqueueReplaceState(r,r.state,null)}function ta(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=b({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function y_(t){ec(t)}function __(t){console.error(t)}function v_(t){ec(t)}function xc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function b_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Of(t,r,a){return a=Fi(a),a.tag=3,a.payload={element:null},a.callback=function(){xc(t,r)},a}function E_(t){return t=Fi(t),t.tag=3,t}function T_(t,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){b_(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){b_(r,a,l),typeof d!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function Bx(t,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Fa(r,a,d,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return qn===null?Vc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===cc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),rm(t,l,d)),!1;case 22:return a.flags|=65536,l===cc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),rm(t,l,d)),!1}throw Error(s(435,a.tag))}return rm(t,l,d),Vc(),!1}if(je)return r=Tn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==Xd&&(t=Error(s(422),{cause:l}),ul(Un(t,a)))):(l!==Xd&&(r=Error(s(423),{cause:l}),ul(Un(r,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Un(l,a),d=Of(t.stateNode,l,d),lf(t,d),dt!==4&&(dt=2)),!1;var f=Error(s(520),{cause:l});if(f=Un(f,a),Cl===null?Cl=[f]:Cl.push(f),dt!==4&&(dt=2),r===null)return!0;l=Un(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Of(a.stateNode,l,t),lf(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ji===null||!Ji.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=E_(d),T_(d,t,a,l),lf(a,d),!1}a=a.return}while(a!==null);return!1}var Mf=Error(s(461)),Rt=!1;function Yt(t,r,a,l){r.child=t===null?wy(r,null,a,l):Zs(r,t.child,a,l)}function x_(t,r,a,l,d){a=a.render;var f=r.ref;if("ref"in l){var v={};for(var x in l)x!=="ref"&&(v[x]=l[x])}else v=l;return Qs(r),l=mf(t,r,a,v,f,d),x=pf(),t!==null&&!Rt?(gf(t,r,d),ri(t,r,d)):(je&&x&&Kd(r),r.flags|=1,Yt(t,r,l,d),r.child)}function S_(t,r,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!Gd(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,A_(t,r,f,l,d)):(t=ic(a.type,null,l,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!Bf(t,d)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(v,l)&&t.ref===r.ref)return ri(t,r,d)}return r.flags|=1,t=Jr(f,l),t.ref=r.ref,t.return=r,r.child=t}function A_(t,r,a,l,d){if(t!==null){var f=t.memoizedProps;if(al(f,l)&&t.ref===r.ref)if(Rt=!1,r.pendingProps=l=f,Bf(t,d))(t.flags&131072)!==0&&(Rt=!0);else return r.lanes=t.lanes,ri(t,r,d)}return kf(t,r,a,l,d)}function w_(t,r,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=r.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,r.child=null;return R_(t,r,f,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&lc(r,f!==null?f.cachePool:null),f!==null?Ny(r,f):cf(),Iy(r);else return l=r.lanes=536870912,R_(t,r,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(lc(r,f.cachePool),Ny(r,f),Yi(),r.memoizedState=null):(t!==null&&lc(r,null),cf(),Yi());return Yt(t,r,d,a),r.child}function El(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function R_(t,r,a,l,d){var f=rf();return f=f===null?null:{parent:At._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&lc(r,null),cf(),Iy(r),t!==null&&Fa(t,r,l,!0),r.childLanes=d,null}function Sc(t,r){return r=wc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function C_(t,r,a){return Zs(r,t.child,null,a),t=Sc(r,r.pendingProps),t.flags|=2,xn(r),r.memoizedState=null,t}function qx(t,r,a){var l=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(je){if(l.mode==="hidden")return t=Sc(r,l),r.lanes=536870912,El(null,t);if(df(r),(t=nt)?(t=zv(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Pi!==null?{id:Dr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},a=hy(t),a.return=r,r.child=a,Gt=r,nt=null)):t=null,t===null)throw Bi(r);return r.lanes=536870912,null}return Sc(r,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(df(r),d)if(r.flags&256)r.flags&=-257,r=C_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Rt||Fa(t,r,a,!1),d=(a&t.childLanes)!==0,Rt||d){if(l=et,l!==null&&(v=qo(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,Gs(t,v),mn(l,t,v),Mf;Vc(),r=C_(t,r,a)}else t=f.treeContext,nt=Hn(v.nextSibling),Gt=r,je=!0,zi=null,Bn=!1,t!==null&&my(r,t),r=Sc(r,l),r.flags|=4096;return r}return t=Jr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Ac(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function kf(t,r,a,l,d){return Qs(r),a=mf(t,r,a,l,void 0,d),l=pf(),t!==null&&!Rt?(gf(t,r,d),ri(t,r,d)):(je&&l&&Kd(r),r.flags|=1,Yt(t,r,a,d),r.child)}function N_(t,r,a,l,d,f){return Qs(r),r.updateQueue=null,a=Oy(r,l,a,d),Dy(t),l=pf(),t!==null&&!Rt?(gf(t,r,f),ri(t,r,f)):(je&&l&&Kd(r),r.flags|=1,Yt(t,r,a,f),r.child)}function I_(t,r,a,l,d){if(Qs(r),r.stateNode===null){var f=za,v=a.contextType;typeof v=="object"&&v!==null&&(f=$t(v)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},af(r),v=a.contextType,f.context=typeof v=="object"&&v!==null?$t(v):za,f.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(If(r,a,v,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Df.enqueueReplaceState(f,f.state,null),gl(r,l,f,d),pl(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var x=r.memoizedProps,I=ta(a,x);f.props=I;var q=f.context,K=a.contextType;v=za,typeof K=="object"&&K!==null&&(v=$t(K));var W=a.getDerivedStateFromProps;K=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||q!==v)&&g_(r,f,l,v),Hi=!1;var F=r.memoizedState;f.state=F,gl(r,l,f,d),pl(),q=r.memoizedState,x||F!==q||Hi?(typeof W=="function"&&(If(r,a,W,l),q=r.memoizedState),(I=Hi||p_(r,a,I,l,F,q,v))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),f.props=l,f.state=q,f.context=v,l=I):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,of(t,r),v=r.memoizedProps,K=ta(a,v),f.props=K,W=r.pendingProps,F=f.context,q=a.contextType,I=za,typeof q=="object"&&q!==null&&(I=$t(q)),x=a.getDerivedStateFromProps,(q=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==W||F!==I)&&g_(r,f,l,I),Hi=!1,F=r.memoizedState,f.state=F,gl(r,l,f,d),pl();var Y=r.memoizedState;v!==W||F!==Y||Hi||t!==null&&t.dependencies!==null&&ac(t.dependencies)?(typeof x=="function"&&(If(r,a,x,l),Y=r.memoizedState),(K=Hi||p_(r,a,K,l,F,Y,I)||t!==null&&t.dependencies!==null&&ac(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,I)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),f.props=l,f.state=Y,f.context=I,l=K):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,Ac(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=Zs(r,t.child,null,d),r.child=Zs(r,null,a,d)):Yt(t,r,a,d),r.memoizedState=f.state,t=r.child):t=ri(t,r,d),t}function D_(t,r,a,l){return Ys(),r.flags|=256,Yt(t,r,a,l),r.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(t){return{baseLanes:t,cachePool:by()}}function Lf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=An),t}function O_(t,r,a){var l=r.pendingProps,d=!1,f=(r.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),v&&(d=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(je){if(d?$i(r):Yi(),(t=nt)?(t=zv(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Pi!==null?{id:Dr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},a=hy(t),a.return=r,r.child=a,Gt=r,nt=null)):t=null,t===null)throw Bi(r);return vm(t)?r.lanes=32:r.lanes=536870912,null}var x=l.children;return l=l.fallback,d?(Yi(),d=r.mode,x=wc({mode:"hidden",children:x},d),l=$s(l,d,a,null),x.return=r,l.return=r,x.sibling=l,r.child=x,l=r.child,l.memoizedState=jf(a),l.childLanes=Lf(t,v,a),r.memoizedState=Vf,El(null,l)):($i(r),Uf(r,x))}var I=t.memoizedState;if(I!==null&&(x=I.dehydrated,x!==null)){if(f)r.flags&256?($i(r),r.flags&=-257,r=Pf(t,r,a)):r.memoizedState!==null?(Yi(),r.child=t.child,r.flags|=128,r=null):(Yi(),x=l.fallback,d=r.mode,l=wc({mode:"visible",children:l.children},d),x=$s(x,d,a,null),x.flags|=2,l.return=r,x.return=r,l.sibling=x,r.child=l,Zs(r,t.child,null,a),l=r.child,l.memoizedState=jf(a),l.childLanes=Lf(t,v,a),r.memoizedState=Vf,r=El(null,l));else if($i(r),vm(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,ul({value:l,source:null,stack:null}),r=Pf(t,r,a)}else if(Rt||Fa(t,r,a,!1),v=(a&t.childLanes)!==0,Rt||v){if(v=et,v!==null&&(l=qo(v,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Gs(t,l),mn(v,t,l),Mf;_m(x)||Vc(),r=Pf(t,r,a)}else _m(x)?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,nt=Hn(x.nextSibling),Gt=r,je=!0,zi=null,Bn=!1,t!==null&&my(r,t),r=Uf(r,l.children),r.flags|=4096);return r}return d?(Yi(),x=l.fallback,d=r.mode,I=t.child,q=I.sibling,l=Jr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?x=Jr(q,x):(x=$s(x,d,a,null),x.flags|=2),x.return=r,l.return=r,l.sibling=x,r.child=l,El(null,l),l=r.child,x=t.child.memoizedState,x===null?x=jf(a):(d=x.cachePool,d!==null?(I=At._currentValue,d=d.parent!==I?{parent:I,pool:I}:d):d=by(),x={baseLanes:x.baseLanes|a,cachePool:d}),l.memoizedState=x,l.childLanes=Lf(t,v,a),r.memoizedState=Vf,El(t.child,l)):($i(r),a=t.child,t=a.sibling,a=Jr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function Uf(t,r){return r=wc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function wc(t,r){return t=En(22,t,null,r),t.lanes=0,t}function Pf(t,r,a){return Zs(r,t.child,null,a),t=Uf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function M_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Zd(t.return,r,a)}function zf(t,r,a,l,d,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=d,v.treeForkCount=f)}function k_(t,r,a){var l=r.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var v=gt.current,x=(v&2)!==0;if(x?(v=v&1|2,r.flags|=128):v&=1,ae(gt,v),Yt(t,r,l,a),l=je?ll:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&M_(t,a,r);else if(t.tag===19)M_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=r.child,d=null;a!==null;)t=a.alternate,t!==null&&mc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),zf(r,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&mc(t)===null){r.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}zf(r,!0,a,null,f,l);break;case"together":zf(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ri(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Xi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Fa(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Jr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Jr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Bf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ac(t)))}function Hx(t,r,a){switch(r.tag){case 3:Mt(r,r.stateNode.containerInfo),qi(r,At,t.memoizedState.cache),Ys();break;case 27:case 5:Rs(r);break;case 4:Mt(r,r.stateNode.containerInfo);break;case 10:qi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,df(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?($i(r),r.flags|=128,null):(a&r.child.childLanes)!==0?O_(t,r,a):($i(r),t=ri(t,r,a),t!==null?t.sibling:null);$i(r);break;case 19:var d=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Fa(t,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return k_(t,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ae(gt,gt.current),l)break;return null;case 22:return r.lanes=0,w_(t,r,a,r.pendingProps);case 24:qi(r,At,t.memoizedState.cache)}return ri(t,r,a)}function V_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Rt=!0;else{if(!Bf(t,a)&&(r.flags&128)===0)return Rt=!1,Hx(t,r,a);Rt=(t.flags&131072)!==0}else Rt=!1,je&&(r.flags&1048576)!==0&&fy(r,ll,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Js(r.elementType),r.type=t,typeof t=="function")Gd(t)?(l=ta(t,l),r.tag=1,r=I_(null,r,t,l,a)):(r.tag=0,r=kf(null,r,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===de){r.tag=11,r=x_(null,r,t,l,a);break e}else if(d===R){r.tag=14,r=S_(null,r,t,l,a);break e}}throw r=st(t)||t,Error(s(306,r,""))}}return r;case 0:return kf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=ta(l,r.pendingProps),I_(t,r,l,d,a);case 3:e:{if(Mt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;d=f.element,of(t,r),gl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,qi(r,At,l),l!==f.cache&&ef(r,[At],a,!0),pl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=D_(t,r,l,a);break e}else if(l!==d){d=Un(Error(s(424)),r),ul(d),r=D_(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,nt=Hn(t.firstChild),Gt=r,je=!0,zi=null,Bn=!0,a=wy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ys(),l===d){r=ri(t,r,a);break e}Yt(t,r,l,a)}r=r.child}return r;case 26:return Ac(t,r),t===null?(a=$v(r.type,null,r.pendingProps,null))?r.memoizedState=a:je||(a=r.type,t=r.pendingProps,l=qc(Re.current).createElement(a),l[Tt]=r,l[Pt]=t,Kt(l,a,t),xt(l),r.stateNode=l):r.memoizedState=$v(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Rs(r),t===null&&je&&(l=r.stateNode=Hv(r.type,r.pendingProps,Re.current),Gt=r,Bn=!0,d=nt,ts(r.type)?(bm=d,nt=Hn(l.firstChild)):nt=d),Yt(t,r,r.pendingProps.children,a),Ac(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&je&&((d=l=nt)&&(l=vS(l,r.type,r.pendingProps,Bn),l!==null?(r.stateNode=l,Gt=r,nt=Hn(l.firstChild),Bn=!1,d=!0):d=!1),d||Bi(r)),Rs(r),d=r.type,f=r.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,pm(d,f)?l=null:v!==null&&pm(d,v)&&(r.flags|=32),r.memoizedState!==null&&(d=mf(t,r,kx,null,null,a),jl._currentValue=d),Ac(t,r),Yt(t,r,l,a),r.child;case 6:return t===null&&je&&((t=a=nt)&&(a=bS(a,r.pendingProps,Bn),a!==null?(r.stateNode=a,Gt=r,nt=null,t=!0):t=!1),t||Bi(r)),null;case 13:return O_(t,r,a);case 4:return Mt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Zs(r,null,l,a):Yt(t,r,l,a),r.child;case 11:return x_(t,r,r.type,r.pendingProps,a);case 7:return Yt(t,r,r.pendingProps,a),r.child;case 8:return Yt(t,r,r.pendingProps.children,a),r.child;case 12:return Yt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,qi(r,r.type,l.value),Yt(t,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,Qs(r),d=$t(d),l=l(d),r.flags|=1,Yt(t,r,l,a),r.child;case 14:return S_(t,r,r.type,r.pendingProps,a);case 15:return A_(t,r,r.type,r.pendingProps,a);case 19:return k_(t,r,a);case 31:return qx(t,r,a);case 22:return w_(t,r,a,r.pendingProps);case 24:return Qs(r),l=$t(At),t===null?(d=rf(),d===null&&(d=et,f=tf(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),r.memoizedState={parent:l,cache:d},af(r),qi(r,At,d)):((t.lanes&a)!==0&&(of(t,r),gl(r,null,null,a),pl()),d=t.memoizedState,f=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),qi(r,At,l)):(l=f.cache,qi(r,At,l),l!==d.cache&&ef(r,[At],a,!0))),Yt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ii(t){t.flags|=4}function qf(t,r,a,l,d){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(lv())t.flags|=8192;else throw Ws=cc,sf}else t.flags&=-16777217}function j_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Jv(r))if(lv())t.flags|=8192;else throw Ws=cc,sf}function Rc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Mu():536870912,t.lanes|=r,no|=r)}function Tl(t,r){if(!je)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Fx(t,r,a){var l=r.pendingProps;switch(Qd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ei(At),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ha(r)?ii(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Jd())),rt(r),null;case 26:var d=r.type,f=r.memoizedState;return t===null?(ii(r),f!==null?(rt(r),j_(r,f)):(rt(r),qf(r,d,null,l,a))):f?f!==t.memoizedState?(ii(r),rt(r),j_(r,f)):(rt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&ii(r),rt(r),qf(r,d,t,l,a)),null;case 27:if(Ea(r),a=Re.current,d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ii(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}t=ue.current,Ha(r)?py(r):(t=Hv(d,l,a),r.stateNode=t,ii(r))}return rt(r),null;case 5:if(Ea(r),d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ii(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(f=ue.current,Ha(r))py(r);else{var v=qc(Re.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}f[Tt]=r,f[Pt]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=f;e:switch(Kt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ii(r)}}return rt(r),qf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&ii(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Re.current,Ha(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,d=Gt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Tt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ov(t.nodeValue,a)),t||Bi(r,!0)}else t=qc(t).createTextNode(l),t[Tt]=r,r.stateNode=t}return rt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Ha(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=r}else Ys(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),t=!1}else a=Jd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(xn(r),r):(xn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return rt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ha(r),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Tt]=r}else Ys(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),d=!1}else d=Jd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(xn(r),r):(xn(r),null)}return xn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Rc(r,r.updateQueue),rt(r),null);case 4:return at(),t===null&&cm(r.stateNode.containerInfo),rt(r),null;case 10:return ei(r.type),rt(r),null;case 19:if(Z(gt),l=r.memoizedState,l===null)return rt(r),null;if(d=(r.flags&128)!==0,f=l.rendering,f===null)if(d)Tl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=mc(t),f!==null){for(r.flags|=128,Tl(l,!1),t=f.updateQueue,r.updateQueue=t,Rc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)cy(a,t),a=a.sibling;return ae(gt,gt.current&1|2),je&&Wr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&rn()>Oc&&(r.flags|=128,d=!0,Tl(l,!1),r.lanes=4194304)}else{if(!d)if(t=mc(f),t!==null){if(r.flags|=128,d=!0,t=t.updateQueue,r.updateQueue=t,Rc(r,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!je)return rt(r),null}else 2*rn()-l.renderingStartTime>Oc&&a!==536870912&&(r.flags|=128,d=!0,Tl(l,!1),r.lanes=4194304);l.isBackwards?(f.sibling=r.child,r.child=f):(t=l.last,t!==null?t.sibling=f:r.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=gt.current,ae(gt,d?a&1|2:a&1),je&&Wr(r,l.treeForkCount),t):(rt(r),null);case 22:case 23:return xn(r),hf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),a=r.updateQueue,a!==null&&Rc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&Z(Xs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ei(At),rt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Gx(t,r){switch(Qd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ei(At),at(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Ea(r),null;case 31:if(r.memoizedState!==null){if(xn(r),r.alternate===null)throw Error(s(340));Ys()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(xn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ys()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Z(gt),null;case 4:return at(),null;case 10:return ei(r.type),null;case 22:case 23:return xn(r),hf(),t!==null&&Z(Xs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ei(At),null;case 25:return null;default:return null}}function L_(t,r){switch(Qd(r),r.tag){case 3:ei(At),at();break;case 26:case 27:case 5:Ea(r);break;case 4:at();break;case 31:r.memoizedState!==null&&xn(r);break;case 13:xn(r);break;case 19:Z(gt);break;case 10:ei(r.type);break;case 22:case 23:xn(r),hf(),t!==null&&Z(Xs);break;case 24:ei(At)}}function xl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==d)}}catch(x){Qe(r,r.return,x)}}function Ki(t,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var v=l.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,d=r;var I=a,q=x;try{q()}catch(K){Qe(d,I,K)}}}l=l.next}while(l!==f)}}catch(K){Qe(r,r.return,K)}}function U_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Cy(r,a)}catch(l){Qe(t,t.return,l)}}}function P_(t,r,a){a.props=ta(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(t,r,l)}}function Sl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){Qe(t,r,d)}}function Mr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Qe(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Qe(t,r,d)}else a.current=null}function z_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Qe(t,t.return,d)}}function Hf(t,r,a){try{var l=t.stateNode;fS(l,t.type,a,r),l[Pt]=r}catch(d){Qe(t,t.return,d)}}function B_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ts(t.type)||t.tag===4}function Ff(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ts(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Wn));else if(l!==4&&(l===27&&ts(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Gf(t,r,a),t=t.sibling;t!==null;)Gf(t,r,a),t=t.sibling}function Cc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&ts(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Cc(t,r,a),t=t.sibling;t!==null;)Cc(t,r,a),t=t.sibling}function q_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Kt(r,l,a),r[Tt]=t,r[Pt]=a}catch(f){Qe(t,t.return,f)}}var si=!1,Ct=!1,$f=!1,H_=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function $x(t,r){if(t=t.containerInfo,fm=Qc,t=ty(t),Ud(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,x=-1,I=-1,q=0,K=0,W=t,F=null;t:for(;;){for(var Y;W!==a||d!==0&&W.nodeType!==3||(x=v+d),W!==f||l!==0&&W.nodeType!==3||(I=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(Y=W.firstChild)!==null;)F=W,W=Y;for(;;){if(W===t)break t;if(F===a&&++q===d&&(x=v),F===f&&++K===l&&(I=v),(Y=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=Y}a=x===-1||I===-1?null:{start:x,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(mm={focusedElem:t,selectionRange:a},Qc=!1,Bt=r;Bt!==null;)if(r=Bt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Bt=t;else for(;Bt!==null;){switch(r=Bt,f=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ce=ta(a.type,d);t=l.getSnapshotBeforeUpdate(ce,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Qe(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)ym(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ym(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Bt=t;break}Bt=r.return}}function F_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:oi(t,a),l&4&&xl(5,a);break;case 1:if(oi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Qe(a,a.return,v)}else{var d=ta(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Qe(a,a.return,v)}}l&64&&U_(a),l&512&&Sl(a,a.return);break;case 3:if(oi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Cy(t,r)}catch(v){Qe(a,a.return,v)}}break;case 27:r===null&&l&4&&q_(a);case 26:case 5:oi(t,a),r===null&&l&4&&z_(a),l&512&&Sl(a,a.return);break;case 12:oi(t,a);break;case 31:oi(t,a),l&4&&Y_(t,a);break;case 13:oi(t,a),l&4&&K_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=tS.bind(null,a),ES(t,a))));break;case 22:if(l=a.memoizedState!==null||si,!l){r=r!==null&&r.memoizedState!==null||Ct,d=si;var f=Ct;si=l,(Ct=r)&&!f?li(t,a,(a.subtreeFlags&8772)!==0):oi(t,a),si=d,Ct=f}break;case 30:break;default:oi(t,a)}}function G_(t){var r=t.alternate;r!==null&&(t.alternate=null,G_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&wa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,cn=!1;function ai(t,r,a){for(a=a.child;a!==null;)$_(t,r,a),a=a.sibling}function $_(t,r,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:Ct||Mr(a,r),ai(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Mr(a,r);var l=lt,d=cn;ts(a.type)&&(lt=a.stateNode,cn=!1),ai(t,r,a),Ml(a.stateNode),lt=l,cn=d;break;case 5:Ct||Mr(a,r);case 6:if(l=lt,d=cn,lt=null,ai(t,r,a),lt=l,cn=d,lt!==null)if(cn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){Qe(a,r,f)}else try{lt.removeChild(a.stateNode)}catch(f){Qe(a,r,f)}break;case 18:lt!==null&&(cn?(t=lt,Uv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),co(t)):Uv(lt,a.stateNode));break;case 4:l=lt,d=cn,lt=a.stateNode.containerInfo,cn=!0,ai(t,r,a),lt=l,cn=d;break;case 0:case 11:case 14:case 15:Ki(2,a,r),Ct||Ki(4,a,r),ai(t,r,a);break;case 1:Ct||(Mr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&P_(a,r,l)),ai(t,r,a);break;case 21:ai(t,r,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,ai(t,r,a),Ct=l;break;default:ai(t,r,a)}}function Y_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{co(t)}catch(a){Qe(r,r.return,a)}}}function K_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{co(t)}catch(a){Qe(r,r.return,a)}}function Yx(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new H_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new H_),r;default:throw Error(s(435,t.tag))}}function Nc(t,r){var a=Yx(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var d=nS.bind(null,t,l);l.then(d,d)}})}function hn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,v=r,x=v;e:for(;x!==null;){switch(x.tag){case 27:if(ts(x.type)){lt=x.stateNode,cn=!1;break e}break;case 5:lt=x.stateNode,cn=!1;break e;case 3:case 4:lt=x.stateNode.containerInfo,cn=!0;break e}x=x.return}if(lt===null)throw Error(s(160));$_(f,v,d),lt=null,cn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Q_(r,t),r=r.sibling}var ir=null;function Q_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(r,t),dn(t),l&4&&(Ki(3,t,t.return),xl(3,t),Ki(5,t,t.return));break;case 1:hn(r,t),dn(t),l&512&&(Ct||a===null||Mr(a,a.return)),l&64&&si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ir;if(hn(r,t),dn(t),l&512&&(Ct||a===null||Mr(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[vr]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Kt(f,l,a),f[Tt]=t,xt(f),l=f;break e;case"link":var v=Qv("link","href",d).get(l+(a.href||""));if(v){for(var x=0;x<v.length;x++)if(f=v[x],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(x,1);break t}}f=d.createElement(l),Kt(f,l,a),d.head.appendChild(f);break;case"meta":if(v=Qv("meta","content",d).get(l+(a.content||""))){for(x=0;x<v.length;x++)if(f=v[x],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(x,1);break t}}f=d.createElement(l),Kt(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[Tt]=t,xt(f),l=f}t.stateNode=l}else Xv(d,t.type,t.stateNode);else t.stateNode=Kv(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Xv(d,t.type,t.stateNode):Kv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Hf(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(r,t),dn(t),l&512&&(Ct||a===null||Mr(a,a.return)),a!==null&&l&4&&Hf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(r,t),dn(t),l&512&&(Ct||a===null||Mr(a,a.return)),t.flags&32){d=t.stateNode;try{un(d,"")}catch(ce){Qe(t,t.return,ce)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Hf(t,d,a!==null?a.memoizedProps:d)),l&1024&&($f=!0);break;case 6:if(hn(r,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Qe(t,t.return,ce)}}break;case 3:if(Gc=null,d=ir,ir=Hc(r.containerInfo),hn(r,t),ir=d,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{co(r.containerInfo)}catch(ce){Qe(t,t.return,ce)}$f&&($f=!1,X_(t));break;case 4:l=ir,ir=Hc(t.stateNode.containerInfo),hn(r,t),dn(t),ir=l;break;case 12:hn(r,t),dn(t);break;case 31:hn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 13:hn(r,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dc=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 22:d=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=si,K=Ct;if(si=q||d,Ct=K||I,hn(r,t),Ct=K,si=q,dn(t),l&8192)e:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(a===null||I||si||Ct||na(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(f=I.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=I.stateNode;var W=I.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;x.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ce){Qe(I,I.return,ce)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch(ce){Qe(I,I.return,ce)}}}else if(r.tag===18){if(a===null){I=r;try{var Y=I.stateNode;d?Pv(Y,!0):Pv(I.stateNode,!1)}catch(ce){Qe(I,I.return,ce)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nc(t,a))));break;case 19:hn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 30:break;case 21:break;default:hn(r,t),dn(t)}}function dn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(B_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=Ff(t);Cc(t,f,d);break;case 5:var v=a.stateNode;a.flags&32&&(un(v,""),a.flags&=-33);var x=Ff(t);Cc(t,x,v);break;case 3:case 4:var I=a.stateNode.containerInfo,q=Ff(t);Gf(t,q,I);break;default:throw Error(s(161))}}catch(K){Qe(t,t.return,K)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function X_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;X_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function oi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)F_(t,r.alternate,r),r=r.sibling}function na(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ki(4,r,r.return),na(r);break;case 1:Mr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&P_(r,r.return,a),na(r);break;case 27:Ml(r.stateNode);case 26:case 5:Mr(r,r.return),na(r);break;case 22:r.memoizedState===null&&na(r);break;case 30:na(r);break;default:na(r)}t=t.sibling}}function li(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=t,f=r,v=f.flags;switch(f.tag){case 0:case 11:case 15:li(d,f,a),xl(4,f);break;case 1:if(li(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){Qe(l,l.return,q)}if(l=f,d=l.updateQueue,d!==null){var x=l.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)Ry(I[d],x)}catch(q){Qe(l,l.return,q)}}a&&v&64&&U_(f),Sl(f,f.return);break;case 27:q_(f);case 26:case 5:li(d,f,a),a&&l===null&&v&4&&z_(f),Sl(f,f.return);break;case 12:li(d,f,a);break;case 31:li(d,f,a),a&&v&4&&Y_(d,f);break;case 13:li(d,f,a),a&&v&4&&K_(d,f);break;case 22:f.memoizedState===null&&li(d,f,a),Sl(f,f.return);break;case 30:break;default:li(d,f,a)}r=r.sibling}}function Yf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function Kf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&cl(t))}function sr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)J_(t,r,a,l),r=r.sibling}function J_(t,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:sr(t,r,a,l),d&2048&&xl(9,r);break;case 1:sr(t,r,a,l);break;case 3:sr(t,r,a,l),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&cl(t)));break;case 12:if(d&2048){sr(t,r,a,l),t=r.stateNode;try{var f=r.memoizedProps,v=f.id,x=f.onPostCommit;typeof x=="function"&&x(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Qe(r,r.return,I)}}else sr(t,r,a,l);break;case 31:sr(t,r,a,l);break;case 13:sr(t,r,a,l);break;case 23:break;case 22:f=r.stateNode,v=r.alternate,r.memoizedState!==null?f._visibility&2?sr(t,r,a,l):Al(t,r):f._visibility&2?sr(t,r,a,l):(f._visibility|=2,Za(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Yf(v,r);break;case 24:sr(t,r,a,l),d&2048&&Kf(r.alternate,r);break;default:sr(t,r,a,l)}}function Za(t,r,a,l,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=t,v=r,x=a,I=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Za(f,v,x,I,d),xl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?Za(f,v,x,I,d):Al(f,v):(K._visibility|=2,Za(f,v,x,I,d)),d&&q&2048&&Yf(v.alternate,v);break;case 24:Za(f,v,x,I,d),d&&q&2048&&Kf(v.alternate,v);break;default:Za(f,v,x,I,d)}r=r.sibling}}function Al(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,d=l.flags;switch(l.tag){case 22:Al(a,l),d&2048&&Yf(l.alternate,l);break;case 24:Al(a,l),d&2048&&Kf(l.alternate,l);break;default:Al(a,l)}r=r.sibling}}var wl=8192;function eo(t,r,a){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)W_(t,r,a),t=t.sibling}function W_(t,r,a){switch(t.tag){case 26:eo(t,r,a),t.flags&wl&&t.memoizedState!==null&&MS(a,ir,t.memoizedState,t.memoizedProps);break;case 5:eo(t,r,a);break;case 3:case 4:var l=ir;ir=Hc(t.stateNode.containerInfo),eo(t,r,a),ir=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=wl,wl=16777216,eo(t,r,a),wl=l):eo(t,r,a));break;default:eo(t,r,a)}}function Z_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Rl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,tv(l,t)}Z_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ev(t),t=t.sibling}function ev(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&Ki(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Ic(t)):Rl(t);break;default:Rl(t)}}function Ic(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,tv(l,t)}Z_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ki(8,r,r.return),Ic(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Ic(r));break;default:Ic(r)}t=t.sibling}}function tv(t,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Ki(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var d=l.sibling,f=l.return;if(G_(l),l===a){Bt=null;break e}if(d!==null){d.return=f,Bt=d;break e}Bt=f}}}var Kx={getCacheForType:function(t){var r=$t(At),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return $t(At).controller.signal}},Qx=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Ne=null,De=0,Ke=0,Sn=null,Qi=!1,to=!1,Qf=!1,ui=0,dt=0,Xi=0,ra=0,Xf=0,An=0,no=0,Cl=null,fn=null,Jf=!1,Dc=0,nv=0,Oc=1/0,Mc=null,Ji=null,Vt=0,Wi=null,ro=null,ci=0,Wf=0,Zf=null,rv=null,Nl=0,em=null;function wn(){return(Fe&2)!==0&&De!==0?De&-De:Q.T!==null?am():ku()}function iv(){if(An===0)if((De&536870912)===0||je){var t=Is;Is<<=1,(Is&3932160)===0&&(Is=262144),An=t}else An=536870912;return t=Tn.current,t!==null&&(t.flags|=32),An}function mn(t,r,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(io(t,0),Zi(t,De,An,!1)),Ds(t,a),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(ra|=a),dt===4&&Zi(t,De,An,!1)),kr(t))}function sv(t,r,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Qn(t,r),d=l?Wx(t,r):nm(t,r,!0),f=l;do{if(d===0){to&&!l&&Zi(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!Xx(a)){d=nm(t,r,!1),f=!1;continue}if(d===2){if(f=r,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var x=t;d=Cl;var I=x.current.memoizedState.isDehydrated;if(I&&(io(x,v).flags|=256),v=nm(x,v,!1),v!==2){if(Qf&&!I){x.errorRecoveryDisabledLanes|=f,ra|=f,d=4;break e}f=fn,fn=d,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){io(t,0),Zi(t,r,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Zi(l,r,An,!Qi);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Dc+300-rn(),10<d)){if(Zi(l,r,An,!Qi),gr(l,0,!0)!==0)break e;ci=r,l.timeoutHandle=jv(av.bind(null,l,a,fn,Mc,Jf,r,An,ra,no,Qi,f,"Throttled",-0,0),d);break e}av(l,a,fn,Mc,Jf,r,An,ra,no,Qi,f,null,-0,0)}}break}while(!0);kr(t)}function av(t,r,a,l,d,f,v,x,I,q,K,W,F,Y){if(t.timeoutHandle=-1,W=r.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},W_(r,f,W);var ce=(f&62914560)===f?Dc-rn():(f&4194048)===f?nv-rn():0;if(ce=kS(W,ce),ce!==null){ci=f,t.cancelPendingCommit=ce(mv.bind(null,t,r,f,a,l,d,v,x,I,K,W,null,F,Y)),Zi(t,f,v,!q);return}}mv(t,r,f,a,l,d,v,x,I)}function Xx(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!bn(f(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zi(t,r,a,l){r&=~Xf,r&=~ra,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var d=r;0<d;){var f=31-mt(d),v=1<<f;l[f]=-1,d&=~v}a!==0&&Os(t,a,r)}function kc(){return(Fe&6)===0?(Il(0),!1):!0}function tm(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,Zr=Ks=null,yf(t),Ka=null,dl=0,t=Ne;for(;t!==null;)L_(t.alternate,t),t=t.return;Ne=null}}function io(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,gS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ci=0,tm(),et=t,Ne=a=Jr(t.current,null),De=r,Ke=0,Sn=null,Qi=!1,to=Qn(t,r),Qf=!1,no=An=Xf=ra=Xi=dt=0,fn=Cl=null,Jf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var d=31-mt(l),f=1<<d;r|=t[d],l&=~f}return ui=r,tc(),a}function ov(t,r){we=null,Q.H=bl,r===Ya||r===uc?(r=xy(),Ke=3):r===sf?(r=xy(),Ke=4):Ke=r===Mf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Sn=r,Ne===null&&(dt=1,xc(t,Un(r,t.current)))}function lv(){var t=Tn.current;return t===null?!0:(De&4194048)===De?qn===null:(De&62914560)===De||(De&536870912)!==0?t===qn:!1}function uv(){var t=Q.H;return Q.H=bl,t===null?bl:t}function cv(){var t=Q.A;return Q.A=Kx,t}function Vc(){dt=4,Qi||(De&4194048)!==De&&Tn.current!==null||(to=!0),(Xi&134217727)===0&&(ra&134217727)===0||et===null||Zi(et,De,An,!1)}function nm(t,r,a){var l=Fe;Fe|=2;var d=uv(),f=cv();(et!==t||De!==r)&&(Mc=null,io(t,r)),r=!1;var v=dt;e:do try{if(Ke!==0&&Ne!==null){var x=Ne,I=Sn;switch(Ke){case 8:tm(),v=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(r=!0);var q=Ke;if(Ke=0,Sn=null,so(t,x,I,q),a&&to){v=0;break e}break;default:q=Ke,Ke=0,Sn=null,so(t,x,I,q)}}Jx(),v=dt;break}catch(K){ov(t,K)}while(!0);return r&&t.shellSuspendCounter++,Zr=Ks=null,Fe=l,Q.H=d,Q.A=f,Ne===null&&(et=null,De=0,tc()),v}function Jx(){for(;Ne!==null;)hv(Ne)}function Wx(t,r){var a=Fe;Fe|=2;var l=uv(),d=cv();et!==t||De!==r?(Mc=null,Oc=rn()+500,io(t,r)):to=Qn(t,r);e:do try{if(Ke!==0&&Ne!==null){r=Ne;var f=Sn;t:switch(Ke){case 1:Ke=0,Sn=null,so(t,r,f,1);break;case 2:case 9:if(Ey(f)){Ke=0,Sn=null,dv(r);break}r=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),kr(t)},f.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Ey(f)?(Ke=0,Sn=null,dv(r)):(Ke=0,Sn=null,so(t,r,f,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var x=Ne;if(v?Jv(v):x.stateNode.complete){Ke=0,Sn=null;var I=x.sibling;if(I!==null)Ne=I;else{var q=x.return;q!==null?(Ne=q,jc(q)):Ne=null}break t}}Ke=0,Sn=null,so(t,r,f,5);break;case 6:Ke=0,Sn=null,so(t,r,f,6);break;case 8:tm(),dt=6;break e;default:throw Error(s(462))}}Zx();break}catch(K){ov(t,K)}while(!0);return Zr=Ks=null,Q.H=l,Q.A=d,Fe=a,Ne!==null?0:(et=null,De=0,tc(),dt)}function Zx(){for(;Ne!==null&&!Dd();)hv(Ne)}function hv(t){var r=V_(t.alternate,t,ui);t.memoizedProps=t.pendingProps,r===null?jc(t):Ne=r}function dv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=N_(a,r,r.pendingProps,r.type,void 0,De);break;case 11:r=N_(a,r,r.pendingProps,r.type.render,r.ref,De);break;case 5:yf(r);default:L_(a,r),r=Ne=cy(r,ui),r=V_(a,r,ui)}t.memoizedProps=t.pendingProps,r===null?jc(t):Ne=r}function so(t,r,a,l){Zr=Ks=null,yf(r),Ka=null,dl=0;var d=r.return;try{if(Bx(t,d,r,a,De)){dt=1,xc(t,Un(a,t.current)),Ne=null;return}}catch(f){if(d!==null)throw Ne=d,f;dt=1,xc(t,Un(a,t.current)),Ne=null;return}r.flags&32768?(je||l===1?t=!0:to||(De&536870912)!==0?t=!1:(Qi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),fv(r,t)):jc(r)}function jc(t){var r=t;do{if((r.flags&32768)!==0){fv(r,Qi);return}t=r.return;var a=Fx(r.alternate,r,ui);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=t}while(r!==null);dt===0&&(dt=5)}function fv(t,r){do{var a=Gx(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);dt=6,Ne=null}function mv(t,r,a,l,d,f,v,x,I){t.cancelPendingCommit=null;do Lc();while(Vt!==0);if((Fe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=Hd,kd(t,a,f,v,x,I),t===et&&(Ne=et=null,De=0),ro=r,Wi=t,ci=a,Wf=f,Zf=d,rv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,rS(Ni,function(){return vv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,d=se.p,se.p=2,v=Fe,Fe|=4;try{$x(t,r,a)}finally{Fe=v,se.p=d,Q.T=l}}Vt=1,pv(),gv(),yv()}}function pv(){if(Vt===1){Vt=0;var t=Wi,r=ro,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var d=Fe;Fe|=4;try{Q_(r,t);var f=mm,v=ty(t.containerInfo),x=f.focusedElem,I=f.selectionRange;if(v!==x&&x&&x.ownerDocument&&ey(x.ownerDocument.documentElement,x)){if(I!==null&&Ud(x)){var q=I.start,K=I.end;if(K===void 0&&(K=q),"selectionStart"in x)x.selectionStart=q,x.selectionEnd=Math.min(K,x.value.length);else{var W=x.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var Y=F.getSelection(),ce=x.textContent.length,ge=Math.min(I.start,ce),Ze=I.end===void 0?ge:Math.min(I.end,ce);!Y.extend&&ge>Ze&&(v=Ze,Ze=ge,ge=v);var U=Zg(x,ge),M=Zg(x,Ze);if(U&&M&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var B=W.createRange();B.setStart(U.node,U.offset),Y.removeAllRanges(),ge>Ze?(Y.addRange(B),Y.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),Y.addRange(B))}}}}for(W=[],Y=x;Y=Y.parentNode;)Y.nodeType===1&&W.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<W.length;x++){var X=W[x];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Qc=!!fm,mm=fm=null}finally{Fe=d,se.p=l,Q.T=a}}t.current=r,Vt=2}}function gv(){if(Vt===2){Vt=0;var t=Wi,r=ro,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var d=Fe;Fe|=4;try{F_(t,r.alternate,r)}finally{Fe=d,se.p=l,Q.T=a}}Vt=3}}function yv(){if(Vt===4||Vt===3){Vt=0,Ru();var t=Wi,r=ro,a=ci,l=rv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Vt=5:(Vt=0,ro=Wi=null,_v(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Ji=null),Yr(a),r=r.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Kn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,d=se.p,se.p=2,Q.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var x=l[v];f(x.value,{componentStack:x.stack})}}finally{Q.T=r,se.p=d}}(ci&3)!==0&&Lc(),kr(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===em?Nl++:(Nl=0,em=t):Nl=0,Il(0)}}function _v(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,cl(r)))}function Lc(){return pv(),gv(),yv(),vv()}function vv(){if(Vt!==5)return!1;var t=Wi,r=Wf;Wf=0;var a=Yr(ci),l=Q.T,d=se.p;try{se.p=32>a?32:a,Q.T=null,a=Zf,Zf=null;var f=Wi,v=ci;if(Vt=0,ro=Wi=null,ci=0,(Fe&6)!==0)throw Error(s(331));var x=Fe;if(Fe|=4,ev(f.current),J_(f,f.current,v,a),Fe=x,Il(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Kn,f)}catch{}return!0}finally{se.p=d,Q.T=l,_v(t,r)}}function bv(t,r,a){r=Un(a,r),r=Of(t.stateNode,r,2),t=Gi(t,r,2),t!==null&&(Ds(t,2),kr(t))}function Qe(t,r,a){if(t.tag===3)bv(t,t,a);else for(;r!==null;){if(r.tag===3){bv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ji===null||!Ji.has(l))){t=Un(a,t),a=E_(2),l=Gi(r,a,2),l!==null&&(T_(a,l,r,t),Ds(l,2),kr(l));break}}r=r.return}}function rm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Qx;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(Qf=!0,d.add(a),t=eS.bind(null,t,r,a),r.then(t,t))}function eS(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(De&a)===a&&(dt===4||dt===3&&(De&62914560)===De&&300>rn()-Dc?(Fe&2)===0&&io(t,0):Xf|=a,no===De&&(no=0)),kr(t)}function Ev(t,r){r===0&&(r=Mu()),t=Gs(t,r),t!==null&&(Ds(t,r),kr(t))}function tS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Ev(t,a)}function nS(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Ev(t,a)}function rS(t,r){return kt(t,r)}var Uc=null,ao=null,im=!1,Pc=!1,sm=!1,es=0;function kr(t){t!==ao&&t.next===null&&(ao===null?Uc=ao=t:ao=ao.next=t),Pc=!0,im||(im=!0,sS())}function Il(t,r){if(!sm&&Pc){sm=!0;do for(var a=!1,l=Uc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var v=l.suspendedLanes,x=l.pingedLanes;f=(1<<31-mt(42|t)+1)-1,f&=d&~(v&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Av(l,f))}else f=De,f=gr(l,l===et?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Qn(l,f)||(a=!0,Av(l,f));l=l.next}while(a);sm=!1}}function iS(){Tv()}function Tv(){Pc=im=!1;var t=0;es!==0&&pS()&&(t=es);for(var r=rn(),a=null,l=Uc;l!==null;){var d=l.next,f=xv(l,r);f===0?(l.next=null,a===null?Uc=d:a.next=d,d===null&&(ao=a)):(a=l,(t!==0||(f&3)!==0)&&(Pc=!0)),l=d}Vt!==0&&Vt!==5||Il(t),es!==0&&(es=0)}function xv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-mt(f),x=1<<v,I=d[v];I===-1?((x&a)===0||(x&l)!==0)&&(d[v]=Md(x,r)):I<=r&&(t.expiredLanes|=x),f&=~x}if(r=et,a=De,a=gr(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ci(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Qn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Ci(l),Yr(a)){case 2:case 8:a=zo;break;case 32:a=Ni;break;case 268435456:a=Cu;break;default:a=Ni}return l=Sv.bind(null,t),a=kt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Ci(l),t.callbackPriority=2,t.callbackNode=null,2}function Sv(t,r){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lc()&&t.callbackNode!==a)return null;var l=De;return l=gr(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(sv(t,l,r),xv(t,rn()),t.callbackNode!=null&&t.callbackNode===a?Sv.bind(null,t):null)}function Av(t,r){if(Lc())return null;sv(t,r,!0)}function sS(){yS(function(){(Fe&6)!==0?kt(Po,iS):Tv()})}function am(){if(es===0){var t=Ga;t===0&&(t=mr,mr<<=1,(mr&261888)===0&&(mr=256)),es=t}return es}function wv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function Rv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function aS(t,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var f=wv((d[Pt]||null).action),v=l.submitter;v&&(r=(r=v[Pt]||null)?wv(r.formAction):v.getAttribute("formAction"),r!==null&&(f=r,v=null));var x=new Rr("action","action",null,l,d);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(es!==0){var I=v?Rv(d,v):new FormData(d);wf(a,{pending:!0,data:I,method:d.method,action:f},null,I)}}else typeof f=="function"&&(x.preventDefault(),I=v?Rv(d,v):new FormData(d),wf(a,{pending:!0,data:I,method:d.method,action:f},f,I))},currentTarget:d}]})}}for(var om=0;om<qd.length;om++){var lm=qd[om],oS=lm.toLowerCase(),lS=lm[0].toUpperCase()+lm.slice(1);rr(oS,"on"+lS)}rr(iy,"onAnimationEnd"),rr(sy,"onAnimationIteration"),rr(ay,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(Sx,"onTransitionRun"),rr(Ax,"onTransitionStart"),rr(wx,"onTransitionCancel"),rr(oy,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Cv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var v=l.length-1;0<=v;v--){var x=l[v],I=x.instance,q=x.currentTarget;if(x=x.listener,I!==f&&d.isPropagationStopped())break e;f=x,d.currentTarget=q;try{f(d)}catch(K){ec(K)}d.currentTarget=null,f=I}else for(v=0;v<l.length;v++){if(x=l[v],I=x.instance,q=x.currentTarget,x=x.listener,I!==f&&d.isPropagationStopped())break e;f=x,d.currentTarget=q;try{f(d)}catch(K){ec(K)}d.currentTarget=null,f=I}}}}function Ie(t,r){var a=r[Aa];a===void 0&&(a=r[Aa]=new Set);var l=t+"__bubble";a.has(l)||(Nv(r,t,2,!1),a.add(l))}function um(t,r,a){var l=0;r&&(l|=4),Nv(a,t,l,r)}var zc="_reactListening"+Math.random().toString(36).slice(2);function cm(t){if(!t[zc]){t[zc]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(uS.has(a)||um(a,!1,t),um(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[zc]||(r[zc]=!0,um("selectionchange",!1,r))}}function Nv(t,r,a,l){switch(ib(r)){case 2:var d=LS;break;case 8:d=US;break;default:d=Am}a=d.bind(null,r,a,t),d=void 0,!Ls||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(r,a,{capture:!0,passive:d}):t.addEventListener(r,a,!0):d!==void 0?t.addEventListener(r,a,{passive:d}):t.addEventListener(r,a,!1)}function hm(t,r,a,l,d){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var x=l.stateNode.containerInfo;if(x===d)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;x!==null;){if(v=br(x),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=f=v;continue e}x=x.parentNode}}l=l.return}Vi(function(){var q=f,K=kn(a),W=[];e:{var F=ly.get(t);if(F!==void 0){var Y=Rr,ce=t;switch(t){case"keypress":if(Ps(a)===0)break e;case"keydown":case"keyup":Y=Ju;break;case"focusin":ce="focus",Y=Bs;break;case"focusout":ce="blur",Y=Bs;break;case"beforeblur":case"afterblur":Y=Bs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case iy:case sy:case ay:Y=Fu;break;case oy:Y=A;break;case"scroll":case"scrollend":Y=tl;break;case"wheel":Y=$;break;case"copy":case"cut":case"paste":Y=Gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Xr;break;case"toggle":case"beforetoggle":Y=Ae}var ge=(r&4)!==0,Ze=!ge&&(t==="scroll"||t==="scrollend"),U=ge?F!==null?F+"Capture":null:F;ge=[];for(var M=q,B;M!==null;){var X=M;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||U===null||(X=Zn(M,U),X!=null&&ge.push(Ol(M,X,B))),Ze)break;M=M.return}0<ge.length&&(F=new Y(F,ce,null,a,K),W.push({event:F,listeners:ge}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&a!==Wo&&(ce=a.relatedTarget||a.fromElement)&&(br(ce)||ce[_r]))break e;if((Y||F)&&(F=K.window===K?K:(F=K.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(ce=a.relatedTarget||a.toElement,Y=q,ce=ce?br(ce):null,ce!==null&&(Ze=u(ce),ge=ce.tag,ce!==Ze||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(Y=null,ce=q),Y!==ce)){if(ge=nl,X="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Xr,X="onPointerLeave",U="onPointerEnter",M="pointer"),Ze=Y==null?F:_n(Y),B=ce==null?F:_n(ce),F=new ge(X,M+"leave",Y,a,K),F.target=Ze,F.relatedTarget=B,X=null,br(K)===q&&(ge=new ge(U,M+"enter",ce,a,K),ge.target=B,ge.relatedTarget=Ze,X=ge),Ze=X,Y&&ce)t:{for(ge=cS,U=Y,M=ce,B=0,X=U;X;X=ge(X))B++;X=0;for(var fe=M;fe;fe=ge(fe))X++;for(;0<B-X;)U=ge(U),B--;for(;0<X-B;)M=ge(M),X--;for(;B--;){if(U===M||M!==null&&U===M.alternate){ge=U;break t}U=ge(U),M=ge(M)}ge=null}else ge=null;Y!==null&&Iv(W,F,Y,ge,!1),ce!==null&&Ze!==null&&Iv(W,Ze,ce,ge,!0)}}e:{if(F=q?_n(q):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var Be=Yg;else if(Gg(F))if(Kg)Be=Ex;else{Be=vx;var he=_x}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Na(q.elementType)&&(Be=Yg):Be=bx;if(Be&&(Be=Be(t,q))){$g(W,Be,a,K);break e}he&&he(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Qo(F,"number",F.value)}switch(he=q?_n(q):window,t){case"focusin":(Gg(he)||he.contentEditable==="true")&&(La=he,Pd=q,ol=null);break;case"focusout":ol=Pd=La=null;break;case"mousedown":zd=!0;break;case"contextmenu":case"mouseup":case"dragend":zd=!1,ny(W,a,K);break;case"selectionchange":if(xx)break;case"keydown":case"keyup":ny(W,a,K)}var Ce;if(He)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else ja?qs(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ir&&a.locale!=="ko"&&(ja||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&ja&&(Ce=el()):(wr=K,Zo="value"in wr?wr.value:wr.textContent,ja=!0)),he=Bc(q,Oe),0<he.length&&(Oe=new Nr(Oe,t,null,a,K),W.push({event:Oe,listeners:he}),Ce?Oe.data=Ce:(Ce=Va(a),Ce!==null&&(Oe.data=Ce)))),(Ce=jn?mx(t,a):px(t,a))&&(Oe=Bc(q,"onBeforeInput"),0<Oe.length&&(he=new Nr("onBeforeInput","beforeinput",null,a,K),W.push({event:he,listeners:Oe}),he.data=Ce)),aS(W,t,q,a,K)}Cv(W,r)})}function Ol(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Bc(t,r){for(var a=r+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Zn(t,a),d!=null&&l.unshift(Ol(t,d,f)),d=Zn(t,r),d!=null&&l.push(Ol(t,d,f))),t.tag===3)return l;t=t.return}return[]}function cS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Iv(t,r,a,l,d){for(var f=r._reactName,v=[];a!==null&&a!==l;){var x=a,I=x.alternate,q=x.stateNode;if(x=x.tag,I!==null&&I===l)break;x!==5&&x!==26&&x!==27||q===null||(I=q,d?(q=Zn(a,f),q!=null&&v.unshift(Ol(a,q,I))):d||(q=Zn(a,f),q!=null&&v.push(Ol(a,q,I)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var hS=/\r\n?/g,dS=/\u0000|\uFFFD/g;function Dv(t){return(typeof t=="string"?t:""+t).replace(hS,`
`).replace(dS,"")}function Ov(t,r){return r=Dv(r),Dv(t)===r}function We(t,r,a,l,d,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||un(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&un(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":Jo(t,l,f);break;case"data":if(r!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&We(t,r,"name",d.name,d,null),We(t,r,"formEncType",d.formEncType,d,null),We(t,r,"formMethod",d.formMethod,d,null),We(t,r,"formTarget",d.formTarget,d,null)):(We(t,r,"encType",d.encType,d,null),We(t,r,"method",d.method,d,null),We(t,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),Ra(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ra(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bu.get(a)||a,Ra(t,a,l))}}function dm(t,r,a,l,d,f){switch(a){case"style":Jo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?un(t,l):(typeof l=="number"||typeof l=="bigint")&&un(t,""+l);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),f=t[Pt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ra(t,a,l)}}}function Kt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,f,v,a,null)}}d&&We(t,r,"srcSet",a.srcSet,a,null),l&&We(t,r,"src",a.src,a,null);return;case"input":Ie("invalid",t);var x=f=v=d=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":d=K;break;case"type":v=K;break;case"checked":I=K;break;case"defaultChecked":q=K;break;case"value":f=K;break;case"defaultValue":x=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:We(t,r,l,K,a,null)}}Uu(t,f,x,I,q,v,d,!1);return;case"select":Ie("invalid",t),l=v=f=null;for(d in a)if(a.hasOwnProperty(d)&&(x=a[d],x!=null))switch(d){case"value":f=x;break;case"defaultValue":v=x;break;case"multiple":l=x;default:We(t,r,d,x,a,null)}r=f,a=v,t.multiple=!!l,r!=null?Di(t,!!l,r,!1):a!=null&&Di(t,!!l,a,!0);return;case"textarea":Ie("invalid",t),f=d=l=null;for(v in a)if(a.hasOwnProperty(v)&&(x=a[v],x!=null))switch(v){case"value":l=x;break;case"defaultValue":d=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:We(t,r,v,x,a,null)}Oi(t,l,d,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":We(t,r,I,l,a,null));return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Ie(Dl[l],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,q,l,a,null)}return;default:if(Na(r)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&dm(t,r,K,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&We(t,r,x,l,a,null))}function fS(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,x=null,I=null,q=null,K=null;for(Y in a){var W=a[Y];if(a.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=W;default:l.hasOwnProperty(Y)||We(t,r,Y,null,l,W)}}for(var F in l){var Y=l[F];if(W=a[F],l.hasOwnProperty(F)&&(Y!=null||W!=null))switch(F){case"type":f=Y;break;case"name":d=Y;break;case"checked":q=Y;break;case"defaultChecked":K=Y;break;case"value":v=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==W&&We(t,r,F,Y,l,W)}}Ca(t,v,x,I,q,K,f,d);return;case"select":Y=v=x=F=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":Y=I;default:l.hasOwnProperty(f)||We(t,r,f,null,l,I)}for(d in l)if(f=l[d],I=a[d],l.hasOwnProperty(d)&&(f!=null||I!=null))switch(d){case"value":F=f;break;case"defaultValue":x=f;break;case"multiple":v=f;default:f!==I&&We(t,r,d,f,l,I)}r=x,a=v,l=Y,F!=null?Di(t,!!a,F,!1):!!l!=!!a&&(r!=null?Di(t,!!a,r,!0):Di(t,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(x in a)if(d=a[x],a.hasOwnProperty(x)&&d!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:We(t,r,x,null,l,d)}for(v in l)if(d=l[v],f=a[v],l.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":F=d;break;case"defaultValue":Y=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&We(t,r,v,d,l,f)}Pu(t,F,Y);return;case"option":for(var ce in a)F=a[ce],a.hasOwnProperty(ce)&&F!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:We(t,r,ce,null,l,F));for(I in l)F=l[I],Y=a[I],l.hasOwnProperty(I)&&F!==Y&&(F!=null||Y!=null)&&(I==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":We(t,r,I,F,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)F=a[ge],a.hasOwnProperty(ge)&&F!=null&&!l.hasOwnProperty(ge)&&We(t,r,ge,null,l,F);for(q in l)if(F=l[q],Y=a[q],l.hasOwnProperty(q)&&F!==Y&&(F!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:We(t,r,q,F,l,Y)}return;default:if(Na(r)){for(var Ze in a)F=a[Ze],a.hasOwnProperty(Ze)&&F!==void 0&&!l.hasOwnProperty(Ze)&&dm(t,r,Ze,void 0,l,F);for(K in l)F=l[K],Y=a[K],!l.hasOwnProperty(K)||F===Y||F===void 0&&Y===void 0||dm(t,r,K,F,l,Y);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&We(t,r,U,null,l,F);for(W in l)F=l[W],Y=a[W],!l.hasOwnProperty(W)||F===Y||F==null&&Y==null||We(t,r,W,F,l,Y)}function Mv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,v=d.initiatorType,x=d.duration;if(f&&x&&Mv(v)){for(v=0,x=d.responseEnd,l+=1;l<a.length;l++){var I=a[l],q=I.startTime;if(q>x)break;var K=I.transferSize,W=I.initiatorType;K&&Mv(W)&&(I=I.responseEnd,v+=K*(I<x?1:(x-q)/(I-q)))}if(--l,r+=8*(f+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var fm=null,mm=null;function qc(t){return t.nodeType===9?t:t.ownerDocument}function kv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function pm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var gm=null;function pS(){var t=window.event;return t&&t.type==="popstate"?t===gm?!1:(gm=t,!0):(gm=null,!1)}var jv=typeof setTimeout=="function"?setTimeout:void 0,gS=typeof clearTimeout=="function"?clearTimeout:void 0,Lv=typeof Promise=="function"?Promise:void 0,yS=typeof queueMicrotask=="function"?queueMicrotask:typeof Lv<"u"?function(t){return Lv.resolve(null).then(t).catch(_S)}:jv;function _S(t){setTimeout(function(){throw t})}function ts(t){return t==="head"}function Uv(t,r){var a=r,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),co(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ml(a);for(var f=a.firstChild;f;){var v=f.nextSibling,x=f.nodeName;f[vr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Ml(t.ownerDocument.body);a=d}while(a);co(r)}function Pv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function ym(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ym(a),wa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function vS(t,r,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function bS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function zv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Hn(t.nextSibling),t===null))return null;return t}function _m(t){return t.data==="$?"||t.data==="$~"}function vm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ES(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var bm=null;function Bv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Hn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function qv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Hv(t,r,a){switch(r=qc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);wa(t)}var Fn=new Map,Fv=new Set;function Hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hi=se.d;se.d={f:TS,r:xS,D:SS,C:AS,L:wS,m:RS,X:NS,S:CS,M:IS};function TS(){var t=hi.f(),r=kc();return t||r}function xS(t){var r=Mn(t);r!==null&&r.tag===5&&r.type==="form"?o_(r):hi.r(t)}var oo=typeof document>"u"?null:document;function Gv(t,r,a){var l=oo;if(l&&typeof r=="string"&&r){var d=ln(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Fv.has(d)||(Fv.add(d),t={rel:t,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),Kt(r,"link",t),xt(r),l.head.appendChild(r)))}}function SS(t){hi.D(t),Gv("dns-prefetch",t,null)}function AS(t,r){hi.C(t,r),Gv("preconnect",t,r)}function wS(t,r,a){hi.L(t,r,a);var l=oo;if(l&&t&&r){var d='link[rel="preload"][as="'+ln(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+ln(a.imageSizes)+'"]')):d+='[href="'+ln(t)+'"]';var f=d;switch(r){case"style":f=lo(t);break;case"script":f=uo(t)}Fn.has(f)||(t=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Fn.set(f,t),l.querySelector(d)!==null||r==="style"&&l.querySelector(kl(f))||r==="script"&&l.querySelector(Vl(f))||(r=l.createElement("link"),Kt(r,"link",t),xt(r),l.head.appendChild(r)))}}function RS(t,r){hi.m(t,r);var a=oo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=uo(t)}if(!Fn.has(f)&&(t=b({rel:"modulepreload",href:t},r),Fn.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(f)))return}l=a.createElement("link"),Kt(l,"link",t),xt(l),a.head.appendChild(l)}}}function CS(t,r,a){hi.S(t,r,a);var l=oo;if(l&&t){var d=Er(l).hoistableStyles,f=lo(t);r=r||"default";var v=d.get(f);if(!v){var x={loading:0,preload:null};if(v=l.querySelector(kl(f)))x.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Fn.get(f))&&Em(t,a);var I=v=l.createElement("link");xt(I),Kt(I,"link",t),I._p=new Promise(function(q,K){I.onload=q,I.onerror=K}),I.addEventListener("load",function(){x.loading|=1}),I.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Fc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:x},d.set(f,v)}}}function NS(t,r){hi.X(t,r);var a=oo;if(a&&t){var l=Er(a).hoistableScripts,d=uo(t),f=l.get(d);f||(f=a.querySelector(Vl(d)),f||(t=b({src:t,async:!0},r),(r=Fn.get(d))&&Tm(t,r),f=a.createElement("script"),xt(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function IS(t,r){hi.M(t,r);var a=oo;if(a&&t){var l=Er(a).hoistableScripts,d=uo(t),f=l.get(d);f||(f=a.querySelector(Vl(d)),f||(t=b({src:t,async:!0,type:"module"},r),(r=Fn.get(d))&&Tm(t,r),f=a.createElement("script"),xt(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function $v(t,r,a,l){var d=(d=Re.current)?Hc(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=lo(a.href),a=Er(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=lo(a.href);var f=Er(d).hoistableStyles,v=f.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=d.querySelector(kl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),f||DS(d,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=uo(a),a=Er(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function lo(t){return'href="'+ln(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function Yv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function DS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Kt(r,"link",a),xt(r),t.head.appendChild(r))}function uo(t){return'[src="'+ln(t)+'"]'}function Vl(t){return"script[async]"+t}function Kv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return r.instance=l,xt(l),l;var d=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Kt(l,"style",d),Fc(l,a.precedence,t),r.instance=l;case"stylesheet":d=lo(a.href);var f=t.querySelector(kl(d));if(f)return r.state.loading|=4,r.instance=f,xt(f),f;l=Yv(a),(d=Fn.get(d))&&Em(l,d),f=(t.ownerDocument||t).createElement("link"),xt(f);var v=f;return v._p=new Promise(function(x,I){v.onload=x,v.onerror=I}),Kt(f,"link",l),r.state.loading|=4,Fc(f,a.precedence,t),r.instance=f;case"script":return f=uo(a.src),(d=t.querySelector(Vl(f)))?(r.instance=d,xt(d),d):(l=a,(d=Fn.get(f))&&(l=b({},a),Tm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),xt(d),Kt(d,"link",l),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Fc(l,a.precedence,t));return r.instance}function Fc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,v=0;v<l.length;v++){var x=l[v];if(x.dataset.precedence===r)f=x;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Em(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Tm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Gc=null;function Qv(t,r,a){if(Gc===null){var l=new Map,d=Gc=new Map;d.set(a,l)}else d=Gc,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[vr]||f[Tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(r)||"";v=t+v;var x=l.get(v);x?x.push(f):l.set(v,[f])}}return l}function Xv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function OS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Jv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function MS(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=lo(l.href),f=r.querySelector(kl(d));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=$c.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=f,xt(f);return}f=r.ownerDocument||r,l=Yv(l),(d=Fn.get(d))&&Em(l,d),f=f.createElement("link"),xt(f);var v=f;v._p=new Promise(function(x,I){v.onload=x,v.onerror=I}),Kt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=$c.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var xm=0;function kS(t,r){return t.stylesheets&&t.count===0&&Kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+r);0<t.imgBytes&&xm===0&&(xm=62500*mS());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>xm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function $c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yc=null;function Kc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yc=new Map,r.forEach(VS,t),Yc=null,$c.call(t))}function VS(t,r){if(!(r.state.loading&4)){var a=Yc.get(t);if(a)var l=a.get(null);else{a=new Map,Yc.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}d=r.instance,v=d.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,d),a.set(v,d),this.count++,l=$c.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var jl={$$typeof:re,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function jS(t,r,a,l,d,f,v,x,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yr(0),this.hiddenUpdates=yr(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Wv(t,r,a,l,d,f,v,x,I,q,K,W){return t=new jS(t,r,a,v,I,q,K,W,x),r=1,f===!0&&(r|=24),f=En(3,null,null,r),t.current=f,f.stateNode=t,r=tf(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},af(f),t}function Zv(t){return t?(t=za,t):za}function eb(t,r,a,l,d,f){d=Zv(d),l.context===null?l.context=d:l.pendingContext=d,l=Fi(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Gi(t,l,r),a!==null&&(mn(a,t,r),ml(a,t,r))}function tb(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Sm(t,r){tb(t,r),(t=t.alternate)&&tb(t,r)}function nb(t){if(t.tag===13||t.tag===31){var r=Gs(t,67108864);r!==null&&mn(r,t,67108864),Sm(t,67108864)}}function rb(t){if(t.tag===13||t.tag===31){var r=wn();r=Ms(r);var a=Gs(t,r);a!==null&&mn(a,t,r),Sm(t,r)}}var Qc=!0;function LS(t,r,a,l){var d=Q.T;Q.T=null;var f=se.p;try{se.p=2,Am(t,r,a,l)}finally{se.p=f,Q.T=d}}function US(t,r,a,l){var d=Q.T;Q.T=null;var f=se.p;try{se.p=8,Am(t,r,a,l)}finally{se.p=f,Q.T=d}}function Am(t,r,a,l){if(Qc){var d=wm(l);if(d===null)hm(t,r,l,Xc,a),sb(t,l);else if(zS(d,t,r,a,l))l.stopPropagation();else if(sb(t,l),r&4&&-1<PS.indexOf(t)){for(;d!==null;){var f=Mn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=pr(f.pendingLanes);if(v!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var I=1<<31-mt(v);x.entanglements[1]|=I,v&=~I}kr(f),(Fe&6)===0&&(Oc=rn()+500,Il(0))}}break;case 31:case 13:x=Gs(f,2),x!==null&&mn(x,f,2),kc(),Sm(f,2)}if(f=wm(l),f===null&&hm(t,r,l,Xc,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else hm(t,r,l,null,a)}}function wm(t){return t=kn(t),Rm(t)}var Xc=null;function Rm(t){if(Xc=null,t=br(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Xc=t,null}function ib(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ns()){case Po:return 2;case zo:return 8;case Ni:case Od:return 32;case Cu:return 268435456;default:return 32}default:return 32}}var Cm=!1,ns=null,rs=null,is=null,Ll=new Map,Ul=new Map,ss=[],PS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sb(t,r){switch(t){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Ll.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(r.pointerId)}}function Pl(t,r,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},r!==null&&(r=Mn(r),r!==null&&nb(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function zS(t,r,a,l,d){switch(r){case"focusin":return ns=Pl(ns,t,r,a,l,d),!0;case"dragenter":return rs=Pl(rs,t,r,a,l,d),!0;case"mouseover":return is=Pl(is,t,r,a,l,d),!0;case"pointerover":var f=d.pointerId;return Ll.set(f,Pl(Ll.get(f)||null,t,r,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Ul.set(f,Pl(Ul.get(f)||null,t,r,a,l,d)),!0}return!1}function ab(t){var r=br(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Xn(t.priority,function(){rb(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Xn(t.priority,function(){rb(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=wm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Wo=l,a.target.dispatchEvent(l),Wo=null}else return r=Mn(a),r!==null&&nb(r),t.blockedOn=a,!1;r.shift()}return!0}function ob(t,r,a){Jc(t)&&a.delete(r)}function BS(){Cm=!1,ns!==null&&Jc(ns)&&(ns=null),rs!==null&&Jc(rs)&&(rs=null),is!==null&&Jc(is)&&(is=null),Ll.forEach(ob),Ul.forEach(ob)}function Wc(t,r){t.blockedOn===r&&(t.blockedOn=null,Cm||(Cm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,BS)))}var Zc=null;function lb(t){Zc!==t&&(Zc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Zc===t&&(Zc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],d=t[r+2];if(typeof l!="function"){if(Rm(l||a)===null)continue;break}var f=Mn(a);f!==null&&(t.splice(r,3),r-=3,wf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function co(t){function r(I){return Wc(I,t)}ns!==null&&Wc(ns,t),rs!==null&&Wc(rs,t),is!==null&&Wc(is,t),Ll.forEach(r),Ul.forEach(r);for(var a=0;a<ss.length;a++){var l=ss[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ss.length&&(a=ss[0],a.blockedOn===null);)ab(a),a.blockedOn===null&&ss.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],v=d[Pt]||null;if(typeof f=="function")v||lb(a);else if(v){var x=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[Pt]||null)x=v.formAction;else if(Rm(d)!==null)continue}else x=v.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),lb(a)}}}function ub(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Nm(t){this._internalRoot=t}eh.prototype.render=Nm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=wn();eb(a,l,t,r,null,null)},eh.prototype.unmount=Nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;eb(t.current,2,null,t,null,null),kc(),r[_r]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var r=ku();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ss.length&&r!==0&&r<ss[a].priority;a++);ss.splice(a,0,t),a===0&&ab(t)}};var cb=e.version;if(cb!=="19.2.3")throw Error(s(527,cb,"19.2.3"));se.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var qS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{Kn=th.inject(qS),Ht=th}catch{}}return Bl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",d=y_,f=__,v=v_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=Wv(t,1,!1,null,null,a,l,null,d,f,v,ub),t[_r]=r.current,cm(t),new Nm(r)},Bl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,d="",f=y_,v=__,x=v_,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),r=Wv(t,1,!0,r,a??null,l,d,I,f,v,x,ub),r.context=Zv(null),a=r.current,l=wn(),l=Ms(l),d=Fi(l),d.callback=null,Gi(a,d,l),a=l,r.current.lanes=a,Ds(r,a),kr(r),t[_r]=r.current,cm(t),new eh(r)},Bl.version="19.2.3",Bl}var bb;function WS(){if(bb)return Om.exports;bb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Om.exports=JS(),Om.exports}var ZS=WS();var Eb="popstate";function eA(i={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=ga(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),tp("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:eu(u))}function s(o,u){Nn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return nA(e,n,s,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Nn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tA(){return Math.random().toString(36).substring(2,10)}function Tb(i,e){return{usr:i.state,key:i.key,idx:e}}function tp(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ga(e):e,state:n,key:e&&e.key||s||tA()}}function eu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ga(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function nA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=T();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function T(){return(h.state||{idx:null}).idx}function b(){m="POP";let G=T(),ne=G==null?null:G-g;g=G,p&&p({action:m,location:H.location,delta:ne})}function S(G,ne){m="PUSH";let te=tp(H.location,G,ne);n&&n(te,G),g=T()+1;let re=Tb(te,g),de=H.createHref(te);try{h.pushState(re,"",de)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;o.location.assign(de)}u&&p&&p({action:m,location:H.location,delta:1})}function O(G,ne){m="REPLACE";let te=tp(H.location,G,ne);n&&n(te,G),g=T();let re=Tb(te,g),de=H.createHref(te);h.replaceState(re,"",de),u&&p&&p({action:m,location:H.location,delta:0})}function D(G){return rA(G)}let H={get action(){return m},get location(){return i(o,h)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Eb,b),p=G,()=>{o.removeEventListener(Eb,b),p=null}},createHref(G){return e(o,G)},createURL:D,encodeLocation(G){let ne=D(G);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:S,replace:O,go(G){return h.go(G)}};return H}function rA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:eu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function cE(i,e,n="/"){return iA(i,e,n,!1)}function iA(i,e,n,s){let o=typeof e=="string"?ga(e):e,u=_i(o.pathname||"/",n);if(u==null)return null;let h=hE(i);sA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=gA(u);m=mA(h[p],g,s)}return m}function hE(i,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let T={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&p)return;ut(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let b=gi([s,T.relativePath]),S=n.concat(T);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),hE(h.children,e,S,b,p)),!(h.path==null&&!h.index)&&e.push({path:b,score:dA(b,h.index),routesMeta:S})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of dE(h.path))u(h,m,!0,p)}),e}function dE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=dE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function sA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:fA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var aA=/^:[\w-]+$/,oA=3,lA=2,uA=1,cA=10,hA=-2,xb=i=>i==="*";function dA(i,e){let n=i.split("/"),s=n.length;return n.some(xb)&&(s+=hA),e&&(s+=lA),n.filter(o=>!xb(o)).reduce((o,u)=>o+(aA.test(u)?oA:u===""?uA:cA),s)}function fA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function mA(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),S=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:gi([u,b.pathname]),pathnameBase:bA(gi([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=gi([u,b.pathnameBase]))}return h}function wh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=pA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:b},S)=>{if(T==="*"){let D=m[S]||"";h=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const O=m[S];return b&&!O?g[T]=void 0:g[T]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function pA(i,e=!1,n=!0){Nn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function gA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function _i(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var fE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yA=i=>fE.test(i);function _A(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ga(i):i,u;if(n)if(yA(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Nn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=Sb(n.substring(1),"/"):u=Sb(n,e)}else u=e;return{pathname:u,search:EA(s),hash:TA(o)}}function Sb(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function jm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dp(i){let e=vA(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Op(i,e,n,s=!1){let o;typeof i=="string"?o=ga(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),jm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),jm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),jm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?e[b]:"/"}let p=_A(o,m),g=h&&h!=="/"&&h.endsWith("/"),T=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var gi=i=>i.join("/").replace(/\/\/+/g,"/"),bA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),EA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,TA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,xA=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function SA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function AA(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var mE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pE(i,e){let n=i;if(typeof n!="string"||!fE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(mE)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=_i(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Nn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gE=["POST","PUT","PATCH","DELETE"];new Set(gE);var wA=["GET",...gE];new Set(wA);var Co=k.createContext(null);Co.displayName="DataRouter";var Wh=k.createContext(null);Wh.displayName="DataRouterState";var RA=k.createContext(!1),yE=k.createContext({isTransitioning:!1});yE.displayName="ViewTransition";var CA=k.createContext(new Map);CA.displayName="Fetchers";var NA=k.createContext(null);NA.displayName="Await";var Dn=k.createContext(null);Dn.displayName="Navigation";var du=k.createContext(null);du.displayName="Location";var hr=k.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var Mp=k.createContext(null);Mp.displayName="RouteError";var _E="REACT_ROUTER_ERROR",IA="REDIRECT",DA="ROUTE_ERROR_RESPONSE";function OA(i){if(i.startsWith(`${_E}:${IA}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function MA(i){if(i.startsWith(`${_E}:${DA}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new xA(e.status,e.statusText,e.data)}catch{}}function kA(i,{relative:e}={}){ut(No(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(Dn),{hash:o,pathname:u,search:h}=fu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:gi([n,u])),s.createHref({pathname:m,search:h,hash:o})}function No(){return k.useContext(du)!=null}function wi(){return ut(No(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(du).location}var vE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bE(i){k.useContext(Dn).static||k.useLayoutEffect(i)}function EE(){let{isDataRoute:i}=k.useContext(hr);return i?QA():VA()}function VA(){ut(No(),"useNavigate() may be used only in the context of a <Router> component.");let i=k.useContext(Co),{basename:e,navigator:n}=k.useContext(Dn),{matches:s}=k.useContext(hr),{pathname:o}=wi(),u=JSON.stringify(Dp(s)),h=k.useRef(!1);return bE(()=>{h.current=!0}),k.useCallback((p,g={})=>{if(Nn(h.current,vE),!h.current)return;if(typeof p=="number"){n.go(p);return}let T=Op(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:gi([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,i])}var jA=k.createContext(null);function LA(i){let e=k.useContext(hr).outlet;return k.useMemo(()=>e&&k.createElement(jA.Provider,{value:i},e),[e,i])}function fu(i,{relative:e}={}){let{matches:n}=k.useContext(hr),{pathname:s}=wi(),o=JSON.stringify(Dp(n));return k.useMemo(()=>Op(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function UA(i,e){return TE(i,e)}function TE(i,e,n,s,o){ut(No(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(Dn),{matches:h}=k.useContext(hr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let te=b&&b.path||"";SE(g,!b||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let S=wi(),O;if(e){let te=typeof e=="string"?ga(e):e;ut(T==="/"||te.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${te.pathname}" was given in the \`location\` prop.`),O=te}else O=S;let D=O.pathname||"/",H=D;if(T!=="/"){let te=T.replace(/^\//,"").split("/");H="/"+D.replace(/^\//,"").split("/").slice(te.length).join("/")}let G=cE(i,{pathname:H});Nn(b||G!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Nn(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=HA(G&&G.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:gi([T,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?T:gi([T,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),h,n,s,o);return e&&ne?k.createElement(du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},ne):ne}function PA(){let i=KA(),e=SA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,h)}var zA=k.createElement(PA,null),xE=class extends k.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=MA(i.digest);n&&(i=n)}let e=i!==void 0?k.createElement(hr.Provider,{value:this.props.routeContext},k.createElement(Mp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?k.createElement(BA,{error:i},e):e}};xE.contextType=RA;var Lm=new WeakMap;function BA({children:i,error:e}){let{basename:n}=k.useContext(Dn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=OA(e.digest);if(s){let o=Lm.get(e);if(o)throw o;let u=pE(s.location,n);if(mE&&!Lm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Lm.set(e,h),h}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function qA({routeContext:i,match:e,children:n}){let s=k.useContext(Co);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(hr.Provider,{value:i},n)}function HA(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let T=u.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);ut(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let m=!1,p=-1;if(n)for(let T=0;T<u.length;T++){let b=u[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=T),b.route.id){let{loaderData:S,errors:O}=n,D=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!O||O[b.route.id]===void 0);if(b.route.lazy||D){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(T,b)=>{s(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:AA(n.matches),errorInfo:b})}:void 0;return u.reduceRight((T,b,S)=>{let O,D=!1,H=null,G=null;n&&(O=h&&b.route.id?h[b.route.id]:void 0,H=b.route.errorElement||zA,m&&(p<0&&S===0?(SE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,G=null):p===S&&(D=!0,G=b.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,S+1)),te=()=>{let re;return O?re=H:D?re=G:b.route.Component?re=k.createElement(b.route.Component,null):b.route.element?re=b.route.element:re=T,k.createElement(qA,{match:b,routeContext:{outlet:T,matches:ne,isDataRoute:n!=null},children:re})};return n&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?k.createElement(xE,{location:n.location,revalidation:n.revalidation,component:H,error:O,children:te(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:g}):te()},null)}function kp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FA(i){let e=k.useContext(Co);return ut(e,kp(i)),e}function GA(i){let e=k.useContext(Wh);return ut(e,kp(i)),e}function $A(i){let e=k.useContext(hr);return ut(e,kp(i)),e}function Vp(i){let e=$A(i),n=e.matches[e.matches.length-1];return ut(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function YA(){return Vp("useRouteId")}function KA(){let i=k.useContext(Mp),e=GA("useRouteError"),n=Vp("useRouteError");return i!==void 0?i:e.errors?.[n]}function QA(){let{router:i}=FA("useNavigate"),e=Vp("useNavigate"),n=k.useRef(!1);return bE(()=>{n.current=!0}),k.useCallback(async(o,u={})=>{Nn(n.current,vE),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Ab={};function SE(i,e,n){!e&&!Ab[i]&&(Ab[i]=!0,Nn(!1,n))}k.memo(XA);function XA({routes:i,future:e,state:n,onError:s}){return TE(i,void 0,n,s,e)}function AE({to:i,replace:e,state:n,relative:s}){ut(No(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(Dn);Nn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=k.useContext(hr),{pathname:h}=wi(),m=EE(),p=Op(i,Dp(u),h,s==="path"),g=JSON.stringify(p);return k.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function JA(i){return LA(i.context)}function Rn(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WA({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ut(!No(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=k.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=ga(n));let{pathname:g="/",search:T="",hash:b="",state:S=null,key:O="default"}=n,D=k.useMemo(()=>{let H=_i(g,m);return H==null?null:{location:{pathname:H,search:T,hash:b,state:S,key:O},navigationType:s}},[m,g,T,b,S,O,s]);return Nn(D!=null,`<Router basename="${m}"> is not able to match the URL "${g}${T}${b}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:k.createElement(Dn.Provider,{value:p},k.createElement(du.Provider,{children:e,value:D}))}function ZA({children:i,location:e}){return UA(np(i),e)}function np(i,e=[]){let n=[];return k.Children.forEach(i,(s,o)=>{if(!k.isValidElement(s))return;let u=[...e,o];if(s.type===k.Fragment){n.push.apply(n,np(s.props.children,u));return}ut(s.type===Rn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=np(s.props.children,u)),n.push(h)}),n}var dh="get",fh="application/x-www-form-urlencoded";function Zh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function ew(i){return Zh(i)&&i.tagName.toLowerCase()==="button"}function tw(i){return Zh(i)&&i.tagName.toLowerCase()==="form"}function nw(i){return Zh(i)&&i.tagName.toLowerCase()==="input"}function rw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function iw(i,e){return i.button===0&&(!e||e==="_self")&&!rw(i)}var nh=null;function sw(){if(nh===null)try{new FormData(document.createElement("form"),0),nh=!1}catch{nh=!0}return nh}var aw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Um(i){return i!=null&&!aw.has(i)?(Nn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):i}function ow(i,e){let n,s,o,u,h;if(tw(i)){let m=i.getAttribute("action");s=m?_i(m,e):null,n=i.getAttribute("method")||dh,o=Um(i.getAttribute("enctype"))||fh,u=new FormData(i)}else if(ew(i)||nw(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?_i(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||dh,o=Um(i.getAttribute("formenctype"))||Um(m.getAttribute("enctype"))||fh,u=new FormData(m,i),!sw()){let{name:g,type:T,value:b}=i;if(T==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,b)}}else{if(Zh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,s=null,o=fh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function lw(i,e,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&_i(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function uw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function hw(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await uw(u,n);return h.links?h.links():[]}return[]}));return pw(s.flat(1).filter(cw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wb(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function dw(i,e,{includeHydrateFallback:n}={}){return fw(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function fw(i){return[...new Set(i)]}function mw(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function pw(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(mw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function wE(){let i=k.useContext(Co);return jp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function gw(){let i=k.useContext(Wh);return jp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Lp=k.createContext(void 0);Lp.displayName="FrameworkContext";function RE(){let i=k.useContext(Lp);return jp(i,"You must render this element inside a <HydratedRouter> element"),i}function yw(i,e){let n=k.useContext(Lp),[s,o]=k.useState(!1),[u,h]=k.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:b}=e,S=k.useRef(null);k.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let H=ne=>{ne.forEach(te=>{h(te.isIntersecting)})},G=new IntersectionObserver(H,{threshold:.5});return S.current&&G.observe(S.current),()=>{G.disconnect()}}},[i]),k.useEffect(()=>{if(s){let H=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(H)}}},[s]);let O=()=>{o(!0)},D=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:ql(m,O),onBlur:ql(p,D),onMouseEnter:ql(g,O),onMouseLeave:ql(T,D),onTouchStart:ql(b,O)}]:[!1,S,{}]}function ql(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function _w({page:i,...e}){let{router:n}=wE(),s=k.useMemo(()=>cE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?k.createElement(bw,{page:i,matches:s,...e}):null}function vw(i){let{manifest:e,routeModules:n}=RE(),[s,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return hw(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function bw({page:i,matches:e,...n}){let s=wi(),{future:o,manifest:u,routeModules:h}=RE(),{basename:m}=wE(),{loaderData:p,matches:g}=gw(),T=k.useMemo(()=>wb(i,e,g,u,s,"data"),[i,e,g,u,s]),b=k.useMemo(()=>wb(i,e,g,u,s,"assets"),[i,e,g,u,s]),S=k.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let H=new Set,G=!1;if(e.forEach(te=>{let re=u.routes[te.route.id];!re||!re.hasLoader||(!T.some(de=>de.route.id===te.route.id)&&te.route.id in p&&h[te.route.id]?.shouldRevalidate||re.hasClientLoader?G=!0:H.add(te.route.id))}),H.size===0)return[];let ne=lw(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return G&&H.size>0&&ne.searchParams.set("_routes",e.filter(te=>H.has(te.route.id)).map(te=>te.route.id).join(",")),[ne.pathname+ne.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,T,e,i,h]),O=k.useMemo(()=>dw(b,u),[b,u]),D=vw(b);return k.createElement(k.Fragment,null,S.map(H=>k.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),O.map(H=>k.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),D.map(({key:H,link:G})=>k.createElement("link",{key:H,nonce:n.nonce,...G})))}function Ew(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Tw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tw&&(window.__reactRouterVersion="7.12.0")}catch{}function xw({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=k.useRef();o.current==null&&(o.current=eA({window:s,v5Compat:!0}));let u=o.current,[h,m]=k.useState({action:u.action,location:u.location}),p=k.useCallback(g=>{n===!1?m(g):k.startTransition(()=>m(g))},[n]);return k.useLayoutEffect(()=>u.listen(p),[u,p]),k.createElement(WA,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var CE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,on=k.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:S,...O},D){let{basename:H,unstable_useTransitions:G}=k.useContext(Dn),ne=typeof g=="string"&&CE.test(g),te=pE(g,H);g=te.to;let re=kA(g,{relative:o}),[de,Se,Ee]=yw(s,O),R=Rw(g,{replace:h,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:S,unstable_useTransitions:G});function w(L){e&&e(L),L.defaultPrevented||R(L)}let C=k.createElement("a",{...O,...Ee,href:te.absoluteURL||re,onClick:te.isExternal||u?e:w,ref:Ew(D,Se),target:p,"data-discover":!ne&&n==="render"?"true":void 0});return de&&!ne?k.createElement(k.Fragment,null,C,k.createElement(_w,{page:re})):C});on.displayName="Link";var Sw=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},T){let b=fu(h,{relative:g.relative}),S=wi(),O=k.useContext(Wh),{navigator:D,basename:H}=k.useContext(Dn),G=O!=null&&Ow(b)&&m===!0,ne=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,te=S.pathname,re=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(te=te.toLowerCase(),re=re?re.toLowerCase():null,ne=ne.toLowerCase()),re&&H&&(re=_i(re,H)||re);const de=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let Se=te===ne||!o&&te.startsWith(ne)&&te.charAt(de)==="/",Ee=re!=null&&(re===ne||!o&&re.startsWith(ne)&&re.charAt(ne.length)==="/"),R={isActive:Se,isPending:Ee,isTransitioning:G},w=Se?e:void 0,C;typeof s=="function"?C=s(R):C=[s,Se?"active":null,Ee?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(R):u;return k.createElement(on,{...g,"aria-current":w,className:C,ref:T,style:L,to:h,viewTransition:m},typeof p=="function"?p(R):p)});Sw.displayName="NavLink";var Aw=k.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=dh,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:S,...O},D)=>{let{unstable_useTransitions:H}=k.useContext(Dn),G=Iw(),ne=Dw(m,{relative:g}),te=h.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&CE.test(m),de=Se=>{if(p&&p(Se),Se.defaultPrevented)return;Se.preventDefault();let Ee=Se.nativeEvent.submitter,R=Ee?.getAttribute("formmethod")||h,w=()=>G(Ee||Se.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:S});H&&n!==!1?k.startTransition(()=>w()):w()};return k.createElement("form",{ref:D,method:te,action:ne,onSubmit:s?p:de,...O,"data-discover":!re&&i==="render"?"true":void 0})});Aw.displayName="Form";function ww(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NE(i){let e=k.useContext(Co);return ut(e,ww(i)),e}function Rw(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=EE(),T=wi(),b=fu(i,{relative:u});return k.useCallback(S=>{if(iw(S,e)){S.preventDefault();let O=n!==void 0?n:eu(T)===eu(b),D=()=>g(i,{replace:O,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?k.startTransition(()=>D()):D()}},[T,g,b,n,s,e,i,o,u,h,m,p])}var Cw=0,Nw=()=>`__${String(++Cw)}__`;function Iw(){let{router:i}=NE("useSubmit"),{basename:e}=k.useContext(Dn),n=YA(),s=i.fetch,o=i.navigate;return k.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:T,body:b}=ow(u,e);if(h.navigate===!1){let S=h.fetcherKey||Nw();await s(S,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:b,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:b,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function Dw(i,{relative:e}={}){let{basename:n}=k.useContext(Dn),s=k.useContext(hr);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...fu(i||".",{relative:e})},h=wi();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:gi([n,u.pathname])),eu(u)}function Ow(i,{relative:e}={}){let n=k.useContext(yE);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=NE("useViewTransitionState"),o=fu(i,{relative:e});if(!n.isTransitioning)return!1;let u=_i(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=_i(n.nextLocation.pathname,s)||n.nextLocation.pathname;return wh(o.pathname,h)!=null||wh(o.pathname,u)!=null}const Mw=()=>{};var Rb={};const IE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},kw=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},DE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,O=g&63;p||(O=64,h||(S=64)),s.push(n[T],n[b],n[S],n[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(IE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):kw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new Vw;const S=u<<2|m>>4;if(s.push(S),g!==64){const O=m<<4&240|g>>2;if(s.push(O),b!==64){const D=g<<6&192|b;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Vw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jw=function(i){const e=IE(i);return DE.encodeByteArray(e,!0)},Rh=function(i){return jw(i).replace(/\./g,"")},OE=function(i){try{return DE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Lw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Uw=()=>Lw().__FIREBASE_DEFAULTS__,Pw=()=>{if(typeof process>"u"||typeof Rb>"u")return;const i=Rb.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},zw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&OE(i[1]);return e&&JSON.parse(e)},ed=()=>{try{return Mw()||Uw()||Pw()||zw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ME=i=>ed()?.emulatorHosts?.[i],kE=i=>{const e=ME(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},VE=()=>ed()?.config,jE=i=>ed()?.[`_${i}`];class Bw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ya(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Up(i){return(await fetch(i,{credentials:"include"})).ok}function LE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Rh(JSON.stringify(n)),Rh(JSON.stringify(h)),""].join(".")}const Kl={};function qw(){const i={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?i.emulator.push(e):i.prod.push(e);return i}function Hw(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Cb=!1;function Pp(i,e){if(typeof window>"u"||typeof document>"u"||!ya(window.location.host)||Kl[i]===e||Kl[i]||Cb)return;Kl[i]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=qw().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,O){S.setAttribute("width","24"),S.setAttribute("id",O),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Cb=!0,h()},S}function T(S,O){S.setAttribute("id",O),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=Hw(s),O=n("text"),D=document.getElementById(O)||document.createElement("span"),H=n("learnmore"),G=document.getElementById(H)||document.createElement("a"),ne=n("preprendIcon"),te=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const re=S.element;m(re),T(G,H);const de=g();p(te,ne),re.append(te,D,G,de),document.body.appendChild(re)}u?(D.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function Gw(){const i=ed()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $w(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Yw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Kw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qw(){const i=nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Xw(){return!Gw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jw(){try{return typeof indexedDB=="object"}catch{return!1}}function Ww(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Zw="FirebaseError";class Gr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Zw,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?e2(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Gr(o,m,s)}}function e2(i,e){return i.replace(t2,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const t2=/\{\$([^}]+)}/g;function n2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ca(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(Nb(u)&&Nb(h)){if(!ca(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Nb(i){return i!==null&&typeof i=="object"}function pu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function r2(i,e){const n=new i2(i,e);return n.subscribe.bind(n)}class i2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");s2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Pm),o.error===void 0&&(o.error=Pm),o.complete===void 0&&(o.complete=Pm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s2(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Pm(){}function Ut(i){return i&&i._delegate?i._delegate:i}class ys{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ia="[DEFAULT]";class a2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Bw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l2(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:o2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o2(i){return i===ia?void 0:i}function l2(i){return i.instantiationMode==="EAGER"}class u2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new a2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const c2={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},h2=Me.INFO,d2={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},f2=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=d2[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zp{constructor(e){this.name=e,this._logLevel=h2,this._logHandler=f2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const m2=(i,e)=>e.some(n=>i instanceof n);let Ib,Db;function p2(){return Ib||(Ib=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g2(){return Db||(Db=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UE=new WeakMap,rp=new WeakMap,PE=new WeakMap,zm=new WeakMap,Bp=new WeakMap;function y2(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(fs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&UE.set(n,i)}).catch(()=>{}),Bp.set(e,i),e}function _2(i){if(rp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});rp.set(i,e)}let ip={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return rp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||PE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function v2(i){ip=i(ip)}function b2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Bm(this),e,...n);return PE.set(s,e.sort?e.sort():[e]),fs(s)}:g2().includes(i)?function(...e){return i.apply(Bm(this),e),fs(UE.get(this))}:function(...e){return fs(i.apply(Bm(this),e))}}function E2(i){return typeof i=="function"?b2(i):(i instanceof IDBTransaction&&_2(i),m2(i,p2())?new Proxy(i,ip):i)}function fs(i){if(i instanceof IDBRequest)return y2(i);if(zm.has(i))return zm.get(i);const e=E2(i);return e!==i&&(zm.set(i,e),Bp.set(e,i)),e}const Bm=i=>Bp.get(i);function T2(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=fs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(fs(h.result),p.oldVersion,p.newVersion,fs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const x2=["get","getKey","getAll","getAllKeys","count"],S2=["put","add","delete","clear"],qm=new Map;function Ob(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(qm.get(e))return qm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=S2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||x2.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return qm.set(e,u),u}v2(i=>({...i,get:(e,n,s)=>Ob(e,n)||i.get(e,n,s),has:(e,n)=>!!Ob(e,n)||i.has(e,n)}));class A2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function w2(i){return i.getComponent()?.type==="VERSION"}const sp="@firebase/app",Mb="0.14.7";const vi=new zp("@firebase/app"),R2="@firebase/app-compat",C2="@firebase/analytics-compat",N2="@firebase/analytics",I2="@firebase/app-check-compat",D2="@firebase/app-check",O2="@firebase/auth",M2="@firebase/auth-compat",k2="@firebase/database",V2="@firebase/data-connect",j2="@firebase/database-compat",L2="@firebase/functions",U2="@firebase/functions-compat",P2="@firebase/installations",z2="@firebase/installations-compat",B2="@firebase/messaging",q2="@firebase/messaging-compat",H2="@firebase/performance",F2="@firebase/performance-compat",G2="@firebase/remote-config",$2="@firebase/remote-config-compat",Y2="@firebase/storage",K2="@firebase/storage-compat",Q2="@firebase/firestore",X2="@firebase/ai",J2="@firebase/firestore-compat",W2="firebase",Z2="12.8.0";const ap="[DEFAULT]",eR={[sp]:"fire-core",[R2]:"fire-core-compat",[N2]:"fire-analytics",[C2]:"fire-analytics-compat",[D2]:"fire-app-check",[I2]:"fire-app-check-compat",[O2]:"fire-auth",[M2]:"fire-auth-compat",[k2]:"fire-rtdb",[V2]:"fire-data-connect",[j2]:"fire-rtdb-compat",[L2]:"fire-fn",[U2]:"fire-fn-compat",[P2]:"fire-iid",[z2]:"fire-iid-compat",[B2]:"fire-fcm",[q2]:"fire-fcm-compat",[H2]:"fire-perf",[F2]:"fire-perf-compat",[G2]:"fire-rc",[$2]:"fire-rc-compat",[Y2]:"fire-gcs",[K2]:"fire-gcs-compat",[Q2]:"fire-fst",[J2]:"fire-fst-compat",[X2]:"fire-vertex","fire-js":"fire-js",[W2]:"fire-js-all"};const Ch=new Map,tR=new Map,op=new Map;function kb(i,e){try{i.container.addComponent(e)}catch(n){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ha(i){const e=i.name;if(op.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;op.set(e,i);for(const n of Ch.values())kb(n,i);for(const n of tR.values())kb(n,i);return!0}function td(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Gn(i){return i==null?!1:i.settings!==void 0}const nR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new mu("app","Firebase",nR);class rR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}const _a=Z2;function zE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:ap,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ms.create("bad-app-name",{appName:String(o)});if(n||(n=VE()),!n)throw ms.create("no-options");const u=Ch.get(o);if(u){if(ca(n,u.options)&&ca(s,u.config))return u;throw ms.create("duplicate-app",{appName:o})}const h=new u2(o);for(const p of op.values())h.addComponent(p);const m=new rR(n,s,h);return Ch.set(o,m),m}function qp(i=ap){const e=Ch.get(i);if(!e&&i===ap&&VE())return zE();if(!e)throw ms.create("no-app",{appName:i});return e}function Lr(i,e,n){let s=eR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(h.join(" "));return}ha(new ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const iR="firebase-heartbeat-database",sR=1,tu="firebase-heartbeat-store";let Hm=null;function BE(){return Hm||(Hm=T2(iR,sR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ms.create("idb-open",{originalErrorMessage:i.message})})),Hm}async function aR(i){try{const n=(await BE()).transaction(tu),s=await n.objectStore(tu).get(qE(i));return await n.done,s}catch(e){if(e instanceof Gr)vi.warn(e.message);else{const n=ms.create("idb-get",{originalErrorMessage:e?.message});vi.warn(n.message)}}}async function Vb(i,e){try{const s=(await BE()).transaction(tu,"readwrite");await s.objectStore(tu).put(e,qE(i)),await s.done}catch(n){if(n instanceof Gr)vi.warn(n.message);else{const s=ms.create("idb-set",{originalErrorMessage:n?.message});vi.warn(s.message)}}}function qE(i){return`${i.name}!${i.options.appId}`}const oR=1024,lR=30;class uR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>lR){const o=dR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jb(),{heartbeatsToSend:n,unsentEntries:s}=cR(this._heartbeatsCache.heartbeats),o=Rh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vi.warn(e),""}}}function jb(){return new Date().toISOString().substring(0,10)}function cR(i,e=oR){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Lb(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Lb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class hR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jw()?Ww().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Vb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Vb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Lb(i){return Rh(JSON.stringify({version:2,heartbeats:i})).length}function dR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function fR(i){ha(new ys("platform-logger",e=>new A2(e),"PRIVATE")),ha(new ys("heartbeat",e=>new uR(e),"PRIVATE")),Lr(sp,Mb,i),Lr(sp,Mb,"esm2020"),Lr("fire-js","")}fR("");var mR="firebase",pR="12.8.0";Lr(mR,pR,"app");function HE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gR=HE,FE=new mu("auth","Firebase",HE());const Nh=new zp("@firebase/auth");function yR(i,...e){Nh.logLevel<=Me.WARN&&Nh.warn(`Auth (${_a}): ${i}`,...e)}function mh(i,...e){Nh.logLevel<=Me.ERROR&&Nh.error(`Auth (${_a}): ${i}`,...e)}function qr(i,...e){throw Fp(i,...e)}function lr(i,...e){return Fp(i,...e)}function Hp(i,e,n){const s={...gR(),[e]:n};return new mu("auth","Firebase",s).create(e,{appName:i.name})}function oa(i){return Hp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _R(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&qr(i,"argument-error"),Hp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return FE.create(i,...e)}function _e(i,e,...n){if(!i)throw Fp(e,...n)}function mi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw mh(e),new Error(e)}function bi(i,e){i||mi(e)}function lp(){return typeof self<"u"&&self.location?.href||""}function vR(){return Ub()==="http:"||Ub()==="https:"}function Ub(){return typeof self<"u"&&self.location?.protocol||null}function bR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vR()||Yw()||"connection"in navigator)?navigator.onLine:!0}function ER(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,bi(n>e,"Short delay should be less than long delay!"),this.isMobile=Fw()||Kw()}get(){return bR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gp(i,e){bi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class GE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const TR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const xR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SR=new gu(3e4,6e4);function $p(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Io(i,e,n,s,o={}){return $E(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=pu({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return $w()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&ya(i.emulatorConfig.host)&&(g.credentials="include"),GE.fetch()(await YE(i,i.config.apiHost,n,m),g)})}async function $E(i,e,n){i._canInitEmulator=!1;const s={...TR,...e};try{const o=new wR(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw rh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw rh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw rh(i,"user-disabled",h);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Hp(i,T,g);qr(i,T)}}catch(o){if(o instanceof Gr)throw o;qr(i,"network-request-failed",{message:String(o)})}}async function AR(i,e,n,s,o={}){const u=await Io(i,e,n,s,o);return"mfaPendingCredential"in u&&qr(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function YE(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Gp(i.config,o):`${i.config.apiScheme}://${o}`;return xR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class wR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(lr(this.auth,"network-request-failed")),SR.get())})}}function rh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=lr(i,e,s);return o.customData._tokenResponse=n,o}async function RR(i,e){return Io(i,"POST","/v1/accounts:delete",e)}async function Ih(i,e){return Io(i,"POST","/v1/accounts:lookup",e)}function Ql(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CR(i,e=!1){const n=Ut(i),s=await n.getIdToken(e),o=Yp(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Ql(Fm(o.auth_time)),issuedAtTime:Ql(Fm(o.iat)),expirationTime:Ql(Fm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Fm(i){return Number(i)*1e3}function Yp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=OE(n);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Pb(i){const e=Yp(i);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function nu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Gr&&NR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function NR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class IR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class up{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Dh(i){const e=i.auth,n=await i.getIdToken(),s=await nu(i,Ih(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?KE(o.providerUserInfo):[],h=OR(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new up(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,T)}async function DR(i){const e=Ut(i);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function KE(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function MR(i,e){const n=await $E(i,{},async()=>{const s=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await YE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&ya(i.emulatorConfig.host)&&(p.credentials="include"),GE.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kR(i,e){return Io(i,"POST","/v2/accounts:revokeToken",$p(i,e))}class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=Pb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await MR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new go;return s&&(_e(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return mi("not implemented")}}function os(i,e){_e(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ar{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new IR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new up(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await nu(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return CR(this,e)}reload(){return DR(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ar({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(oa(this.auth));const e=await this.getIdToken();return await nu(this,RR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:O,providerData:D,stsTokenManager:H}=n;_e(b&&H,e,"internal-error");const G=go.fromJSON(this.name,H);_e(typeof b=="string",e,"internal-error"),os(s,e.name),os(o,e.name),_e(typeof S=="boolean",e,"internal-error"),_e(typeof O=="boolean",e,"internal-error"),os(u,e.name),os(h,e.name),os(m,e.name),os(p,e.name),os(g,e.name),os(T,e.name);const ne=new ar({uid:b,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:O,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:g,lastLoginAt:T});return D&&Array.isArray(D)&&(ne.providerData=D.map(te=>({...te}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new go;o.updateFromServerResponse(n);const u=new ar({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Dh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?KE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new go;m.updateFromIdToken(s);const p=new ar({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new up(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const zb=new Map;function pi(i){bi(i instanceof Function,"Expected a class definition");let e=zb.get(i);return e?(bi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,zb.set(i,e),e)}class QE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QE.type="NONE";const Bb=QE;function ph(i,e,n){return`firebase:${i}:${e}:${n}`}class yo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ih(this.auth,{idToken:e}).catch(()=>{});return n?ar._fromGetAccountInfoResponse(this.auth,n,e):null}return ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new yo(pi(Bb),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||pi(Bb);const h=ph(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(h);if(T){let b;if(typeof T=="string"){const S=await Ih(e,{idToken:T}).catch(()=>{});if(!S)break;b=await ar._fromGetAccountInfoResponse(e,S,T)}else b=ar._fromJSON(e,T);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new yo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new yo(u,e,s))}}function qb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t1(e))return"Blackberry";if(n1(e))return"Webos";if(JE(e))return"Safari";if((e.includes("chrome/")||WE(e))&&!e.includes("edge/"))return"Chrome";if(e1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function XE(i=nn()){return/firefox\//i.test(i)}function JE(i=nn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WE(i=nn()){return/crios\//i.test(i)}function ZE(i=nn()){return/iemobile/i.test(i)}function e1(i=nn()){return/android/i.test(i)}function t1(i=nn()){return/blackberry/i.test(i)}function n1(i=nn()){return/webos/i.test(i)}function Kp(i=nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function VR(i=nn()){return Kp(i)&&!!window.navigator?.standalone}function jR(){return Qw()&&document.documentMode===10}function r1(i=nn()){return Kp(i)||e1(i)||n1(i)||t1(i)||/windows phone/i.test(i)||ZE(i)}function i1(i,e=[]){let n;switch(i){case"Browser":n=qb(nn());break;case"Worker":n=`${qb(nn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_a}/${s}`}class LR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function UR(i,e={}){return Io(i,"GET","/v2/passwordPolicy",$p(i,e))}const PR=6;class zR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??PR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class BR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hb(this),this.idTokenSubscription=new Hb(this),this.beforeStateQueue=new LR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ih(this,{idToken:e}),s=await ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ER()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(oa(this));const n=e?Ut(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UR(this),n=new zR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await kR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nd(i){return Ut(i)}class Hb{constructor(e){this.auth=e,this.observer=null,this.addObserver=r2(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qR(i){Qp=i}function HR(i){return Qp.loadJS(i)}function FR(){return Qp.gapiScript}function GR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function $R(i,e){const n=td(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ca(u,e??{}))return o;qr(o,"already-initialized")}return n.initialize({options:e})}function YR(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(pi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function KR(i,e,n){const s=nd(i);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=s1(e),{host:h,port:m}=QR(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},T=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(ca(g,s.config.emulator)&&ca(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,ya(h)?(Up(`${u}//${h}${p}`),Pp("Auth",!0)):XR()}function s1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function QR(i){const e=s1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Fb(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Fb(h)}}}function Fb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function XR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class a1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,n){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}async function _o(i,e){return AR(i,"POST","/v1/accounts:signInWithIdp",$p(i,e))}const JR="http://localhost";class da extends a1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new da(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_o(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:JR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pu(n)}return e}}class Xp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yu extends Xp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ls extends yu{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";class fi extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return da._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return fi.credential(n,s)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";class us extends yu{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";class cs extends yu{constructor(){super("twitter.com")}static credential(e,n){return da._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return cs.credential(n,s)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ar._fromIdTokenResponse(e,s,o),h=Gb(s);return new Eo({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Gb(s);return new Eo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Gb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Oh extends Gr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Oh(e,n,s,o)}}function o1(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(i,u,e,s):u})}async function WR(i,e,n=!1){const s=await nu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Eo._forOperation(i,"link",s)}async function ZR(i,e,n=!1){const{auth:s}=i;if(Gn(s.app))return Promise.reject(oa(s));const o="reauthenticate";try{const u=await nu(i,o1(s,o,e,i),n);_e(u.idToken,s,"internal-error");const h=Yp(u.idToken);_e(h,s,"internal-error");const{sub:m}=h;return _e(i.uid===m,s,"user-mismatch"),Eo._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&qr(s,"user-mismatch"),u}}async function eC(i,e,n=!1){if(Gn(i.app))return Promise.reject(oa(i));const s="signIn",o=await o1(i,s,e),u=await Eo._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function tC(i,e,n,s){return Ut(i).onIdTokenChanged(e,n,s)}function nC(i,e,n){return Ut(i).beforeAuthStateChanged(e,n)}function rC(i,e,n,s){return Ut(i).onAuthStateChanged(e,n,s)}function iC(i){return Ut(i).signOut()}const Mh="__sak";class l1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const sC=1e3,aC=10;class u1 extends l1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=r1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);jR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,aC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},sC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}u1.type="LOCAL";const oC=u1;class c1 extends l1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}c1.type="SESSION";const h1=c1;function lC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new rd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await lC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rd.receivers=[];function Jp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class uC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Jp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Ur(){return window}function cC(i){Ur().location.href=i}function d1(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function hC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dC(){return navigator?.serviceWorker?.controller||null}function fC(){return d1()?self:null}const f1="firebaseLocalStorageDb",mC=1,kh="firebaseLocalStorage",m1="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function id(i,e){return i.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function pC(){const i=indexedDB.deleteDatabase(f1);return new _u(i).toPromise()}function cp(){const i=indexedDB.open(f1,mC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(kh,{keyPath:m1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(kh)?e(s):(s.close(),await pC(),e(await cp()))})})}async function $b(i,e,n){const s=id(i,!0).put({[m1]:e,value:n});return new _u(s).toPromise()}async function gC(i,e){const n=id(i,!1).get(e),s=await new _u(n).toPromise();return s===void 0?null:s.value}function Yb(i,e){const n=id(i,!0).delete(e);return new _u(n).toPromise()}const yC=800,_C=3;class p1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>_C)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rd._getInstance(fC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hC(),!this.activeServiceWorker)return;this.sender=new uC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cp();return await $b(e,Mh,"1"),await Yb(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>$b(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>gC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=id(o,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p1.type="LOCAL";const vC=p1;new gu(3e4,6e4);function g1(i,e){return e?pi(e):(_e(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Wp extends a1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bC(i){return eC(i.auth,new Wp(i),i.bypassAuthState)}function EC(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),ZR(n,new Wp(i),i.bypassAuthState)}async function TC(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),WR(n,new Wp(i),i.bypassAuthState)}class y1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bC;case"linkViaPopup":case"linkViaRedirect":return TC;case"reauthViaPopup":case"reauthViaRedirect":return EC;default:qr(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xC=new gu(2e3,1e4);async function SC(i,e,n){if(Gn(i.app))return Promise.reject(lr(i,"operation-not-supported-in-this-environment"));const s=nd(i);_R(i,e,Xp);const o=g1(s,n);return new sa(s,"signInViaPopup",e,o).executeNotNull()}class sa extends y1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){bi(this.filter.length===1,"Popup operations only handle one event");const e=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xC.get())};e()}}sa.currentPopupAction=null;const AC="pendingRedirect",gh=new Map;class wC extends y1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await RC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RC(i,e){const n=IC(e),s=NC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function CC(i,e){gh.set(i._key(),e)}function NC(i){return pi(i._redirectPersistence)}function IC(i){return ph(AC,i.config.apiKey,i.name)}async function DC(i,e,n=!1){if(Gn(i.app))return Promise.reject(oa(i));const s=nd(i),o=g1(s,e),h=await new wC(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const OC=600*1e3;class MC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!_1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(lr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kb(e))}saveEventToCache(e){this.cachedEventUids.add(Kb(e)),this.lastProcessedEventTime=Date.now()}}function Kb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function _1({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function kC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _1(i);default:return!1}}async function VC(i,e={}){return Io(i,"GET","/v1/projects",e)}const jC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LC=/^https?/;async function UC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await VC(i);for(const n of e)try{if(PC(n))return}catch{}qr(i,"unauthorized-domain")}function PC(i){const e=lp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!LC.test(n))return!1;if(jC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const zC=new gu(3e4,6e4);function Qb(){const i=Ur().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function BC(i){return new Promise((e,n)=>{function s(){Qb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qb(),n(lr(i,"network-request-failed"))},timeout:zC.get()})}if(Ur().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ur().gapi?.load)s();else{const o=GR("iframefcb");return Ur()[o]=()=>{gapi.load?s():n(lr(i,"network-request-failed"))},HR(`${FR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw yh=null,e})}let yh=null;function qC(i){return yh=yh||BC(i),yh}const HC=new gu(5e3,15e3),FC="__/auth/iframe",GC="emulator/auth/iframe",$C={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KC(i){const e=i.config;_e(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Gp(e,GC):`https://${i.config.authDomain}/${FC}`,s={apiKey:e.apiKey,appName:i.name,v:_a},o=YC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${pu(s).slice(1)}`}async function QC(i){const e=await qC(i),n=Ur().gapi;return _e(n,i,"internal-error"),e.open({where:document.body,url:KC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$C,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=lr(i,"network-request-failed"),m=Ur().setTimeout(()=>{u(h)},HC.get());function p(){Ur().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const XC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JC=500,WC=600,ZC="_blank",eN="http://localhost";class Xb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tN(i,e,n,s=JC,o=WC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...XC,width:s.toString(),height:o.toString(),top:u,left:h},g=nn().toLowerCase();n&&(m=WE(g)?ZC:n),XE(g)&&(e=e||eN,p.scrollbars="yes");const T=Object.entries(p).reduce((S,[O,D])=>`${S}${O}=${D},`,"");if(VR(g)&&m!=="_self")return nN(e||"",m),new Xb(null);const b=window.open(e||"",m,T);_e(b,i,"popup-blocked");try{b.focus()}catch{}return new Xb(b)}function nN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const rN="__/auth/handler",iN="emulator/auth/handler",sN=encodeURIComponent("fac");async function Jb(i,e,n,s,o,u){_e(i.config.authDomain,i,"auth-domain-config-required"),_e(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:_a,eventId:o};if(e instanceof Xp){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",n2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))h[T]=b}if(e instanceof yu){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(h.scopes=T.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await i._getAppCheckToken(),g=p?`#${sN}=${encodeURIComponent(p)}`:"";return`${aN(i)}?${pu(m).slice(1)}${g}`}function aN({config:i}){return i.emulator?Gp(i,iN):`https://${i.authDomain}/${rN}`}const Gm="webStorageSupport";class oN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h1,this._completeRedirectFn=DC,this._overrideRedirectResult=CC}async _openPopup(e,n,s,o){bi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Jb(e,n,s,lp(),o);return tN(e,u,Jp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Jb(e,n,s,lp(),o);return cC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(bi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await QC(e),s=new MC(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gm,{type:Gm},o=>{const u=o?.[0]?.[Gm];u!==void 0&&n(!!u),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return r1()||JE()||Kp()}}const lN=oN;var Wb="@firebase/auth",Zb="1.12.0";class uN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hN(i){ha(new ys("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;_e(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i1(i)},g=new BR(s,o,u,p);return YR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ha(new ys("auth-internal",e=>{const n=nd(e.getProvider("auth").getImmediate());return(s=>new uN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(Wb,Zb,cN(i)),Lr(Wb,Zb,"esm2020")}const dN=300,fN=jE("authIdTokenMaxAge")||dN;let e0=null;const mN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>fN)return;const o=n?.token;e0!==o&&(e0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function pN(i=qp()){const e=td(i,"auth");if(e.isInitialized())return e.getImmediate();const n=$R(i,{popupRedirectResolver:lN,persistence:[vC,oC,h1]}),s=jE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=mN(u.toString());nC(n,h,()=>h(n.currentUser)),tC(n,m=>h(m))}}const o=ME("auth");return o&&KR(n,`http://${o}`),n}function gN(){return document.getElementsByTagName("head")?.[0]??document}qR({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=lr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",gN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hN("Browser");var t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ps,v1;(function(){var i;function e(R,w){function C(){}C.prototype=w.prototype,R.F=w.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(L,V,P){for(var N=Array(arguments.length-2),st=2;st<arguments.length;st++)N[st-2]=arguments[st];return w.prototype[V].apply(L,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,C){C||(C=0);const L=Array(16);if(typeof w=="string")for(var V=0;V<16;++V)L[V]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(V=0;V<16;++V)L[V]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=R.g[0],C=R.g[1],V=R.g[2];let P=R.g[3],N;N=w+(P^C&(V^P))+L[0]+3614090360&4294967295,w=C+(N<<7&4294967295|N>>>25),N=P+(V^w&(C^V))+L[1]+3905402710&4294967295,P=w+(N<<12&4294967295|N>>>20),N=V+(C^P&(w^C))+L[2]+606105819&4294967295,V=P+(N<<17&4294967295|N>>>15),N=C+(w^V&(P^w))+L[3]+3250441966&4294967295,C=V+(N<<22&4294967295|N>>>10),N=w+(P^C&(V^P))+L[4]+4118548399&4294967295,w=C+(N<<7&4294967295|N>>>25),N=P+(V^w&(C^V))+L[5]+1200080426&4294967295,P=w+(N<<12&4294967295|N>>>20),N=V+(C^P&(w^C))+L[6]+2821735955&4294967295,V=P+(N<<17&4294967295|N>>>15),N=C+(w^V&(P^w))+L[7]+4249261313&4294967295,C=V+(N<<22&4294967295|N>>>10),N=w+(P^C&(V^P))+L[8]+1770035416&4294967295,w=C+(N<<7&4294967295|N>>>25),N=P+(V^w&(C^V))+L[9]+2336552879&4294967295,P=w+(N<<12&4294967295|N>>>20),N=V+(C^P&(w^C))+L[10]+4294925233&4294967295,V=P+(N<<17&4294967295|N>>>15),N=C+(w^V&(P^w))+L[11]+2304563134&4294967295,C=V+(N<<22&4294967295|N>>>10),N=w+(P^C&(V^P))+L[12]+1804603682&4294967295,w=C+(N<<7&4294967295|N>>>25),N=P+(V^w&(C^V))+L[13]+4254626195&4294967295,P=w+(N<<12&4294967295|N>>>20),N=V+(C^P&(w^C))+L[14]+2792965006&4294967295,V=P+(N<<17&4294967295|N>>>15),N=C+(w^V&(P^w))+L[15]+1236535329&4294967295,C=V+(N<<22&4294967295|N>>>10),N=w+(V^P&(C^V))+L[1]+4129170786&4294967295,w=C+(N<<5&4294967295|N>>>27),N=P+(C^V&(w^C))+L[6]+3225465664&4294967295,P=w+(N<<9&4294967295|N>>>23),N=V+(w^C&(P^w))+L[11]+643717713&4294967295,V=P+(N<<14&4294967295|N>>>18),N=C+(P^w&(V^P))+L[0]+3921069994&4294967295,C=V+(N<<20&4294967295|N>>>12),N=w+(V^P&(C^V))+L[5]+3593408605&4294967295,w=C+(N<<5&4294967295|N>>>27),N=P+(C^V&(w^C))+L[10]+38016083&4294967295,P=w+(N<<9&4294967295|N>>>23),N=V+(w^C&(P^w))+L[15]+3634488961&4294967295,V=P+(N<<14&4294967295|N>>>18),N=C+(P^w&(V^P))+L[4]+3889429448&4294967295,C=V+(N<<20&4294967295|N>>>12),N=w+(V^P&(C^V))+L[9]+568446438&4294967295,w=C+(N<<5&4294967295|N>>>27),N=P+(C^V&(w^C))+L[14]+3275163606&4294967295,P=w+(N<<9&4294967295|N>>>23),N=V+(w^C&(P^w))+L[3]+4107603335&4294967295,V=P+(N<<14&4294967295|N>>>18),N=C+(P^w&(V^P))+L[8]+1163531501&4294967295,C=V+(N<<20&4294967295|N>>>12),N=w+(V^P&(C^V))+L[13]+2850285829&4294967295,w=C+(N<<5&4294967295|N>>>27),N=P+(C^V&(w^C))+L[2]+4243563512&4294967295,P=w+(N<<9&4294967295|N>>>23),N=V+(w^C&(P^w))+L[7]+1735328473&4294967295,V=P+(N<<14&4294967295|N>>>18),N=C+(P^w&(V^P))+L[12]+2368359562&4294967295,C=V+(N<<20&4294967295|N>>>12),N=w+(C^V^P)+L[5]+4294588738&4294967295,w=C+(N<<4&4294967295|N>>>28),N=P+(w^C^V)+L[8]+2272392833&4294967295,P=w+(N<<11&4294967295|N>>>21),N=V+(P^w^C)+L[11]+1839030562&4294967295,V=P+(N<<16&4294967295|N>>>16),N=C+(V^P^w)+L[14]+4259657740&4294967295,C=V+(N<<23&4294967295|N>>>9),N=w+(C^V^P)+L[1]+2763975236&4294967295,w=C+(N<<4&4294967295|N>>>28),N=P+(w^C^V)+L[4]+1272893353&4294967295,P=w+(N<<11&4294967295|N>>>21),N=V+(P^w^C)+L[7]+4139469664&4294967295,V=P+(N<<16&4294967295|N>>>16),N=C+(V^P^w)+L[10]+3200236656&4294967295,C=V+(N<<23&4294967295|N>>>9),N=w+(C^V^P)+L[13]+681279174&4294967295,w=C+(N<<4&4294967295|N>>>28),N=P+(w^C^V)+L[0]+3936430074&4294967295,P=w+(N<<11&4294967295|N>>>21),N=V+(P^w^C)+L[3]+3572445317&4294967295,V=P+(N<<16&4294967295|N>>>16),N=C+(V^P^w)+L[6]+76029189&4294967295,C=V+(N<<23&4294967295|N>>>9),N=w+(C^V^P)+L[9]+3654602809&4294967295,w=C+(N<<4&4294967295|N>>>28),N=P+(w^C^V)+L[12]+3873151461&4294967295,P=w+(N<<11&4294967295|N>>>21),N=V+(P^w^C)+L[15]+530742520&4294967295,V=P+(N<<16&4294967295|N>>>16),N=C+(V^P^w)+L[2]+3299628645&4294967295,C=V+(N<<23&4294967295|N>>>9),N=w+(V^(C|~P))+L[0]+4096336452&4294967295,w=C+(N<<6&4294967295|N>>>26),N=P+(C^(w|~V))+L[7]+1126891415&4294967295,P=w+(N<<10&4294967295|N>>>22),N=V+(w^(P|~C))+L[14]+2878612391&4294967295,V=P+(N<<15&4294967295|N>>>17),N=C+(P^(V|~w))+L[5]+4237533241&4294967295,C=V+(N<<21&4294967295|N>>>11),N=w+(V^(C|~P))+L[12]+1700485571&4294967295,w=C+(N<<6&4294967295|N>>>26),N=P+(C^(w|~V))+L[3]+2399980690&4294967295,P=w+(N<<10&4294967295|N>>>22),N=V+(w^(P|~C))+L[10]+4293915773&4294967295,V=P+(N<<15&4294967295|N>>>17),N=C+(P^(V|~w))+L[1]+2240044497&4294967295,C=V+(N<<21&4294967295|N>>>11),N=w+(V^(C|~P))+L[8]+1873313359&4294967295,w=C+(N<<6&4294967295|N>>>26),N=P+(C^(w|~V))+L[15]+4264355552&4294967295,P=w+(N<<10&4294967295|N>>>22),N=V+(w^(P|~C))+L[6]+2734768916&4294967295,V=P+(N<<15&4294967295|N>>>17),N=C+(P^(V|~w))+L[13]+1309151649&4294967295,C=V+(N<<21&4294967295|N>>>11),N=w+(V^(C|~P))+L[4]+4149444226&4294967295,w=C+(N<<6&4294967295|N>>>26),N=P+(C^(w|~V))+L[11]+3174756917&4294967295,P=w+(N<<10&4294967295|N>>>22),N=V+(w^(P|~C))+L[2]+718787259&4294967295,V=P+(N<<15&4294967295|N>>>17),N=C+(P^(V|~w))+L[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+P&4294967295}s.prototype.v=function(R,w){w===void 0&&(w=R.length);const C=w-this.blockSize,L=this.C;let V=this.h,P=0;for(;P<w;){if(V==0)for(;P<=C;)o(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<w;)if(L[V++]=R.charCodeAt(P++),V==this.blockSize){o(this,L),V=0;break}}else for(;P<w;)if(L[V++]=R[P++],V==this.blockSize){o(this,L),V=0;break}}this.h=V,this.o+=w},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,C=0;C<4;++C)for(let L=0;L<32;L+=8)R[w++]=this.g[C]>>>L&255;return R};function u(R,w){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=w(R)}function h(R,w){this.h=w;const C=[];let L=!0;for(let V=R.length-1;V>=0;V--){const P=R[V]|0;L&&P==w||(C[V]=P,L=!1)}this.g=C}var m={};function p(R){return-128<=R&&R<128?u(R,function(w){return new h([w|0],w<0?-1:0)}):new h([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return G(g(-R));const w=[];let C=1;for(let L=0;R>=C;L++)w[L]=R/C|0,C*=4294967296;return new h(w,0)}function T(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return G(T(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(w,8));let L=b;for(let P=0;P<R.length;P+=8){var V=Math.min(8,R.length-P);const N=parseInt(R.substring(P,P+V),w);V<8?(V=g(Math.pow(w,V)),L=L.j(V).add(g(N))):(L=L.j(C),L=L.add(g(N)))}return L}var b=p(0),S=p(1),O=p(16777216);i=h.prototype,i.m=function(){if(H(this))return-G(this).m();let R=0,w=1;for(let C=0;C<this.g.length;C++){const L=this.i(C);R+=(L>=0?L:4294967296+L)*w,w*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D(this))return"0";if(H(this))return"-"+G(this).toString(R);const w=g(Math.pow(R,6));var C=this;let L="";for(;;){const V=de(C,w).g;C=ne(C,V.j(w));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=V,D(C))return P+L;for(;P.length<6;)P="0"+P;L=P+L}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function D(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function H(R){return R.h==-1}i.l=function(R){return R=ne(this,R),H(R)?-1:D(R)?0:1};function G(R){const w=R.g.length,C=[];for(let L=0;L<w;L++)C[L]=~R.g[L];return new h(C,~R.h).add(S)}i.abs=function(){return H(this)?G(this):this},i.add=function(R){const w=Math.max(this.g.length,R.g.length),C=[];let L=0;for(let V=0;V<=w;V++){let P=L+(this.i(V)&65535)+(R.i(V)&65535),N=(P>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);L=N>>>16,P&=65535,N&=65535,C[V]=N<<16|P}return new h(C,C[C.length-1]&-2147483648?-1:0)};function ne(R,w){return R.add(G(w))}i.j=function(R){if(D(this)||D(R))return b;if(H(this))return H(R)?G(this).j(G(R)):G(G(this).j(R));if(H(R))return G(this.j(G(R)));if(this.l(O)<0&&R.l(O)<0)return g(this.m()*R.m());const w=this.g.length+R.g.length,C=[];for(var L=0;L<2*w;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<R.g.length;V++){const P=this.i(L)>>>16,N=this.i(L)&65535,st=R.i(V)>>>16,Ot=R.i(V)&65535;C[2*L+2*V]+=N*Ot,te(C,2*L+2*V),C[2*L+2*V+1]+=P*Ot,te(C,2*L+2*V+1),C[2*L+2*V+1]+=N*st,te(C,2*L+2*V+1),C[2*L+2*V+2]+=P*st,te(C,2*L+2*V+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new h(C,0)};function te(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function re(R,w){this.g=R,this.h=w}function de(R,w){if(D(w))throw Error("division by zero");if(D(R))return new re(b,b);if(H(R))return w=de(G(R),w),new re(G(w.g),G(w.h));if(H(w))return w=de(R,G(w)),new re(G(w.g),w.h);if(R.g.length>30){if(H(R)||H(w))throw Error("slowDivide_ only works with positive integers.");for(var C=S,L=w;L.l(R)<=0;)C=Se(C),L=Se(L);var V=Ee(C,1),P=Ee(L,1);for(L=Ee(L,2),C=Ee(C,2);!D(L);){var N=P.add(L);N.l(R)<=0&&(V=V.add(C),P=N),L=Ee(L,1),C=Ee(C,1)}return w=ne(R,V.j(w)),new re(V,w)}for(V=b;R.l(w)>=0;){for(C=Math.max(1,Math.floor(R.m()/w.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),P=g(C),N=P.j(w);H(N)||N.l(R)>0;)C-=L,P=g(C),N=P.j(w);D(P)&&(P=S),V=V.add(P),R=ne(R,N)}return new re(V,R)}i.B=function(R){return de(this,R).h},i.and=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let L=0;L<w;L++)C[L]=this.i(L)&R.i(L);return new h(C,this.h&R.h)},i.or=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let L=0;L<w;L++)C[L]=this.i(L)|R.i(L);return new h(C,this.h|R.h)},i.xor=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let L=0;L<w;L++)C[L]=this.i(L)^R.i(L);return new h(C,this.h^R.h)};function Se(R){const w=R.g.length+1,C=[];for(let L=0;L<w;L++)C[L]=R.i(L)<<1|R.i(L-1)>>>31;return new h(C,R.h)}function Ee(R,w){const C=w>>5;w%=32;const L=R.g.length-C,V=[];for(let P=0;P<L;P++)V[P]=w>0?R.i(P+C)>>>w|R.i(P+C+1)<<32-w:R.i(P+C);return new h(V,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,v1=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=T,ps=h}).apply(typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var b1,Fl,E1,_h,hp,T1,x1,S1;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in E))break e;E=E[z]}c=c[c.length-1],A=E[c],y=y(A),y!=A&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function T(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,z,$){for(var ie=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)ie[Ae-2]=arguments[Ae];return y.prototype[z].apply(A,ie)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const y=c.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=c[A];return E}return[]}function D(c,y){for(let A=1;A<arguments.length;A++){const z=arguments[A];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=c.length||0;const $=z.length||0;c.length=E+$;for(let ie=0;ie<$;ie++)c[E+ie]=z[ie]}else c.push(z)}}class H{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(c){h.setTimeout(()=>{throw c},0)}function ne(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,E){const A=re.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new H(()=>new de,c=>c.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,Ee=!1,R=new te,w=()=>{const c=Promise.resolve(void 0);Se=()=>{c.then(C)}};function C(){for(var c;c=ne();){try{c.h.call(c.g)}catch(E){G(E)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Ee=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function st(c,y){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(st,V),st.prototype.init=function(c,y){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ot="closure_listenable_"+(Math.random()*1e6|0),Q=0;function se(c,y,E,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=z,this.key=++Q,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,y,E){for(const A in c)y.call(E,c[A],A,c)}function $e(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function j(c){const y={};for(const E in c)y[E]=c[E];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let E,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(E in A)c[E]=A[E];for(let $=0;$<Z.length;$++)E=Z[$],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,E,A,z){const $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);const ie=Re(c,y,A,z);return ie>-1?(y=c[ie],E||(y.fa=!1)):(y=new se(y,this.src,$,!!A,z),y.fa=E,c.push(y)),y};function ve(c,y){const E=y.type;if(E in c.g){var A=c.g[E],z=Array.prototype.indexOf.call(A,y,void 0),$;($=z>=0)&&Array.prototype.splice.call(A,z,1),$&&(pe(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Re(c,y,E,A){for(let z=0;z<c.length;++z){const $=c[z];if(!$.da&&$.listener==y&&$.capture==!!E&&$.ha==A)return z}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Mt={};function at(c,y,E,A,z){if(Array.isArray(y)){for(let $=0;$<y.length;$++)at(c,y[$],E,A,z);return null}return E=Uo(E),c&&c[Ot]?c.J(y,E,m(A)?!!A.capture:!1,z):Rs(c,y,E,!1,A,z)}function Rs(c,y,E,A,z,$){if(!y)throw Error("Invalid event type");const ie=m(z)?!!z.capture:!!z;let Ae=Cs(c);if(Ae||(c[Ue]=Ae=new ue(c)),E=Ae.add(y,E,A,ie,$),E.proxy)return E;if(A=Ea(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)P||(z=ie),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(fr(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ea(){function c(E){return y.call(c.src,c.listener,E)}const y=jo;return c}function Ta(c,y,E,A,z){if(Array.isArray(y))for(var $=0;$<y.length;$++)Ta(c,y[$],E,A,z);else A=m(A)?!!A.capture:!!A,E=Uo(E),c&&c[Ot]?(c=c.i,$=String(y).toString(),$ in c.g&&(y=c.g[$],E=Re(y,E,A,z),E>-1&&(pe(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[$],c.h--)))):c&&(c=Cs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Re(y,E,A,z)),(E=c>-1?y[c]:null)&&xa(E))}function xa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ot])ve(y.i,c);else{var E=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(E,A,c.capture):y.detachEvent?y.detachEvent(fr(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=Cs(y))?(ve(E,c),E.h==0&&(E.src=null,y[Ue]=null)):pe(c)}}}function fr(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function jo(c,y){if(c.da)c=!0;else{y=new st(y,this);const E=c.listener,A=c.ha||c.src;c.fa&&xa(c),c=E.call(A,y)}return c}function Cs(c){return c=c[Ue],c instanceof ue?c:null}var Lo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Uo(c){return typeof c=="function"?c:(c[Lo]||(c[Lo]=function(y){return c.handleEvent(y)}),c[Lo])}function bt(){L.call(this),this.i=new ue(this),this.M=this,this.G=null}b(bt,L),bt.prototype[Ot]=!0,bt.prototype.removeEventListener=function(c,y,E,A){Ta(this,c,y,E,A)};function kt(c,y){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new V(y,c);else if(y instanceof V)y.target=y.target||c;else{var z=y;y=new V(A,c),ae(y,z)}z=!0;let $,ie;if(E)for(ie=E.length-1;ie>=0;ie--)$=y.g=E[ie],z=Ci($,A,!0,y)&&z;if($=y.g=c,z=Ci($,A,!0,y)&&z,z=Ci($,A,!1,y)&&z,E)for(ie=0;ie<E.length;ie++)$=y.g=E[ie],z=Ci($,A,!1,y)&&z}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let A=0;A<E.length;A++)pe(E[A]);delete c.g[y],c.h--}}this.G=null},bt.prototype.J=function(c,y,E,A){return this.i.add(String(c),y,!1,E,A)},bt.prototype.K=function(c,y,E,A){return this.i.add(String(c),y,!0,E,A)};function Ci(c,y,E,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let $=0;$<y.length;++$){const ie=y[$];if(ie&&!ie.da&&ie.capture==E){const Ae=ie.listener,pt=ie.ha||ie.src;ie.fa&&ve(c.i,ie),z=Ae.call(pt,A)!==!1&&z}}return z&&!A.defaultPrevented}function Dd(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Ru(c){c.g=Dd(()=>{c.g=null,c.i&&(c.i=!1,Ru(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class rn extends L{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ru(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(c){L.call(this),this.h=c,this.g={}}b(Ns,L);var Po=[];function zo(c){ze(c.g,function(y,E){this.g.hasOwnProperty(E)&&xa(y)},c),c.g={}}Ns.prototype.N=function(){Ns.Z.N.call(this),zo(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ni=h.JSON.stringify,Od=h.JSON.parse,Cu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Nu(){}function Iu(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){V.call(this,"d")}b(Ht,V);function On(){V.call(this,"c")}b(On,V);var mt={},Du=null;function Sa(){return Du=Du||new bt}mt.Ia="serverreachability";function Ou(c){V.call(this,mt.Ia,c)}b(Ou,V);function mr(c){const y=Sa();kt(y,new Ou(y))}mt.STAT_EVENT="statevent";function Is(c,y){V.call(this,mt.STAT_EVENT,c),this.stat=y}b(Is,V);function Et(c){const y=Sa();kt(y,new Is(y,c))}mt.Ja="timingevent";function pr(c,y){V.call(this,mt.Ja,c),this.size=y}b(pr,V);function gr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Md(c,y,E,A,z,$){c.info(function(){if(c.g)if($){var ie="",Ae=$.split("&");for(let He=0;He<Ae.length;He++){var pt=Ae[He].split("=");if(pt.length>1){const ot=pt[0];pt=pt[1];const jn=ot.split("_");ie=jn.length>=2&&jn[1]=="type"?ie+(ot+"="+pt+"&"):ie+(ot+"=redacted&")}}}else ie=null;else ie=$;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+E+`
`+ie})}function Mu(c,y,E,A,z,$,ie){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+E+`
`+$+" "+ie})}function yr(c,y,E,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+kd(c,E)+(A?" "+A:"")})}function Ds(c,y){c.info(function(){return"TIMEOUT: "+y})}Qn.prototype.info=function(){};function kd(c,y){if(!c.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(c=0;c<$.length;c++)if(Array.isArray($[c])){var E=$[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ie=1;ie<A.length;ie++)A[ie]=""}}}}return Ni($)}catch{return y}}var Os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qo;function Ms(){}b(Ms,Nu),Ms.prototype.g=function(){return new XMLHttpRequest},qo=new Ms;function Yr(c){return encodeURIComponent(String(c))}function ku(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Xn(c,y,E,A){this.j=c,this.i=y,this.l=E,this.S=A||1,this.V=new Ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var Tt={},Pt={};function _r(c,y,E){c.M=1,c.A=ks(St(y)),c.u=E,c.R=!0,Aa(c,null)}function Aa(c,y){c.F=Date.now(),vr(c),c.B=St(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Na(E.i,"t",A),c.C=0,E=c.j.L,c.h=new Jn,c.g=Qu(c.j,E?y:null,!c.u),c.P>0&&(c.O=new rn(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Po[0]=z.toString()),z=Po);for(let $=0;$<z.length;$++){const ie=at(E,z[$],A||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=c.J?j(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),mr(),Md(c.i,c.v,c.B,c.l,c.S,c.u)}Xn.prototype.ba=function(c){c=c.target;const y=this.O;y&&er(c)==3?y.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=er(this.g),pt=this.g.ya(),He=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Ae!=4||pt==7||(pt==8||He<=0?mr(3):mr(2)),br(this);var y=this.g.ca();this.X=y;var E=Vd(this);if(this.o=y==200,Mu(this.i,this.v,this.B,this.l,this.S,Ae,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var $=A;break t}}$=null}if(c=$)yr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Er(this,c);else{this.o=!1,this.m=3,Et(12),_n(this),Mn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<E.length;)if(ot=ju(this,E),ot==Pt){Ae==4&&(this.m=4,Et(14),c=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,Et(15),yr(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else yr(this.i,this.l,ot,null),Er(this,ot);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||E.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)yr(this.i,this.l,E,"[Invalid Chunked Response]"),_n(this),Mn(this);else if(E.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),rl(ie),ie.P=!0,Et(11))}}else yr(this.i,this.l,E,null),Er(this,E);Ae==4&&_n(this),this.o&&!this.K&&(Ae==4?Gu(this.j,this):(this.o=!1,vr(this)))}else Qr(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),_n(this),Mn(this)}}}catch{}};function Vd(c){if(!Vu(c))return c.g.la();const y=Ft(c.g);if(y==="")return"";let E="";const A=y.length,z=er(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),Mn(c),"";c.h.i=new h.TextDecoder}for(let $=0;$<A;$++)c.h.h=!0,E+=c.h.i.decode(y[$],{stream:!(z&&$==A-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Vu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ju(c,y){var E=c.C,A=y.indexOf(`
`,E);return A==-1?Pt:(E=Number(y.substring(E,A)),isNaN(E)?Tt:(A+=1,A+E>y.length?Pt:(y=y.slice(A,A+E),c.C=A+E,y)))}Xn.prototype.cancel=function(){this.K=!0,_n(this)};function vr(c){c.T=Date.now()+c.H,wa(c,c.H)}function wa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=gr(g(c.aa,c),y)}function br(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ds(this.i,this.B),this.M!=2&&(mr(),Et(17)),_n(this),this.m=2,Mn(this)):wa(this,this.T-c)};function Mn(c){c.j.I==0||c.K||Gu(c.j,c)}function _n(c){br(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,zo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Er(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||xr(E.h,c))){if(!c.L&&xr(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)ka(E),Li(E);else break e;Bs(E),Et(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=gr(g(E.Va,E),6e3));Tr(E.h)<=1&&E.ta&&(E.ta=void 0)}else Nr(E,11)}else if((c.L||E.g==c)&&ka(E),!N(y))for(z=E.Ba.g.parse(y),y=0;y<z.length;y++){let He=z[y];const ot=He[0];if(!(ot<=E.K))if(E.K=ot,He=He[1],E.I==2)if(He[0]=="c"){E.M=He[1],E.ba=He[2];const jn=He[3];jn!=null&&(E.ka=jn,E.j.info("VER="+E.ka));const Ir=He[4];Ir!=null&&(E.za=Ir,E.j.info("SVER="+E.za));const tr=He[5];tr!=null&&typeof tr=="number"&&tr>0&&(A=1.5*tr,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const nr=c.g;if(nr){const qs=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var $=A.h;$.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Go($,$.h),$.h=null))}if(A.G){const Va=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;Va&&(A.wa=Va,Ye(A.J,A.G,Va))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ie=c;if(A.na=Ku(A,A.L?A.ba:null,A.W),ie.L){$o(A.h,ie);var Ae=ie,pt=A.O;pt&&(Ae.H=pt),Ae.D&&(br(Ae),vr(Ae)),A.g=ie}else Hu(A);E.i.length>0&&Cr(E)}else He[0]!="stop"&&He[0]!="close"||Nr(E,7);else E.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Nr(E,7):tl(E):He[0]!="noop"&&E.l&&E.l.qa(He),E.A=0)}}mr(4)}catch{}}var xt=class{constructor(c,y){this.g=c,this.map=y}};function Ho(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tr(c){return c.h?1:c.g?c.g.size:0}function xr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Go(c,y){c.g?c.g.add(y):c.h=y}function $o(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ho.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Yo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return O(c.i)}var Lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let z,$=null;A>=0?(z=c[E].substring(0,A),$=c[E].substring(A+1)):z=c[E],y(z,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof vn?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,Ii(this,c.u),this.h=c.h,Ko(this,Bu(c.i)),this.m=c.m):c&&(y=String(c).match(Lu))?(this.l=!1,zt(this,y[1]||"",!0),this.o=Sr(y[2]||""),this.g=Sr(y[3]||"",!0),Ii(this,y[4]),this.h=Sr(y[5]||"",!0),Ko(this,y[6]||"",!0),this.m=Sr(y[7]||"")):(this.l=!1,this.i=new Oi(null,this.l))}vn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Vs(y,Ca,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Vs(y,Ca,!0),"@"),c.push(Yr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Vs(E,E.charAt(0)=="/"?Qo:Uu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Vs(E,Pu)),c.join("")},vn.prototype.resolve=function(c){const y=St(this);let E=!!c.j;E?zt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var A=c.h;if(E)Ii(y,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=y.h.lastIndexOf("/");z!=-1&&(A=y.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const $=[];for(let ie=0;ie<z.length;){const Ae=z[ie++];Ae=="."?A&&ie==z.length&&$.push(""):Ae==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),A&&ie==z.length&&$.push("")):($.push(Ae),A=!0)}A=$.join("/")}else A=z}return E?y.h=A:E=c.i.toString()!=="",E?Ko(y,Bu(c.i)):E=!!c.m,E&&(y.m=c.m),y};function St(c){return new vn(c)}function zt(c,y,E){c.j=E?Sr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ii(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Ko(c,y,E){y instanceof Oi?(c.i=y,Ia(c.i,c.l)):(E||(y=Vs(y,Di)),c.i=new Oi(y,c.l))}function Ye(c,y,E){c.i.set(y,E)}function ks(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Sr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vs(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,ln),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ca=/[#\/\?@]/g,Uu=/[#\?:]/g,Qo=/[#\?]/g,Di=/[#\?@]/g,Pu=/#/g;function Oi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&Ra(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Oi.prototype,i.add=function(c,y){un(this),this.i=null,c=Mi(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function zu(c,y){un(c),y=Mi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Xo(c,y){return un(c),y=Mi(c,y),c.g.has(y)}i.forEach=function(c,y){un(this),this.g.forEach(function(E,A){E.forEach(function(z){c.call(y,z,A,this)},this)},this)};function Jo(c,y){un(c);let E=[];if(typeof y=="string")Xo(c,y)&&(E=E.concat(c.g.get(Mi(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}i.set=function(c,y){return un(this),this.i=null,c=Mi(this,c),Xo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=Jo(this,c),c.length>0?String(c[0]):y):y};function Na(c,y,E){zu(c,y),E.length>0&&(c.i=null,c.g.set(Mi(c,y),O(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const z=Yr(E);E=Jo(this,E);for(let $=0;$<E.length;$++){let ie=z;E[$]!==""&&(ie+="="+Yr(E[$])),c.push(ie)}}return this.i=c.join("&")};function Bu(c){const y=new Oi;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Mi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ia(c,y){y&&!c.j&&(un(c),c.i=null,c.g.forEach(function(E,A){const z=A.toLowerCase();A!=z&&(zu(this,A),Na(this,z,E))},c)),c.j=y}function Wn(c,y){const E=new Qn;if(h.Image){const A=new Image;A.onload=T(kn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=T(kn,E,"TestLoadImage: error",!1,y,A),A.onabort=T(kn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=T(kn,E,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Wo(c,y){const E=new Qn,A=new AbortController,z=setTimeout(()=>{A.abort(),kn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then($=>{clearTimeout(z),$.ok?kn(E,"TestPingServer: ok",!0,y):kn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),kn(E,"TestPingServer: error",!1,y)})}function kn(c,y,E,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(E)}catch{}}function ki(){this.g=new Cu}function Ar(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Ar,Nu),Ar.prototype.g=function(){return new js(this.i,this.h)};function js(c,y){bt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(js,bt),i=js.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Zn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vi(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Vi(this):Zn(this),this.readyState==3&&Da(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Vi(this))},i.Na=function(c){this.g&&(this.response=c,Vi(this))},i.ga=function(){this.g&&Vi(this)};function Vi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Zn(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vn(c){let y="";return ze(c,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function Ls(c,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Vn(E),typeof c=="string"?E!=null&&Yr(E):Ye(c,y,E))}function Xe(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xe,bt);var wr=/^https?$/i,Zo=["POST","PUT"];i=Xe.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qo.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Us(this,$);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)E.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())E.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Zo,y,void 0)>=0)||A||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ie]of E)this.g.setRequestHeader($,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch($){Us(this,$)}};function Us(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,el(c),Kr(c)}function el(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,kt(this,"complete"),kt(this,"abort"),Kr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kr(this,!0)),Xe.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ps(this):this.Xa())},i.Xa=function(){Ps(this)};function Ps(c){if(c.h&&typeof u<"u"){if(c.v&&er(c)==4)setTimeout(c.Ca.bind(c),0);else if(kt(c,"readystatechange"),er(c)==4){c.h=!1;try{const $=c.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=$===0){let ie=String(c.D).match(Lu)[1]||null;!ie&&h.self&&h.self.location&&(ie=h.self.location.protocol.slice(0,-1)),A=!wr.test(ie?ie.toLowerCase():"")}E=A}if(E)kt(c,"complete"),kt(c,"success");else{c.o=6;try{var z=er(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",el(c)}}finally{Kr(c)}}}}function Kr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||kt(c,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function er(c){return c.g?c.g.readyState:0}i.ca=function(){try{return er(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Od(y)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qr(c){const y={};c=(c.g&&er(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var E=ku(c[A]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=y[z]||[];y[z]=$,$.push(E)}$e(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rr(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function ji(c){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Rr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Rr("baseRetryDelayMs",5e3,c),this.Za=Rr("retryDelaySeedMs",1e4,c),this.Ta=Rr("forwardChannelMaxRetries",2,c),this.va=Rr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(c&&c.concurrentRequestLimit),this.Ba=new ki,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=ji.prototype,i.ka=8,i.I=1,i.connect=function(c,y,E,A){Et(0),this.W=c,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Ku(this,null,this.W),Cr(this)};function tl(c){if(Oa(c),c.I==3){var y=c.V++,E=St(c.J);if(Ye(E,"SID",c.M),Ye(E,"RID",y),Ye(E,"TYPE","terminate"),zs(c,E),y=new Xn(c,c.j,y),y.M=2,y.A=ks(St(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=Qu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),vr(y)}Yu(c)}function Li(c){c.g&&(rl(c),c.g.cancel(),c.g=null)}function Oa(c){Li(c),c.v&&(h.clearTimeout(c.v),c.v=null),ka(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Cr(c){if(!Fo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Se||w(),Ee||(Se(),Ee=!0),R.add(y,c),c.D=0}}function Ma(c,y){return Tr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=gr(g(c.Ea,c,y),$u(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Xn(this,this.j,c);let $=this.o;if(this.U&&($?($=j($),ae($,this.U)):$=this.U),this.u!==null||this.R||(z.J=$,$=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=qu(this,z,y),E=St(this.J),Ye(E,"RID",c),Ye(E,"CVER",22),this.G&&Ye(E,"X-HTTP-Session-Id",this.G),zs(this,E),$&&(this.R?y="headers="+Yr(Vn($))+"&"+y:this.u&&Ls(E,this.u,$)),Go(this.h,z),this.Ra&&Ye(E,"TYPE","init"),this.S?(Ye(E,"$req",y),Ye(E,"SID","null"),z.U=!0,_r(z,E,null)):_r(z,E,y),this.I=2}}else this.I==3&&(c?nl(this,c):this.i.length==0||Fo(this.h)||nl(this))};function nl(c,y){var E;y?E=y.l:E=c.V++;const A=St(c.J);Ye(A,"SID",c.M),Ye(A,"RID",E),Ye(A,"AID",c.K),zs(c,A),c.u&&c.o&&Ls(A,c.u,c.o),E=new Xn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=qu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Go(c.h,E),_r(E,A,y)}function zs(c,y){c.H&&ze(c.H,function(E,A){Ye(y,A,E)}),c.l&&ze({},function(E,A){Ye(y,A,E)})}function qu(c,y,E){E=Math.min(c.i.length,E);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let Ae=-1;for(;;){const pt=["count="+E];Ae==-1?E>0?(Ae=z[0].g,pt.push("ofs="+Ae)):Ae=0:pt.push("ofs="+Ae);let He=!0;for(let ot=0;ot<E;ot++){var $=z[ot].g;const jn=z[ot].map;if($-=Ae,$<0)Ae=Math.max(0,z[ot].g-100),He=!1;else try{$="req"+$+"_"||"";try{var ie=jn instanceof Map?jn:Object.entries(jn);for(const[Ir,tr]of ie){let nr=tr;m(tr)&&(nr=Ni(tr)),pt.push($+Ir+"="+encodeURIComponent(nr))}}catch(Ir){throw pt.push($+"type="+encodeURIComponent("_badmap")),Ir}}catch{A&&A(jn)}}if(He){ie=pt.join("&");break e}}ie=void 0}return c=c.i.splice(0,E),y.G=c,ie}function Hu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Se||w(),Ee||(Se(),Ee=!0),R.add(y,c),c.A=0}}function Bs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=gr(g(c.Da,c),$u(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=gr(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Li(this),Fu(this))};function rl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Fu(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=St(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),zs(c,y),c.u&&c.o&&Ls(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=ks(St(y)),E.u=null,E.R=!0,Aa(E,c)}i.Va=function(){this.C!=null&&(this.C=null,Li(this),Bs(this),Et(19))};function ka(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Gu(c,y){var E=null;if(c.g==y){ka(c),rl(c),c.g=null;var A=2}else if(xr(c.h,y))E=y.G,$o(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;A=Sa(),kt(A,new pr(A,E)),Cr(c)}else Hu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(A==1&&Ma(c,y)||A==2&&Bs(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),z){case 1:Nr(c,5);break;case 4:Nr(c,10);break;case 3:Nr(c,6);break;default:Nr(c,2)}}}function $u(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Nr(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),A=c.Ua;const z=!A;A=new vn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zt(A,"https"),ks(A),z?Wn(A.toString(),E):Wo(A.toString(),E)}else Et(2);c.I=0,c.l&&c.l.pa(y),Yu(c),Oa(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Yu(c){if(c.I=0,c.ja=[],c.l){const y=Yo(c.h);(y.length!=0||c.i.length!=0)&&(D(c.ja,y),D(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function Ku(c,y,E){var A=E instanceof vn?St(E):new vn(E);if(A.g!="")y&&(A.g=y+"."+A.g),Ii(A,A.u);else{var z=h.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const $=new vn(null);A&&zt($,A),y&&($.g=y),z&&Ii($,z),E&&($.h=E),A=$}return E=c.G,y=c.wa,E&&y&&Ye(A,E,y),Ye(A,"VER",c.ka),zs(c,A),A}function Qu(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new Ar({ab:E})):new Xe(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}i=Xu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ui(){}Ui.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){bt.call(this),this.g=new ji(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Xr(this)}b(sn,bt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){tl(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Ni(c),c=E);y.i.push(new xt(y.Ya++,c)),y.I==3&&Cr(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,sn.Z.N.call(this)};function Ju(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Ju,Ht);function Wu(){On.call(this),this.status=1}b(Wu,On);function Xr(c){this.g=c}b(Xr,Xu),Xr.prototype.ra=function(){kt(this.g,"a")},Xr.prototype.qa=function(c){kt(this.g,new Ju(c))},Xr.prototype.pa=function(c){kt(this.g,new Wu)},Xr.prototype.oa=function(){kt(this.g,"b")},Ui.prototype.createWebChannel=Ui.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,S1=function(){return new Ui},x1=function(){return Sa()},T1=mt,hp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,_h=Os,Bo.COMPLETE="complete",E1=Bo,Iu.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Fl=Iu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,b1=Xe}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});let en=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let Do="12.8.0";function yN(i){Do=i}const fa=new zp("@firebase/firestore");function ho(){return fa.logLevel}function le(i,...e){if(fa.logLevel<=Me.DEBUG){const n=e.map(Zp);fa.debug(`Firestore (${Do}): ${i}`,...n)}}function Ei(i,...e){if(fa.logLevel<=Me.ERROR){const n=e.map(Zp);fa.error(`Firestore (${Do}): ${i}`,...n)}}function To(i,...e){if(fa.logLevel<=Me.WARN){const n=e.map(Zp);fa.warn(`Firestore (${Do}): ${i}`,...n)}}function Zp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function ye(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,A1(i,s,n)}function A1(i,e,n){let s=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ei(s),new Error(s)}function Ge(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||A1(e,o,s)}function xe(i,e){return i}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class w1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _N{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class vN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class bN{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new w1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class EN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class TN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new EN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class n0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new n0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new n0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function SN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class eg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=SN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function dp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return $m(o)===$m(u)?ke(o,u):$m(o)?1:-1}return ke(i.length,e.length)}const AN=55296,wN=57343;function $m(i){const e=i.charCodeAt(0);return e>=AN&&e<=wN}function xo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const r0="__name__";class Vr{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Vr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=Vr.isNumericId(e),o=Vr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vr.extractNumericId(e).compare(Vr.extractNumericId(n)):dp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ps.fromString(e.substring(4,e.length-2))}}class tt extends Vr{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const RN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Vr{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return RN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r0}static keyField(){return new Xt([r0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new oe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}function R1(i,e,n){if(!n)throw new oe(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function CN(i,e,n,s){if(e===!0&&s===!0)throw new oe(J.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function i0(i){if(!me.isDocumentKey(i))throw new oe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function s0(i){if(me.isDocumentKey(i))throw new oe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function C1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function sd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ye(12329,{type:typeof i})}function yn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new oe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sd(i);throw new oe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Dt(i,e){const n={typeString:i};return e&&(n.value=e),n}function vu(i,e){if(!C1(i))throw new oe(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(J.INVALID_ARGUMENT,n);return!0}const a0=-62135596800,o0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*o0);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<a0)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o0}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-a0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Dt("string",it._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new it(0,0))}static max(){return new be(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ru=-1;function NN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new _s(o,me.empty(),e)}function IN(i){return new _s(i.readTime,i.key,ru)}class _s{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new _s(be.min(),me.empty(),ru)}static max(){return new _s(be.max(),me.empty(),ru)}}function DN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}const ON="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Oo(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==ON)throw i;le("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((T=>{h[g]=T,++m,m===u&&s(h)}),(T=>o(T)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function kN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(i){return i.name==="IndexedDbTransactionError"}class ad{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ad.ce=-1;const tg=-1;function od(i){return i==null}function Vh(i){return i===0&&1/i==-1/0}function VN(i){return typeof i=="number"&&Number.isInteger(i)&&!Vh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const N1="";function jN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=l0(e)),e=LN(i.get(n),e);return l0(e)}function LN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case N1:n+="";break;default:n+=u}}return n}function l0(i){return i+N1+""}function u0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ss(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function I1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sh(this.root,e,this.comparator,!0)}}class sh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new c0(this.data.getIterator())}getIteratorFrom(e){return new c0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class c0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Lt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class D1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new D1("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const UN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const n=UN.exec(i);if(Ge(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function bs(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}const O1="server_timestamp",M1="__type__",k1="__previous_value__",V1="__local_write_time__";function ng(i){return(i?.mapValue?.fields||{})[M1]?.stringValue===O1}function ld(i){const e=i.mapValue.fields[k1];return ng(e)?ld(e):e}function iu(i){const e=vs(i.mapValue.fields[V1].timestampValue);return new it(e.seconds,e.nanos)}class PN{constructor(e,n,s,o,u,h,m,p,g,T,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T,this.apiKey=b}}const jh="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||jh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===jh}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}function zN(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new oe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(i.options.projectId,e)}const j1="__type__",BN="__max__",ah={mapValue:{}},L1="__vector__",Lh="value";function Es(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ng(i)?4:HN(i)?9007199254740991:qN(i)?10:11:ye(28295,{value:i})}function Hr(i,e){if(i===e)return!0;const n=Es(i);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return iu(i).isEqual(iu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=vs(o.timestampValue),m=vs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return bs(o.bytesValue).isEqual(bs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?Vh(h)===Vh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return xo(i.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(u0(h)!==u0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Hr(h[p],m[p])))return!1;return!0})(i,e);default:return ye(52216,{left:i})}}function au(i,e){return(i.values||[]).find((n=>Hr(n,e)))!==void 0}function So(i,e){if(i===e)return 0;const n=Es(i),s=Es(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=_t(u.integerValue||u.doubleValue),p=_t(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return h0(i.timestampValue,e.timestampValue);case 4:return h0(iu(i),iu(e));case 5:return dp(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=bs(u),p=bs(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=ke(m[g],p[g]);if(T!==0)return T}return ke(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=ke(_t(u.latitude),_t(h.latitude));return m!==0?m:ke(_t(u.longitude),_t(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return d0(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Lh]?.arrayValue,T=p[Lh]?.arrayValue,b=ke(g?.values?.length||0,T?.values?.length||0);return b!==0?b:d0(g,T)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===ah.mapValue&&h===ah.mapValue)return 0;if(u===ah.mapValue)return 1;if(h===ah.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const S=dp(p[b],T[b]);if(S!==0)return S;const O=So(m[p[b]],g[T[b]]);if(O!==0)return O}return ke(p.length,T.length)})(i.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function h0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=vs(i),s=vs(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function d0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=So(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function Ao(i){return fp(i)}function fp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=vs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return bs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return me.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=fp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${fp(n.fields[h])}`;return o+"}"})(i.mapValue):ye(61005,{value:i})}function vh(i){switch(Es(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ld(i);return e?16+vh(e):16;case 5:return 2*i.stringValue.length;case 6:return bs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+vh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ss(s.fields,((u,h)=>{o+=u.length+vh(h)})),o})(i.mapValue);default:throw ye(13486,{value:i})}}function f0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function mp(i){return!!i&&"integerValue"in i}function rg(i){return!!i&&"arrayValue"in i}function m0(i){return!!i&&"nullValue"in i}function p0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function bh(i){return!!i&&"mapValue"in i}function qN(i){return(i?.mapValue?.fields||{})[j1]?.stringValue===L1}function Xl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ss(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Xl(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(i.arrayValue.values[n]);return e}return{...i}}function HN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===BN}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Xl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];bh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ss(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new gn(Xl(this.value))}}function U1(i){const e=[];return Ss(i.fields,((n,s)=>{const o=new Xt([n]);if(bh(s)){const u=U1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Cn(e)}class tn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,be.min(),be.min(),be.min(),gn.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,be.min(),be.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,be.min(),be.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Uh{constructor(e,n){this.position=e,this.inclusive=n}}function g0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),n.key):s=So(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function y0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Hr(i.position[n],e.position[n]))return!1;return!0}class ou{constructor(e,n="asc"){this.field=e,this.dir=n}}function FN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class P1{}class It extends P1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new $N(e,n,s):n==="array-contains"?new QN(e,s):n==="in"?new XN(e,s):n==="not-in"?new JN(e,s):n==="array-contains-any"?new WN(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new YN(e,s):new KN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(So(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends P1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cr(e,n)}matches(e){return z1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function z1(i){return i.op==="and"}function B1(i){return GN(i)&&z1(i)}function GN(i){for(const e of i.filters)if(e instanceof cr)return!1;return!0}function pp(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+Ao(i.value);if(B1(i))return i.filters.map((e=>pp(e))).join(",");{const e=i.filters.map((n=>pp(n))).join(",");return`${i.op}(${e})`}}function q1(i,e){return i instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Hr(s.value,o.value)})(i,e):i instanceof cr?(function(s,o){return o instanceof cr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&q1(h,o.filters[m])),!0):!1})(i,e):void ye(19439)}function H1(i){return i instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`})(i):i instanceof cr?(function(n){return n.op.toString()+" {"+n.getFilters().map(H1).join(" ,")+"}"})(i):"Filter"}class $N extends It{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class YN extends It{constructor(e,n){super(e,"in",n),this.keys=F1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class KN extends It{constructor(e,n){super(e,"not-in",n),this.keys=F1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function F1(i,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class QN extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rg(n)&&au(n.arrayValue,this.value)}}class XN extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class JN extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class WN extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>au(this.value.arrayValue,s)))}}class ZN{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function _0(i,e=null,n=[],s=[],o=null,u=null,h=null){return new ZN(i,e,n,s,o,u,h)}function ig(i){const e=xe(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>pp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ao(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ao(s))).join(",")),e.Te=n}return e.Te}function sg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!FN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!q1(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!y0(i.startAt,e.startAt)&&y0(i.endAt,e.endAt)}function gp(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class ko{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function eI(i,e,n,s,o,u,h,m){return new ko(i,e,n,s,o,u,h,m)}function ud(i){return new ko(i)}function v0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function tI(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function G1(i){return i.collectionGroup!==null}function Jl(i){const e=xe(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Lt(Xt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ou(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new ou(Xt.keyField(),s))}return e.Ie}function Pr(i){const e=xe(i);return e.Ee||(e.Ee=nI(e,Jl(i))),e.Ee}function nI(i,e){if(i.limitType==="F")return _0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ou(o.field,u)}));const n=i.endAt?new Uh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Uh(i.startAt.position,i.startAt.inclusive):null;return _0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function yp(i,e){const n=i.filters.concat([e]);return new ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function rI(i,e){const n=i.explicitOrderBy.concat([e]);return new ko(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function Ph(i,e,n){return new ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function cd(i,e){return sg(Pr(i),Pr(e))&&i.limitType===e.limitType}function $1(i){return`${ig(Pr(i))}|lt:${i.limitType}`}function fo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>H1(o))).join(", ")}]`),od(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ao(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ao(o))).join(",")),`Target(${s})`})(Pr(i))}; limitType=${i.limitType})`}function hd(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of Jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=g0(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,Jl(s),o)||s.endAt&&!(function(h,m,p){const g=g0(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,Jl(s),o))})(i,e)}function iI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Y1(i){return(e,n)=>{let s=!1;for(const o of Jl(i)){const u=sI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function sI(i,e,n){const s=i.field.isKeyField()?me.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?So(p,g):ye(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:i.dir})}}class va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return I1(this.inner)}size(){return this.innerSize}}const aI=new ct(me.comparator);function Ti(){return aI}const K1=new ct(me.comparator);function Gl(...i){let e=K1;for(const n of i)e=e.insert(n.key,n);return e}function Q1(i){let e=K1;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function aa(){return Wl()}function X1(){return Wl()}function Wl(){return new va((i=>i.toString()),((i,e)=>i.isEqual(e)))}const oI=new ct(me.comparator),lI=new Lt(me.comparator);function Ve(...i){let e=lI;for(const n of i)e=e.add(n);return e}const uI=new Lt(ke);function cI(){return uI}function ag(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function J1(i){return{integerValue:""+i}}function hI(i,e){return VN(e)?J1(e):ag(i,e)}class dd{constructor(){this._=void 0}}function dI(i,e,n){return i instanceof lu?(function(o,u){const h={fields:{[M1]:{stringValue:O1},[V1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ng(u)&&(u=ld(u)),u&&(h.fields[k1]=u),{mapValue:h}})(n,e):i instanceof uu?Z1(i,e):i instanceof cu?eT(i,e):(function(o,u){const h=W1(o,u),m=b0(h)+b0(o.Ae);return mp(h)&&mp(o.Ae)?J1(m):ag(o.serializer,m)})(i,e)}function fI(i,e,n){return i instanceof uu?Z1(i,e):i instanceof cu?eT(i,e):n}function W1(i,e){return i instanceof zh?(function(s){return mp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class lu extends dd{}class uu extends dd{constructor(e){super(),this.elements=e}}function Z1(i,e){const n=tT(e);for(const s of i.elements)n.some((o=>Hr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class cu extends dd{constructor(e){super(),this.elements=e}}function eT(i,e){let n=tT(e);for(const s of i.elements)n=n.filter((o=>!Hr(o,s)));return{arrayValue:{values:n}}}class zh extends dd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function b0(i){return _t(i.integerValue||i.doubleValue)}function tT(i){return rg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class mI{constructor(e,n){this.field=e,this.transform=n}}function pI(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof uu&&o instanceof uu||s instanceof cu&&o instanceof cu?xo(s.elements,o.elements,Hr):s instanceof zh&&o instanceof zh?Hr(s.Ae,o.Ae):s instanceof lu&&o instanceof lu})(i.transform,e.transform)}class gI{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class fd{}function nT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new og(i.key,Yn.none()):new bu(i.key,i.data,Yn.none());{const n=i.data,s=gn.empty();let o=new Lt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new As(i.key,s,new Cn(o.toArray()),Yn.none())}}function yI(i,e,n){i instanceof bu?(function(o,u,h){const m=o.value.clone(),p=T0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof As?(function(o,u,h){if(!Eh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=T0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(rT(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Zl(i,e,n,s){return i instanceof bu?(function(u,h,m,p){if(!Eh(u.precondition,h))return m;const g=u.value.clone(),T=x0(u.fieldTransforms,p,h);return g.setAll(T),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof As?(function(u,h,m,p){if(!Eh(u.precondition,h))return m;const g=x0(u.fieldTransforms,p,h),T=h.data;return T.setAll(rT(u)),T.setAll(g),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,n,s):(function(u,h,m){return Eh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function _I(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=W1(s.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function E0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&xo(s,o,((u,h)=>pI(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class bu extends fd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends fd{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function rT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function T0(i,e,n){const s=new Map;Ge(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,fI(h,m,n[o]))}return s}function x0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,dI(u,h,e))}return s}class og extends fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vI extends fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&yI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=X1();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=nT(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,((n,s)=>E0(n,s)))&&xo(this.baseMutations,e.baseMutations,((n,s)=>E0(n,s)))}}class lg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return oI})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new lg(e,n,s,o)}}class EI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,Pe;function xI(i){switch(i){case J.OK:return ye(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ye(15467,{code:i})}}function iT(i){if(i===void 0)return Ei("GRPC error has no .code"),J.UNKNOWN;switch(i){case Nt.OK:return J.OK;case Nt.CANCELLED:return J.CANCELLED;case Nt.UNKNOWN:return J.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return J.INTERNAL;case Nt.UNAVAILABLE:return J.UNAVAILABLE;case Nt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Nt.NOT_FOUND:return J.NOT_FOUND;case Nt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Nt.ABORTED:return J.ABORTED;case Nt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Nt.DATA_LOSS:return J.DATA_LOSS;default:return ye(39323,{code:i})}}(Pe=Nt||(Nt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function SI(){return new TextEncoder}const AI=new ps([4294967295,4294967295],0);function S0(i){const e=SI().encode(i),n=new v1;return n.update(e),new Uint8Array(n.digest())}function A0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ps([n,s],0),new ps([o,u],0)]}class ug{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new $l(`Invalid padding: ${n}`);if(s<0)throw new $l(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new $l(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ps.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ps.fromNumber(s)));return o.compare(AI)===1&&(o=new ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=S0(e),[s,o]=A0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new ug(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=S0(e),[s,o]=A0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class md{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new md(be.min(),o,new ct(ke),Ti(),Ve())}}class Eu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Eu(s,n,Ve(),Ve(),Ve())}}class Th{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class sT{constructor(e,n){this.targetId=e,this.Ce=n}}class aT{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class w0{constructor(){this.ve=0,this.Fe=R0(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new Eu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=R0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class wI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ti(),this.He=oh(),this.Je=oh(),this.Ze=new ct(ke)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(gp(u))if(s===0){const h=new me(u.path);this.et(n,h,tn.newNoDocument(h,be.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=bs(s).toUint8Array()}catch(p){if(p instanceof D1)return To("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new ug(h,o,u)}catch(p){return To(p instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&gp(m.target)){const p=new me(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,tn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=Ve();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new md(e,n,this.Ze,this.je,s);return this.je=Ti(),this.He=oh(),this.Je=oh(),this.Ze=new ct(ke),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new w0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Lt(ke),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Lt(ke),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new w0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function oh(){return new ct(me.comparator)}function R0(){return new ct(me.comparator)}const RI={asc:"ASCENDING",desc:"DESCENDING"},CI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NI={and:"AND",or:"OR"};class II{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _p(i,e){return i.useProto3Json||od(e)?e:{value:e}}function Bh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function DI(i,e){return Bh(i,e.toTimestamp())}function zr(i){return Ge(!!i,49232),be.fromTimestamp((function(n){const s=vs(n);return new it(s.seconds,s.nanos)})(i))}function cg(i,e){return vp(i,e).canonicalString()}function vp(i,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function lT(i){const e=tt.fromString(i);return Ge(fT(e),10190,{key:e.toString()}),e}function bp(i,e){return cg(i.databaseId,e.path)}function Ym(i,e){const n=lT(e);if(n.get(1)!==i.databaseId.projectId)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new me(cT(n))}function uT(i,e){return cg(i.databaseId,e)}function OI(i){const e=lT(i);return e.length===4?tt.emptyPath():cT(e)}function Ep(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function cT(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function C0(i,e,n){return{name:bp(i,e),fields:n.value.mapValue.fields}}function MI(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ye(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,T){return g.useProto3Json?(Ge(T===void 0||typeof T=="string",58123),Jt.fromBase64String(T||"")):(Ge(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Jt.fromUint8Array(T||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const T=g.code===void 0?J.UNKNOWN:iT(g.code);return new oe(T,g.message||"")})(h);n=new aT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ym(i,s.document.name),u=zr(s.document.updateTime),h=s.document.createTime?zr(s.document.createTime):be.min(),m=new gn({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,h,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new Th(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ym(i,s.document),u=s.readTime?zr(s.readTime):be.min(),h=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Th([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ym(i,s.document),u=s.removedTargetIds||[];n=new Th([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new TI(o,u),m=s.targetId;n=new sT(m,h)}}return n}function kI(i,e){let n;if(e instanceof bu)n={update:C0(i,e.key,e.value)};else if(e instanceof og)n={delete:bp(i,e.key)};else if(e instanceof As)n={update:C0(i,e.key,e.data),updateMask:HI(e.fieldMask)};else{if(!(e instanceof vI))return ye(16599,{dt:e.type});n={verify:bp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof lu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof uu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof cu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof zh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:DI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(i,e.precondition)),n}function VI(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?zr(o.updateTime):zr(u);return h.isEqual(be.min())&&(h=zr(u)),new gI(h,o.transformResults||[])})(n,e)))):[]}function jI(i,e){return{documents:[uT(i,e.path)]}}function LI(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=uT(i,o);const u=(function(g){if(g.length!==0)return dT(cr.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((T=>(function(S){return{field:mo(S.field),direction:zI(S.dir)}})(T)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=_p(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function UI(i){let e=OI(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(b){const S=hT(b);return S instanceof cr&&B1(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((S=>(function(D){return new ou(po(D.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let S;return S=typeof b=="object"?b.value:b,od(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(b){const S=!!b.before,O=b.values||[];return new Uh(O,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const S=!b.before,O=b.values||[];return new Uh(O,S)})(n.endAt)),eI(e,o,h,u,m,"F",p,g)}function PI(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=po(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=po(n.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(i):i.fieldFilter!==void 0?(function(n){return It.create(po(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return cr.create(n.compositeFilter.filters.map((s=>hT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(i):ye(30097,{filter:i})}function zI(i){return RI[i]}function BI(i){return CI[i]}function qI(i){return NI[i]}function mo(i){return{fieldPath:i.canonicalString()}}function po(i){return Xt.fromServerFormat(i.fieldPath)}function dT(i){return i instanceof It?(function(n){if(n.op==="=="){if(p0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(m0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(p0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(m0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:BI(n.op),value:n.value}}})(i):i instanceof cr?(function(n){const s=n.getFilters().map((o=>dT(o)));return s.length===1?s[0]:{compositeFilter:{op:qI(n.op),filters:s}}})(i):ye(54877,{filter:i})}function HI(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function fT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function mT(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class ds{constructor(e,n,s,o,u=be.min(),h=be.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class FI{constructor(e){this.yt=e}}function GI(i){const e=UI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ph(e,e.limit,"L"):e}class $I{constructor(){this.Sn=new YI}addToCollectionParentIndex(e,n){return this.Sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(_s.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class YI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(tt.comparator)).toArray()}}const N0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pT=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(pT,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class wo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new wo(0)}static ar(){return new wo(-1)}}const I0="LruGarbageCollector",KI=1048576;function D0([i,e],[n,s]){const o=ke(i,n);return o===0?ke(e,s):o}class QI{constructor(e){this.Pr=e,this.buffer=new Lt(D0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();D0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(I0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?le(I0,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.Ar(3e5)}))}}class JI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(ad.ce);const s=new QI(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(N0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),ho()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function WI(i,e){return new JI(i,e)}class ZI{constructor(){this.changes=new va((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class tD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Zl(s.mutation,o,Cn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const o=aa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Gl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=aa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Ti();const h=Wl(),m=(function(){return Wl()})();return n.forEach(((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof As)?u=u.insert(g.key,g):T!==void 0?(h.set(g.key,T.mutation.getFieldMask()),Zl(T.mutation,g,T.mutation.getFieldMask(),it.now())):h.set(g.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,T)=>h.set(g,T))),n.forEach(((g,T)=>m.set(g,new eD(T,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Wl();let o=new ct(((h,m)=>h-m)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||Cn.empty();T=m.applyToLocalView(g,T),s.set(p,T);const b=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,b=X1();T.forEach((S=>{if(!u.has(S)){const O=nT(n.get(S),s.get(S));O!==null&&b.set(S,O),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ee.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return tI(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):G1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(aa());let m=ru,p=u;return h.next((g=>ee.forEach(g,((T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next((S=>{p=p.insert(T,S)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ve()))).next((T=>({batchId:m,changes:Q1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Gl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const g=(function(b,S){return new ko(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((T=>{T.forEach(((b,S)=>{h=h.insert(b,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const T=g.getKey();h.get(T)===null&&(h=h.insert(T,tn.newInvalidDocument(T)))}));let m=Gl();return h.forEach(((p,g)=>{const T=u.get(p);T!==void 0&&Zl(T.mutation,g,Cn.empty(),it.now()),hd(n,g)&&(m=m.insert(p,g))})),m}))}}class nD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:zr(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:GI(o.bundledQuery),readTime:zr(o.readTime)}})(n)),ee.resolve()}}class rD{constructor(){this.overlays=new ct(me.comparator),this.Lr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=aa();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=aa(),u=n.length+1,h=new me(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((g,T)=>g-T));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=aa(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=aa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,T)=>m.set(g,T))),!(m.size()>=o)););return ee.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new EI(n,s));let u=this.Lr.get(n);u===void 0&&(u=Ve(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class iD{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class hg{constructor(){this.kr=new Lt(qt.Kr),this.qr=new Lt(qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new qt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new me(new tt([])),s=new qt(n,e),o=new qt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new me(new tt([])),s=new qt(n,e),o=new qt(n,e+1);let u=Ve();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new qt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return me.comparator(e.key,n.key)||ke(e.Hr,n.Hr)}static Ur(e,n){return ke(e.Hr,n.Hr)||me.comparator(e.key,n.key)}}class sD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Lt(qt.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new bI(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?tg:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(ke);return n.forEach((o=>{const u=new qt(o,0),h=new qt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),ee.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new qt(new me(u),0);let m=new Lt(ke);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),h),ee.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ee.forEach(n.mutations,(o=>{const u=new qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new qt(n,0),o=this.Jr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class aD{constructor(e){this.ti=e,this.docs=(function(){return new ct(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=Ti();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ti();const h=n.path,m=new me(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||DN(IN(T),s)<=0||(o.has(T.key)||hd(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ye(9500)}ni(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new oD(this)}getSize(e){return ee.resolve(this.size)}}class oD extends ZI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class lD{constructor(e){this.persistence=e,this.ri=new va((n=>ig(n)),sg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new hg,this.targetCount=0,this.oi=wo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new wo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.lr(n),ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.si.containsKey(n))}}class gT{constructor(e,n){this._i={},this.overlays={},this.ai=new ad(0),this.ui=!1,this.ui=!0,this.ci=new iD,this.referenceDelegate=e(this),this.li=new lD(this),this.indexManager=new $I,this.remoteDocumentCache=(function(o){return new aD(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new FI(n),this.Pi=new nD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new sD(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new uD(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ee.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class uD extends MN{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.Ri=new hg,this.Ai=null}static Vi(e){return new dg(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(s=>{const o=me.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class qh{constructor(e,n){this.persistence=e,this.fi=new va((s=>jN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=WI(this,n)}static Vi(e,n){return new qh(e,n)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ee.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,u.removeEntry(h,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}wr(e,n,s){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class fg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new fg(e,n.fromCache,s,o)}}class cD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Xw()?8:kN(nn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new cD;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(ho()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(ho()<=Me.DEBUG&&le("QueryEngine","Query:",fo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(ho()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):ee.resolve())}gs(e,n){if(v0(n))return ee.resolve(null);let s=Pr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ph(n,null,"F"),s=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ve(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ss(n,g,h,p.readTime)?this.gs(e,Ph(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,s,o){return v0(n)||o.isEqual(be.min())?ee.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?ee.resolve(null):(ho()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(n)),this.Ds(e,h,n,NN(o,ru)).next((m=>m)))}))}bs(e,n){let s=new Lt(Y1(e));return n.forEach(((o,u)=>{hd(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return ho()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",fo(n)),this.fs.getDocumentsMatchingQuery(e,n,_s.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const mg="LocalStore",dD=3e8;class fD{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ct(ke),this.Fs=new va((u=>ig(u)),sg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function mD(i,e,n,s){return new fD(i,e,n,s)}async function yT(i,e){const n=xe(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Ve();for(const g of o){h.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function pD(i,e){const n=xe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,T){const b=g.batch,S=b.keys();let O=ee.resolve();return S.forEach((D=>{O=O.next((()=>T.getEntry(p,D))).next((H=>{const G=g.docVersions.get(D);Ge(G!==null,48541),H.version.compareTo(G)<0&&(b.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),T.addEntry(H)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function _T(i){const e=xe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function gD(i,e){const n=xe(i),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((T,b)=>{const S=o.get(b);if(!S)return;m.push(n.li.removeMatchingKeys(u,T.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,T.addedDocuments,b))));let O=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?O=O.withResumeToken(Jt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,s)),o=o.insert(b,O),(function(H,G,ne){return H.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=dD?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(S,O,T)&&m.push(n.li.updateTargetData(u,O))}));let p=Ti(),g=Ve();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(yD(u,h,e.documentUpdates).next((T=>{p=T.Bs,g=T.Ls}))),!s.isEqual(be.min())){const T=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return ee.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.vs=o,u)))}function yD(i,e,n){let s=Ve(),o=Ve();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Ti();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):le(mg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:h,Ls:o}}))}function _D(i,e){const n=xe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=tg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function vD(i,e){const n=xe(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new ds(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Tp(i,e,n){const s=xe(i),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Mo(h))throw h;le(mg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function O0(i,e,n){const s=xe(i);let o=be.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,T){const b=xe(p),S=b.Fs.get(T);return S!==void 0?ee.resolve(b.vs.get(S)):b.li.getTargetData(g,T)})(s,h,Pr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?u:Ve()))).next((m=>(bD(s,iI(e),m),{documents:m,ks:u})))))}function bD(i,e,n){let s=i.Ms.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Ms.set(e,s)}class M0{constructor(){this.activeTargetIds=cI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ED{constructor(){this.vo=new M0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new M0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TD{Mo(e){}shutdown(){}}const k0="ConnectivityMonitor";class V0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(k0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(k0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let lh=null;function xp(){return lh===null?lh=(function(){return 268435456+Math.round(2147483648*Math.random())})():lh++,"0x"+lh.toString(16)}const Km="RestConnection",xD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class SD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===jh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=xp(),m=this.Qo(e,n.toUriEncodedString());le(Km,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),T=ya(g);return this.zo(e,m,p,s,T).then((b=>(le(Km,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw To(Km,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=xD[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class AD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Zt="WebChannelConnection",Hl=(i,e,n)=>{i.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class vo extends SD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!vo.c_){const e=x1();Hl(e,T1.STAT_EVENT,(n=>{n.stat===hp.PROXY?le(Zt,"STAT_EVENT: detected buffering proxy"):n.stat===hp.NOPROXY&&le(Zt,"STAT_EVENT: detected no buffering proxy")})),vo.c_=!0}}zo(e,n,s,o,u){const h=xp();return new Promise(((m,p)=>{const g=new b1;g.setWithCredentials(!0),g.listenOnce(E1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case _h.NO_ERROR:const b=g.getResponseJson();le(Zt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case _h.TIMEOUT:le(Zt,`RPC '${e}' ${h} timed out`),p(new oe(J.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const S=g.getStatus();if(le(Zt,`RPC '${e}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const D=O?.error;if(D&&D.status&&D.message){const H=(function(ne){const te=ne.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(te)>=0?te:J.UNKNOWN})(D.status);p(new oe(H,D.message))}else p(new oe(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(J.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Zt,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);le(Zt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=xp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const g=u.join("");le(Zt,`Creating RPC '${e}' stream ${o}: ${g}`,m);const T=h.createWebChannel(g,m);this.I_(T);let b=!1,S=!1;const O=new AD({Ho:D=>{S?le(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(b||(le(Zt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),le(Zt,`RPC '${e}' stream ${o} sending:`,D),T.send(D))},Jo:()=>T.close()});return Hl(T,Fl.EventType.OPEN,(()=>{S||(le(Zt,`RPC '${e}' stream ${o} transport opened.`),O.i_())})),Hl(T,Fl.EventType.CLOSE,(()=>{S||(S=!0,le(Zt,`RPC '${e}' stream ${o} transport closed`),O.o_(),this.E_(T))})),Hl(T,Fl.EventType.ERROR,(D=>{S||(S=!0,To(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),O.o_(new oe(J.UNAVAILABLE,"The operation could not be completed")))})),Hl(T,Fl.EventType.MESSAGE,(D=>{if(!S){const H=D.data[0];Ge(!!H,16349);const G=H,ne=G?.error||G[0]?.error;if(ne){le(Zt,`RPC '${e}' stream ${o} received error:`,ne);const te=ne.status;let re=(function(Ee){const R=Nt[Ee];if(R!==void 0)return iT(R)})(te),de=ne.message;re===void 0&&(re=J.INTERNAL,de="Unknown error status: "+te+" with message "+ne.message),S=!0,O.o_(new oe(re,de)),T.close()}else le(Zt,`RPC '${e}' stream ${o} received:`,H),O.__(H)}})),vo.u_(),setTimeout((()=>{O.s_()}),0),O}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return S1()}}function wD(i){return new vo(i)}function Qm(){return typeof document<"u"?document:null}function pd(i){return new II(i,!0)}vo.c_=!1;class vT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const j0="PersistentStream";class bT{constructor(e,n,s,o,u,h,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Ei(n.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(j0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(j0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RD extends bT{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=MI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?zr(h.readTime):be.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Ep(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=gp(p)?{documents:jI(u,p)}:{query:LI(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=oT(u,h.resumeToken);const g=_p(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=Bh(u,h.snapshotVersion.toTimestamp());const g=_p(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=PI(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Ep(this.serializer),n.removeTarget=e,this.K_(n)}}class CD extends bT{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=VI(e.writeResults,e.commitTime),s=zr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Ep(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>kI(this.serializer,s)))};this.K_(n)}}class ND{}class ID extends ND{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,vp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(J.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,vp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function DD(i,e,n,s){return new ID(i,e,n,s)}class OD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ei(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ma="RemoteStore";class MD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{ba(this)&&(le(ma,"Restarting streams for network reachability change."),await(async function(p){const g=xe(p);g.Ea.add(4),await Tu(g),g.Va.set("Unknown"),g.Ea.delete(4),await gd(g)})(this))}))})),this.Va=new OD(s,o)}}async function gd(i){if(ba(i))for(const e of i.Ra)await e(!0)}async function Tu(i){for(const e of i.Ra)await e(!1)}function ET(i,e){const n=xe(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_g(n)?yg(n):Vo(n).O_()&&gg(n,e))}function pg(i,e){const n=xe(i),s=Vo(n);n.Ia.delete(e),s.O_()&&TT(n,e),n.Ia.size===0&&(s.O_()?s.L_():ba(n)&&n.Va.set("Unknown"))}function gg(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(i).Z_(e)}function TT(i,e){i.da.$e(e),Vo(i).X_(e)}function yg(i){i.da=new wI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Vo(i).start(),i.Va.ua()}function _g(i){return ba(i)&&!Vo(i).x_()&&i.Ia.size>0}function ba(i){return xe(i).Ea.size===0}function xT(i){i.da=void 0}async function kD(i){i.Va.set("Online")}async function VD(i){i.Ia.forEach(((e,n)=>{gg(i,e)}))}async function jD(i,e){xT(i),_g(i)?(i.Va.ha(e),yg(i)):i.Va.set("Unknown")}async function LD(i,e,n){if(i.Va.set("Online"),e instanceof aT&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(s){le(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hh(i,s)}else if(e instanceof Th?i.da.Xe(e):e instanceof sT?i.da.st(e):i.da.tt(e),!n.isEqual(be.min()))try{const s=await _T(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(Jt.EMPTY_BYTE_STRING,T.snapshotVersion)),TT(u,p);const b=new ds(T.target,p,g,T.sequenceNumber);gg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){le(ma,"Failed to raise snapshot:",s),await Hh(i,s)}}async function Hh(i,e,n){if(!Mo(e))throw e;i.Ea.add(1),await Tu(i),i.Va.set("Offline"),n||(n=()=>_T(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{le(ma,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await gd(i)}))}function ST(i,e){return e().catch((n=>Hh(i,n,e)))}async function yd(i){const e=xe(i),n=Ts(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tg;for(;UD(e);)try{const o=await _D(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,PD(e,o)}catch(o){await Hh(e,o)}AT(e)&&wT(e)}function UD(i){return ba(i)&&i.Ta.length<10}function PD(i,e){i.Ta.push(e);const n=Ts(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function AT(i){return ba(i)&&!Ts(i).x_()&&i.Ta.length>0}function wT(i){Ts(i).start()}async function zD(i){Ts(i).ra()}async function BD(i){const e=Ts(i);for(const n of i.Ta)e.ea(n.mutations)}async function qD(i,e,n){const s=i.Ta.shift(),o=lg.from(s,e,n);await ST(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await yd(i)}async function HD(i,e){e&&Ts(i).Y_&&await(async function(s,o){if((function(h){return xI(h)&&h!==J.ABORTED})(o.code)){const u=s.Ta.shift();Ts(s).B_(),await ST(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await yd(s)}})(i,e),AT(i)&&wT(i)}async function L0(i,e){const n=xe(i);n.asyncQueue.verifyOperationInProgress(),le(ma,"RemoteStore received new credentials");const s=ba(n);n.Ea.add(3),await Tu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gd(n)}async function FD(i,e){const n=xe(i);e?(n.Ea.delete(2),await gd(n)):e||(n.Ea.add(2),await Tu(n),n.Va.set("Unknown"))}function Vo(i){return i.ma||(i.ma=(function(n,s,o){const u=xe(n);return u.sa(),new RD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:kD.bind(null,i),Yo:VD.bind(null,i),t_:jD.bind(null,i),J_:LD.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),_g(i)?yg(i):i.Va.set("Unknown")):(await i.ma.stop(),xT(i))}))),i.ma}function Ts(i){return i.fa||(i.fa=(function(n,s,o){const u=xe(n);return u.sa(),new CD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:zD.bind(null,i),t_:HD.bind(null,i),ta:BD.bind(null,i),na:qD.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await yd(i)):(await i.fa.stop(),i.Ta.length>0&&(le(ma,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class vg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new vg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bg(i,e){if(Ei("AsyncQueue",`${e}: ${i}`),Mo(i))return new oe(J.UNAVAILABLE,`${e}: ${i}`);throw i}class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Gl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class U0{constructor(){this.ga=new ct(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ro{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Ro(e,n,bo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class GD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class $D{constructor(){this.queries=P0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=xe(n),u=o.queries;o.queries=P0(),u.forEach(((h,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new oe(J.ABORTED,"Firestore shutting down"))}}function P0(){return new va((i=>$1(i)),cd)}async function Eg(i,e){const n=xe(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new GD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=bg(h,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&xg(n)}async function Tg(i,e){const n=xe(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function YD(i,e){const n=xe(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&xg(n)}function KD(i,e,n){const s=xe(i),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function xg(i){i.Ca.forEach((e=>{e.next()}))}var Sp,z0;(z0=Sp||(Sp={})).Ma="default",z0.Cache="cache";class Sg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sp.Cache}}class RT{constructor(e){this.key=e}}class CT{constructor(e){this.key=e}}class QD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.eu=Y1(e),this.tu=new bo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new U0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,b)=>{const S=o.get(T),O=hd(this.query,b)?b:null,D=!!S&&this.mutatedKeys.has(S.key),H=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let G=!1;S&&O?S.data.isEqual(O.data)?D!==H&&(s.track({type:3,doc:O}),G=!0):this.su(S,O)||(s.track({type:2,doc:O}),G=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!S&&O?(s.track({type:0,doc:O}),G=!0):S&&!O&&(s.track({type:1,doc:S}),G=!0,(p||g)&&(m=!0)),G&&(O?(h=h.add(O),u=H?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,b)=>(function(O,D){const H=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:G})}};return H(O)-H(D)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,h.length!==0||g?{snapshot:new Ro(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new U0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new CT(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new RT(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ag="SyncEngine";class XD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class JD{constructor(e){this.key=e,this.hu=!1}}class WD{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new va((m=>$1(m)),cd),this.Iu=new Map,this.Eu=new Set,this.Ru=new ct(me.comparator),this.Au=new Map,this.Vu=new hg,this.du={},this.mu=new Map,this.fu=wo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZD(i,e,n=!0){const s=kT(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await NT(s,e,n,!0),o}async function e4(i,e){const n=kT(i);await NT(n,e,!0,!1)}async function NT(i,e,n,s){const o=await vD(i.localStore,Pr(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await t4(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&ET(i.remoteStore,o),m}async function t4(i,e,n,s,o){i.pu=(b,S,O)=>(async function(H,G,ne,te){let re=G.view.ru(ne);re.Ss&&(re=await O0(H.localStore,G.query,!1).then((({documents:R})=>G.view.ru(R,re))));const de=te&&te.targetChanges.get(G.targetId),Se=te&&te.targetMismatches.get(G.targetId)!=null,Ee=G.view.applyChanges(re,H.isPrimaryClient,de,Se);return q0(H,G.targetId,Ee.au),Ee.snapshot})(i,b,S,O);const u=await O0(i.localStore,e,!0),h=new QD(e,u.ks),m=h.ru(u.documents),p=Eu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);q0(i,n,g.au);const T=new XD(e,n,h);return i.Tu.set(e,T),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function n4(i,e,n){const s=xe(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!cd(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Tp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&pg(s.remoteStore,o.targetId),Ap(s,o.targetId)})).catch(Oo)):(Ap(s,o.targetId),await Tp(s.localStore,o.targetId,!0))}async function r4(i,e){const n=xe(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),pg(n.remoteStore,s.targetId))}async function i4(i,e,n){const s=h4(i);try{const o=await(function(h,m){const p=xe(h),g=it.now(),T=m.reduce(((O,D)=>O.add(D.key)),Ve());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let D=Ti(),H=Ve();return p.xs.getEntries(O,T).next((G=>{D=G,D.forEach(((ne,te)=>{te.isValidDocument()||(H=H.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,D))).next((G=>{b=G;const ne=[];for(const te of m){const re=_I(te,b.get(te.key).overlayedDocument);re!=null&&ne.push(new As(te.key,re,U1(re.value.mapValue),Yn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,ne,m)})).next((G=>{S=G;const ne=G.applyToLocalDocumentSet(b,H);return p.documentOverlayCache.saveOverlays(O,G.batchId,ne)}))})).then((()=>({batchId:S.batchId,changes:Q1(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.du[h.currentUser.toKey()];g||(g=new ct(ke)),g=g.insert(m,p),h.du[h.currentUser.toKey()]=g})(s,o.batchId,n),await xu(s,o.changes),await yd(s.remoteStore)}catch(o){const u=bg(o,"Failed to persist write");n.reject(u)}}async function IT(i,e){const n=xe(i);try{const s=await gD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await xu(n,s,e)}catch(s){await Oo(s)}}function B0(i,e,n){const s=xe(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=xe(h);p.onlineState=m;let g=!1;p.queries.forEach(((T,b)=>{for(const S of b.ba)S.va(m)&&(g=!0)})),g&&xg(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function s4(i,e,n){const s=xe(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ct(me.comparator);h=h.insert(u,tn.newNoDocument(u,be.min()));const m=Ve().add(u),p=new md(be.min(),new Map,new ct(ke),h,m);await IT(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),wg(s)}else await Tp(s.localStore,e,!1).then((()=>Ap(s,e,n))).catch(Oo)}async function a4(i,e){const n=xe(i),s=e.batch.batchId;try{const o=await pD(n.localStore,e);OT(n,s,null),DT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await xu(n,o)}catch(o){await Oo(o)}}async function o4(i,e,n){const s=xe(i);try{const o=await(function(h,m){const p=xe(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(Ge(b!==null,37113),T=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>p.localDocuments.getDocuments(g,T)))}))})(s.localStore,e);OT(s,e,n),DT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await xu(s,o)}catch(o){await Oo(o)}}function DT(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function OT(i,e,n){const s=xe(i);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Ap(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((s=>{i.Vu.containsKey(s)||MT(i,s)}))}function MT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(pg(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),wg(i))}function q0(i,e,n){for(const s of n)s instanceof RT?(i.Vu.addReference(s.key,e),l4(i,s)):s instanceof CT?(le(Ag,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,e),i.Vu.containsKey(s.key)||MT(i,s.key)):ye(19791,{wu:s})}function l4(i,e){const n=e.key,s=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(s)||(le(Ag,"New document in limbo: "+n),i.Eu.add(s),wg(i))}function wg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new me(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new JD(n)),i.Ru=i.Ru.insert(n,s),ET(i.remoteStore,new ds(Pr(ud(n.path)),s,"TargetPurposeLimboResolution",ad.ce))}}async function xu(i,e,n){const s=xe(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=fg.Es(p.targetId,g);u.push(T)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(p,g){const T=xe(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ee.forEach(g,(S=>ee.forEach(S.Ts,(O=>T.persistence.referenceDelegate.addReference(b,S.targetId,O))).next((()=>ee.forEach(S.Is,(O=>T.persistence.referenceDelegate.removeReference(b,S.targetId,O)))))))))}catch(b){if(!Mo(b))throw b;le(mg,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const O=T.vs.get(S),D=O.snapshotVersion,H=O.withLastLimboFreeSnapshotVersion(D);T.vs=T.vs.insert(S,H)}}})(s.localStore,u))}async function u4(i,e){const n=xe(i);if(!n.currentUser.isEqual(e)){le(Ag,"User change. New user:",e.toKey());const s=await yT(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(J.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xu(n,s.Ns)}}function c4(i,e){const n=xe(i),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function kT(i){const e=xe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=IT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s4.bind(null,e),e.Pu.J_=YD.bind(null,e.eventManager),e.Pu.yu=KD.bind(null,e.eventManager),e}function h4(i){const e=xe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o4.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mD(this.persistence,new hD,e.initialUser,this.serializer)}Cu(e){return new gT(dg.Vi,this.serializer)}Du(e){return new ED}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class d4 extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new XI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new gT((s=>qh.Vi(s,n)),this.serializer)}}class wp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>B0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=u4.bind(null,this.syncEngine),await FD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $D})()}createDatastore(e){const n=pd(e.databaseInfo.databaseId),s=wD(e.databaseInfo);return DD(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new MD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>B0(this.syncEngine,n,0)),(function(){return V0.v()?new V0:new TD})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,T){const b=new WD(o,u,h,m,p,g);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=xe(n);le(ma,"RemoteStore shutting down."),s.Ea.add(5),await Tu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wp.provider={build:()=>new wp};class Rg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const xs="FirestoreClient";class f4{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(xs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(xs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=bg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Xm(i,e){i.asyncQueue.verifyOperationInProgress(),le(xs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await yT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function H0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await m4(i);le(xs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>L0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>L0(e.remoteStore,o))),i._onlineComponents=e}async function m4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le(xs,"Using user provided OfflineComponentProvider");try{await Xm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Xm(i,new Fh)}}else le(xs,"Using default OfflineComponentProvider"),await Xm(i,new d4(void 0));return i._offlineComponents}async function VT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le(xs,"Using user provided OnlineComponentProvider"),await H0(i,i._uninitializedComponentsProvider._online)):(le(xs,"Using default OnlineComponentProvider"),await H0(i,new wp))),i._onlineComponents}function p4(i){return VT(i).then((e=>e.syncEngine))}async function Gh(i){const e=await VT(i),n=e.eventManager;return n.onListen=ZD.bind(null,e.syncEngine),n.onUnlisten=n4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=e4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=r4.bind(null,e.syncEngine),n}function g4(i,e,n,s){const o=new Rg(s),u=new Sg(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>Eg(await Gh(i),u))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>Tg(await Gh(i),u)))}}function y4(i,e,n={}){const s=new yi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const T=new Rg({next:S=>{T.Nu(),h.enqueueAndForget((()=>Tg(u,b)));const O=S.docs.has(m);!O&&S.fromCache?g.reject(new oe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&p&&p.source==="server"?g.reject(new oe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Sg(ud(m.path),T,{includeMetadataChanges:!0,Ka:!0});return Eg(u,b)})(await Gh(i),i.asyncQueue,e,n,s))),s.promise}function _4(i,e,n={}){const s=new yi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const T=new Rg({next:S=>{T.Nu(),h.enqueueAndForget((()=>Tg(u,b))),S.fromCache&&p.source==="server"?g.reject(new oe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Sg(m,T,{includeMetadataChanges:!0,Ka:!0});return Eg(u,b)})(await Gh(i),i.asyncQueue,e,n,s))),s.promise}function v4(i,e){const n=new yi;return i.asyncQueue.enqueueAndForget((async()=>i4(await p4(i),e,n))),n.promise}function jT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const b4="ComponentProvider",F0=new Map;function E4(i,e,n,s,o){return new PN(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,jT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const LT="firestore.googleapis.com",G0=!0;class $0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LT,this.ssl=G0}else this.host=e.host,this.ssl=e.ssl??G0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KI)throw new oe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new _N;switch(s.type){case"firstParty":return new TN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=F0.get(n);s&&(le(b4,"Removing Datastore"),F0.delete(n),s.terminate())})(this),Promise.resolve()}}function T4(i,e,n,s={}){i=yn(i,_d);const o=ya(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Up(`https://${m}`),Pp("Firestore",!0)),u.host!==LT&&u.host!==m&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ca(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,T;if(typeof s.mockUserToken=="string")g=s.mockUserToken,T=en.MOCK_USER;else{g=LE(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new oe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(b)}i._authCredentials=new vN(new w1(g,T))}}class Ri{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ri(this.firestore,e,this._query)}}class ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(vu(n,ft._jsonSchema))return new ft(e,s||null,new me(tt.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:Dt("string",ft._jsonSchemaVersion),referencePath:Dt("string")};class gs extends Ri{constructor(e,n,s){super(e,n,ud(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new me(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function xi(i,e,...n){if(i=Ut(i),R1("collection","path",e),i instanceof _d){const s=tt.fromString(e,...n);return s0(s),new gs(i,null,s)}{if(!(i instanceof ft||i instanceof gs))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return s0(s),new gs(i.firestore,null,s)}}function In(i,e,...n){if(i=Ut(i),arguments.length===1&&(e=eg.newId()),R1("doc","path",e),i instanceof _d){const s=tt.fromString(e,...n);return i0(s),new ft(i,null,new me(s))}{if(!(i instanceof ft||i instanceof gs))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return i0(s),new ft(i.firestore,i instanceof gs?i.converter:null,new me(s))}}const Y0="AsyncQueue";class K0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vT(this,"async_queue_retry"),this._c=()=>{const s=Qm();s&&le(Y0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;le(Y0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ei("INTERNAL UNHANDLED ERROR: ",Q0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=vg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:Q0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Q0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Si extends _d{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new K0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K0(e),this._firestoreClient=void 0,await e}}}function x4(i,e){const n=typeof i=="object"?i:qp(),s=typeof i=="string"?i:jh,o=td(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=kE("firestore");u&&T4(o,...u)}return o}function vd(i){if(i._terminated)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||S4(i),i._firestoreClient}function S4(i){const e=i._freezeSettings(),n=E4(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new f4(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(Jt.fromBase64String(e))}catch(n){throw new oe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $n(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Dt("string",$n._jsonSchemaVersion),bytes:Dt("string")};class Cg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bd{constructor(e){this._methodName=e}}class Br{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Br._jsonSchemaVersion}}static fromJSON(e){if(vu(e,Br._jsonSchema))return new Br(e.latitude,e.longitude)}}Br._jsonSchemaVersion="firestore/geoPoint/1.0",Br._jsonSchema={type:Dt("string",Br._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class ur{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ur(e.vectorValues);throw new oe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ur._jsonSchemaVersion="firestore/vectorValue/1.0",ur._jsonSchema={type:Dt("string",ur._jsonSchemaVersion),vectorValues:Dt("object")};const A4=/^__.*__$/;class w4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,n,this.fieldTransforms):new bu(e,this.data,n,this.fieldTransforms)}}class UT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new As(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function PT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:i})}}class Ng{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return $h(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(PT(this.dataSource)&&A4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class R4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||pd(e)}createContext(e,n,s,o=!1){return new Ng({dataSource:e,methodName:n,targetDoc:s,path:Xt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ed(i){const e=i._freezeSettings(),n=pd(i._databaseId);return new R4(i._databaseId,!!e.ignoreUndefinedProperties,n)}function zT(i,e,n,s,o,u={}){const h=i.createContext(u.merge||u.mergeFields?2:0,e,n,o);Dg("Data must be an object, but it was:",h,s);const m=BT(s,h);let p,g;if(u.merge)p=new Cn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const S=pa(e,b,n);if(!h.contains(S))throw new oe(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);FT(T,S)||T.push(S)}p=new Cn(T),g=h.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=h.fieldTransforms;return new w4(new gn(m),p,g)}class Td extends bd{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Td}}class Ig extends bd{_toFieldTransform(e){return new mI(e.path,new lu)}isEqual(e){return e instanceof Ig}}function C4(i,e,n,s){const o=i.createContext(1,e,n);Dg("Data must be an object, but it was:",o,s);const u=[],h=gn.empty();Ss(s,((p,g)=>{const T=HT(e,p,n);g=Ut(g);const b=o.childContextForFieldPath(T);if(g instanceof Td)u.push(T);else{const S=Su(g,b);S!=null&&(u.push(T),h.set(T,S))}}));const m=new Cn(u);return new UT(h,m,o.fieldTransforms)}function N4(i,e,n,s,o,u){const h=i.createContext(1,e,n),m=[pa(e,s,n)],p=[o];if(u.length%2!=0)throw new oe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(pa(e,u[S])),p.push(u[S+1]);const g=[],T=gn.empty();for(let S=m.length-1;S>=0;--S)if(!FT(g,m[S])){const O=m[S];let D=p[S];D=Ut(D);const H=h.childContextForFieldPath(O);if(D instanceof Td)g.push(O);else{const G=Su(D,H);G!=null&&(g.push(O),T.set(O,G))}}const b=new Cn(g);return new UT(T,b,h.fieldTransforms)}function I4(i,e,n,s=!1){return Su(n,i.createContext(s?4:3,e))}function Su(i,e){if(qT(i=Ut(i)))return Dg("Unsupported field value:",e,i),BT(i,e);if(i instanceof bd)return(function(s,o){if(!PT(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Su(m,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return hI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Bh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,u)}}if(s instanceof Br)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $n)return{bytesValue:oT(o.serializer,s._byteString)};if(s instanceof ft){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:cg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ur)return(function(h,m){const p=h instanceof ur?h.toArray():h;return{mapValue:{fields:{[j1]:{stringValue:L1},[Lh]:{arrayValue:{values:p.map((T=>{if(typeof T!="number")throw m.createError("VectorValues must only contain numeric values.");return ag(m.serializer,T)}))}}}}}})(s,o);if(mT(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${sd(s)}`)})(i,e)}function BT(i,e){const n={};return I1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(i,((s,o)=>{const u=Su(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function qT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof Br||i instanceof $n||i instanceof ft||i instanceof bd||i instanceof ur||mT(i))}function Dg(i,e,n){if(!qT(n)||!C1(n)){const s=sd(n);throw s==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+s)}}function pa(i,e,n){if((e=Ut(e))instanceof Cg)return e._internalPath;if(typeof e=="string")return HT(i,e);throw $h("Field path arguments must be of type string or ",i,!1,void 0,n)}const D4=new RegExp("[~\\*/\\[\\]]");function HT(i,e,n){if(e.search(D4)>=0)throw $h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Cg(...e.split("."))._internalPath}catch{throw $h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function $h(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new oe(J.INVALID_ARGUMENT,m+i+p)}function FT(i,e){return i.some((n=>n.isEqual(e)))}class O4{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ss(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Lh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new ur(n)}convertGeoPoint(e){return new Br(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ld(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=vs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Ge(fT(s),9688,{name:e});const o=new su(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||Ei(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Og extends O4{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function M4(){return new Ig("serverTimestamp")}const X0="@firebase/firestore",J0="4.10.0";function W0(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class GT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new k4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(pa("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class k4 extends GT{data(){return super.data()}}function $T(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new oe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mg{}class kg extends Mg{}function Au(i,e,...n){let s=[];e instanceof Mg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof jg)).length,m=u.filter((p=>p instanceof xd)).length;if(h>1||h>0&&m>0)throw new oe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class xd extends kg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new xd(e,n,s)}_apply(e){const n=this._parse(e);return YT(e._query,n),new Ri(e.firestore,e.converter,yp(e._query,n))}_parse(e){const n=Ed(e.firestore);return(function(u,h,m,p,g,T,b){let S;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new oe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){eE(b,T);const D=[];for(const H of b)D.push(Z0(p,u,H));S={arrayValue:{values:D}}}else S=Z0(p,u,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||eE(b,T),S=I4(m,h,b,T==="in"||T==="not-in");return It.create(g,T,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Vg(i,e,n){const s=e,o=pa("where",i);return xd._create(o,s,n)}class jg extends Mg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)YT(h,p),h=yp(h,p)})(e._query,n),new Ri(e.firestore,e.converter,yp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lg extends kg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Lg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ou(u,h)})(e._query,this._field,this._direction);return new Ri(e.firestore,e.converter,rI(e._query,n))}}function Sd(i,e="asc"){const n=e,s=pa("orderBy",i);return Lg._create(s,n)}class Ug extends kg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Ug(e,n,s)}_apply(e){return new Ri(e.firestore,e.converter,Ph(e._query,this._limit,this._limitType))}}function V4(i){return Ug._create("limit",i,"F")}function Z0(i,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new oe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G1(e)&&n.indexOf("/")!==-1)throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!me.isDocumentKey(s))throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return f0(i,new me(s))}if(n instanceof ft)return f0(i,n._key);throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sd(n)}.`)}function eE(i,e){if(!Array.isArray(i)||i.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YT(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function KT(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends GT{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(pa("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:Dt("string",la._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class xh extends la{data(e={}){return super.data(e)}}class ua{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new xh(this._firestore,this._userDataWriter,s.key,s,new Yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:j4(m.type),doc:p,oldIndex:g,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ua._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function j4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:i})}}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:Dt("string",ua._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};function Rp(i){i=yn(i,ft);const e=yn(i.firestore,Si),n=vd(e);return y4(n,i._key).then((s=>QT(e,i,s)))}function Pg(i){i=yn(i,Ri);const e=yn(i.firestore,Si),n=vd(e),s=new Og(e);return $T(i._query),_4(n,i._query).then((o=>new ua(e,s,i,o)))}function L4(i,e,n){i=yn(i,ft);const s=yn(i.firestore,Si),o=KT(i.converter,e),u=Ed(s);return wd(s,[zT(u,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Yn.none())])}function hu(i,e,n,...s){i=yn(i,ft);const o=yn(i.firestore,Si),u=Ed(o);let h;return h=typeof(e=Ut(e))=="string"||e instanceof Cg?N4(u,"updateDoc",i._key,e,n,s):C4(u,"updateDoc",i._key,e),wd(o,[h.toMutation(i._key,Yn.exists(!0))])}function Ad(i){return wd(yn(i.firestore,Si),[new og(i._key,Yn.none())])}function zg(i,e){const n=yn(i.firestore,Si),s=In(i),o=KT(i.converter,e),u=Ed(i.firestore);return wd(n,[zT(u,"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Yn.exists(!1))]).then((()=>s))}function Bg(i,...e){i=Ut(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||W0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(W0(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,h,m;if(i instanceof ft)h=yn(i.firestore,Si),m=ud(i._key.path),u={next:g=>{e[s]&&e[s](QT(h,i,g))},error:e[s+1],complete:e[s+2]};else{const g=yn(i,Ri);h=yn(g.firestore,Si),m=g._query;const T=new Og(h);u={next:b=>{e[s]&&e[s](new ua(h,T,g,b))},error:e[s+1],complete:e[s+2]},$T(i._query)}const p=vd(h);return g4(p,m,o,u)}function wd(i,e){const n=vd(i);return v4(n,e)}function QT(i,e,n){const s=n.docs.get(e._key),o=new Og(i);return new la(i,o,e._key,s,new Yl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){yN(_a),ha(new ys("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Si(new bN(s.getProvider("auth-internal")),new xN(h,s.getProvider("app-check-internal")),zN(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Lr(X0,J0,e),Lr(X0,J0,"esm2020")})();const XT="firebasestorage.googleapis.com",U4="storageBucket",P4=120*1e3,z4=600*1e3;class $r extends Gr{constructor(e,n,s=0){super(Jm(e),`Firebase Storage: ${n} (${Jm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$r.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fr;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fr||(Fr={}));function Jm(i){return"storage/"+i}function B4(){const i="An unknown error occurred, please check the error payload for server response.";return new $r(Fr.UNKNOWN,i)}function q4(){return new $r(Fr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function H4(){return new $r(Fr.CANCELED,"User canceled the upload/download.")}function F4(i){return new $r(Fr.INVALID_URL,"Invalid URL '"+i+"'.")}function G4(i){return new $r(Fr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function tE(i){return new $r(Fr.INVALID_ARGUMENT,i)}function JT(){return new $r(Fr.APP_DELETED,"The Firebase app was deleted.")}function $4(i){return new $r(Fr.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class or{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=or.makeFromUrl(e,n)}catch{return new or(e,"")}if(s.path==="")return s;throw G4(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(de){de.path.charAt(de.path.length-1)==="/"&&(de.path_=de.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(de){de.path_=decodeURIComponent(de.path)}const T="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",O=new RegExp(`^https?://${b}/${T}/b/${o}/o${S}`,"i"),D={bucket:1,path:3},H=n===XT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,G="([^?#]*)",ne=new RegExp(`^https?://${H}/${o}/${G}`,"i"),re=[{regex:m,indices:p,postModify:u},{regex:O,indices:D,postModify:g},{regex:ne,indices:{bucket:1,path:2},postModify:g}];for(let de=0;de<re.length;de++){const Se=re[de],Ee=Se.regex.exec(e);if(Ee){const R=Ee[Se.indices.bucket];let w=Ee[Se.indices.path];w||(w=""),s=new or(R,w),Se.postModify(s);break}}if(s==null)throw F4(e);return s}}class Y4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function K4(i,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function T(...G){g||(g=!0,e.apply(null,G))}function b(G){o=setTimeout(()=>{o=null,i(O,p())},G)}function S(){u&&clearTimeout(u)}function O(G,...ne){if(g){S();return}if(G){S(),T.call(null,G,...ne);return}if(p()||h){S(),T.call(null,G,...ne);return}s<64&&(s*=2);let re;m===1?(m=2,re=0):re=(s+Math.random())*1e3,b(re)}let D=!1;function H(G){D||(D=!0,S(),!g&&(o!==null?(G||(m=2),clearTimeout(o),b(0)):G||(m=1)))}return b(0),u=setTimeout(()=>{h=!0,H(!0)},n),H}function Q4(i){i(!1)}function X4(i){return i!==void 0}function nE(i,e,n,s){if(s<e)throw tE(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw tE(`Invalid value for '${i}'. Expected ${n} or less.`)}function J4(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Yh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Yh||(Yh={}));function W4(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}class Z4{constructor(e,n,s,o,u,h,m,p,g,T,b,S=!0,O=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=T,this.connectionFactory_=b,this.retry=S,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,H)=>{this.resolve_=D,this.reject_=H,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new uh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Yh.NO_ERROR,p=u.getStatus();if(!m||W4(p,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===Yh.ABORT;s(!1,new uh(!1,null,T));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new uh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());X4(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=B4();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?JT():H4();h(p)}else{const p=q4();h(p)}};this.canceled_?n(!1,new uh(!1,null,!0)):this.backoffId_=K4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Q4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function eO(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function tO(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nO(i,e){e&&(i["X-Firebase-GMPID"]=e)}function rO(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function iO(i,e,n,s,o,u,h=!0,m=!1){const p=J4(i.urlParams),g=i.url+p,T=Object.assign({},i.headers);return nO(T,e),eO(T,n),tO(T,u),rO(T,s),new Z4(g,i.method,T,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}function sO(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function aO(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}class Kh{constructor(e,n){this._service=e,n instanceof or?this._location=n:this._location=or.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Kh(e,n)}get root(){const e=new or(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aO(this._location.path)}get storage(){return this._service}get parent(){const e=sO(this._location.path);if(e===null)return null;const n=new or(this._location.bucket,e);return new Kh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $4(e)}}function rE(i,e){const n=e?.[U4];return n==null?null:or.makeFromBucketSpec(n,i)}function oO(i,e,n,s={}){i.host=`${e}:${n}`;const o=ya(e);o&&(Up(`https://${i.host}/b`),Pp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:LE(u,i.app.options.projectId))}class lO{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=XT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=P4,this._maxUploadRetryTime=z4,this._requests=new Set,o!=null?this._bucket=or.makeFromBucketSpec(o,this._host):this._bucket=rE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=or.makeFromBucketSpec(this._url,e):this._bucket=rE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new Y4(JT());{const h=iO(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const iE="@firebase/storage",sE="0.14.0";const WT="storage";function uO(i=qp(),e){i=Ut(i);const s=td(i,WT).getImmediate({identifier:e}),o=kE("storage");return o&&cO(s,...o),s}function cO(i,e,n,s={}){oO(i,e,n,s)}function hO(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new lO(n,s,o,e,_a)}function dO(){ha(new ys(WT,hO,"PUBLIC").setMultipleInstances(!0)),Lr(iE,sE,""),Lr(iE,sE,"esm2020")}dO();const fO={apiKey:"AIzaSyBlW-nhvlaKqrDTSDIT0yN0IY8oqBFhOOY",authDomain:"mjhs-esports.firebaseapp.com",projectId:"mjhs-esports",storageBucket:"mjhs-esports.firebasestorage.app",messagingSenderId:"586504727075",appId:"1:586504727075:web:ec5707639e2dd654e9df96",measurementId:"G-4S7RNXD108"},qg=zE(fO),Wm=pN(qg),vt=x4(qg);uO(qg);const mO=new fi,pO=i=>i.endsWith("@madisonstudent.org")?"student":i.endsWith("@madison.k12.in.us")?"staff":"guest",ZT=k.createContext(),dr=()=>k.useContext(ZT),gO=({children:i})=>{const[e,n]=k.useState(null),[s,o]=k.useState(null),[u,h]=k.useState(!0),m=async()=>{try{const b=(await SC(Wm,mO)).user,S=pO(b.email),O=In(vt,"users",b.uid),D=await Rp(O);D.exists()?o(D.data().role):(await L4(O,{email:b.email,displayName:b.displayName,photoURL:b.photoURL,role:S,createdAt:new Date,stats:{}}),o(S))}catch(T){console.error("Login Error:",T),alert(T.message)}},p=()=>(o(null),iC(Wm));k.useEffect(()=>rC(Wm,async b=>{if(b){const S=In(vt,"users",b.uid),O=await Rp(S);O.exists()&&o(O.data().role)}else o(null);n(b),h(!1)}),[]);const g={currentUser:e,userRole:s,loginWithGoogle:m,logout:p};return _.jsx(ZT.Provider,{value:g,children:!u&&i})};let yO={data:""},_O=i=>{if(typeof window=="object"){let e=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(i||document.head).appendChild(e),e.firstChild}return i||yO},vO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,bO=/\/\*[^]*?\*\/|  +/g,aE=/\n+/g,hs=(i,e)=>{let n="",s="",o="";for(let u in i){let h=i[u];u[0]=="@"?u[1]=="i"?n=u+" "+h+";":s+=u[1]=="f"?hs(h,u):u+"{"+hs(h,u[1]=="k"?"":e)+"}":typeof h=="object"?s+=hs(h,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):h!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=hs.p?hs.p(u,h):u+":"+h+";")}return n+(e&&o?e+"{"+o+"}":o)+s},di={},ex=i=>{if(typeof i=="object"){let e="";for(let n in i)e+=n+ex(i[n]);return e}return i},EO=(i,e,n,s,o)=>{let u=ex(i),h=di[u]||(di[u]=(p=>{let g=0,T=11;for(;g<p.length;)T=101*T+p.charCodeAt(g++)>>>0;return"go"+T})(u));if(!di[h]){let p=u!==i?i:(g=>{let T,b,S=[{}];for(;T=vO.exec(g.replace(bO,""));)T[4]?S.shift():T[3]?(b=T[3].replace(aE," ").trim(),S.unshift(S[0][b]=S[0][b]||{})):S[0][T[1]]=T[2].replace(aE," ").trim();return S[0]})(i);di[h]=hs(o?{["@keyframes "+h]:p}:p,n?"":"."+h)}let m=n&&di.g?di.g:null;return n&&(di.g=di[h]),((p,g,T,b)=>{b?g.data=g.data.replace(b,p):g.data.indexOf(p)===-1&&(g.data=T?p+g.data:g.data+p)})(di[h],e,s,m),h},TO=(i,e,n)=>i.reduce((s,o,u)=>{let h=e[u];if(h&&h.call){let m=h(n),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;h=p?"."+p:m&&typeof m=="object"?m.props?"":hs(m,""):m===!1?"":m}return s+o+(h??"")},"");function Rd(i){let e=this||{},n=i.call?i(e.p):i;return EO(n.unshift?n.raw?TO(n,[].slice.call(arguments,1),e.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):n,_O(e.target),e.g,e.o,e.k)}let tx,Cp,Np;Rd.bind({g:1});let Ai=Rd.bind({k:1});function xO(i,e,n,s){hs.p=e,tx=i,Cp=n,Np=s}function ws(i,e){let n=this||{};return function(){let s=arguments;function o(u,h){let m=Object.assign({},u),p=m.className||o.className;n.p=Object.assign({theme:Cp&&Cp()},m),n.o=/ *go\d+/.test(p),m.className=Rd.apply(n,s)+(p?" "+p:"");let g=i;return i[0]&&(g=m.as||i,delete m.as),Np&&g[0]&&Np(m),tx(g,m)}return o}}var SO=i=>typeof i=="function",Qh=(i,e)=>SO(i)?i(e):i,AO=(()=>{let i=0;return()=>(++i).toString()})(),nx=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),wO=20,Hg="default",rx=(i,e)=>{let{toastLimit:n}=i.settings;switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,n)};case 1:return{...i,toasts:i.toasts.map(h=>h.id===e.toast.id?{...h,...e.toast}:h)};case 2:let{toast:s}=e;return rx(i,{type:i.toasts.find(h=>h.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...i,toasts:i.toasts.map(h=>h.id===o||o===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(h=>h.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let u=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+u}))}}},Sh=[],ix={toasts:[],pausedAt:void 0,settings:{toastLimit:wO}},jr={},sx=(i,e=Hg)=>{jr[e]=rx(jr[e]||ix,i),Sh.forEach(([n,s])=>{n===e&&s(jr[e])})},ax=i=>Object.keys(jr).forEach(e=>sx(i,e)),RO=i=>Object.keys(jr).find(e=>jr[e].toasts.some(n=>n.id===i)),Cd=(i=Hg)=>e=>{sx(e,i)},CO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},NO=(i={},e=Hg)=>{let[n,s]=k.useState(jr[e]||ix),o=k.useRef(jr[e]);k.useEffect(()=>(o.current!==jr[e]&&s(jr[e]),Sh.push([e,s]),()=>{let h=Sh.findIndex(([m])=>m===e);h>-1&&Sh.splice(h,1)}),[e]);let u=n.toasts.map(h=>{var m,p,g;return{...i,...i[h.type],...h,removeDelay:h.removeDelay||((m=i[h.type])==null?void 0:m.removeDelay)||i?.removeDelay,duration:h.duration||((p=i[h.type])==null?void 0:p.duration)||i?.duration||CO[h.type],style:{...i.style,...(g=i[h.type])==null?void 0:g.style,...h.style}}});return{...n,toasts:u}},IO=(i,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...n,id:n?.id||AO()}),wu=i=>(e,n)=>{let s=IO(e,i,n);return Cd(s.toasterId||RO(s.id))({type:2,toast:s}),s.id},jt=(i,e)=>wu("blank")(i,e);jt.error=wu("error");jt.success=wu("success");jt.loading=wu("loading");jt.custom=wu("custom");jt.dismiss=(i,e)=>{let n={type:3,toastId:i};e?Cd(e)(n):ax(n)};jt.dismissAll=i=>jt.dismiss(void 0,i);jt.remove=(i,e)=>{let n={type:4,toastId:i};e?Cd(e)(n):ax(n)};jt.removeAll=i=>jt.remove(void 0,i);jt.promise=(i,e,n)=>{let s=jt.loading(e.loading,{...n,...n?.loading});return typeof i=="function"&&(i=i()),i.then(o=>{let u=e.success?Qh(e.success,o):void 0;return u?jt.success(u,{id:s,...n,...n?.success}):jt.dismiss(s),o}).catch(o=>{let u=e.error?Qh(e.error,o):void 0;u?jt.error(u,{id:s,...n,...n?.error}):jt.dismiss(s)}),i};var DO=1e3,OO=(i,e="default")=>{let{toasts:n,pausedAt:s}=NO(i,e),o=k.useRef(new Map).current,u=k.useCallback((b,S=DO)=>{if(o.has(b))return;let O=setTimeout(()=>{o.delete(b),h({type:4,toastId:b})},S);o.set(b,O)},[]);k.useEffect(()=>{if(s)return;let b=Date.now(),S=n.map(O=>{if(O.duration===1/0)return;let D=(O.duration||0)+O.pauseDuration-(b-O.createdAt);if(D<0){O.visible&&jt.dismiss(O.id);return}return setTimeout(()=>jt.dismiss(O.id,e),D)});return()=>{S.forEach(O=>O&&clearTimeout(O))}},[n,s,e]);let h=k.useCallback(Cd(e),[e]),m=k.useCallback(()=>{h({type:5,time:Date.now()})},[h]),p=k.useCallback((b,S)=>{h({type:1,toast:{id:b,height:S}})},[h]),g=k.useCallback(()=>{s&&h({type:6,time:Date.now()})},[s,h]),T=k.useCallback((b,S)=>{let{reverseOrder:O=!1,gutter:D=8,defaultPosition:H}=S||{},G=n.filter(re=>(re.position||H)===(b.position||H)&&re.height),ne=G.findIndex(re=>re.id===b.id),te=G.filter((re,de)=>de<ne&&re.visible).length;return G.filter(re=>re.visible).slice(...O?[te+1]:[0,te]).reduce((re,de)=>re+(de.height||0)+D,0)},[n]);return k.useEffect(()=>{n.forEach(b=>{if(b.dismissed)u(b.id,b.removeDelay);else{let S=o.get(b.id);S&&(clearTimeout(S),o.delete(b.id))}})},[n,u]),{toasts:n,handlers:{updateHeight:p,startPause:m,endPause:g,calculateOffset:T}}},MO=Ai`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,kO=Ai`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,VO=Ai`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,jO=ws("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${MO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${kO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${VO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,LO=Ai`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,UO=ws("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${LO} 1s linear infinite;
`,PO=Ai`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,zO=Ai`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,BO=ws("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${PO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${zO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,qO=ws("div")`
  position: absolute;
`,HO=ws("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,FO=Ai`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,GO=ws("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${FO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$O=({toast:i})=>{let{icon:e,type:n,iconTheme:s}=i;return e!==void 0?typeof e=="string"?k.createElement(GO,null,e):e:n==="blank"?null:k.createElement(HO,null,k.createElement(UO,{...s}),n!=="loading"&&k.createElement(qO,null,n==="error"?k.createElement(jO,{...s}):k.createElement(BO,{...s})))},YO=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,KO=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,QO="0%{opacity:0;} 100%{opacity:1;}",XO="0%{opacity:1;} 100%{opacity:0;}",JO=ws("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,WO=ws("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ZO=(i,e)=>{let n=i.includes("top")?1:-1,[s,o]=nx()?[QO,XO]:[YO(n),KO(n)];return{animation:e?`${Ai(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ai(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},eM=k.memo(({toast:i,position:e,style:n,children:s})=>{let o=i.height?ZO(i.position||e||"top-center",i.visible):{opacity:0},u=k.createElement($O,{toast:i}),h=k.createElement(WO,{...i.ariaProps},Qh(i.message,i));return k.createElement(JO,{className:i.className,style:{...o,...n,...i.style}},typeof s=="function"?s({icon:u,message:h}):k.createElement(k.Fragment,null,u,h))});xO(k.createElement);var tM=({id:i,className:e,style:n,onHeightUpdate:s,children:o})=>{let u=k.useCallback(h=>{if(h){let m=()=>{let p=h.getBoundingClientRect().height;s(i,p)};m(),new MutationObserver(m).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return k.createElement("div",{ref:u,className:e,style:n},o)},nM=(i,e)=>{let n=i.includes("top"),s=n?{top:0}:{bottom:0},o=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:nx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...o}},rM=Rd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ch=16,iM=({reverseOrder:i,position:e="top-center",toastOptions:n,gutter:s,children:o,toasterId:u,containerStyle:h,containerClassName:m})=>{let{toasts:p,handlers:g}=OO(n,u);return k.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:ch,left:ch,right:ch,bottom:ch,pointerEvents:"none",...h},className:m,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(T=>{let b=T.position||e,S=g.calculateOffset(T,{reverseOrder:i,gutter:s,defaultPosition:e}),O=nM(b,S);return k.createElement(tM,{id:T.id,key:T.id,onHeightUpdate:g.updateHeight,className:T.visible?rM:"",style:O},T.type==="custom"?Qh(T.message,T):o?o(T):k.createElement(eM,{toast:T,position:b}))}))},sM=jt;const aM="/mjhs-esports-portal/assets/logo-6ixeAFF8.png",oM=()=>{const{currentUser:i,logout:e}=dr();return _.jsx("nav",{className:"bg-brand-black/90 backdrop-blur-md border-b border-brand-red/30 fixed w-full z-50 top-0",children:_.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"flex items-center justify-between h-20",children:[_.jsxs(on,{to:"/",className:"flex items-center gap-3 group",children:[_.jsx("img",{src:aM,alt:"MJHS Logo",className:"h-12 w-auto group-hover:scale-105 transition duration-300"}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx("span",{className:"font-titles text-brand-white text-xl tracking-wider leading-none",children:"MJHS ESPORTS"}),_.jsx("span",{className:"font-body text-brand-red text-xs tracking-widest font-bold",children:"PORTAL"})]})]}),_.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[_.jsx(hh,{to:"/",children:"HOME"}),_.jsx(hh,{to:"/roster",children:"MEET THE PLAYERS"}),_.jsx(hh,{to:"/matches",children:"MATCHES"}),_.jsx(hh,{to:"/store",children:"MERCH"}),i?_.jsx(on,{to:"/dashboard",className:"bg-brand-red text-white px-5 py-2 rounded font-titles tracking-wide hover:bg-brand-darkRed transition",children:"DASHBOARD"}):_.jsx(on,{to:"/login",className:"border border-brand-red text-brand-red px-5 py-2 rounded font-titles tracking-wide hover:bg-brand-red hover:text-white transition",children:"LOGIN"})]})]})})})},hh=({to:i,children:e})=>_.jsx(on,{to:i,className:"font-titles text-gray-300 hover:text-brand-yellow transition tracking-wide text-sm",children:e}),lM=()=>_.jsxs("div",{className:"min-h-screen bg-brand-black text-brand-white font-body selection:bg-brand-red selection:text-white",children:[_.jsx(oM,{}),_.jsxs("section",{className:"relative h-screen flex items-center justify-center overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-brand-black via-transparent to-brand-black z-10"}),_.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-brand-red/20 blur-[120px] rounded-full"}),_.jsxs("div",{className:"relative z-20 text-center max-w-4xl px-4",children:[_.jsx("h2",{className:"text-brand-yellow font-titles tracking-[0.2em] text-lg mb-4 animate-pulse",children:"MADISON JUNIOR HIGH SCHOOL"}),_.jsxs("h1",{className:"font-titles text-7xl md:text-9xl text-white mb-2 leading-tight",children:["#LEVEL",_.jsx("span",{className:"text-brand-red",children:"UP"})]}),_.jsx("p",{className:"font-body text-gray-400 text-lg md:text-xl max-w-2xl mx-auto mb-10",children:"The official home of the Esports Cubs. Competing in Rocket League, Super Smash Bros, Minecraft, and more."}),_.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[_.jsx(on,{to:"/matches",className:"bg-brand-red text-white px-8 py-4 rounded font-titles text-xl hover:bg-brand-darkRed transition shadow-[0_0_20px_rgba(176,12,26,0.4)] hover:shadow-[0_0_30px_rgba(176,12,26,0.6)]",children:"WATCH LIVE"}),_.jsx(on,{to:"/roster",className:"border border-brand-grey text-white px-8 py-4 rounded font-titles text-xl hover:bg-brand-white hover:text-brand-black transition",children:"MEET THE TEAM"}),_.jsx(on,{to:"/login",children:_.jsx("button",{className:"bg-brand-red text-white font-titles text-xl px-8 py-4 skew-x-[-10deg] hover:bg-brand-darkRed hover:scale-105 transition-all duration-300 border-2 border-brand-red shadow-[0_0_20px_rgba(176,12,26,0.5)]",children:_.jsx("span",{className:"skew-x-[10deg] block",children:"JOIN THE TEAM"})})})]})]})]}),_.jsx("div",{className:"bg-brand-red py-4 overflow-hidden whitespace-nowrap border-y-4 border-brand-darkRed",children:_.jsx("div",{className:"inline-block animate-marquee font-titles text-2xl text-brand-black font-bold tracking-wider",children:"ROCKET LEAGUE  //  SUPER SMASH BROS  //  MINECRAFT  //  MARIO KART  //  FORTNITE  //  MARVEL RIVALS  //  CHESS  //  TETRIS  // ROCKET LEAGUE  //  SUPER SMASH BROS  //  MINECRAFT  //  MARIO KART  //  FORTNITE  //  MARVEL RIVALS  //  CHESS  //  TETRIS"})})]});const uM=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cM=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),oE=i=>{const e=cM(i);return e.charAt(0).toUpperCase()+e.slice(1)},ox=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),hM=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var dM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fM=k.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>k.createElement("svg",{ref:p,...dM,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:ox("lucide",o),...!u&&!hM(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,T])=>k.createElement(g,T)),...Array.isArray(u)?u:[u]]));const Le=(i,e)=>{const n=k.forwardRef(({className:s,...o},u)=>k.createElement(fM,{ref:u,iconNode:e,className:ox(`lucide-${uM(oE(i))}`,`lucide-${i}`,s),...o}));return n.displayName=oE(i),n};const mM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],pM=Le("activity",mM);const gM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Zm=Le("arrow-right",gM);const yM=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],_M=Le("banknote",yM);const vM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ah=Le("calendar",vM);const bM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],EM=Le("circle-check-big",bM);const TM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lx=Le("clock",TM);const xM=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],SM=Le("credit-card",xM);const AM=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],wM=Le("dollar-sign",AM);const RM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],CM=Le("file-text",RM);const NM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],IM=Le("funnel",NM);const DM=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],ux=Le("gamepad-2",DM);const OM=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],lE=Le("hash",OM);const MM=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],kM=Le("inbox",MM);const VM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],jM=Le("layout-dashboard",VM);const LM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],UM=Le("log-out",LM);const PM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],zM=Le("mail",PM);const BM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],cx=Le("map-pin",BM);const qM=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],HM=Le("menu",qM);const FM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],hx=Le("message-square",FM);const GM=[["path",{d:"M5 12h14",key:"1ays0h"}]],$M=Le("minus",GM);const YM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],KM=Le("pencil",YM);const QM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xh=Le("plus",QM);const XM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],dx=Le("save",XM);const JM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],WM=Le("search",JM);const ZM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],e3=Le("send",ZM);const t3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],n3=Le("shield",t3);const r3=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],i3=Le("shopping-bag",r3);const s3=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],uE=Le("shopping-cart",s3);const a3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Nd=Le("trash-2",a3);const o3=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],l3=Le("trending-down",o3);const u3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],c3=Le("trending-up",u3);const h3=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Fg=Le("trophy",h3);const d3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fx=Le("user",d3);const f3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],m3=Le("users",f3);const p3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Jh=Le("x",p3),g3=({isOpen:i,toggleSidebar:e})=>{const{logout:n,userRole:s}=dr(),o=wi(),h=[{label:"Dashboard",path:"/dashboard",icon:_.jsx(jM,{size:20}),roles:["all"]},{label:"Inbox",path:"/dashboard/inbox",icon:_.jsx(kM,{size:20}),roles:["admin","coach"]},{label:"Roster & Teams",path:"/dashboard/roster",icon:_.jsx(m3,{size:20}),roles:["admin","coach"]},{label:"Financials",path:"/dashboard/financials",icon:_.jsx(_M,{size:20}),roles:["admin","coach","staff"]},{label:"Join Team",path:"/dashboard/application",icon:_.jsx(CM,{size:20}),roles:["student","guest"]},{label:"Comms",path:"/dashboard/comms",icon:_.jsx(hx,{size:20}),roles:["all"]},{label:"Calendar",path:"/dashboard/calendar",icon:_.jsx(Ah,{size:20}),roles:["all"]},{label:"My Stats",path:"/dashboard/stats",icon:_.jsx(Fg,{size:20}),roles:["all"]},{label:"Store",path:"/dashboard/store",icon:_.jsx(i3,{size:20}),roles:["all"]}].filter(m=>m.roles.includes("all")||m.roles.includes(s));return _.jsxs(_.Fragment,{children:[i&&_.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:e}),_.jsxs("div",{className:`
        fixed md:static inset-y-0 left-0 z-50
        w-64 bg-brand-black border-r border-brand-grey/20 flex flex-col
        transform transition-transform duration-300 ease-in-out
        ${i?"translate-x-0":"-translate-x-full"} 
        md:translate-x-0
      `,children:[_.jsxs("div",{className:"h-20 flex items-center justify-between px-6 border-b border-brand-grey/20",children:[_.jsxs("h1",{className:"font-titles text-2xl text-brand-red tracking-wider",children:["MJHS",_.jsx("span",{className:"text-white",children:"PORTAL"})]}),_.jsx("button",{onClick:e,className:"md:hidden text-brand-grey hover:text-white",children:_.jsx(Jh,{size:24})})]}),_.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:h.map(m=>{const p=o.pathname===m.path;return _.jsxs(on,{to:m.path,onClick:()=>window.innerWidth<768&&e(),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group ${p?"bg-brand-red text-white shadow-[0_0_10px_rgba(176,12,26,0.4)]":"text-brand-grey hover:bg-white/5 hover:text-white"}`,children:[_.jsx("span",{className:p?"text-white":"text-brand-grey group-hover:text-white",children:m.icon}),_.jsx("span",{className:"font-titles tracking-wide text-sm",children:m.label.toUpperCase()})]},m.path)})}),_.jsx("div",{className:"p-4 border-t border-brand-grey/20",children:_.jsxs("button",{onClick:n,className:"flex items-center gap-3 px-4 py-3 w-full rounded-lg text-brand-grey hover:bg-brand-red/10 hover:text-brand-red transition-all duration-200",children:[_.jsx(UM,{size:20}),_.jsx("span",{className:"font-titles tracking-wide text-sm",children:"LOG OUT"})]})})]})]})},y3=()=>{const[i,e]=k.useState(!1),n=()=>e(!i);return _.jsxs("div",{className:"flex min-h-screen bg-[#0a0a0a]",children:[_.jsx(g3,{isOpen:i,toggleSidebar:n}),_.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[_.jsxs("div",{className:"md:hidden h-16 flex items-center justify-between px-4 border-b border-brand-grey/20 bg-brand-black",children:[_.jsx("h1",{className:"font-titles text-xl text-brand-white",children:"MJHS ESPORTS"}),_.jsx("button",{onClick:n,className:"text-brand-white p-2",children:_.jsx(HM,{size:24})})]}),_.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto overflow-x-hidden",children:_.jsx("div",{className:"max-w-7xl mx-auto",children:_.jsx(JA,{})})})]})]})},_3=()=>{const{currentUser:i,userRole:e}=dr(),[n,s]=k.useState(null),[o,u]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const p=new Date().toISOString().split("T")[0],g=Au(xi(vt,"events"),Vg("date",">=",p),Sd("date","asc"),V4(1)),T=await Pg(g);if(T.empty)s(null);else{const b=T.docs[0].data();s({id:T.docs[0].id,...b})}}catch(p){console.error("Error fetching next event:",p)}finally{u(!1)}})()},[]);const h=m=>{if(!m)return"";const p={weekday:"short",month:"short",day:"numeric"};return new Date(m).toLocaleDateString("en-US",p)};return _.jsxs("div",{className:"space-y-8 animate-fade-in",children:[_.jsxs("div",{children:[_.jsxs("h1",{className:"font-titles text-4xl md:text-5xl text-brand-white mb-2",children:["WELCOME BACK, ",_.jsx("span",{className:"text-brand-red",children:i.displayName||"PLAYER"})]}),_.jsxs("p",{className:"font-body text-brand-grey text-lg",children:["System Status: ",_.jsx("span",{className:"text-brand-green font-bold",children:"ONLINE"})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[_.jsxs("div",{className:"lg:col-span-2 bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden relative group",children:[_.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition",children:_.jsx(Ah,{size:120})}),_.jsxs("div",{className:"p-8 relative z-10",children:[_.jsxs("h2",{className:"font-titles text-2xl text-brand-yellow mb-6 flex items-center gap-2",children:[_.jsx(Ah,{className:"text-brand-red"})," UPCOMING EVENT"]}),o?_.jsx("div",{className:"h-24 flex items-center text-brand-grey animate-pulse",children:"Loading schedule..."}):n?_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("div",{className:"text-brand-grey text-sm font-bold tracking-widest mb-1",children:"EVENT TITLE"}),_.jsx("div",{className:"font-titles text-4xl md:text-5xl text-brand-white tracking-wide",children:n.title.toUpperCase()})]}),_.jsxs("div",{className:"flex flex-wrap gap-6 mt-4",children:[_.jsxs("div",{className:"flex items-center gap-2 text-brand-grey",children:[_.jsx("div",{className:"bg-brand-red p-2 rounded text-white",children:_.jsx(Ah,{size:18})}),_.jsx("span",{className:"text-lg text-white",children:h(n.date)})]}),_.jsxs("div",{className:"flex items-center gap-2 text-brand-grey",children:[_.jsx("div",{className:"bg-brand-yellow p-2 rounded text-brand-black",children:_.jsx(lx,{size:18})}),_.jsx("span",{className:"text-lg text-white",children:n.time})]}),_.jsxs("div",{className:"flex items-center gap-2 text-brand-grey",children:[_.jsx("div",{className:"bg-brand-grey p-2 rounded text-white",children:_.jsx(cx,{size:18})}),_.jsx("span",{className:"text-lg text-white",children:n.location})]})]}),_.jsx("div",{className:"mt-6 pt-6 border-t border-brand-grey/10",children:_.jsx("span",{className:`px-3 py-1 rounded text-sm font-bold border ${n.type==="Match"?"bg-brand-red text-white border-brand-red":n.type==="Practice"?"bg-brand-yellow text-brand-black border-brand-yellow":"bg-brand-grey text-white border-brand-grey"}`,children:n.type.toUpperCase()})})]}):_.jsxs("div",{className:"py-8",children:[_.jsx("h3",{className:"text-2xl text-brand-white font-titles",children:"NO UPCOMING EVENTS"}),_.jsx("p",{className:"text-brand-grey mt-2",children:"The calendar is currently clear."}),_.jsx(on,{to:"/dashboard/calendar",className:"inline-block mt-4 text-brand-red hover:text-white transition",children:"View Full Schedule "})]})]})]}),_.jsx("div",{className:"bg-brand-black border border-brand-grey/20 rounded-xl p-6 flex flex-col justify-between",children:_.jsxs("div",{children:[_.jsx("h2",{className:"font-titles text-xl text-brand-white mb-4",children:"QUICK ACTIONS"}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs(on,{to:"/dashboard/comms",className:"flex items-center justify-between bg-brand-red text-white p-4 rounded hover:bg-brand-darkRed group transition border border-brand-red",children:[_.jsx("span",{className:"font-bold",children:"TEAM CHAT"}),_.jsx(Zm,{size:18,className:"text-white/70 group-hover:text-white"})]}),_.jsxs(on,{to:"/dashboard/stats",className:"flex items-center justify-between bg-brand-yellow text-brand-black p-4 rounded hover:bg-yellow-400 group transition border border-brand-yellow",children:[_.jsx("span",{className:"font-bold",children:"UPDATE PROFILE"}),_.jsx(Zm,{size:18,className:"text-brand-black/50 group-hover:text-brand-black"})]}),(e==="admin"||e==="coach")&&_.jsxs(on,{to:"/dashboard/roster",className:"flex items-center justify-between bg-brand-white text-brand-black p-4 rounded hover:bg-gray-200 group transition border border-brand-white",children:[_.jsx("span",{className:"font-bold",children:"MANAGE ROSTER"}),_.jsx(Zm,{size:18,className:"text-brand-black/50 group-hover:text-brand-black"})]})]})]})}),_.jsxs("div",{className:"md:col-span-3 bg-brand-red text-white rounded-xl p-8 flex flex-col md:flex-row items-center justify-between relative overflow-hidden",children:[_.jsxs("div",{className:"relative z-10",children:[_.jsx("h2",{className:"font-titles text-3xl mb-2",children:"ARE YOU GAME READY?"}),_.jsx("p",{className:"opacity-90 max-w-xl",children:"Ensure your profile is up to date with your current rank and active games. Coaches use this data for roster selection."})]}),_.jsx("div",{className:"relative z-10 mt-6 md:mt-0",children:_.jsx(on,{to:"/dashboard/stats",children:_.jsx("button",{className:"bg-brand-black text-white px-6 py-3 rounded font-titles font-bold hover:bg-brand-yellow hover:text-brand-black transition border-2 border-brand-black",children:"UPDATE MY STATS"})})}),_.jsx(Fg,{className:"absolute -right-10 -bottom-10 text-brand-darkRed opacity-50 rotate-12",size:200})]})]})]})},v3=["Rocket League","Super Smash Bros Ultimate","Minecraft (Bed Wars)","Mario Kart","Fortnite (Zone Wars)","Marvel Rivals","Chess","Tetris"],b3=()=>{const{currentUser:i}=dr(),[e,n]=k.useState(!1),[s,o]=k.useState({gamertag:"",discord:"",grade:"",bio:"",games:[]});k.useEffect(()=>{(async()=>{if(i){const g=In(vt,"users",i.uid),T=await Rp(g);if(T.exists()){const b=T.data();o({gamertag:b.gamertag||"",discord:b.discord||"",grade:b.grade||"",bio:b.bio||"",games:b.games||[]})}}})()},[i]);const u=p=>{o({...s,[p.target.name]:p.target.value})},h=p=>{o(g=>g.games.includes(p)?{...g,games:g.games.filter(b=>b!==p)}:{...g,games:[...g.games,p]})},m=async p=>{p.preventDefault(),n(!0);const g=In(vt,"users",i.uid),T=hu(g,{gamertag:s.gamertag,discord:s.discord,grade:s.grade,bio:s.bio,games:s.games,updatedAt:new Date});try{await sM.promise(T,{loading:"Saving Profile...",success:"Profile Updated Successfully!",error:"Failed to update profile."})}catch(b){console.error("Error updating profile:",b)}n(!1)};return _.jsxs("div",{className:"max-w-4xl",children:[_.jsx("h2",{className:"font-titles text-3xl text-brand-white mb-6 border-b border-brand-grey/20 pb-4",children:"PLAYER PROFILE"}),_.jsxs("form",{onSubmit:m,className:"space-y-8",children:[_.jsxs("div",{className:"bg-brand-black border border-brand-grey/20 p-6 rounded-xl",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-6 text-brand-red",children:[_.jsx(fx,{size:24}),_.jsx("h3",{className:"font-titles text-xl",children:"IDENTITY"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-brand-grey text-sm mb-2",children:"Gamertag"}),_.jsx("input",{type:"text",name:"gamertag",value:s.gamertag,onChange:u,placeholder:"Ex: NinjaCuber99",className:"w-full bg-[#111] border border-brand-grey/30 rounded p-3 text-white focus:border-brand-red focus:outline-none"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-brand-grey text-sm mb-2",children:"Discord Username"}),_.jsx("input",{type:"text",name:"discord",value:s.discord,onChange:u,placeholder:"username#0000",className:"w-full bg-[#111] border border-brand-grey/30 rounded p-3 text-white focus:border-brand-red focus:outline-none"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-brand-grey text-sm mb-2",children:"Grade Level"}),_.jsxs("select",{name:"grade",value:s.grade,onChange:u,className:"w-full bg-[#111] border border-brand-grey/30 rounded p-3 text-white focus:border-brand-red focus:outline-none",children:[_.jsx("option",{value:"",children:"Select Grade"}),_.jsx("option",{value:"6",children:"6th Grade"}),_.jsx("option",{value:"7",children:"7th Grade"}),_.jsx("option",{value:"8",children:"8th Grade"}),_.jsx("option",{value:"Staff",children:"Staff / Coach"})]})]})]})]}),_.jsxs("div",{className:"bg-brand-black border border-brand-grey/20 p-6 rounded-xl",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-6 text-brand-red",children:[_.jsx(ux,{size:24}),_.jsx("h3",{className:"font-titles text-xl",children:"ACTIVE GAMES"})]}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:v3.map(p=>_.jsx("button",{type:"button",onClick:()=>h(p),className:`p-4 rounded-lg text-sm font-bold transition-all duration-200 border ${s.games.includes(p)?"bg-brand-red text-white border-brand-red shadow-[0_0_10px_rgba(176,12,26,0.4)]":"bg-[#111] text-brand-grey border-brand-grey/20 hover:border-brand-white"}`,children:p},p))})]}),_.jsx("div",{className:"flex justify-end",children:_.jsxs("button",{type:"submit",disabled:e,className:"flex items-center gap-2 bg-brand-yellow text-brand-black px-8 py-3 rounded font-titles font-bold hover:bg-white transition",children:[_.jsx(dx,{size:20}),e?"SAVING...":"SAVE PROFILE"]})})]})]})},Id=()=>_.jsx("div",{className:"flex justify-center items-center py-20",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-brand-red"})}),E3=({player:i,onClose:e,onUpdate:n})=>{const[s,o]=k.useState(!1),[u,h]=k.useState({gamertag:i.gamertag||"",discord:i.discord||"",role:i.role||"student",stats:{goals:i.stats?.goals||0,assists:i.stats?.assists||0,wins:i.stats?.wins||0,mvps:i.stats?.mvps||0}}),m=(g,T)=>{h(b=>({...b,stats:{...b.stats,[g]:parseInt(T)||0}}))},p=async g=>{g.preventDefault(),o(!0);try{const T=In(vt,"users",i.id);await hu(T,{gamertag:u.gamertag,discord:u.discord,role:u.role,stats:u.stats}),n(),e()}catch(T){console.error("Error updating player:",T),alert("Failed to update profile.")}finally{o(!1)}};return _.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-[#111] w-full max-w-2xl rounded-xl border border-brand-red/50 shadow-[0_0_30px_rgba(176,12,26,0.2)] overflow-hidden animate-fade-in",children:[_.jsxs("div",{className:"bg-brand-red p-4 flex justify-between items-center",children:[_.jsxs("h2",{className:"font-titles text-xl text-white",children:["EDIT PLAYER: ",i.gamertag]}),_.jsx("button",{onClick:e,className:"text-white hover:text-brand-black",children:_.jsx(Jh,{})})]}),_.jsxs("form",{onSubmit:p,className:"p-6 space-y-6 overflow-y-auto max-h-[80vh]",children:[_.jsxs("div",{className:"space-y-4",children:[_.jsxs("h3",{className:"text-brand-grey text-sm font-bold flex items-center gap-2",children:[_.jsx(pM,{size:16})," PROFILE DETAILS"]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Gamertag"}),_.jsx("input",{type:"text",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.gamertag,onChange:g=>h({...u,gamertag:g.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Discord"}),_.jsx("input",{type:"text",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.discord,onChange:g=>h({...u,discord:g.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Role (Permission Level)"}),_.jsxs("select",{className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.role,onChange:g=>h({...u,role:g.target.value}),children:[_.jsx("option",{value:"student",children:"Student (No Access)"}),_.jsx("option",{value:"player",children:"Player (Roster Access)"}),_.jsx("option",{value:"coach",children:"Coach (Admin Access)"})]})]})]})]}),_.jsxs("div",{className:"space-y-4 pt-4 border-t border-brand-grey/20",children:[_.jsxs("h3",{className:"text-brand-yellow text-sm font-bold flex items-center gap-2",children:[_.jsx(Fg,{size:16})," SEASON STATISTICS"]}),_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Goals / Points"}),_.jsx("input",{type:"number",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.stats.goals,onChange:g=>m("goals",g.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Assists"}),_.jsx("input",{type:"number",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.stats.assists,onChange:g=>m("assists",g.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Wins"}),_.jsx("input",{type:"number",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.stats.wins,onChange:g=>m("wins",g.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"MVPs"}),_.jsx("input",{type:"number",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.stats.mvps,onChange:g=>m("mvps",g.target.value)})]})]})]}),_.jsx("button",{disabled:s,className:"w-full bg-brand-red text-white font-titles py-3 rounded hover:bg-brand-darkRed transition flex justify-center items-center gap-2",children:s?"SAVING...":_.jsxs(_.Fragment,{children:[_.jsx(dx,{size:20})," SAVE CHANGES"]})})]})]})})},T3=["All","Rocket League","Super Smash Bros Ultimate","Minecraft (Bed Wars)","Mario Kart","Fortnite (Zone Wars)","Marvel Rivals","Chess","Tetris"],x3=()=>{const{userRole:i}=dr(),[e,n]=k.useState([]),[s,o]=k.useState(!0),[u,h]=k.useState("All"),[m,p]=k.useState(""),[g,T]=k.useState(null),b=async()=>{try{const H=(await Pg(xi(vt,"users"))).docs.map(G=>({id:G.id,...G.data()}));n(H)}catch(D){console.error("Error fetching roster:",D)}finally{o(!1)}};k.useEffect(()=>{b()},[]);const S=async D=>{if(window.confirm("Are you sure you want to remove this player? This cannot be undone."))try{await Ad(In(vt,"users",D)),n(H=>H.filter(G=>G.id!==D))}catch(H){console.error("Error deleting player:",H),alert("Could not delete player.")}},O=e.filter(D=>{const H=u==="All"?!0:D.games&&D.games.includes(u),G=D.gamertag?.toLowerCase().includes(m.toLowerCase())||D.email?.toLowerCase().includes(m.toLowerCase());return H&&G});return _.jsxs("div",{className:"space-y-6",children:[g&&_.jsx(E3,{player:g,onClose:()=>T(null),onUpdate:b}),_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end border-b border-brand-grey/20 pb-4 gap-4",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"TEAM ROSTER"}),_.jsx("p",{className:"text-brand-grey text-sm",children:"Manage players and view game assignments"})]}),_.jsxs("div",{className:"bg-brand-red px-4 py-1 rounded text-white font-titles text-sm",children:["TOTAL PLAYERS: ",O.length]})]}),_.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-brand-black border border-brand-grey/20 p-4 rounded-xl",children:[_.jsxs("div",{className:"relative flex-1",children:[_.jsx(WM,{className:"absolute left-3 top-3 text-brand-grey",size:20}),_.jsx("input",{type:"text",placeholder:"Search Gamertag or Email...",className:"w-full bg-[#111] border border-brand-grey/30 rounded pl-10 pr-4 py-2 text-white focus:border-brand-red focus:outline-none",value:m,onChange:D=>p(D.target.value)})]}),_.jsxs("div",{className:"relative w-full md:w-64",children:[_.jsx(IM,{className:"absolute left-3 top-3 text-brand-grey",size:20}),_.jsx("select",{className:"w-full bg-[#111] border border-brand-grey/30 rounded pl-10 pr-4 py-2 text-white focus:border-brand-red focus:outline-none appearance-none",value:u,onChange:D=>h(D.target.value),children:T3.map(D=>_.jsx("option",{value:D,children:D},D))})]})]}),s?_.jsx(Id,{}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:O.map(D=>_.jsxs("div",{className:"bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden hover:border-brand-red/50 transition group relative",children:[(i==="admin"||i==="coach")&&_.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[_.jsx("button",{onClick:()=>T(D),className:"p-2 bg-brand-yellow text-brand-black rounded hover:bg-white",title:"Edit Player",children:_.jsx(KM,{size:16})}),_.jsx("button",{onClick:()=>S(D.id),className:"p-2 bg-brand-red text-white rounded hover:bg-red-700",title:"Remove Player",children:_.jsx(Nd,{size:16})})]}),_.jsxs("div",{className:"bg-[#111] p-4 border-b border-brand-grey/10 flex justify-between items-start",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"font-titles text-xl text-brand-white group-hover:text-brand-yellow truncate",children:D.gamertag||"No Gamertag"}),_.jsxs("div",{className:"flex items-center gap-2 text-brand-grey text-xs mt-1",children:[_.jsx(zM,{size:12}),_.jsx("span",{className:"truncate max-w-[150px]",children:D.email})]})]}),_.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase border ${D.role==="coach"?"bg-brand-red text-white border-brand-red":D.role==="player"?"bg-brand-grey/10 text-brand-grey border-brand-grey/20":"bg-brand-yellow/10 text-brand-yellow border-brand-yellow/20"}`,children:D.role||"Student"})]}),_.jsxs("div",{className:"p-4 space-y-4",children:[_.jsxs("div",{className:"flex items-center gap-3 text-sm text-brand-grey",children:[_.jsx(hx,{size:16,className:"text-brand-purple"}),_.jsx("span",{children:D.discord||"No Discord linked"})]}),_.jsxs("div",{className:"flex items-center gap-3 text-sm text-brand-grey",children:[_.jsx(fx,{size:16,className:"text-brand-red"}),_.jsx("span",{children:D.grade?`${D.grade}th Grade`:"Grade not set"})]}),D.stats&&(D.stats.wins>0||D.stats.goals>0)&&_.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-[#0a0a0a] p-2 rounded border border-brand-grey/10",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("span",{className:"block font-titles text-brand-red",children:D.stats.wins}),_.jsx("span",{className:"text-[10px] text-brand-grey",children:"WINS"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("span",{className:"block font-titles text-brand-white",children:D.stats.goals}),_.jsx("span",{className:"text-[10px] text-brand-grey",children:"GOALS"})]})]}),_.jsxs("div",{className:"pt-2 border-t border-brand-grey/10",children:[_.jsxs("p",{className:"text-xs text-brand-grey mb-2 flex items-center gap-1",children:[_.jsx(ux,{size:12})," ACTIVE GAMES"]}),_.jsx("div",{className:"flex flex-wrap gap-2",children:D.games&&D.games.length>0?D.games.map(H=>_.jsx("span",{className:"text-[10px] px-2 py-1 bg-brand-red/10 text-brand-red border border-brand-red/30 rounded",children:H},H)):_.jsx("span",{className:"text-[10px] text-brand-grey italic",children:"No games selected"})})]})]})]},D.id))})]})},S3=[{id:"general",name:"general",locked:!1},{id:"announcements",name:"announcements",locked:!0},{id:"rocket-league",name:"rocket-league",locked:!1},{id:"smash-bros",name:"smash-bros",locked:!1},{id:"minecraft",name:"minecraft",locked:!1}],A3=()=>{const{currentUser:i,userRole:e}=dr(),[n,s]=k.useState("general"),[o,u]=k.useState([]),[h,m]=k.useState(""),p=k.useRef();k.useEffect(()=>{const b=Au(xi(vt,"messages"),Vg("channel","==",n),Sd("createdAt","asc")),S=Bg(b,O=>{const D=O.docs.map(H=>({id:H.id,...H.data()}));u(D),p.current?.scrollIntoView({behavior:"smooth"})});return()=>S()},[n]);const g=async b=>{if(b.preventDefault(),!!h.trim()){if(n==="announcements"&&e==="student"){alert("Only Staff can post in Announcements.");return}try{await zg(xi(vt,"messages"),{text:h,createdAt:M4(),uid:i.uid,displayName:i.displayName||i.email.split("@")[0],photoURL:i.photoURL,role:e,channel:n}),m("")}catch(S){console.error("Error sending message:",S)}}},T=async b=>{window.confirm("Delete this message?")&&await Ad(In(vt,"messages",b))};return _.jsxs("div",{className:"flex h-[calc(100vh-140px)] bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden",children:[_.jsxs("div",{className:"w-64 bg-[#111] border-r border-brand-grey/20 flex flex-col",children:[_.jsx("div",{className:"p-4 border-b border-brand-grey/20",children:_.jsx("h3",{className:"font-titles text-brand-white tracking-wider",children:"CHANNELS"})}),_.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:S3.map(b=>_.jsxs("button",{onClick:()=>s(b.id),className:`w-full flex items-center gap-2 px-3 py-2 rounded text-sm font-bold transition ${n===b.id?"bg-brand-red/20 text-brand-white border-l-2 border-brand-red":"text-brand-grey hover:bg-brand-grey/10 hover:text-brand-white"}`,children:[_.jsx(lE,{size:16}),b.name,b.locked&&_.jsx(n3,{size:12,className:"ml-auto text-brand-yellow"})]},b.id))})]}),_.jsxs("div",{className:"flex-1 flex flex-col bg-brand-black relative",children:[_.jsxs("div",{className:"h-14 border-b border-brand-grey/20 flex items-center px-6 bg-[#0a0a0a]",children:[_.jsx(lE,{className:"text-brand-grey mr-2",size:20}),_.jsx("span",{className:"font-titles text-lg text-white",children:n}),n==="announcements"&&_.jsx("span",{className:"ml-4 text-xs text-brand-yellow border border-brand-yellow/30 px-2 py-1 rounded",children:"READ ONLY"})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[o.map(b=>{const S=b.uid===i.uid;return _.jsxs("div",{className:`flex gap-3 group ${S?"flex-row-reverse":""}`,children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-grey/30 flex items-center justify-center overflow-hidden flex-shrink-0 border border-brand-grey/20",children:b.photoURL?_.jsx("img",{src:b.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):_.jsx("span",{className:"text-xs font-bold text-white",children:b.displayName?.[0]?.toUpperCase()})}),_.jsxs("div",{className:`flex flex-col ${S?"items-end":"items-start"} max-w-[70%]`,children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx("span",{className:"text-xs font-bold text-brand-grey",children:b.displayName}),b.role==="admin"&&_.jsx("span",{className:"text-[10px] bg-brand-red text-white px-1 rounded",children:"ADMIN"})]}),_.jsx("div",{className:`px-4 py-2 rounded-lg text-sm ${S?"bg-brand-red text-white rounded-tr-none":"bg-[#222] text-gray-200 border border-brand-grey/20 rounded-tl-none"}`,children:b.text}),(e==="admin"||e==="coach")&&_.jsx("button",{onClick:()=>T(b.id),className:"opacity-0 group-hover:opacity-100 absolute -right-8 top-2 text-brand-grey hover:text-brand-red transition",children:_.jsx(Nd,{size:14})})]})]},b.id)}),_.jsx("div",{ref:p})]}),_.jsx("div",{className:"p-4 bg-[#111] border-t border-brand-grey/20",children:_.jsxs("form",{onSubmit:g,className:"flex gap-2",children:[_.jsx("input",{type:"text",value:h,onChange:b=>m(b.target.value),disabled:n==="announcements"&&e==="student",placeholder:n==="announcements"&&e==="student"?"Read Only Channel":`Message #${n}`,className:"flex-1 bg-brand-black border border-brand-grey/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-brand-red disabled:opacity-50 disabled:cursor-not-allowed"}),_.jsx("button",{type:"submit",disabled:!h.trim()||n==="announcements"&&e==="student",className:"bg-brand-red text-white p-3 rounded-lg hover:bg-brand-darkRed transition disabled:opacity-50 disabled:cursor-not-allowed",children:_.jsx(e3,{size:20})})]})})]})]})},ep=[{label:"Match",color:"bg-brand-red text-white border-brand-red"},{label:"Practice",color:"bg-brand-yellow text-brand-black border-brand-yellow"},{label:"Meeting",color:"bg-brand-grey text-white border-brand-grey"}],w3=()=>{const{userRole:i}=dr(),[e,n]=k.useState([]),[s,o]=k.useState(!0),[u,h]=k.useState(!1),[m,p]=k.useState({title:"",date:"",time:"",location:"Esports Lab",type:"Practice"});k.useEffect(()=>{const b=Au(xi(vt,"events"),Sd("date","asc")),S=Bg(b,O=>{const D=O.docs.map(H=>({id:H.id,...H.data()}));n(D),o(!1)});return()=>S()},[]);const g=async b=>{if(b.preventDefault(),!(!m.title||!m.date))try{await zg(xi(vt,"events"),{...m,createdAt:new Date}),h(!1),p({title:"",date:"",time:"",location:"Esports Lab",type:"Practice"})}catch(S){console.error("Error adding event:",S)}},T=async b=>{window.confirm("Remove this event?")&&await Ad(In(vt,"events",b))};return _.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[_.jsxs("div",{className:"flex justify-between items-end border-b border-brand-grey/20 pb-4",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"TEAM SCHEDULE"}),_.jsx("p",{className:"text-brand-grey text-sm",children:"Upcoming matches and practices"})]}),(i==="admin"||i==="coach")&&_.jsxs("button",{onClick:()=>h(!u),className:"flex items-center gap-2 bg-brand-red text-white px-4 py-2 rounded font-bold hover:bg-brand-darkRed transition",children:[u?"CLOSE":"ADD EVENT"," ",_.jsx(Xh,{size:20})]})]}),u&&_.jsxs("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/30 animate-fade-in",children:[_.jsx("h3",{className:"font-titles text-xl mb-4 text-brand-yellow",children:"NEW EVENT DETAILS"}),_.jsxs("form",{onSubmit:g,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsx("input",{type:"text",placeholder:"Event Title (e.g., VS Floyd Central)",className:"md:col-span-2 bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.title,onChange:b=>p({...m,title:b.target.value})}),_.jsx("input",{type:"date",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.date,onChange:b=>p({...m,date:b.target.value})}),_.jsx("input",{type:"time",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.time,onChange:b=>p({...m,time:b.target.value})}),_.jsx("select",{className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.type,onChange:b=>p({...m,type:b.target.value}),children:ep.map(b=>_.jsx("option",{value:b.label,children:b.label},b.label))}),_.jsx("input",{type:"text",placeholder:"Location",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.location,onChange:b=>p({...m,location:b.target.value})}),_.jsx("button",{className:"md:col-span-2 bg-brand-white text-brand-black font-bold p-3 rounded hover:bg-gray-200",children:"PUBLISH TO SCHEDULE"})]})]}),_.jsxs("div",{className:"space-y-4",children:[s&&_.jsx(Id,{}),e.length===0&&!s&&_.jsx("div",{className:"text-center text-brand-grey py-10",children:"No upcoming events scheduled."}),e.map(b=>{const S=ep.find(O=>O.label===b.type)||ep[0];return _.jsxs("div",{className:"flex flex-col md:flex-row bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden group hover:border-brand-grey/50 transition",children:[_.jsxs("div",{className:"bg-[#111] p-6 flex flex-col items-center justify-center min-w-[120px] border-b md:border-b-0 md:border-r border-brand-grey/20",children:[_.jsx("span",{className:"font-titles text-3xl text-brand-white",children:new Date(b.date).getDate()}),_.jsx("span",{className:"text-brand-red font-bold uppercase text-sm",children:new Date(b.date).toLocaleString("default",{month:"short"})}),_.jsx("span",{className:"text-brand-grey text-xs mt-1",children:new Date(b.date).toLocaleString("default",{weekday:"long"})})]}),_.jsxs("div",{className:"p-6 flex-1 flex flex-col justify-center",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[_.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold border ${S.color}`,children:b.type.toUpperCase()}),_.jsxs("div",{className:"flex items-center gap-1 text-brand-grey text-sm",children:[_.jsx(lx,{size:14})," ",b.time]})]}),_.jsx("h3",{className:"font-titles text-2xl text-white group-hover:text-brand-yellow transition",children:b.title}),_.jsxs("div",{className:"flex items-center gap-2 text-brand-grey text-sm mt-2",children:[_.jsx(cx,{size:16,className:"text-brand-red"}),b.location]})]}),(i==="admin"||i==="coach")&&_.jsx("button",{onClick:()=>T(b.id),className:"bg-brand-red/10 text-brand-red p-4 flex items-center justify-center opacity-0 group-hover:opacity-100 hover:bg-brand-red hover:text-white transition w-16",children:_.jsx(Nd,{size:24})})]},b.id)})]})]})},R3=()=>{const{currentUser:i,userRole:e}=dr(),[n,s]=k.useState(!1),[o,u]=k.useState(!1),[h,m]=k.useState({gamertag:"",discord:"",grade:"",gpa:"",guardianName:"",guardianEmail:"",jerseySize:"M",games:[]}),p=["Rocket League","Super Smash Bros","Minecraft","Valorant","Overwatch 2"],g=b=>{m(S=>({...S,games:S.games.includes(b)?S.games.filter(O=>O!==b):[...S.games,b]}))},T=async b=>{b.preventDefault(),s(!0);try{const S=In(vt,"users",i.uid);await hu(S,{...h,applicationStatus:"submitted",updatedAt:new Date}),u(!0)}catch(S){console.error("Error submitting application:",S),alert("Failed to submit application.")}finally{s(!1)}};return o||e==="player"?_.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-center space-y-4",children:[_.jsx(EM,{size:64,className:"text-brand-green"}),_.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"APPLICATION RECEIVED"}),_.jsx("p",{className:"text-brand-grey",children:"Your coach will review your application and schedule a tryout."}),_.jsx("div",{className:"bg-brand-grey/10 p-4 rounded border border-brand-grey/30",children:_.jsxs("p",{className:"font-bold text-brand-yellow",children:["CURRENT STATUS: ",e==="player"?"ROSTERED":"PENDING TRYOUT"]})})]}):_.jsxs("div",{className:"max-w-3xl mx-auto",children:[_.jsxs("div",{className:"mb-8",children:[_.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"PLAYER APPLICATION"}),_.jsx("p",{className:"text-brand-grey",children:"Complete your profile to tryout for the season."})]}),_.jsxs("form",{onSubmit:T,className:"bg-[#111] p-8 rounded-xl border border-brand-grey/20 space-y-6",children:[_.jsxs("div",{className:"space-y-4",children:[_.jsx("h3",{className:"text-xl font-titles text-brand-red border-b border-brand-grey/20 pb-2",children:"PLAYER INFO"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsx("input",{required:!0,type:"text",placeholder:"Gamertag",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.gamertag,onChange:b=>m({...h,gamertag:b.target.value})}),_.jsx("input",{required:!0,type:"text",placeholder:"Discord Username",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.discord,onChange:b=>m({...h,discord:b.target.value})}),_.jsxs("select",{required:!0,className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.grade,onChange:b=>m({...h,grade:b.target.value}),children:[_.jsx("option",{value:"",children:"Select Grade"}),[9,10,11,12].map(b=>_.jsxs("option",{value:b,children:[b,"th Grade"]},b))]}),_.jsx("input",{required:!0,type:"number",step:"0.01",placeholder:"Current GPA",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.gpa,onChange:b=>m({...h,gpa:b.target.value})})]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("h3",{className:"text-xl font-titles text-brand-red border-b border-brand-grey/20 pb-2",children:"GUARDIAN INFO"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsx("input",{required:!0,type:"text",placeholder:"Parent/Guardian Name",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.guardianName,onChange:b=>m({...h,guardianName:b.target.value})}),_.jsx("input",{required:!0,type:"email",placeholder:"Parent Email",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.guardianEmail,onChange:b=>m({...h,guardianEmail:b.target.value})})]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("h3",{className:"text-xl font-titles text-brand-red border-b border-brand-grey/20 pb-2",children:"GAMES OF INTEREST"}),_.jsx("div",{className:"flex flex-wrap gap-3",children:p.map(b=>_.jsx("button",{type:"button",onClick:()=>g(b),className:`px-4 py-2 rounded border transition ${h.games.includes(b)?"bg-brand-red text-white border-brand-red":"bg-transparent text-brand-grey border-brand-grey/30 hover:border-brand-grey"}`,children:b},b))})]}),_.jsx("button",{disabled:n,className:"w-full bg-brand-white text-brand-black font-titles text-xl py-4 rounded hover:bg-gray-200 transition",children:n?"SUBMITTING...":"SUBMIT APPLICATION"})]})]})},C3=()=>{const[i,e]=k.useState([]),[n,s]=k.useState(!0),o=async()=>{s(!0);try{const m=Au(xi(vt,"users"),Vg("applicationStatus","in",["submitted","tryout"])),p=await Pg(m);e(p.docs.map(g=>({id:g.id,...g.data()})))}catch(m){console.error("Error fetching apps:",m)}finally{s(!1)}};k.useEffect(()=>{o()},[]);const u=async m=>{confirm("Move to 'Tryout' phase? This will notify the student.")&&(await hu(In(vt,"users",m),{applicationStatus:"tryout"}),o())},h=async m=>{confirm("Approve for Roster? This grants 'Player' permissions.")&&(await hu(In(vt,"users",m),{applicationStatus:"approved",role:"player"}),o())};return _.jsxs("div",{className:"space-y-6",children:[_.jsx("div",{className:"flex justify-between items-end border-b border-brand-grey/20 pb-4",children:_.jsxs("div",{children:[_.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"APPLICATION INBOX"}),_.jsx("p",{className:"text-brand-grey text-sm",children:"Review pending student applications"})]})}),n?_.jsx(Id,{}):_.jsxs("div",{className:"grid gap-4",children:[i.length===0&&_.jsx("p",{className:"text-brand-grey",children:"No pending applications."}),i.map(m=>_.jsxs("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/20 flex flex-col md:flex-row justify-between gap-4",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("h3",{className:"font-titles text-2xl text-white",children:m.displayName}),_.jsx("span",{className:`px-2 py-0.5 text-xs font-bold uppercase rounded border ${m.applicationStatus==="tryout"?"bg-brand-yellow text-brand-black border-brand-yellow":"bg-brand-grey/20 text-brand-grey border-brand-grey"}`,children:m.applicationStatus})]}),_.jsxs("div",{className:"text-brand-grey text-sm mt-1 grid grid-cols-2 gap-x-8 gap-y-1",children:[_.jsxs("p",{children:["Gamertag: ",_.jsx("span",{className:"text-white",children:m.gamertag})]}),_.jsxs("p",{children:["GPA: ",_.jsx("span",{className:"text-white",children:m.gpa})]}),_.jsxs("p",{children:["Grade: ",_.jsx("span",{className:"text-white",children:m.grade})]}),_.jsxs("p",{children:["Games: ",_.jsx("span",{className:"text-white",children:m.games?.join(", ")})]})]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[m.applicationStatus==="submitted"&&_.jsx("button",{onClick:()=>u(m.id),className:"bg-brand-yellow text-brand-black px-4 py-2 rounded font-bold hover:bg-yellow-400 transition",children:"SCHEDULE TRYOUT"}),m.applicationStatus==="tryout"&&_.jsx("button",{onClick:()=>h(m.id),className:"bg-brand-green text-white px-4 py-2 rounded font-bold hover:bg-green-600 transition border border-brand-green",children:"APPROVE ROSTER"})]})]},m.id))]})]})},N3=()=>{const{userRole:i}=dr(),[e,n]=k.useState([]),[s,o]=k.useState(!0),[u,h]=k.useState(!1),[m,p]=k.useState({description:"",amount:"",type:"incoming",category:"Sponsorship",date:new Date().toISOString().split("T")[0]});k.useEffect(()=>{const D=Au(xi(vt,"financials"),Sd("date","desc")),H=Bg(D,G=>{const ne=G.docs.map(te=>({id:te.id,...te.data()}));n(ne),o(!1)});return()=>H()},[]);const g=e.reduce((D,H)=>H.type==="incoming"?D+Number(H.amount):D-Number(H.amount),0),T=e.filter(D=>D.type==="incoming").reduce((D,H)=>D+Number(H.amount),0),b=e.filter(D=>D.type==="outgoing").reduce((D,H)=>D+Number(H.amount),0),S=async D=>{if(D.preventDefault(),!(!m.description||!m.amount))try{await zg(xi(vt,"financials"),{...m,amount:parseFloat(m.amount),createdAt:new Date}),h(!1),p({description:"",amount:"",type:"incoming",category:"Sponsorship",date:new Date().toISOString().split("T")[0]})}catch(H){console.error("Error adding transaction:",H)}},O=async D=>{confirm("Delete this transaction record?")&&await Ad(In(vt,"financials",D))};return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex justify-between items-end border-b border-brand-grey/20 pb-4",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"FINANCIAL LEDGER"}),_.jsx("p",{className:"text-brand-grey text-sm",children:"Track team funds, sponsorships, and expenses"})]}),_.jsxs("button",{onClick:()=>h(!u),className:"bg-brand-red text-white px-4 py-2 rounded font-bold hover:bg-brand-darkRed transition flex items-center gap-2",children:[u?"CANCEL":"ADD ENTRY"," ",_.jsx(Xh,{size:20})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[_.jsx("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/20",children:_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-brand-grey text-xs font-bold uppercase",children:"Current Balance"}),_.jsxs("h3",{className:`font-titles text-3xl mt-1 ${g>=0?"text-brand-green":"text-brand-red"}`,children:["$",g.toFixed(2)]})]}),_.jsx("div",{className:"p-3 bg-brand-grey/10 rounded-full text-brand-white",children:_.jsx(wM,{size:24})})]})}),_.jsx("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/20",children:_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-brand-grey text-xs font-bold uppercase",children:"Total Income"}),_.jsxs("h3",{className:"font-titles text-3xl mt-1 text-brand-yellow",children:["+$",T.toFixed(2)]})]}),_.jsx("div",{className:"p-3 bg-brand-yellow/10 rounded-full text-brand-yellow",children:_.jsx(c3,{size:24})})]})}),_.jsx("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/20",children:_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-brand-grey text-xs font-bold uppercase",children:"Total Expenses"}),_.jsxs("h3",{className:"font-titles text-3xl mt-1 text-brand-red",children:["-$",b.toFixed(2)]})]}),_.jsx("div",{className:"p-3 bg-brand-red/10 rounded-full text-brand-red",children:_.jsx(l3,{size:24})})]})})]}),u&&_.jsxs("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/30 animate-fade-in",children:[_.jsx("h3",{className:"font-titles text-xl mb-4 text-brand-white",children:"NEW TRANSACTION"}),_.jsxs("form",{onSubmit:S,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsx("input",{type:"text",placeholder:"Description (e.g., Check from El Nopal)",className:"md:col-span-2 bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.description,onChange:D=>p({...m,description:D.target.value})}),_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("select",{className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white flex-1",value:m.type,onChange:D=>p({...m,type:D.target.value}),children:[_.jsx("option",{value:"incoming",children:"Incoming (+ Credit)"}),_.jsx("option",{value:"outgoing",children:"Outgoing (- Debit)"})]}),_.jsx("input",{type:"number",step:"0.01",placeholder:"Amount",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white flex-1",value:m.amount,onChange:D=>p({...m,amount:D.target.value})})]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("select",{className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white flex-1",value:m.category,onChange:D=>p({...m,category:D.target.value}),children:[_.jsx("option",{value:"Sponsorship",children:"Sponsorship"}),_.jsx("option",{value:"Player Dues",children:"Player Dues"}),_.jsx("option",{value:"Equipment",children:"Equipment"}),_.jsx("option",{value:"Concessions",children:"Concessions"}),_.jsx("option",{value:"Merch",children:"Merchandise"}),_.jsx("option",{value:"Travel",children:"Travel/Bus"}),_.jsx("option",{value:"Other",children:"Other"})]}),_.jsx("input",{type:"date",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white flex-1",value:m.date,onChange:D=>p({...m,date:D.target.value})})]}),_.jsx("button",{className:"md:col-span-2 bg-brand-green text-white font-bold p-3 rounded hover:bg-green-600 transition",children:"LOG TRANSACTION"})]})]}),_.jsx("div",{className:"bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden",children:s?_.jsx("div",{className:"p-8",children:_.jsx(Id,{})}):_.jsxs("table",{className:"w-full text-left",children:[_.jsx("thead",{className:"bg-[#111] text-brand-grey text-xs uppercase font-bold border-b border-brand-grey/20",children:_.jsxs("tr",{children:[_.jsx("th",{className:"p-4",children:"Date"}),_.jsx("th",{className:"p-4",children:"Description"}),_.jsx("th",{className:"p-4",children:"Category"}),_.jsx("th",{className:"p-4 text-right",children:"Amount"}),_.jsx("th",{className:"p-4 w-10"})]})}),_.jsxs("tbody",{className:"divide-y divide-brand-grey/10 text-sm text-brand-white",children:[e.map(D=>_.jsxs("tr",{className:"hover:bg-white/5 transition",children:[_.jsx("td",{className:"p-4 text-brand-grey",children:D.date}),_.jsx("td",{className:"p-4 font-bold",children:D.description}),_.jsx("td",{className:"p-4",children:_.jsx("span",{className:"px-2 py-1 rounded-full text-[10px] bg-brand-grey/10 border border-brand-grey/20 text-brand-grey uppercase",children:D.category})}),_.jsxs("td",{className:`p-4 text-right font-titles text-lg ${D.type==="incoming"?"text-brand-green":"text-brand-red"}`,children:[D.type==="incoming"?"+":"-","$",Number(D.amount).toFixed(2)]}),_.jsx("td",{className:"p-4 text-center",children:i==="admin"&&_.jsx("button",{onClick:()=>O(D.id),className:"text-brand-grey hover:text-brand-red",children:_.jsx(Nd,{size:16})})})]},D.id)),e.length===0&&_.jsx("tr",{children:_.jsx("td",{colSpan:"5",className:"p-8 text-center text-brand-grey italic",children:"No transactions recorded yet."})})]})]})})]})},I3=[{id:1,name:"MJHS Official Jersey",price:45,image:"https://placehold.co/400x400/B00C1A/white?text=Jersey",category:"Apparel"},{id:2,name:"Esports Hoodie",price:35,image:"https://placehold.co/400x400/111/white?text=Hoodie",category:"Apparel"},{id:3,name:"Performance Mousepad",price:20,image:"https://placehold.co/400x400/333/white?text=Mousepad",category:"Gear"},{id:4,name:"Team Snapback",price:25,image:"https://placehold.co/400x400/A6464D/white?text=Hat",category:"Apparel"}],D3=()=>{const[i,e]=k.useState([]),[n,s]=k.useState(!1),o=p=>{e(g=>g.find(b=>b.id===p.id)?g.map(b=>b.id===p.id?{...b,qty:b.qty+1}:b):[...g,{...p,qty:1}]),s(!0)},u=p=>{e(g=>g.filter(T=>T.id!==p))},h=(p,g)=>{e(T=>T.map(b=>{if(b.id===p){const S=Math.max(1,b.qty+g);return{...b,qty:S}}return b}))},m=i.reduce((p,g)=>p+g.price*g.qty,0);return _.jsxs("div",{className:"relative h-full",children:[_.jsxs("div",{className:"flex justify-between items-end border-b border-brand-grey/20 pb-4 mb-6",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"TEAM STORE"}),_.jsx("p",{className:"text-brand-grey text-sm",children:"Support the team with official merch"})]}),_.jsxs("button",{onClick:()=>s(!0),className:"relative bg-brand-white text-brand-black px-4 py-2 rounded font-bold hover:bg-gray-200 transition flex items-center gap-2",children:[_.jsx(uE,{size:20})," CART",i.length>0&&_.jsx("span",{className:"absolute -top-2 -right-2 bg-brand-red text-white text-xs w-5 h-5 flex items-center justify-center rounded-full border border-brand-black",children:i.reduce((p,g)=>p+g.qty,0)})]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:I3.map(p=>_.jsxs("div",{className:"bg-[#111] border border-brand-grey/20 rounded-xl overflow-hidden group hover:border-brand-red/50 transition",children:[_.jsxs("div",{className:"aspect-square bg-brand-black relative overflow-hidden",children:[_.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover group-hover:scale-105 transition duration-500"}),_.jsx("div",{className:"absolute top-2 right-2 bg-brand-black/80 text-white text-xs px-2 py-1 rounded border border-brand-grey/30",children:p.category})]}),_.jsxs("div",{className:"p-4",children:[_.jsx("h3",{className:"font-titles text-lg text-white truncate",children:p.name}),_.jsxs("div",{className:"flex justify-between items-center mt-2",children:[_.jsxs("span",{className:"text-brand-yellow font-titles text-xl",children:["$",p.price.toFixed(2)]}),_.jsx("button",{onClick:()=>o(p),className:"bg-brand-red text-white p-2 rounded hover:bg-brand-darkRed transition",children:_.jsx(Xh,{size:20})})]})]})]},p.id))}),n&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 backdrop-blur-sm",onClick:()=>s(!1)}),_.jsxs("div",{className:"fixed top-0 right-0 h-full w-full md:w-96 bg-[#0a0a0a] border-l border-brand-grey/30 z-50 shadow-2xl flex flex-col animate-slide-in-right",children:[_.jsxs("div",{className:"p-6 border-b border-brand-grey/20 flex justify-between items-center bg-brand-red",children:[_.jsxs("h2",{className:"font-titles text-xl text-white flex items-center gap-2",children:[_.jsx(uE,{size:20})," YOUR CART"]}),_.jsx("button",{onClick:()=>s(!1),className:"text-white hover:text-black",children:_.jsx(Jh,{size:24})})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:i.length===0?_.jsx("div",{className:"text-center text-brand-grey mt-10",children:"Your cart is empty."}):i.map(p=>_.jsxs("div",{className:"flex gap-4 bg-[#111] p-3 rounded border border-brand-grey/20",children:[_.jsx("img",{src:p.image,alt:p.name,className:"w-16 h-16 rounded object-cover bg-brand-black"}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h4",{className:"font-bold text-white text-sm",children:p.name}),_.jsxs("p",{className:"text-brand-yellow text-sm",children:["$",(p.price*p.qty).toFixed(2)]}),_.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[_.jsx("button",{onClick:()=>h(p.id,-1),className:"p-1 bg-brand-grey/20 text-white rounded hover:bg-brand-grey/40",children:_.jsx($M,{size:12})}),_.jsx("span",{className:"text-xs text-brand-grey",children:p.qty}),_.jsx("button",{onClick:()=>h(p.id,1),className:"p-1 bg-brand-grey/20 text-white rounded hover:bg-brand-grey/40",children:_.jsx(Xh,{size:12})})]})]}),_.jsx("button",{onClick:()=>u(p.id),className:"text-brand-grey hover:text-brand-red self-start",children:_.jsx(Jh,{size:16})})]},p.id))}),_.jsxs("div",{className:"p-6 border-t border-brand-grey/20 bg-[#111]",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("span",{className:"text-brand-grey",children:"Subtotal"}),_.jsxs("span",{className:"font-titles text-2xl text-white",children:["$",m.toFixed(2)]})]}),_.jsxs("button",{disabled:i.length===0,className:"w-full bg-brand-green text-white font-titles py-4 rounded hover:bg-green-600 transition flex justify-center items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>alert("Stripe Integration requires Backend Cloud Functions. This is a UI Demo."),children:[_.jsx(SM,{size:20})," CHECKOUT NOW"]})]})]})]})]})},O3=()=>{const{loginWithGoogle:i,currentUser:e}=dr();return e?_.jsx(AE,{to:"/dashboard"}):_.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-brand-black text-brand-white space-y-8",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"font-titles text-6xl text-brand-red tracking-wider",children:"MJHS ESPORTS"}),_.jsx("p",{className:"font-body text-brand-grey mt-2 text-xl",children:"PORTAL LOGIN"})]}),_.jsxs("div",{className:"flex gap-6",children:[_.jsx("button",{onClick:()=>i(),className:"bg-brand-red px-8 py-4 rounded-lg font-bold hover:bg-brand-darkRed transition border-2 border-brand-red text-white",children:"LOGIN WITH SCHOOL EMAIL"}),_.jsx("button",{onClick:()=>i(),className:"bg-transparent border-2 border-brand-grey px-8 py-4 rounded-lg font-bold hover:bg-brand-grey/20 transition text-brand-grey",children:"GUEST / PARENT"})]})]})},M3=({children:i})=>{const{currentUser:e}=dr();return e?i:_.jsx(AE,{to:"/login"})};function k3(){return _.jsxs(gO,{children:[_.jsx(iM,{position:"bottom-right",toastOptions:{style:{background:"#333",color:"#fff",border:"1px solid #B00C1A"}}}),_.jsx(xw,{children:_.jsxs(ZA,{children:[_.jsx(Rn,{path:"/",element:_.jsx(lM,{})}),_.jsx(Rn,{path:"/login",element:_.jsx(O3,{})}),_.jsxs(Rn,{path:"/dashboard",element:_.jsx(M3,{children:_.jsx(y3,{})}),children:[_.jsx(Rn,{index:!0,element:_.jsx(_3,{})}),_.jsx(Rn,{path:"stats",element:_.jsx(b3,{})}),_.jsx(Rn,{path:"roster",element:_.jsx(x3,{})}),_.jsx(Rn,{path:"comms",element:_.jsx(A3,{})}),_.jsx(Rn,{path:"calendar",element:_.jsx(w3,{})}),_.jsx(Rn,{path:"financials",element:_.jsx(N3,{})}),_.jsx(Rn,{path:"application",element:_.jsx(R3,{})}),_.jsx(Rn,{path:"inbox",element:_.jsx(C3,{})}),_.jsx(Rn,{path:"store",element:_.jsx(D3,{})})]})]})})]})}ZS.createRoot(document.getElementById("root")).render(_.jsx(k.StrictMode,{children:_.jsx(k3,{})}));
