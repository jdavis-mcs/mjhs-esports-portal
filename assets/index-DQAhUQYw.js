(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Om={exports:{}},ql={};var db;function $w(){if(db)return ql;db=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return ql.Fragment=e,ql.jsx=n,ql.jsxs=n,ql}var fb;function Yw(){return fb||(fb=1,Om.exports=$w()),Om.exports}var _=Yw(),Mm={exports:{}},Te={};var mb;function Kw(){if(mb)return Te;mb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function M(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,G={};function ne(j,Z,ae){this.props=j,this.context=Z,this.refs=G,this.updater=ae||D}ne.prototype.isReactComponent={},ne.prototype.setState=function(j,Z){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Z,"setState")},ne.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function te(){}te.prototype=ne.prototype;function re(j,Z,ae){this.props=j,this.context=Z,this.refs=G,this.updater=ae||D}var de=re.prototype=new te;de.constructor=re,H(de,ne.prototype),de.isPureReactComponent=!0;var we=Array.isArray;function Ee(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(j,Z,ae){var ue=ae.ref;return{$$typeof:i,type:j,key:Z,ref:ue!==void 0?ue:null,props:ae}}function L(j,Z){return N(j.type,Z,j.props)}function V(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function P(j){var Z={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ae){return Z[ae]})}var C=/\/+/g;function at(j,Z){return typeof j=="object"&&j!==null&&j.key!=null?P(""+j.key):Z.toString(36)}function Ot(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Ee,Ee):(j.status="pending",j.then(function(Z){j.status==="pending"&&(j.status="fulfilled",j.value=Z)},function(Z){j.status==="pending"&&(j.status="rejected",j.reason=Z)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Q(j,Z,ae,ue,ve){var Re=typeof j;(Re==="undefined"||Re==="boolean")&&(j=null);var Ue=!1;if(j===null)Ue=!0;else switch(Re){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(j.$$typeof){case i:case e:Ue=!0;break;case E:return Ue=j._init,Q(Ue(j._payload),Z,ae,ue,ve)}}if(Ue)return ve=ve(j),Ue=ue===""?"."+at(j,0):ue,we(ve)?(ae="",Ue!=null&&(ae=Ue.replace(C,"$&/")+"/"),Q(ve,Z,ae,"",function(Rs){return Rs})):ve!=null&&(V(ve)&&(ve=L(ve,ae+(ve.key==null||j&&j.key===ve.key?"":(""+ve.key).replace(C,"$&/")+"/")+Ue)),Z.push(ve)),1;Ue=0;var Mt=ue===""?".":ue+":";if(we(j))for(var ot=0;ot<j.length;ot++)ue=j[ot],Re=Mt+at(ue,ot),Ue+=Q(ue,Z,ae,Re,ve);else if(ot=M(j),typeof ot=="function")for(j=ot.call(j),ot=0;!(ue=j.next()).done;)ue=ue.value,Re=Mt+at(ue,ot++),Ue+=Q(ue,Z,ae,Re,ve);else if(Re==="object"){if(typeof j.then=="function")return Q(Ot(j),Z,ae,ue,ve);throw Z=String(j),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function se(j,Z,ae){if(j==null)return j;var ue=[],ve=0;return Q(j,ue,"","",function(Re){return Z.call(ae,Re,ve++)}),ue}function pe(j){if(j._status===-1){var Z=j._result;Z=Z(),Z.then(function(ae){(j._status===0||j._status===-1)&&(j._status=1,j._result=ae)},function(ae){(j._status===0||j._status===-1)&&(j._status=2,j._result=ae)}),j._status===-1&&(j._status=0,j._result=Z)}if(j._status===1)return j._result.default;throw j._result}var ze=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},$e={map:se,forEach:function(j,Z,ae){se(j,function(){Z.apply(this,arguments)},ae)},count:function(j){var Z=0;return se(j,function(){Z++}),Z},toArray:function(j){return se(j,function(Z){return Z})||[]},only:function(j){if(!V(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Te.Activity=b,Te.Children=$e,Te.Component=ne,Te.Fragment=n,Te.Profiler=o,Te.PureComponent=re,Te.StrictMode=s,Te.Suspense=p,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Te.__COMPILER_RUNTIME={__proto__:null,c:function(j){return R.H.useMemoCache(j)}},Te.cache=function(j){return function(){return j.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(j,Z,ae){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ue=H({},j.props),ve=j.key;if(Z!=null)for(Re in Z.key!==void 0&&(ve=""+Z.key),Z)!A.call(Z,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Z.ref===void 0||(ue[Re]=Z[Re]);var Re=arguments.length-2;if(Re===1)ue.children=ae;else if(1<Re){for(var Ue=Array(Re),Mt=0;Mt<Re;Mt++)Ue[Mt]=arguments[Mt+2];ue.children=Ue}return N(j.type,ve,ue)},Te.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},Te.createElement=function(j,Z,ae){var ue,ve={},Re=null;if(Z!=null)for(ue in Z.key!==void 0&&(Re=""+Z.key),Z)A.call(Z,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=Z[ue]);var Ue=arguments.length-2;if(Ue===1)ve.children=ae;else if(1<Ue){for(var Mt=Array(Ue),ot=0;ot<Ue;ot++)Mt[ot]=arguments[ot+2];ve.children=Mt}if(j&&j.defaultProps)for(ue in Ue=j.defaultProps,Ue)ve[ue]===void 0&&(ve[ue]=Ue[ue]);return N(j,Re,ve)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(j){return{$$typeof:m,render:j}},Te.isValidElement=V,Te.lazy=function(j){return{$$typeof:E,_payload:{_status:-1,_result:j},_init:pe}},Te.memo=function(j,Z){return{$$typeof:g,type:j,compare:Z===void 0?null:Z}},Te.startTransition=function(j){var Z=R.T,ae={};R.T=ae;try{var ue=j(),ve=R.S;ve!==null&&ve(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ee,ze)}catch(Re){ze(Re)}finally{Z!==null&&ae.types!==null&&(Z.types=ae.types),R.T=Z}},Te.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Te.use=function(j){return R.H.use(j)},Te.useActionState=function(j,Z,ae){return R.H.useActionState(j,Z,ae)},Te.useCallback=function(j,Z){return R.H.useCallback(j,Z)},Te.useContext=function(j){return R.H.useContext(j)},Te.useDebugValue=function(){},Te.useDeferredValue=function(j,Z){return R.H.useDeferredValue(j,Z)},Te.useEffect=function(j,Z){return R.H.useEffect(j,Z)},Te.useEffectEvent=function(j){return R.H.useEffectEvent(j)},Te.useId=function(){return R.H.useId()},Te.useImperativeHandle=function(j,Z,ae){return R.H.useImperativeHandle(j,Z,ae)},Te.useInsertionEffect=function(j,Z){return R.H.useInsertionEffect(j,Z)},Te.useLayoutEffect=function(j,Z){return R.H.useLayoutEffect(j,Z)},Te.useMemo=function(j,Z){return R.H.useMemo(j,Z)},Te.useOptimistic=function(j,Z){return R.H.useOptimistic(j,Z)},Te.useReducer=function(j,Z,ae){return R.H.useReducer(j,Z,ae)},Te.useRef=function(j){return R.H.useRef(j)},Te.useState=function(j){return R.H.useState(j)},Te.useSyncExternalStore=function(j,Z,ae){return R.H.useSyncExternalStore(j,Z,ae)},Te.useTransition=function(){return R.H.useTransition()},Te.version="19.2.3",Te}var pb;function Mp(){return pb||(pb=1,Mm.exports=Kw()),Mm.exports}var O=Mp(),km={exports:{}},Hl={},Vm={exports:{}},jm={};var gb;function Qw(){return gb||(gb=1,(function(i){function e(Q,se){var pe=Q.length;Q.push(se);e:for(;0<pe;){var ze=pe-1>>>1,$e=Q[ze];if(0<o($e,se))Q[ze]=se,Q[pe]=$e,pe=ze;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var se=Q[0],pe=Q.pop();if(pe!==se){Q[0]=pe;e:for(var ze=0,$e=Q.length,j=$e>>>1;ze<j;){var Z=2*(ze+1)-1,ae=Q[Z],ue=Z+1,ve=Q[ue];if(0>o(ae,pe))ue<$e&&0>o(ve,ae)?(Q[ze]=ve,Q[ue]=pe,ze=ue):(Q[ze]=ae,Q[Z]=pe,ze=Z);else if(ue<$e&&0>o(ve,pe))Q[ze]=ve,Q[ue]=pe,ze=ue;else break e}}return se}function o(Q,se){var pe=Q.sortIndex-se.sortIndex;return pe!==0?pe:Q.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,b=null,w=3,M=!1,D=!1,H=!1,G=!1,ne=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function de(Q){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=Q)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function we(Q){if(H=!1,de(Q),!D)if(n(p)!==null)D=!0,Ee||(Ee=!0,P());else{var se=n(g);se!==null&&Ot(we,se.startTime-Q)}}var Ee=!1,R=-1,A=5,N=-1;function L(){return G?!0:!(i.unstable_now()-N<A)}function V(){if(G=!1,Ee){var Q=i.unstable_now();N=Q;var se=!0;try{e:{D=!1,H&&(H=!1,te(R),R=-1),M=!0;var pe=w;try{t:{for(de(Q),b=n(p);b!==null&&!(b.expirationTime>Q&&L());){var ze=b.callback;if(typeof ze=="function"){b.callback=null,w=b.priorityLevel;var $e=ze(b.expirationTime<=Q);if(Q=i.unstable_now(),typeof $e=="function"){b.callback=$e,de(Q),se=!0;break t}b===n(p)&&s(p),de(Q)}else s(p);b=n(p)}if(b!==null)se=!0;else{var j=n(g);j!==null&&Ot(we,j.startTime-Q),se=!1}}break e}finally{b=null,w=pe,M=!1}se=void 0}}finally{se?P():Ee=!1}}}var P;if(typeof re=="function")P=function(){re(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,at=C.port2;C.port1.onmessage=V,P=function(){at.postMessage(null)}}else P=function(){ne(V,0)};function Ot(Q,se){R=ne(function(){Q(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var pe=w;w=se;try{return Q()}finally{w=pe}},i.unstable_requestPaint=function(){G=!0},i.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pe=w;w=Q;try{return se()}finally{w=pe}},i.unstable_scheduleCallback=function(Q,se,pe){var ze=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,Q){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=pe+$e,Q={id:E++,callback:se,priorityLevel:Q,startTime:pe,expirationTime:$e,sortIndex:-1},pe>ze?(Q.sortIndex=pe,e(g,Q),n(p)===null&&Q===n(g)&&(H?(te(R),R=-1):H=!0,Ot(we,pe-ze))):(Q.sortIndex=$e,e(p,Q),D||M||(D=!0,Ee||(Ee=!0,P()))),Q},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(Q){var se=w;return function(){var pe=w;w=se;try{return Q.apply(this,arguments)}finally{w=pe}}}})(jm)),jm}var yb;function Xw(){return yb||(yb=1,Vm.exports=Qw()),Vm.exports}var Lm={exports:{}},Zt={};var _b;function Jw(){if(_b)return Zt;_b=1;var i=Mp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Zt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var vb;function Ww(){if(vb)return Lm.exports;vb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Lm.exports=Jw(),Lm.exports}var bb;function Zw(){if(bb)return Hl;bb=1;var i=Xw(),e=Mp(),n=Ww();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return p(d),t;if(f===l)return p(d),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var v=!1,x=d.child;x;){if(x===a){v=!0,a=d,l=f;break}if(x===l){v=!0,l=d,a=f;break}x=x.sibling}if(!v){for(x=f.child;x;){if(x===a){v=!0,a=f,l=d;break}if(x===l){v=!0,l=f,a=d;break}x=x.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),re=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case ne:return"Profiler";case G:return"StrictMode";case we:return"Suspense";case Ee:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case re:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case de:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return r=t.displayName||null,r!==null?r:at(t.type)||"Memo";case A:r=t._payload,t=t._init;try{return at(t(r))}catch{}}return null}var Ot=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],$e=-1;function j(t){return{current:t}}function Z(t){0>$e||(t.current=ze[$e],ze[$e]=null,$e--)}function ae(t,r){$e++,ze[$e]=t.current,t.current=r}var ue=j(null),ve=j(null),Re=j(null),Ue=j(null);function Mt(t,r){switch(ae(Re,r),ae(ve,t),ae(ue,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Vv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Vv(r),t=jv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ue),ae(ue,t)}function ot(){Z(ue),Z(ve),Z(Re)}function Rs(t){t.memoizedState!==null&&ae(Ue,t);var r=ue.current,a=jv(r,t.type);r!==a&&(ae(ve,t),ae(ue,a))}function Ta(t){ve.current===t&&(Z(ue),Z(ve)),Ue.current===t&&(Z(Ue),Ul._currentValue=pe)}var xa,wa;function fr(t){if(xa===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);xa=r&&r[1]||"",wa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xa+t+wa}var Uo=!1;function Ns(t,r){if(!t||Uo)return"";Uo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var F=Y}Reflect.construct(t,[],W)}else{try{W.call()}catch(Y){F=Y}t.call(W.prototype)}}else{try{throw Error()}catch(Y){F=Y}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],x=f[1];if(v&&x){var I=v.split(`
`),q=x.split(`
`);for(d=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(l===I.length||d===q.length)for(l=I.length-1,d=q.length-1;1<=l&&0<=d&&I[l]!==q[d];)d--;for(;1<=l&&0<=d;l--,d--)if(I[l]!==q[d]){if(l!==1||d!==1)do if(l--,d--,0>d||I[l]!==q[d]){var K=`
`+I[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=d);break}}}finally{Uo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?fr(a):""}function Po(t,r){switch(t.tag){case 26:case 27:case 5:return fr(t.type);case 16:return fr("Lazy");case 13:return t.child!==r&&r!==null?fr("Suspense Fallback"):fr("Suspense");case 19:return fr("SuspenseList");case 0:case 15:return Ns(t.type,!1);case 11:return Ns(t.type.render,!1);case 1:return Ns(t.type,!0);case 31:return fr("Activity");default:return""}}function zo(t){try{var r="",a=null;do r+=Po(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,kt=i.unstable_scheduleCallback,Ni=i.unstable_cancelCallback,Md=i.unstable_shouldYield,Cu=i.unstable_requestPaint,sn=i.unstable_now,Cs=i.unstable_getCurrentPriorityLevel,Bo=i.unstable_ImmediatePriority,qo=i.unstable_UserBlockingPriority,Ci=i.unstable_NormalPriority,kd=i.unstable_LowPriority,Iu=i.unstable_IdlePriority,Du=i.log,Ou=i.unstable_setDisableYieldValue,Kn=null,Ht=null;function On(t){if(typeof Du=="function"&&Ou(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Kn,t)}catch{}}var pt=Math.clz32?Math.clz32:ku,Mu=Math.log,Sa=Math.LN2;function ku(t){return t>>>=0,t===0?32:31-(Mu(t)/Sa|0)|0}var mr=256,Is=262144,Et=4194304;function pr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gr(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~f,l!==0?d=pr(l):(v&=x,v!==0?d=pr(v):a||(a=x&~t,a!==0&&(d=pr(a))))):(x=l&~f,x!==0?d=pr(x):v!==0?d=pr(v):a||(a=l&~t,a!==0&&(d=pr(a)))),d===0?0:r!==0&&r!==d&&(r&f)===0&&(f=d&-d,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:d}function Qn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Vd(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function yr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ds(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jd(t,r,a,l,d,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-pt(a),W=1<<K;x[K]=0,I[K]=-1;var F=q[K];if(F!==null)for(q[K]=null,K=0;K<F.length;K++){var Y=F[K];Y!==null&&(Y.lane&=-536870913)}a&=~W}l!==0&&Os(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~r))}function Os(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-pt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ho(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-pt(a),d=1<<l;d&r|t[l]&r&&(t[l]|=r),a&=~d}}function Fo(t,r){var a=r&-r;return a=(a&42)!==0?1:Ms(a),(a&(t.suspendedLanes|r))!==0?0:a}function Ms(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ju(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:sb(t.type))}function Xn(t,r){var a=se.p;try{return se.p=t,r()}finally{se.p=a}}var Jn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Jn,Pt="__reactProps$"+Jn,_r="__reactContainer$"+Jn,Aa="__reactEvents$"+Jn,Ld="__reactListeners$"+Jn,Lu="__reactHandles$"+Jn,Uu="__reactResources$"+Jn,vr="__reactMarker$"+Jn;function Ra(t){delete t[Tt],delete t[Pt],delete t[Aa],delete t[Ld],delete t[Lu]}function br(t){var r=t[Tt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[_r]||a[Tt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Hv(t);t!==null;){if(a=t[Tt])return a;t=Hv(t)}return r}t=a,a=t.parentNode}return null}function Mn(t){if(t=t[Tt]||t[_r]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function bn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Er(t){var r=t[Uu];return r||(r=t[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xt(t){t[vr]=!0}var Go=new Set,$o={};function Tr(t,r){xr(t,r),xr(t+"Capture",r)}function xr(t,r){for($o[t]=r,t=0;t<r.length;t++)Go.add(r[t])}var Yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ko={},Qo={};function Pu(t){return bt.call(Qo,t)?!0:bt.call(Ko,t)?!1:Yo.test(t)?Qo[t]=!0:(Ko[t]=!0,!1)}function Na(t,r,a){if(Pu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function En(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function wt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ii(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Xo(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ye(t){if(!t._valueTracker){var r=Ii(t)?"checked":"value";t._valueTracker=Xo(t,r,""+t[r])}}function ks(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Ii(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vs=/[\n"\\]/g;function un(t){return t.replace(Vs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ca(t,r,a,l,d,f,v,x){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+zt(r)):t.value!==""+zt(r)&&(t.value=""+zt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Jo(t,v,zt(r)):a!=null?Jo(t,v,zt(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+zt(x):t.removeAttribute("name")}function zu(t,r,a,l,d,f,v,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){Ye(t);return}a=a!=null?""+zt(a):"",r=r!=null?""+zt(r):a,x||r===t.value||(t.value=r),t.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ye(t)}function Jo(t,r,a){r==="number"&&wr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Di(t,r,a,l){if(t=t.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=r.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),r=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function Bu(t,r,a){if(r!=null&&(r=""+zt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+zt(a):""}function Oi(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=zt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function cn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||qu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Zo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&Wo(t,d,l)}else for(var f in r)r.hasOwnProperty(f)&&Wo(t,f,r[f])}function Ia(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(t){return Mi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Wn(){}var el=null;function kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ki=null,Sr=null;function js(t){var r=Mn(t);if(r&&(t=r.stateNode)){var a=t[Pt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var d=l[Pt]||null;if(!d)throw Error(s(90));Ca(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&ks(l)}break e;case"textarea":Bu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Di(t,!!a.multiple,r,!1)}}}var Oa=!1;function Vi(t,r,a){if(Oa)return t(r,a);Oa=!0;try{var l=t(r);return l}finally{if(Oa=!1,(ki!==null||Sr!==null)&&(jc(),ki&&(r=ki,t=Sr,Sr=ki=null,js(r),t)))for(r=0;r<t.length;r++)js(t[r])}}function Zn(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ls=!1;if(Vn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Ls=!1}var Ar=null,tl=null,Us=null;function nl(){if(Us)return Us;var t,r=tl,a=r.length,l,d="value"in Ar?Ar.value:Ar.textContent,f=d.length;for(t=0;t<a&&r[t]===d[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===d[f-l];l++);return Us=d.slice(t,1<l?1-l:void 0)}function Ps(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Kr(){return!0}function er(){return!1}function Ft(t){function r(a,l,d,f,v){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Kr:er,this.isPropagationStopped=er,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),r}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rr=Ft(Qr),ji=b({},Qr,{view:0,detail:0}),rl=Ft(ji),Li,Ma,Nr,ka=b({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ui,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nr&&(Nr&&t.type==="mousemove"?(Li=t.screenX-Nr.screenX,Ma=t.screenY-Nr.screenY):Ma=Li=0,Nr=t),Li)},movementY:function(t){return"movementY"in t?t.movementY:Ma}}),il=Ft(ka),zs=b({},ka,{dataTransfer:0}),Fu=Ft(zs),Gu=b({},ji,{relatedTarget:0}),Bs=Ft(Gu),sl=b({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),$u=Ft(sl),Va=b({},Qr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yu=Ft(Va),Ku=b({},Qr,{data:0}),Cr=Ft(Ku),Qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ju[t])?!!r[t]:!1}function Ui(){return Wu}var an=b({},ji,{key:function(t){if(t.key){var r=Qu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ui,charCode:function(t){return t.type==="keypress"?Ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zu=Ft(an),ec=b({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xr=Ft(ec),c=b({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ui}),y=Ft(c),T=b({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ft(T),z=b({},ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Ft(z),ie=b({},Qr,{newState:0,oldState:0}),Se=Ft(ie),gt=[9,13,27,32],He=Vn&&"CompositionEvent"in window,lt=null;Vn&&"documentMode"in document&&(lt=document.documentMode);var jn=Vn&&"TextEvent"in window&&!lt,Ir=Vn&&(!He||lt&&8<lt&&11>=lt),tr=" ",nr=!1;function qs(t,r){switch(t){case"keyup":return gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function gx(t,r){switch(t){case"compositionend":return ja(r);case"keypress":return r.which!==32?null:(nr=!0,tr);case"textInput":return t=r.data,t===tr&&nr?null:t;default:return null}}function yx(t,r){if(La)return t==="compositionend"||!He&&qs(t,r)?(t=nl(),Us=tl=Ar=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ir&&r.locale!=="ko"?null:r.data;default:return null}}var _x={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $g(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!_x[t.type]:r==="textarea"}function Yg(t,r,a,l){ki?Sr?Sr.push(l):Sr=[l]:ki=l,r=Hc(r,"onChange"),0<r.length&&(a=new Rr("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var al=null,ol=null;function vx(t){Cv(t,0)}function tc(t){var r=bn(t);if(ks(r))return t}function Kg(t,r){if(t==="change")return r}var Qg=!1;if(Vn){var Ud;if(Vn){var Pd="oninput"in document;if(!Pd){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),Pd=typeof Xg.oninput=="function"}Ud=Pd}else Ud=!1;Qg=Ud&&(!document.documentMode||9<document.documentMode)}function Jg(){al&&(al.detachEvent("onpropertychange",Wg),ol=al=null)}function Wg(t){if(t.propertyName==="value"&&tc(ol)){var r=[];Yg(r,ol,t,kn(t)),Vi(vx,r)}}function bx(t,r,a){t==="focusin"?(Jg(),al=r,ol=a,al.attachEvent("onpropertychange",Wg)):t==="focusout"&&Jg()}function Ex(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tc(ol)}function Tx(t,r){if(t==="click")return tc(r)}function xx(t,r){if(t==="input"||t==="change")return tc(r)}function wx(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Tn=typeof Object.is=="function"?Object.is:wx;function ll(t,r){if(Tn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!bt.call(r,d)||!Tn(t[d],r[d]))return!1}return!0}function Zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ey(t,r){var a=Zg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zg(a)}}function ty(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ty(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ny(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=wr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=wr(t.document)}return r}function zd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Sx=Vn&&"documentMode"in document&&11>=document.documentMode,Ua=null,Bd=null,ul=null,qd=!1;function ry(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qd||Ua==null||Ua!==wr(l)||(l=Ua,"selectionStart"in l&&zd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=Hc(Bd,"onSelect"),0<l.length&&(r=new Rr("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ua)))}function Hs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Pa={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},Hd={},iy={};Vn&&(iy=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function Fs(t){if(Hd[t])return Hd[t];if(!Pa[t])return t;var r=Pa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in iy)return Hd[t]=r[a];return t}var sy=Fs("animationend"),ay=Fs("animationiteration"),oy=Fs("animationstart"),Ax=Fs("transitionrun"),Rx=Fs("transitionstart"),Nx=Fs("transitioncancel"),ly=Fs("transitionend"),uy=new Map,Fd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fd.push("scrollEnd");function rr(t,r){uy.set(t,r),Tr(r,[t])}var nc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ln=[],za=0,Gd=0;function rc(){for(var t=za,r=Gd=za=0;r<t;){var a=Ln[r];Ln[r++]=null;var l=Ln[r];Ln[r++]=null;var d=Ln[r];Ln[r++]=null;var f=Ln[r];if(Ln[r++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}f!==0&&cy(a,d,f)}}function ic(t,r,a,l){Ln[za++]=t,Ln[za++]=r,Ln[za++]=a,Ln[za++]=l,Gd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $d(t,r,a,l){return ic(t,r,a,l),sc(t)}function Gs(t,r){return ic(t,null,null,r),sc(t)}function cy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&r!==null&&(d=31-pt(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[r]:l.push(r),r.lane=a|536870912),f):null}function sc(t){if(50<Dl)throw Dl=0,nm=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ba={};function Cx(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,r,a,l){return new Cx(t,r,a,l)}function Yd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jr(t,r){var a=t.alternate;return a===null?(a=xn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function hy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ac(t,r,a,l,d,f){var v=0;if(l=t,typeof t=="function")Yd(t)&&(v=1);else if(typeof t=="string")v=kw(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=xn(31,a,r,d),t.elementType=N,t.lanes=f,t;case H:return $s(a.children,d,f,r);case G:v=8,d|=24;break;case ne:return t=xn(12,a,r,d|2),t.elementType=ne,t.lanes=f,t;case we:return t=xn(13,a,r,d),t.elementType=we,t.lanes=f,t;case Ee:return t=xn(19,a,r,d),t.elementType=Ee,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case te:v=9;break e;case de:v=11;break e;case R:v=14;break e;case A:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=xn(v,a,r,d),r.elementType=t,r.type=l,r.lanes=f,r}function $s(t,r,a,l){return t=xn(7,t,l,r),t.lanes=a,t}function Kd(t,r,a){return t=xn(6,t,null,r),t.lanes=a,t}function dy(t){var r=xn(18,null,null,0);return r.stateNode=t,r}function Qd(t,r,a){return r=xn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var fy=new WeakMap;function Un(t,r){if(typeof t=="object"&&t!==null){var a=fy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:zo(r)},fy.set(t,r),r)}return{value:t,source:r,stack:zo(r)}}var qa=[],Ha=0,oc=null,cl=0,Pn=[],zn=0,Pi=null,Dr=1,Or="";function Wr(t,r){qa[Ha++]=cl,qa[Ha++]=oc,oc=t,cl=r}function my(t,r,a){Pn[zn++]=Dr,Pn[zn++]=Or,Pn[zn++]=Pi,Pi=t;var l=Dr;t=Or;var d=32-pt(l)-1;l&=~(1<<d),a+=1;var f=32-pt(r)+d;if(30<f){var v=d-d%5;f=(l&(1<<v)-1).toString(32),l>>=v,d-=v,Dr=1<<32-pt(r)+d|a<<d|l,Or=f+t}else Dr=1<<f|a<<d|l,Or=t}function Xd(t){t.return!==null&&(Wr(t,1),my(t,1,0))}function Jd(t){for(;t===oc;)oc=qa[--Ha],qa[Ha]=null,cl=qa[--Ha],qa[Ha]=null;for(;t===Pi;)Pi=Pn[--zn],Pn[zn]=null,Or=Pn[--zn],Pn[zn]=null,Dr=Pn[--zn],Pn[zn]=null}function py(t,r){Pn[zn++]=Dr,Pn[zn++]=Or,Pn[zn++]=Pi,Dr=r.id,Or=r.overflow,Pi=t}var Gt=null,nt=null,Le=!1,zi=null,Bn=!1,Wd=Error(s(519));function Bi(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(Un(r,t)),Wd}function gy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Tt]=t,r[Pt]=l,a){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Ie(Ml[a],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Ie("invalid",r),zu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ie("invalid",r);break;case"textarea":Ie("invalid",r),Oi(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Mv(r.textContent,a)?(l.popover!=null&&(Ie("beforetoggle",r),Ie("toggle",r)),l.onScroll!=null&&Ie("scroll",r),l.onScrollEnd!=null&&Ie("scrollend",r),l.onClick!=null&&(r.onclick=Wn),r=!0):r=!1,r||Bi(t,!0)}function yy(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Gt=Gt.return}}function Fa(t){if(t!==Gt)return!1;if(!Le)return yy(t),Le=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ym(t.type,t.memoizedProps)),a=!a),a&&nt&&Bi(t),yy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=qv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=qv(t)}else r===27?(r=nt,ts(t.type)?(t=Tm,Tm=null,nt=t):nt=r):nt=Gt?Hn(t.stateNode.nextSibling):null;return!0}function Ys(){nt=Gt=null,Le=!1}function Zd(){var t=zi;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),zi=null),t}function hl(t){zi===null?zi=[t]:zi.push(t)}var ef=j(null),Ks=null,Zr=null;function qi(t,r,a){ae(ef,r._currentValue),r._currentValue=a}function ei(t){t._currentValue=ef.current,Z(ef)}function tf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function nf(t,r,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=d;for(var I=0;I<r.length;I++)if(x.context===r[I]){f.lanes|=a,x=f.alternate,x!==null&&(x.lanes|=a),tf(f.return,a,t),l||(v=null);break e}f=x.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),tf(v,a,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Ga(t,r,a,l){t=null;for(var d=r,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var x=d.type;Tn(d.pendingProps.value,v.value)||(t!==null?t.push(x):t=[x])}}else if(d===Ue.current){if(v=d.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}d=d.return}t!==null&&nf(r,t,a,l),r.flags|=262144}function lc(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qs(t){Ks=t,Zr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return _y(Ks,t)}function uc(t,r){return Ks===null&&Qs(t),_y(t,r)}function _y(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Zr===null){if(t===null)throw Error(s(308));Zr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Zr=Zr.next=r;return a}var Ix=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Dx=i.unstable_scheduleCallback,Ox=i.unstable_NormalPriority,St={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new Ix,data:new Map,refCount:0}}function dl(t){t.refCount--,t.refCount===0&&Dx(Ox,function(){t.controller.abort()})}var fl=null,sf=0,$a=0,Ya=null;function Mx(t,r){if(fl===null){var a=fl=[];sf=0,$a=lm(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return sf++,r.then(vy,vy),r}function vy(){if(--sf===0&&fl!==null){Ya!==null&&(Ya.status="fulfilled");var t=fl;fl=null,$a=0,Ya=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function kx(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var by=Q.S;Q.S=function(t,r){rv=sn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Mx(t,r),by!==null&&by(t,r)};var Xs=j(null);function af(){var t=Xs.current;return t!==null?t:et.pooledCache}function cc(t,r){r===null?ae(Xs,Xs.current):ae(Xs,r.pool)}function Ey(){var t=af();return t===null?null:{parent:St._currentValue,pool:t}}var Ka=Error(s(460)),of=Error(s(474)),hc=Error(s(542)),dc={then:function(){}};function Ty(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Wn,Wn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Sy(t),t;default:if(typeof r.status=="string")r.then(Wn,Wn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Sy(t),t}throw Ws=r,Ka}}function Js(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ws=a,Ka):a}}var Ws=null;function wy(){if(Ws===null)throw Error(s(459));var t=Ws;return Ws=null,t}function Sy(t){if(t===Ka||t===hc)throw Error(s(483))}var Qa=null,ml=0;function fc(t){var r=ml;return ml+=1,Qa===null&&(Qa=[]),xy(Qa,t,r)}function pl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function mc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ay(t){function r(U,k){if(t){var B=U.deletions;B===null?(U.deletions=[k],U.flags|=16):B.push(k)}}function a(U,k){if(!t)return null;for(;k!==null;)r(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function d(U,k){return U=Jr(U,k),U.index=0,U.sibling=null,U}function f(U,k,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<k?(U.flags|=67108866,k):B):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function x(U,k,B,X){return k===null||k.tag!==6?(k=Kd(B,U.mode,X),k.return=U,k):(k=d(k,B),k.return=U,k)}function I(U,k,B,X){var fe=B.type;return fe===H?K(U,k,B.props.children,X,B.key):k!==null&&(k.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&Js(fe)===k.type)?(k=d(k,B.props),pl(k,B),k.return=U,k):(k=ac(B.type,B.key,B.props,null,U.mode,X),pl(k,B),k.return=U,k)}function q(U,k,B,X){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=Qd(B,U.mode,X),k.return=U,k):(k=d(k,B.children||[]),k.return=U,k)}function K(U,k,B,X,fe){return k===null||k.tag!==7?(k=$s(B,U.mode,X,fe),k.return=U,k):(k=d(k,B),k.return=U,k)}function W(U,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Kd(""+k,U.mode,B),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case M:return B=ac(k.type,k.key,k.props,null,U.mode,B),pl(B,k),B.return=U,B;case D:return k=Qd(k,U.mode,B),k.return=U,k;case A:return k=Js(k),W(U,k,B)}if(Ot(k)||P(k))return k=$s(k,U.mode,B,null),k.return=U,k;if(typeof k.then=="function")return W(U,fc(k),B);if(k.$$typeof===re)return W(U,uc(U,k),B);mc(U,k)}return null}function F(U,k,B,X){var fe=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:x(U,k,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case M:return B.key===fe?I(U,k,B,X):null;case D:return B.key===fe?q(U,k,B,X):null;case A:return B=Js(B),F(U,k,B,X)}if(Ot(B)||P(B))return fe!==null?null:K(U,k,B,X,null);if(typeof B.then=="function")return F(U,k,fc(B),X);if(B.$$typeof===re)return F(U,k,uc(U,B),X);mc(U,B)}return null}function Y(U,k,B,X,fe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(B)||null,x(k,U,""+X,fe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case M:return U=U.get(X.key===null?B:X.key)||null,I(k,U,X,fe);case D:return U=U.get(X.key===null?B:X.key)||null,q(k,U,X,fe);case A:return X=Js(X),Y(U,k,B,X,fe)}if(Ot(X)||P(X))return U=U.get(B)||null,K(k,U,X,fe,null);if(typeof X.then=="function")return Y(U,k,B,fc(X),fe);if(X.$$typeof===re)return Y(U,k,B,uc(k,X),fe);mc(k,X)}return null}function ce(U,k,B,X){for(var fe=null,Be=null,he=k,Ne=k=0,Oe=null;he!==null&&Ne<B.length;Ne++){he.index>Ne?(Oe=he,he=null):Oe=he.sibling;var qe=F(U,he,B[Ne],X);if(qe===null){he===null&&(he=Oe);break}t&&he&&qe.alternate===null&&r(U,he),k=f(qe,k,Ne),Be===null?fe=qe:Be.sibling=qe,Be=qe,he=Oe}if(Ne===B.length)return a(U,he),Le&&Wr(U,Ne),fe;if(he===null){for(;Ne<B.length;Ne++)he=W(U,B[Ne],X),he!==null&&(k=f(he,k,Ne),Be===null?fe=he:Be.sibling=he,Be=he);return Le&&Wr(U,Ne),fe}for(he=l(he);Ne<B.length;Ne++)Oe=Y(he,U,Ne,B[Ne],X),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?Ne:Oe.key),k=f(Oe,k,Ne),Be===null?fe=Oe:Be.sibling=Oe,Be=Oe);return t&&he.forEach(function(as){return r(U,as)}),Le&&Wr(U,Ne),fe}function ge(U,k,B,X){if(B==null)throw Error(s(151));for(var fe=null,Be=null,he=k,Ne=k=0,Oe=null,qe=B.next();he!==null&&!qe.done;Ne++,qe=B.next()){he.index>Ne?(Oe=he,he=null):Oe=he.sibling;var as=F(U,he,qe.value,X);if(as===null){he===null&&(he=Oe);break}t&&he&&as.alternate===null&&r(U,he),k=f(as,k,Ne),Be===null?fe=as:Be.sibling=as,Be=as,he=Oe}if(qe.done)return a(U,he),Le&&Wr(U,Ne),fe;if(he===null){for(;!qe.done;Ne++,qe=B.next())qe=W(U,qe.value,X),qe!==null&&(k=f(qe,k,Ne),Be===null?fe=qe:Be.sibling=qe,Be=qe);return Le&&Wr(U,Ne),fe}for(he=l(he);!qe.done;Ne++,qe=B.next())qe=Y(he,U,Ne,qe.value,X),qe!==null&&(t&&qe.alternate!==null&&he.delete(qe.key===null?Ne:qe.key),k=f(qe,k,Ne),Be===null?fe=qe:Be.sibling=qe,Be=qe);return t&&he.forEach(function(Gw){return r(U,Gw)}),Le&&Wr(U,Ne),fe}function Ze(U,k,B,X){if(typeof B=="object"&&B!==null&&B.type===H&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case M:e:{for(var fe=B.key;k!==null;){if(k.key===fe){if(fe=B.type,fe===H){if(k.tag===7){a(U,k.sibling),X=d(k,B.props.children),X.return=U,U=X;break e}}else if(k.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&Js(fe)===k.type){a(U,k.sibling),X=d(k,B.props),pl(X,B),X.return=U,U=X;break e}a(U,k);break}else r(U,k);k=k.sibling}B.type===H?(X=$s(B.props.children,U.mode,X,B.key),X.return=U,U=X):(X=ac(B.type,B.key,B.props,null,U.mode,X),pl(X,B),X.return=U,U=X)}return v(U);case D:e:{for(fe=B.key;k!==null;){if(k.key===fe)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){a(U,k.sibling),X=d(k,B.children||[]),X.return=U,U=X;break e}else{a(U,k);break}else r(U,k);k=k.sibling}X=Qd(B,U.mode,X),X.return=U,U=X}return v(U);case A:return B=Js(B),Ze(U,k,B,X)}if(Ot(B))return ce(U,k,B,X);if(P(B)){if(fe=P(B),typeof fe!="function")throw Error(s(150));return B=fe.call(B),ge(U,k,B,X)}if(typeof B.then=="function")return Ze(U,k,fc(B),X);if(B.$$typeof===re)return Ze(U,k,uc(U,B),X);mc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(a(U,k.sibling),X=d(k,B),X.return=U,U=X):(a(U,k),X=Kd(B,U.mode,X),X.return=U,U=X),v(U)):a(U,k)}return function(U,k,B,X){try{ml=0;var fe=Ze(U,k,B,X);return Qa=null,fe}catch(he){if(he===Ka||he===hc)throw he;var Be=xn(29,he,null,U.mode);return Be.lanes=X,Be.return=U,Be}}}var Zs=Ay(!0),Ry=Ay(!1),Hi=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=sc(t),cy(t,null,a),r}return ic(t,l,r,a),sc(t)}function gl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Ho(t,a)}}function cf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?d=f=r:f=f.next=r}else d=f=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var hf=!1;function yl(){if(hf){var t=Ya;if(t!==null)throw t}}function _l(t,r,a,l){hf=!1;var d=t.updateQueue;Hi=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var I=x,q=I.next;I.next=null,v===null?f=q:v.next=q,v=I;var K=t.alternate;K!==null&&(K=K.updateQueue,x=K.lastBaseUpdate,x!==v&&(x===null?K.firstBaseUpdate=q:x.next=q,K.lastBaseUpdate=I))}if(f!==null){var W=d.baseState;v=0,K=q=I=null,x=f;do{var F=x.lane&-536870913,Y=F!==x.lane;if(Y?(De&F)===F:(l&F)===F){F!==0&&F===$a&&(hf=!0),K!==null&&(K=K.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ce=t,ge=x;F=r;var Ze=a;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){W=ce.call(Ze,W,F);break e}W=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,F=typeof ce=="function"?ce.call(Ze,W,F):ce,F==null)break e;W=b({},W,F);break e;case 2:Hi=!0}}F=x.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=d.callbacks,Y===null?d.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:x.tag,payload:x.payload,callback:x.callback,next:null},K===null?(q=K=Y,I=W):K=K.next=Y,v|=F;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);K===null&&(I=W),d.baseState=I,d.firstBaseUpdate=q,d.lastBaseUpdate=K,f===null&&(d.shared.lanes=0),Xi|=v,t.lanes=v,t.memoizedState=W}}function Ny(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Cy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ny(a[t],r)}var Xa=j(null),pc=j(0);function Iy(t,r){t=ui,ae(pc,t),ae(Xa,r),ui=t|r.baseLanes}function df(){ae(pc,ui),ae(Xa,Xa.current)}function ff(){ui=pc.current,Z(Xa),Z(pc)}var wn=j(null),qn=null;function $i(t){var r=t.alternate;ae(yt,yt.current&1),ae(wn,t),qn===null&&(r===null||Xa.current!==null||r.memoizedState!==null)&&(qn=t)}function mf(t){ae(yt,yt.current),ae(wn,t),qn===null&&(qn=t)}function Dy(t){t.tag===22?(ae(yt,yt.current),ae(wn,t),qn===null&&(qn=t)):Yi()}function Yi(){ae(yt,yt.current),ae(wn,wn.current)}function Sn(t){Z(wn),qn===t&&(qn=null),Z(yt)}var yt=j(0);function gc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bm(a)||Em(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ti=0,Ae=null,Je=null,At=null,yc=!1,Ja=!1,ea=!1,_c=0,vl=0,Wa=null,Vx=0;function dt(){throw Error(s(321))}function pf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Tn(t[a],r[a]))return!1;return!0}function gf(t,r,a,l,d,f){return ti=f,Ae=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?m_:Df,ea=!1,f=a(l,d),ea=!1,Ja&&(f=My(r,a,l,d)),Oy(t),f}function Oy(t){Q.H=Tl;var r=Je!==null&&Je.next!==null;if(ti=0,At=Je=Ae=null,yc=!1,vl=0,Wa=null,r)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&lc(t)&&(Rt=!0))}function My(t,r,a,l){Ae=t;var d=0;do{if(Ja&&(Wa=null),vl=0,Ja=!1,25<=d)throw Error(s(301));if(d+=1,At=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=p_,f=r(a,l)}while(Ja);return f}function jx(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?bl(r):r,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Ae.flags|=1024),r}function yf(){var t=_c!==0;return _c=0,t}function _f(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function vf(t){if(yc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}yc=!1}ti=0,At=Je=Ae=null,Ja=!1,vl=_c=0,Wa=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ae.memoizedState=At=t:At=At.next=t,At}function _t(){if(Je===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var r=At===null?Ae.memoizedState:At.next;if(r!==null)At=r,Je=t;else{if(t===null)throw Ae.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},At===null?Ae.memoizedState=At=t:At=At.next=t}return At}function vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var r=vl;return vl+=1,Wa===null&&(Wa=[]),t=xy(Wa,t,r),r=Ae,(At===null?r.memoizedState:At.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?m_:Df),t}function bc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===re)return $t(t)}throw Error(s(438,String(t)))}function bf(t){var r=null,a=Ae.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=vc(),Ae.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=L;return r.index++,a}function ni(t,r){return typeof r=="function"?r(t):r}function Ec(t){var r=_t();return Ef(r,Je,t)}function Ef(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}r.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{r=d.next;var x=v=null,I=null,q=r,K=!1;do{var W=q.lane&-536870913;if(W!==q.lane?(De&W)===W:(ti&W)===W){var F=q.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),W===$a&&(K=!0);else if((ti&F)===F){q=q.next,F===$a&&(K=!0);continue}else W={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(x=I=W,v=f):I=I.next=W,Ae.lanes|=F,Xi|=F;W=q.action,ea&&a(f,W),f=q.hasEagerState?q.eagerState:a(f,W)}else F={lane:W,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(x=I=F,v=f):I=I.next=F,Ae.lanes|=W,Xi|=W;q=q.next}while(q!==null&&q!==r);if(I===null?v=f:I.next=x,!Tn(f,t.memoizedState)&&(Rt=!0,K&&(a=Ya,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=I,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Tf(t){var r=_t(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=r.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do f=t(f,v.action),v=v.next;while(v!==d);Tn(f,r.memoizedState)||(Rt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function ky(t,r,a){var l=Ae,d=_t(),f=Le;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Tn((Je||d).memoizedState,a);if(v&&(d.memoizedState=a,Rt=!0),d=d.queue,Sf(Ly.bind(null,l,d,t),[t]),d.getSnapshot!==r||v||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Za(9,{destroy:void 0},jy.bind(null,l,d,a,r),null),et===null)throw Error(s(349));f||(ti&127)!==0||Vy(l,r,a)}return a}function Vy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ae.updateQueue,r===null?(r=vc(),Ae.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function jy(t,r,a,l){r.value=a,r.getSnapshot=l,Uy(r)&&Py(t)}function Ly(t,r,a){return a(function(){Uy(r)&&Py(t)})}function Uy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Tn(t,a)}catch{return!0}}function Py(t){var r=Gs(t,2);r!==null&&pn(r,t,2)}function xf(t){var r=on();if(typeof t=="function"){var a=t;if(t=a(),ea){On(!0);try{a()}finally{On(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:t},r}function zy(t,r,a,l){return t.baseState=a,Ef(t,Je,typeof l=="function"?l:ni)}function Lx(t,r,a,l,d){if(wc(t))throw Error(s(485));if(t=r.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,By(r,f)):(f.next=a.next,r.pending=a.next=f)}}function By(t,r){var a=r.action,l=r.payload,d=t.state;if(r.isTransition){var f=Q.T,v={};Q.T=v;try{var x=a(d,l),I=Q.S;I!==null&&I(v,x),qy(t,r,x)}catch(q){wf(t,r,q)}finally{f!==null&&v.types!==null&&(f.types=v.types),Q.T=f}}else try{f=a(d,l),qy(t,r,f)}catch(q){wf(t,r,q)}}function qy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Hy(t,r,l)},function(l){return wf(t,r,l)}):Hy(t,r,a)}function Hy(t,r,a){r.status="fulfilled",r.value=a,Fy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,By(t,a)))}function wf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Fy(r),r=r.next;while(r!==l)}t.action=null}function Fy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Gy(t,r){return r}function $y(t,r){if(Le){var a=et.formState;if(a!==null){e:{var l=Ae;if(Le){if(nt){t:{for(var d=nt,f=Bn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Hn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){nt=Hn(d.nextSibling),l=d.data==="F!";break e}}Bi(l)}l=!1}l&&(r=a[0])}}return a=on(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gy,lastRenderedState:r},a.queue=l,a=h_.bind(null,Ae,l),l.dispatch=a,l=xf(!1),f=If.bind(null,Ae,!1,l.queue),l=on(),d={state:r,dispatch:null,action:t,pending:null},l.queue=d,a=Lx.bind(null,Ae,d,f,a),d.dispatch=a,l.memoizedState=t,[r,a,!1]}function Yy(t){var r=_t();return Ky(r,Je,t)}function Ky(t,r,a){if(r=Ef(t,r,Gy)[0],t=Ec(ni)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=bl(r)}catch(v){throw v===Ka?hc:v}else l=r;r=_t();var d=r.queue,f=d.dispatch;return a!==r.memoizedState&&(Ae.flags|=2048,Za(9,{destroy:void 0},Ux.bind(null,d,a),null)),[l,f,t]}function Ux(t,r){t.action=r}function Qy(t){var r=_t(),a=Je;if(a!==null)return Ky(r,a,t);_t(),r=r.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Za(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ae.updateQueue,r===null&&(r=vc(),Ae.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Xy(){return _t().memoizedState}function Tc(t,r,a,l){var d=on();Ae.flags|=t,d.memoizedState=Za(1|r,{destroy:void 0},a,l===void 0?null:l)}function xc(t,r,a,l){var d=_t();l=l===void 0?null:l;var f=d.memoizedState.inst;Je!==null&&l!==null&&pf(l,Je.memoizedState.deps)?d.memoizedState=Za(r,f,a,l):(Ae.flags|=t,d.memoizedState=Za(1|r,f,a,l))}function Jy(t,r){Tc(8390656,8,t,r)}function Sf(t,r){xc(2048,8,t,r)}function Px(t){Ae.flags|=4;var r=Ae.updateQueue;if(r===null)r=vc(),Ae.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Wy(t){var r=_t().memoizedState;return Px({ref:r,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Zy(t,r){return xc(4,2,t,r)}function e_(t,r){return xc(4,4,t,r)}function t_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function n_(t,r,a){a=a!=null?a.concat([t]):null,xc(4,4,t_.bind(null,r,t),a)}function Af(){}function r_(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&pf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function i_(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&pf(r,l[1]))return l[0];if(l=t(),ea){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[l,r],l}function Rf(t,r,a){return a===void 0||(ti&1073741824)!==0&&(De&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=sv(),Ae.lanes|=t,Xi|=t,a)}function s_(t,r,a,l){return Tn(a,r)?a:Xa.current!==null?(t=Rf(t,a,l),Tn(t,r)||(Rt=!0),t):(ti&42)===0||(ti&1073741824)!==0&&(De&261930)===0?(Rt=!0,t.memoizedState=a):(t=sv(),Ae.lanes|=t,Xi|=t,r)}function a_(t,r,a,l,d){var f=se.p;se.p=f!==0&&8>f?f:8;var v=Q.T,x={};Q.T=x,If(t,!1,r,a);try{var I=d(),q=Q.S;if(q!==null&&q(x,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=kx(I,l);El(t,r,K,Nn(t))}else El(t,r,l,Nn(t))}catch(W){El(t,r,{then:function(){},status:"rejected",reason:W},Nn())}finally{se.p=f,v!==null&&x.types!==null&&(v.types=x.types),Q.T=v}}function zx(){}function Nf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var d=o_(t).queue;a_(t,d,r,pe,a===null?zx:function(){return l_(t),a(l)})}function o_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function l_(t){var r=o_(t);r.next===null&&(r=t.alternate.memoizedState),El(t,r.next.queue,{},Nn())}function Cf(){return $t(Ul)}function u_(){return _t().memoizedState}function c_(){return _t().memoizedState}function Bx(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Nn();t=Fi(a);var l=Gi(r,t,a);l!==null&&(pn(l,r,a),gl(l,r,a)),r={cache:rf()},t.payload=r;return}r=r.return}}function qx(t,r,a){var l=Nn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wc(t)?d_(r,a):(a=$d(t,r,a,l),a!==null&&(pn(a,t,l),f_(a,r,l)))}function h_(t,r,a){var l=Nn();El(t,r,a,l)}function El(t,r,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(t))d_(r,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var v=r.lastRenderedState,x=f(v,a);if(d.hasEagerState=!0,d.eagerState=x,Tn(x,v))return ic(t,r,d,0),et===null&&rc(),!1}catch{}if(a=$d(t,r,d,l),a!==null)return pn(a,t,l),f_(a,r,l),!0}return!1}function If(t,r,a,l){if(l={lane:2,revertLane:lm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wc(t)){if(r)throw Error(s(479))}else r=$d(t,a,l,2),r!==null&&pn(r,t,2)}function wc(t){var r=t.alternate;return t===Ae||r!==null&&r===Ae}function d_(t,r){Ja=yc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function f_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Ho(t,a)}}var Tl={readContext:$t,use:bc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Tl.useEffectEvent=dt;var m_={readContext:$t,use:bc,useCallback:function(t,r){return on().memoizedState=[t,r===void 0?null:r],t},useContext:$t,useEffect:Jy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Tc(4194308,4,t_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Tc(4194308,4,t,r)},useInsertionEffect:function(t,r){Tc(4,2,t,r)},useMemo:function(t,r){var a=on();r=r===void 0?null:r;var l=t();if(ea){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=on();if(a!==void 0){var d=a(r);if(ea){On(!0);try{a(r)}finally{On(!1)}}}else d=r;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=qx.bind(null,Ae,t),[l.memoizedState,t]},useRef:function(t){var r=on();return t={current:t},r.memoizedState=t},useState:function(t){t=xf(t);var r=t.queue,a=h_.bind(null,Ae,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Af,useDeferredValue:function(t,r){var a=on();return Rf(a,t,r)},useTransition:function(){var t=xf(!1);return t=a_.bind(null,Ae,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ae,d=on();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(De&127)!==0||Vy(l,r,a)}d.memoizedState=a;var f={value:a,getSnapshot:r};return d.queue=f,Jy(Ly.bind(null,l,f,t),[t]),l.flags|=2048,Za(9,{destroy:void 0},jy.bind(null,l,f,a,r),null),a},useId:function(){var t=on(),r=et.identifierPrefix;if(Le){var a=Or,l=Dr;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=_c++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Vx++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Cf,useFormState:$y,useActionState:$y,useOptimistic:function(t){var r=on();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=If.bind(null,Ae,!0,a),a.dispatch=r,[t,r]},useMemoCache:bf,useCacheRefresh:function(){return on().memoizedState=Bx.bind(null,Ae)},useEffectEvent:function(t){var r=on(),a={impl:t};return r.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Df={readContext:$t,use:bc,useCallback:r_,useContext:$t,useEffect:Sf,useImperativeHandle:n_,useInsertionEffect:Zy,useLayoutEffect:e_,useMemo:i_,useReducer:Ec,useRef:Xy,useState:function(){return Ec(ni)},useDebugValue:Af,useDeferredValue:function(t,r){var a=_t();return s_(a,Je.memoizedState,t,r)},useTransition:function(){var t=Ec(ni)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:bl(t),r]},useSyncExternalStore:ky,useId:u_,useHostTransitionStatus:Cf,useFormState:Yy,useActionState:Yy,useOptimistic:function(t,r){var a=_t();return zy(a,Je,t,r)},useMemoCache:bf,useCacheRefresh:c_};Df.useEffectEvent=Wy;var p_={readContext:$t,use:bc,useCallback:r_,useContext:$t,useEffect:Sf,useImperativeHandle:n_,useInsertionEffect:Zy,useLayoutEffect:e_,useMemo:i_,useReducer:Tf,useRef:Xy,useState:function(){return Tf(ni)},useDebugValue:Af,useDeferredValue:function(t,r){var a=_t();return Je===null?Rf(a,t,r):s_(a,Je.memoizedState,t,r)},useTransition:function(){var t=Tf(ni)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:bl(t),r]},useSyncExternalStore:ky,useId:u_,useHostTransitionStatus:Cf,useFormState:Qy,useActionState:Qy,useOptimistic:function(t,r){var a=_t();return Je!==null?zy(a,Je,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:bf,useCacheRefresh:c_};p_.useEffectEvent=Wy;function Of(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Mf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Nn(),d=Fi(l);d.payload=r,a!=null&&(d.callback=a),r=Gi(t,d,l),r!==null&&(pn(r,t,l),gl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Nn(),d=Fi(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=Gi(t,d,l),r!==null&&(pn(r,t,l),gl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Nn(),l=Fi(a);l.tag=2,r!=null&&(l.callback=r),r=Gi(t,l,a),r!==null&&(pn(r,t,a),gl(r,t,a))}};function g_(t,r,a,l,d,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):r.prototype&&r.prototype.isPureReactComponent?!ll(a,l)||!ll(d,f):!0}function y_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Mf.enqueueReplaceState(r,r.state,null)}function ta(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=b({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function __(t){nc(t)}function v_(t){console.error(t)}function b_(t){nc(t)}function Sc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function E_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function kf(t,r,a){return a=Fi(a),a.tag=3,a.payload={element:null},a.callback=function(){Sc(t,r)},a}function T_(t){return t=Fi(t),t.tag=3,t}function x_(t,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){E_(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){E_(r,a,l),typeof d!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function Hx(t,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ga(r,a,d,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return qn===null?Lc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===dc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),sm(t,l,d)),!1;case 22:return a.flags|=65536,l===dc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),sm(t,l,d)),!1}throw Error(s(435,a.tag))}return sm(t,l,d),Lc(),!1}if(Le)return r=wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==Wd&&(t=Error(s(422),{cause:l}),hl(Un(t,a)))):(l!==Wd&&(r=Error(s(423),{cause:l}),hl(Un(r,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Un(l,a),d=kf(t.stateNode,l,d),cf(t,d),ft!==4&&(ft=2)),!1;var f=Error(s(520),{cause:l});if(f=Un(f,a),Il===null?Il=[f]:Il.push(f),ft!==4&&(ft=2),r===null)return!0;l=Un(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=kf(a.stateNode,l,t),cf(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ji===null||!Ji.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=T_(d),x_(d,t,a,l),cf(a,d),!1}a=a.return}while(a!==null);return!1}var Vf=Error(s(461)),Rt=!1;function Yt(t,r,a,l){r.child=t===null?Ry(r,null,a,l):Zs(r,t.child,a,l)}function w_(t,r,a,l,d){a=a.render;var f=r.ref;if("ref"in l){var v={};for(var x in l)x!=="ref"&&(v[x]=l[x])}else v=l;return Qs(r),l=gf(t,r,a,v,f,d),x=yf(),t!==null&&!Rt?(_f(t,r,d),ri(t,r,d)):(Le&&x&&Xd(r),r.flags|=1,Yt(t,r,l,d),r.child)}function S_(t,r,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!Yd(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,A_(t,r,f,l,d)):(t=ac(a.type,null,l,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!Hf(t,d)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(v,l)&&t.ref===r.ref)return ri(t,r,d)}return r.flags|=1,t=Jr(f,l),t.ref=r.ref,t.return=r,r.child=t}function A_(t,r,a,l,d){if(t!==null){var f=t.memoizedProps;if(ll(f,l)&&t.ref===r.ref)if(Rt=!1,r.pendingProps=l=f,Hf(t,d))(t.flags&131072)!==0&&(Rt=!0);else return r.lanes=t.lanes,ri(t,r,d)}return jf(t,r,a,l,d)}function R_(t,r,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=r.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,r.child=null;return N_(t,r,f,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&cc(r,f!==null?f.cachePool:null),f!==null?Iy(r,f):df(),Dy(r);else return l=r.lanes=536870912,N_(t,r,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(cc(r,f.cachePool),Iy(r,f),Yi(),r.memoizedState=null):(t!==null&&cc(r,null),df(),Yi());return Yt(t,r,d,a),r.child}function xl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function N_(t,r,a,l,d){var f=af();return f=f===null?null:{parent:St._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&cc(r,null),df(),Dy(r),t!==null&&Ga(t,r,l,!0),r.childLanes=d,null}function Ac(t,r){return r=Nc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function C_(t,r,a){return Zs(r,t.child,null,a),t=Ac(r,r.pendingProps),t.flags|=2,Sn(r),r.memoizedState=null,t}function Fx(t,r,a){var l=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Ac(r,l),r.lanes=536870912,xl(null,t);if(mf(r),(t=nt)?(t=Bv(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Pi!==null?{id:Dr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},a=dy(t),a.return=r,r.child=a,Gt=r,nt=null)):t=null,t===null)throw Bi(r);return r.lanes=536870912,null}return Ac(r,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(mf(r),d)if(r.flags&256)r.flags&=-257,r=C_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Rt||Ga(t,r,a,!1),d=(a&t.childLanes)!==0,Rt||d){if(l=et,l!==null&&(v=Fo(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,Gs(t,v),pn(l,t,v),Vf;Lc(),r=C_(t,r,a)}else t=f.treeContext,nt=Hn(v.nextSibling),Gt=r,Le=!0,zi=null,Bn=!1,t!==null&&py(r,t),r=Ac(r,l),r.flags|=4096;return r}return t=Jr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Rc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function jf(t,r,a,l,d){return Qs(r),a=gf(t,r,a,l,void 0,d),l=yf(),t!==null&&!Rt?(_f(t,r,d),ri(t,r,d)):(Le&&l&&Xd(r),r.flags|=1,Yt(t,r,a,d),r.child)}function I_(t,r,a,l,d,f){return Qs(r),r.updateQueue=null,a=My(r,l,a,d),Oy(t),l=yf(),t!==null&&!Rt?(_f(t,r,f),ri(t,r,f)):(Le&&l&&Xd(r),r.flags|=1,Yt(t,r,a,f),r.child)}function D_(t,r,a,l,d){if(Qs(r),r.stateNode===null){var f=Ba,v=a.contextType;typeof v=="object"&&v!==null&&(f=$t(v)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},lf(r),v=a.contextType,f.context=typeof v=="object"&&v!==null?$t(v):Ba,f.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Of(r,a,v,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Mf.enqueueReplaceState(f,f.state,null),_l(r,l,f,d),yl(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var x=r.memoizedProps,I=ta(a,x);f.props=I;var q=f.context,K=a.contextType;v=Ba,typeof K=="object"&&K!==null&&(v=$t(K));var W=a.getDerivedStateFromProps;K=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||q!==v)&&y_(r,f,l,v),Hi=!1;var F=r.memoizedState;f.state=F,_l(r,l,f,d),yl(),q=r.memoizedState,x||F!==q||Hi?(typeof W=="function"&&(Of(r,a,W,l),q=r.memoizedState),(I=Hi||g_(r,a,I,l,F,q,v))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),f.props=l,f.state=q,f.context=v,l=I):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,uf(t,r),v=r.memoizedProps,K=ta(a,v),f.props=K,W=r.pendingProps,F=f.context,q=a.contextType,I=Ba,typeof q=="object"&&q!==null&&(I=$t(q)),x=a.getDerivedStateFromProps,(q=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==W||F!==I)&&y_(r,f,l,I),Hi=!1,F=r.memoizedState,f.state=F,_l(r,l,f,d),yl();var Y=r.memoizedState;v!==W||F!==Y||Hi||t!==null&&t.dependencies!==null&&lc(t.dependencies)?(typeof x=="function"&&(Of(r,a,x,l),Y=r.memoizedState),(K=Hi||g_(r,a,K,l,F,Y,I)||t!==null&&t.dependencies!==null&&lc(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,I)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),f.props=l,f.state=Y,f.context=I,l=K):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,Rc(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=Zs(r,t.child,null,d),r.child=Zs(r,null,a,d)):Yt(t,r,a,d),r.memoizedState=f.state,t=r.child):t=ri(t,r,d),t}function O_(t,r,a,l){return Ys(),r.flags|=256,Yt(t,r,a,l),r.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:Ey()}}function Pf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Rn),t}function M_(t,r,a){var l=r.pendingProps,d=!1,f=(r.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),v&&(d=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Le){if(d?$i(r):Yi(),(t=nt)?(t=Bv(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Pi!==null?{id:Dr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},a=dy(t),a.return=r,r.child=a,Gt=r,nt=null)):t=null,t===null)throw Bi(r);return Em(t)?r.lanes=32:r.lanes=536870912,null}var x=l.children;return l=l.fallback,d?(Yi(),d=r.mode,x=Nc({mode:"hidden",children:x},d),l=$s(l,d,a,null),x.return=r,l.return=r,x.sibling=l,r.child=x,l=r.child,l.memoizedState=Uf(a),l.childLanes=Pf(t,v,a),r.memoizedState=Lf,xl(null,l)):($i(r),zf(r,x))}var I=t.memoizedState;if(I!==null&&(x=I.dehydrated,x!==null)){if(f)r.flags&256?($i(r),r.flags&=-257,r=Bf(t,r,a)):r.memoizedState!==null?(Yi(),r.child=t.child,r.flags|=128,r=null):(Yi(),x=l.fallback,d=r.mode,l=Nc({mode:"visible",children:l.children},d),x=$s(x,d,a,null),x.flags|=2,l.return=r,x.return=r,l.sibling=x,r.child=l,Zs(r,t.child,null,a),l=r.child,l.memoizedState=Uf(a),l.childLanes=Pf(t,v,a),r.memoizedState=Lf,r=xl(null,l));else if($i(r),Em(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,hl({value:l,source:null,stack:null}),r=Bf(t,r,a)}else if(Rt||Ga(t,r,a,!1),v=(a&t.childLanes)!==0,Rt||v){if(v=et,v!==null&&(l=Fo(v,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Gs(t,l),pn(v,t,l),Vf;bm(x)||Lc(),r=Bf(t,r,a)}else bm(x)?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,nt=Hn(x.nextSibling),Gt=r,Le=!0,zi=null,Bn=!1,t!==null&&py(r,t),r=zf(r,l.children),r.flags|=4096);return r}return d?(Yi(),x=l.fallback,d=r.mode,I=t.child,q=I.sibling,l=Jr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?x=Jr(q,x):(x=$s(x,d,a,null),x.flags|=2),x.return=r,l.return=r,l.sibling=x,r.child=l,xl(null,l),l=r.child,x=t.child.memoizedState,x===null?x=Uf(a):(d=x.cachePool,d!==null?(I=St._currentValue,d=d.parent!==I?{parent:I,pool:I}:d):d=Ey(),x={baseLanes:x.baseLanes|a,cachePool:d}),l.memoizedState=x,l.childLanes=Pf(t,v,a),r.memoizedState=Lf,xl(t.child,l)):($i(r),a=t.child,t=a.sibling,a=Jr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function zf(t,r){return r=Nc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Nc(t,r){return t=xn(22,t,null,r),t.lanes=0,t}function Bf(t,r,a){return Zs(r,t.child,null,a),t=zf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function k_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),tf(t.return,r,a)}function qf(t,r,a,l,d,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=d,v.treeForkCount=f)}function V_(t,r,a){var l=r.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var v=yt.current,x=(v&2)!==0;if(x?(v=v&1|2,r.flags|=128):v&=1,ae(yt,v),Yt(t,r,l,a),l=Le?cl:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&k_(t,a,r);else if(t.tag===19)k_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=r.child,d=null;a!==null;)t=a.alternate,t!==null&&gc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),qf(r,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&gc(t)===null){r.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}qf(r,!0,a,null,f,l);break;case"together":qf(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ri(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Xi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Ga(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Jr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Jr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Hf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&lc(t)))}function Gx(t,r,a){switch(r.tag){case 3:Mt(r,r.stateNode.containerInfo),qi(r,St,t.memoizedState.cache),Ys();break;case 27:case 5:Rs(r);break;case 4:Mt(r,r.stateNode.containerInfo);break;case 10:qi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,mf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?($i(r),r.flags|=128,null):(a&r.child.childLanes)!==0?M_(t,r,a):($i(r),t=ri(t,r,a),t!==null?t.sibling:null);$i(r);break;case 19:var d=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ga(t,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return V_(t,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ae(yt,yt.current),l)break;return null;case 22:return r.lanes=0,R_(t,r,a,r.pendingProps);case 24:qi(r,St,t.memoizedState.cache)}return ri(t,r,a)}function j_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Rt=!0;else{if(!Hf(t,a)&&(r.flags&128)===0)return Rt=!1,Gx(t,r,a);Rt=(t.flags&131072)!==0}else Rt=!1,Le&&(r.flags&1048576)!==0&&my(r,cl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Js(r.elementType),r.type=t,typeof t=="function")Yd(t)?(l=ta(t,l),r.tag=1,r=D_(null,r,t,l,a)):(r.tag=0,r=jf(null,r,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===de){r.tag=11,r=w_(null,r,t,l,a);break e}else if(d===R){r.tag=14,r=S_(null,r,t,l,a);break e}}throw r=at(t)||t,Error(s(306,r,""))}}return r;case 0:return jf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=ta(l,r.pendingProps),D_(t,r,l,d,a);case 3:e:{if(Mt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;d=f.element,uf(t,r),_l(r,l,null,a);var v=r.memoizedState;if(l=v.cache,qi(r,St,l),l!==f.cache&&nf(r,[St],a,!0),yl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=O_(t,r,l,a);break e}else if(l!==d){d=Un(Error(s(424)),r),hl(d),r=O_(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,nt=Hn(t.firstChild),Gt=r,Le=!0,zi=null,Bn=!0,a=Ry(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ys(),l===d){r=ri(t,r,a);break e}Yt(t,r,l,a)}r=r.child}return r;case 26:return Rc(t,r),t===null?(a=Yv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Le||(a=r.type,t=r.pendingProps,l=Fc(Re.current).createElement(a),l[Tt]=r,l[Pt]=t,Kt(l,a,t),xt(l),r.stateNode=l):r.memoizedState=Yv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Rs(r),t===null&&Le&&(l=r.stateNode=Fv(r.type,r.pendingProps,Re.current),Gt=r,Bn=!0,d=nt,ts(r.type)?(Tm=d,nt=Hn(l.firstChild)):nt=d),Yt(t,r,r.pendingProps.children,a),Rc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Le&&((d=l=nt)&&(l=Ew(l,r.type,r.pendingProps,Bn),l!==null?(r.stateNode=l,Gt=r,nt=Hn(l.firstChild),Bn=!1,d=!0):d=!1),d||Bi(r)),Rs(r),d=r.type,f=r.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,ym(d,f)?l=null:v!==null&&ym(d,v)&&(r.flags|=32),r.memoizedState!==null&&(d=gf(t,r,jx,null,null,a),Ul._currentValue=d),Rc(t,r),Yt(t,r,l,a),r.child;case 6:return t===null&&Le&&((t=a=nt)&&(a=Tw(a,r.pendingProps,Bn),a!==null?(r.stateNode=a,Gt=r,nt=null,t=!0):t=!1),t||Bi(r)),null;case 13:return M_(t,r,a);case 4:return Mt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Zs(r,null,l,a):Yt(t,r,l,a),r.child;case 11:return w_(t,r,r.type,r.pendingProps,a);case 7:return Yt(t,r,r.pendingProps,a),r.child;case 8:return Yt(t,r,r.pendingProps.children,a),r.child;case 12:return Yt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,qi(r,r.type,l.value),Yt(t,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,Qs(r),d=$t(d),l=l(d),r.flags|=1,Yt(t,r,l,a),r.child;case 14:return S_(t,r,r.type,r.pendingProps,a);case 15:return A_(t,r,r.type,r.pendingProps,a);case 19:return V_(t,r,a);case 31:return Fx(t,r,a);case 22:return R_(t,r,a,r.pendingProps);case 24:return Qs(r),l=$t(St),t===null?(d=af(),d===null&&(d=et,f=rf(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),r.memoizedState={parent:l,cache:d},lf(r),qi(r,St,d)):((t.lanes&a)!==0&&(uf(t,r),_l(r,null,null,a),yl()),d=t.memoizedState,f=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),qi(r,St,l)):(l=f.cache,qi(r,St,l),l!==d.cache&&nf(r,[St],a,!0))),Yt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ii(t){t.flags|=4}function Ff(t,r,a,l,d){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(uv())t.flags|=8192;else throw Ws=dc,of}else t.flags&=-16777217}function L_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wv(r))if(uv())t.flags|=8192;else throw Ws=dc,of}function Cc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Vu():536870912,t.lanes|=r,ro|=r)}function wl(t,r){if(!Le)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function $x(t,r,a){var l=r.pendingProps;switch(Jd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ei(St),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Fa(r)?ii(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Zd())),rt(r),null;case 26:var d=r.type,f=r.memoizedState;return t===null?(ii(r),f!==null?(rt(r),L_(r,f)):(rt(r),Ff(r,d,null,l,a))):f?f!==t.memoizedState?(ii(r),rt(r),L_(r,f)):(rt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&ii(r),rt(r),Ff(r,d,t,l,a)),null;case 27:if(Ta(r),a=Re.current,d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ii(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}t=ue.current,Fa(r)?gy(r):(t=Fv(d,l,a),r.stateNode=t,ii(r))}return rt(r),null;case 5:if(Ta(r),d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ii(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(f=ue.current,Fa(r))gy(r);else{var v=Fc(Re.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}f[Tt]=r,f[Pt]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=f;e:switch(Kt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ii(r)}}return rt(r),Ff(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&ii(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Re.current,Fa(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,d=Gt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Tt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Mv(t.nodeValue,a)),t||Bi(r,!0)}else t=Fc(t).createTextNode(l),t[Tt]=r,r.stateNode=t}return rt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Fa(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=r}else Ys(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),t=!1}else a=Zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Sn(r),r):(Sn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return rt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Fa(r),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Tt]=r}else Ys(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),d=!1}else d=Zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Sn(r),r):(Sn(r),null)}return Sn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Cc(r,r.updateQueue),rt(r),null);case 4:return ot(),t===null&&dm(r.stateNode.containerInfo),rt(r),null;case 10:return ei(r.type),rt(r),null;case 19:if(Z(yt),l=r.memoizedState,l===null)return rt(r),null;if(d=(r.flags&128)!==0,f=l.rendering,f===null)if(d)wl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=gc(t),f!==null){for(r.flags|=128,wl(l,!1),t=f.updateQueue,r.updateQueue=t,Cc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)hy(a,t),a=a.sibling;return ae(yt,yt.current&1|2),Le&&Wr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&sn()>kc&&(r.flags|=128,d=!0,wl(l,!1),r.lanes=4194304)}else{if(!d)if(t=gc(f),t!==null){if(r.flags|=128,d=!0,t=t.updateQueue,r.updateQueue=t,Cc(r,t),wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Le)return rt(r),null}else 2*sn()-l.renderingStartTime>kc&&a!==536870912&&(r.flags|=128,d=!0,wl(l,!1),r.lanes=4194304);l.isBackwards?(f.sibling=r.child,r.child=f):(t=l.last,t!==null?t.sibling=f:r.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,a=yt.current,ae(yt,d?a&1|2:a&1),Le&&Wr(r,l.treeForkCount),t):(rt(r),null);case 22:case 23:return Sn(r),ff(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),a=r.updateQueue,a!==null&&Cc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&Z(Xs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ei(St),rt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Yx(t,r){switch(Jd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ei(St),ot(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Ta(r),null;case 31:if(r.memoizedState!==null){if(Sn(r),r.alternate===null)throw Error(s(340));Ys()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Sn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ys()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Z(yt),null;case 4:return ot(),null;case 10:return ei(r.type),null;case 22:case 23:return Sn(r),ff(),t!==null&&Z(Xs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ei(St),null;case 25:return null;default:return null}}function U_(t,r){switch(Jd(r),r.tag){case 3:ei(St),ot();break;case 26:case 27:case 5:Ta(r);break;case 4:ot();break;case 31:r.memoizedState!==null&&Sn(r);break;case 13:Sn(r);break;case 19:Z(yt);break;case 10:ei(r.type);break;case 22:case 23:Sn(r),ff(),t!==null&&Z(Xs);break;case 24:ei(St)}}function Sl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==d)}}catch(x){Qe(r,r.return,x)}}function Ki(t,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var v=l.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,d=r;var I=a,q=x;try{q()}catch(K){Qe(d,I,K)}}}l=l.next}while(l!==f)}}catch(K){Qe(r,r.return,K)}}function P_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Cy(r,a)}catch(l){Qe(t,t.return,l)}}}function z_(t,r,a){a.props=ta(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(t,r,l)}}function Al(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){Qe(t,r,d)}}function Mr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Qe(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Qe(t,r,d)}else a.current=null}function B_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Qe(t,t.return,d)}}function Gf(t,r,a){try{var l=t.stateNode;pw(l,t.type,a,r),l[Pt]=r}catch(d){Qe(t,t.return,d)}}function q_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ts(t.type)||t.tag===4}function $f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||q_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ts(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Wn));else if(l!==4&&(l===27&&ts(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Yf(t,r,a),t=t.sibling;t!==null;)Yf(t,r,a),t=t.sibling}function Ic(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&ts(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ic(t,r,a),t=t.sibling;t!==null;)Ic(t,r,a),t=t.sibling}function H_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Kt(r,l,a),r[Tt]=t,r[Pt]=a}catch(f){Qe(t,t.return,f)}}var si=!1,Nt=!1,Kf=!1,F_=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function Kx(t,r){if(t=t.containerInfo,pm=Jc,t=ny(t),zd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,x=-1,I=-1,q=0,K=0,W=t,F=null;t:for(;;){for(var Y;W!==a||d!==0&&W.nodeType!==3||(x=v+d),W!==f||l!==0&&W.nodeType!==3||(I=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(Y=W.firstChild)!==null;)F=W,W=Y;for(;;){if(W===t)break t;if(F===a&&++q===d&&(x=v),F===f&&++K===l&&(I=v),(Y=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=Y}a=x===-1||I===-1?null:{start:x,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(gm={focusedElem:t,selectionRange:a},Jc=!1,Bt=r;Bt!==null;)if(r=Bt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Bt=t;else for(;Bt!==null;){switch(r=Bt,f=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ce=ta(a.type,d);t=l.getSnapshotBeforeUpdate(ce,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Qe(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)vm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Bt=t;break}Bt=r.return}}function G_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:oi(t,a),l&4&&Sl(5,a);break;case 1:if(oi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Qe(a,a.return,v)}else{var d=ta(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Qe(a,a.return,v)}}l&64&&P_(a),l&512&&Al(a,a.return);break;case 3:if(oi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Cy(t,r)}catch(v){Qe(a,a.return,v)}}break;case 27:r===null&&l&4&&H_(a);case 26:case 5:oi(t,a),r===null&&l&4&&B_(a),l&512&&Al(a,a.return);break;case 12:oi(t,a);break;case 31:oi(t,a),l&4&&K_(t,a);break;case 13:oi(t,a),l&4&&Q_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=rw.bind(null,a),xw(t,a))));break;case 22:if(l=a.memoizedState!==null||si,!l){r=r!==null&&r.memoizedState!==null||Nt,d=si;var f=Nt;si=l,(Nt=r)&&!f?li(t,a,(a.subtreeFlags&8772)!==0):oi(t,a),si=d,Nt=f}break;case 30:break;default:oi(t,a)}}function $_(t){var r=t.alternate;r!==null&&(t.alternate=null,$_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ra(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,hn=!1;function ai(t,r,a){for(a=a.child;a!==null;)Y_(t,r,a),a=a.sibling}function Y_(t,r,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:Nt||Mr(a,r),ai(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Mr(a,r);var l=ut,d=hn;ts(a.type)&&(ut=a.stateNode,hn=!1),ai(t,r,a),Vl(a.stateNode),ut=l,hn=d;break;case 5:Nt||Mr(a,r);case 6:if(l=ut,d=hn,ut=null,ai(t,r,a),ut=l,hn=d,ut!==null)if(hn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(f){Qe(a,r,f)}else try{ut.removeChild(a.stateNode)}catch(f){Qe(a,r,f)}break;case 18:ut!==null&&(hn?(t=ut,Pv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ho(t)):Pv(ut,a.stateNode));break;case 4:l=ut,d=hn,ut=a.stateNode.containerInfo,hn=!0,ai(t,r,a),ut=l,hn=d;break;case 0:case 11:case 14:case 15:Ki(2,a,r),Nt||Ki(4,a,r),ai(t,r,a);break;case 1:Nt||(Mr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&z_(a,r,l)),ai(t,r,a);break;case 21:ai(t,r,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,ai(t,r,a),Nt=l;break;default:ai(t,r,a)}}function K_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ho(t)}catch(a){Qe(r,r.return,a)}}}function Q_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ho(t)}catch(a){Qe(r,r.return,a)}}function Qx(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new F_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new F_),r;default:throw Error(s(435,t.tag))}}function Dc(t,r){var a=Qx(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var d=iw.bind(null,t,l);l.then(d,d)}})}function dn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,v=r,x=v;e:for(;x!==null;){switch(x.tag){case 27:if(ts(x.type)){ut=x.stateNode,hn=!1;break e}break;case 5:ut=x.stateNode,hn=!1;break e;case 3:case 4:ut=x.stateNode.containerInfo,hn=!0;break e}x=x.return}if(ut===null)throw Error(s(160));Y_(f,v,d),ut=null,hn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)X_(r,t),r=r.sibling}var ir=null;function X_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(r,t),fn(t),l&4&&(Ki(3,t,t.return),Sl(3,t),Ki(5,t,t.return));break;case 1:dn(r,t),fn(t),l&512&&(Nt||a===null||Mr(a,a.return)),l&64&&si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ir;if(dn(r,t),fn(t),l&512&&(Nt||a===null||Mr(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[vr]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Kt(f,l,a),f[Tt]=t,xt(f),l=f;break e;case"link":var v=Xv("link","href",d).get(l+(a.href||""));if(v){for(var x=0;x<v.length;x++)if(f=v[x],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(x,1);break t}}f=d.createElement(l),Kt(f,l,a),d.head.appendChild(f);break;case"meta":if(v=Xv("meta","content",d).get(l+(a.content||""))){for(x=0;x<v.length;x++)if(f=v[x],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(x,1);break t}}f=d.createElement(l),Kt(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[Tt]=t,xt(f),l=f}t.stateNode=l}else Jv(d,t.type,t.stateNode);else t.stateNode=Qv(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Jv(d,t.type,t.stateNode):Qv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gf(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(r,t),fn(t),l&512&&(Nt||a===null||Mr(a,a.return)),a!==null&&l&4&&Gf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(r,t),fn(t),l&512&&(Nt||a===null||Mr(a,a.return)),t.flags&32){d=t.stateNode;try{cn(d,"")}catch(ce){Qe(t,t.return,ce)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Gf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Kf=!0);break;case 6:if(dn(r,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Qe(t,t.return,ce)}}break;case 3:if(Yc=null,d=ir,ir=Gc(r.containerInfo),dn(r,t),ir=d,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ho(r.containerInfo)}catch(ce){Qe(t,t.return,ce)}Kf&&(Kf=!1,J_(t));break;case 4:l=ir,ir=Gc(t.stateNode.containerInfo),dn(r,t),fn(t),ir=l;break;case 12:dn(r,t),fn(t);break;case 31:dn(r,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 13:dn(r,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mc=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 22:d=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=si,K=Nt;if(si=q||d,Nt=K||I,dn(r,t),Nt=K,si=q,fn(t),l&8192)e:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(a===null||I||si||Nt||na(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(f=I.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=I.stateNode;var W=I.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;x.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ce){Qe(I,I.return,ce)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch(ce){Qe(I,I.return,ce)}}}else if(r.tag===18){if(a===null){I=r;try{var Y=I.stateNode;d?zv(Y,!0):zv(I.stateNode,!1)}catch(ce){Qe(I,I.return,ce)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Dc(t,a))));break;case 19:dn(r,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 30:break;case 21:break;default:dn(r,t),fn(t)}}function fn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(q_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=$f(t);Ic(t,f,d);break;case 5:var v=a.stateNode;a.flags&32&&(cn(v,""),a.flags&=-33);var x=$f(t);Ic(t,x,v);break;case 3:case 4:var I=a.stateNode.containerInfo,q=$f(t);Yf(t,q,I);break;default:throw Error(s(161))}}catch(K){Qe(t,t.return,K)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function J_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;J_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function oi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)G_(t,r.alternate,r),r=r.sibling}function na(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ki(4,r,r.return),na(r);break;case 1:Mr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&z_(r,r.return,a),na(r);break;case 27:Vl(r.stateNode);case 26:case 5:Mr(r,r.return),na(r);break;case 22:r.memoizedState===null&&na(r);break;case 30:na(r);break;default:na(r)}t=t.sibling}}function li(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=t,f=r,v=f.flags;switch(f.tag){case 0:case 11:case 15:li(d,f,a),Sl(4,f);break;case 1:if(li(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){Qe(l,l.return,q)}if(l=f,d=l.updateQueue,d!==null){var x=l.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)Ny(I[d],x)}catch(q){Qe(l,l.return,q)}}a&&v&64&&P_(f),Al(f,f.return);break;case 27:H_(f);case 26:case 5:li(d,f,a),a&&l===null&&v&4&&B_(f),Al(f,f.return);break;case 12:li(d,f,a);break;case 31:li(d,f,a),a&&v&4&&K_(d,f);break;case 13:li(d,f,a),a&&v&4&&Q_(d,f);break;case 22:f.memoizedState===null&&li(d,f,a),Al(f,f.return);break;case 30:break;default:li(d,f,a)}r=r.sibling}}function Qf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&dl(a))}function Xf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&dl(t))}function sr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)W_(t,r,a,l),r=r.sibling}function W_(t,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:sr(t,r,a,l),d&2048&&Sl(9,r);break;case 1:sr(t,r,a,l);break;case 3:sr(t,r,a,l),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&dl(t)));break;case 12:if(d&2048){sr(t,r,a,l),t=r.stateNode;try{var f=r.memoizedProps,v=f.id,x=f.onPostCommit;typeof x=="function"&&x(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Qe(r,r.return,I)}}else sr(t,r,a,l);break;case 31:sr(t,r,a,l);break;case 13:sr(t,r,a,l);break;case 23:break;case 22:f=r.stateNode,v=r.alternate,r.memoizedState!==null?f._visibility&2?sr(t,r,a,l):Rl(t,r):f._visibility&2?sr(t,r,a,l):(f._visibility|=2,eo(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Qf(v,r);break;case 24:sr(t,r,a,l),d&2048&&Xf(r.alternate,r);break;default:sr(t,r,a,l)}}function eo(t,r,a,l,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=t,v=r,x=a,I=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:eo(f,v,x,I,d),Sl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?eo(f,v,x,I,d):Rl(f,v):(K._visibility|=2,eo(f,v,x,I,d)),d&&q&2048&&Qf(v.alternate,v);break;case 24:eo(f,v,x,I,d),d&&q&2048&&Xf(v.alternate,v);break;default:eo(f,v,x,I,d)}r=r.sibling}}function Rl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,d=l.flags;switch(l.tag){case 22:Rl(a,l),d&2048&&Qf(l.alternate,l);break;case 24:Rl(a,l),d&2048&&Xf(l.alternate,l);break;default:Rl(a,l)}r=r.sibling}}var Nl=8192;function to(t,r,a){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)Z_(t,r,a),t=t.sibling}function Z_(t,r,a){switch(t.tag){case 26:to(t,r,a),t.flags&Nl&&t.memoizedState!==null&&Vw(a,ir,t.memoizedState,t.memoizedProps);break;case 5:to(t,r,a);break;case 3:case 4:var l=ir;ir=Gc(t.stateNode.containerInfo),to(t,r,a),ir=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Nl,Nl=16777216,to(t,r,a),Nl=l):to(t,r,a));break;default:to(t,r,a)}}function ev(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Cl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,nv(l,t)}ev(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tv(t),t=t.sibling}function tv(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&Ki(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Oc(t)):Cl(t);break;default:Cl(t)}}function Oc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,nv(l,t)}ev(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ki(8,r,r.return),Oc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Oc(r));break;default:Oc(r)}t=t.sibling}}function nv(t,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Ki(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var d=l.sibling,f=l.return;if($_(l),l===a){Bt=null;break e}if(d!==null){d.return=f,Bt=d;break e}Bt=f}}}var Xx={getCacheForType:function(t){var r=$t(St),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return $t(St).controller.signal}},Jx=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Ce=null,De=0,Ke=0,An=null,Qi=!1,no=!1,Jf=!1,ui=0,ft=0,Xi=0,ra=0,Wf=0,Rn=0,ro=0,Il=null,mn=null,Zf=!1,Mc=0,rv=0,kc=1/0,Vc=null,Ji=null,Vt=0,Wi=null,io=null,ci=0,em=0,tm=null,iv=null,Dl=0,nm=null;function Nn(){return(Fe&2)!==0&&De!==0?De&-De:Q.T!==null?lm():ju()}function sv(){if(Rn===0)if((De&536870912)===0||Le){var t=Is;Is<<=1,(Is&3932160)===0&&(Is=262144),Rn=t}else Rn=536870912;return t=wn.current,t!==null&&(t.flags|=32),Rn}function pn(t,r,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(so(t,0),Zi(t,De,Rn,!1)),Ds(t,a),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(ra|=a),ft===4&&Zi(t,De,Rn,!1)),kr(t))}function av(t,r,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Qn(t,r),d=l?ew(t,r):im(t,r,!0),f=l;do{if(d===0){no&&!l&&Zi(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!Wx(a)){d=im(t,r,!1),f=!1;continue}if(d===2){if(f=r,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var x=t;d=Il;var I=x.current.memoizedState.isDehydrated;if(I&&(so(x,v).flags|=256),v=im(x,v,!1),v!==2){if(Jf&&!I){x.errorRecoveryDisabledLanes|=f,ra|=f,d=4;break e}f=mn,mn=d,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){so(t,0),Zi(t,r,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Zi(l,r,Rn,!Qi);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Mc+300-sn(),10<d)){if(Zi(l,r,Rn,!Qi),gr(l,0,!0)!==0)break e;ci=r,l.timeoutHandle=Lv(ov.bind(null,l,a,mn,Vc,Zf,r,Rn,ra,ro,Qi,f,"Throttled",-0,0),d);break e}ov(l,a,mn,Vc,Zf,r,Rn,ra,ro,Qi,f,null,-0,0)}}break}while(!0);kr(t)}function ov(t,r,a,l,d,f,v,x,I,q,K,W,F,Y){if(t.timeoutHandle=-1,W=r.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},Z_(r,f,W);var ce=(f&62914560)===f?Mc-sn():(f&4194048)===f?rv-sn():0;if(ce=jw(W,ce),ce!==null){ci=f,t.cancelPendingCommit=ce(pv.bind(null,t,r,f,a,l,d,v,x,I,K,W,null,F,Y)),Zi(t,f,v,!q);return}}pv(t,r,f,a,l,d,v,x,I)}function Wx(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!Tn(f(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zi(t,r,a,l){r&=~Wf,r&=~ra,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var d=r;0<d;){var f=31-pt(d),v=1<<f;l[f]=-1,d&=~v}a!==0&&Os(t,a,r)}function jc(){return(Fe&6)===0?(Ol(0),!1):!0}function rm(){if(Ce!==null){if(Ke===0)var t=Ce.return;else t=Ce,Zr=Ks=null,vf(t),Qa=null,ml=0,t=Ce;for(;t!==null;)U_(t.alternate,t),t=t.return;Ce=null}}function so(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,_w(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ci=0,rm(),et=t,Ce=a=Jr(t.current,null),De=r,Ke=0,An=null,Qi=!1,no=Qn(t,r),Jf=!1,ro=Rn=Wf=ra=Xi=ft=0,mn=Il=null,Zf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var d=31-pt(l),f=1<<d;r|=t[d],l&=~f}return ui=r,rc(),a}function lv(t,r){Ae=null,Q.H=Tl,r===Ka||r===hc?(r=wy(),Ke=3):r===of?(r=wy(),Ke=4):Ke=r===Vf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,An=r,Ce===null&&(ft=1,Sc(t,Un(r,t.current)))}function uv(){var t=wn.current;return t===null?!0:(De&4194048)===De?qn===null:(De&62914560)===De||(De&536870912)!==0?t===qn:!1}function cv(){var t=Q.H;return Q.H=Tl,t===null?Tl:t}function hv(){var t=Q.A;return Q.A=Xx,t}function Lc(){ft=4,Qi||(De&4194048)!==De&&wn.current!==null||(no=!0),(Xi&134217727)===0&&(ra&134217727)===0||et===null||Zi(et,De,Rn,!1)}function im(t,r,a){var l=Fe;Fe|=2;var d=cv(),f=hv();(et!==t||De!==r)&&(Vc=null,so(t,r)),r=!1;var v=ft;e:do try{if(Ke!==0&&Ce!==null){var x=Ce,I=An;switch(Ke){case 8:rm(),v=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(r=!0);var q=Ke;if(Ke=0,An=null,ao(t,x,I,q),a&&no){v=0;break e}break;default:q=Ke,Ke=0,An=null,ao(t,x,I,q)}}Zx(),v=ft;break}catch(K){lv(t,K)}while(!0);return r&&t.shellSuspendCounter++,Zr=Ks=null,Fe=l,Q.H=d,Q.A=f,Ce===null&&(et=null,De=0,rc()),v}function Zx(){for(;Ce!==null;)dv(Ce)}function ew(t,r){var a=Fe;Fe|=2;var l=cv(),d=hv();et!==t||De!==r?(Vc=null,kc=sn()+500,so(t,r)):no=Qn(t,r);e:do try{if(Ke!==0&&Ce!==null){r=Ce;var f=An;t:switch(Ke){case 1:Ke=0,An=null,ao(t,r,f,1);break;case 2:case 9:if(Ty(f)){Ke=0,An=null,fv(r);break}r=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),kr(t)},f.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Ty(f)?(Ke=0,An=null,fv(r)):(Ke=0,An=null,ao(t,r,f,7));break;case 5:var v=null;switch(Ce.tag){case 26:v=Ce.memoizedState;case 5:case 27:var x=Ce;if(v?Wv(v):x.stateNode.complete){Ke=0,An=null;var I=x.sibling;if(I!==null)Ce=I;else{var q=x.return;q!==null?(Ce=q,Uc(q)):Ce=null}break t}}Ke=0,An=null,ao(t,r,f,5);break;case 6:Ke=0,An=null,ao(t,r,f,6);break;case 8:rm(),ft=6;break e;default:throw Error(s(462))}}tw();break}catch(K){lv(t,K)}while(!0);return Zr=Ks=null,Q.H=l,Q.A=d,Fe=a,Ce!==null?0:(et=null,De=0,rc(),ft)}function tw(){for(;Ce!==null&&!Md();)dv(Ce)}function dv(t){var r=j_(t.alternate,t,ui);t.memoizedProps=t.pendingProps,r===null?Uc(t):Ce=r}function fv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=I_(a,r,r.pendingProps,r.type,void 0,De);break;case 11:r=I_(a,r,r.pendingProps,r.type.render,r.ref,De);break;case 5:vf(r);default:U_(a,r),r=Ce=hy(r,ui),r=j_(a,r,ui)}t.memoizedProps=t.pendingProps,r===null?Uc(t):Ce=r}function ao(t,r,a,l){Zr=Ks=null,vf(r),Qa=null,ml=0;var d=r.return;try{if(Hx(t,d,r,a,De)){ft=1,Sc(t,Un(a,t.current)),Ce=null;return}}catch(f){if(d!==null)throw Ce=d,f;ft=1,Sc(t,Un(a,t.current)),Ce=null;return}r.flags&32768?(Le||l===1?t=!0:no||(De&536870912)!==0?t=!1:(Qi=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),mv(r,t)):Uc(r)}function Uc(t){var r=t;do{if((r.flags&32768)!==0){mv(r,Qi);return}t=r.return;var a=$x(r.alternate,r,ui);if(a!==null){Ce=a;return}if(r=r.sibling,r!==null){Ce=r;return}Ce=r=t}while(r!==null);ft===0&&(ft=5)}function mv(t,r){do{var a=Yx(t.alternate,t);if(a!==null){a.flags&=32767,Ce=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=a}while(t!==null);ft=6,Ce=null}function pv(t,r,a,l,d,f,v,x,I){t.cancelPendingCommit=null;do Pc();while(Vt!==0);if((Fe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=Gd,jd(t,a,f,v,x,I),t===et&&(Ce=et=null,De=0),io=r,Wi=t,ci=a,em=f,tm=d,iv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,sw(Ci,function(){return bv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,d=se.p,se.p=2,v=Fe,Fe|=4;try{Kx(t,r,a)}finally{Fe=v,se.p=d,Q.T=l}}Vt=1,gv(),yv(),_v()}}function gv(){if(Vt===1){Vt=0;var t=Wi,r=io,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var d=Fe;Fe|=4;try{X_(r,t);var f=gm,v=ny(t.containerInfo),x=f.focusedElem,I=f.selectionRange;if(v!==x&&x&&x.ownerDocument&&ty(x.ownerDocument.documentElement,x)){if(I!==null&&zd(x)){var q=I.start,K=I.end;if(K===void 0&&(K=q),"selectionStart"in x)x.selectionStart=q,x.selectionEnd=Math.min(K,x.value.length);else{var W=x.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var Y=F.getSelection(),ce=x.textContent.length,ge=Math.min(I.start,ce),Ze=I.end===void 0?ge:Math.min(I.end,ce);!Y.extend&&ge>Ze&&(v=Ze,Ze=ge,ge=v);var U=ey(x,ge),k=ey(x,Ze);if(U&&k&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var B=W.createRange();B.setStart(U.node,U.offset),Y.removeAllRanges(),ge>Ze?(Y.addRange(B),Y.extend(k.node,k.offset)):(B.setEnd(k.node,k.offset),Y.addRange(B))}}}}for(W=[],Y=x;Y=Y.parentNode;)Y.nodeType===1&&W.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<W.length;x++){var X=W[x];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Jc=!!pm,gm=pm=null}finally{Fe=d,se.p=l,Q.T=a}}t.current=r,Vt=2}}function yv(){if(Vt===2){Vt=0;var t=Wi,r=io,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var d=Fe;Fe|=4;try{G_(t,r.alternate,r)}finally{Fe=d,se.p=l,Q.T=a}}Vt=3}}function _v(){if(Vt===4||Vt===3){Vt=0,Cu();var t=Wi,r=io,a=ci,l=iv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Vt=5:(Vt=0,io=Wi=null,vv(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Ji=null),Yr(a),r=r.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Kn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,d=se.p,se.p=2,Q.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var x=l[v];f(x.value,{componentStack:x.stack})}}finally{Q.T=r,se.p=d}}(ci&3)!==0&&Pc(),kr(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===nm?Dl++:(Dl=0,nm=t):Dl=0,Ol(0)}}function vv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,dl(r)))}function Pc(){return gv(),yv(),_v(),bv()}function bv(){if(Vt!==5)return!1;var t=Wi,r=em;em=0;var a=Yr(ci),l=Q.T,d=se.p;try{se.p=32>a?32:a,Q.T=null,a=tm,tm=null;var f=Wi,v=ci;if(Vt=0,io=Wi=null,ci=0,(Fe&6)!==0)throw Error(s(331));var x=Fe;if(Fe|=4,tv(f.current),W_(f,f.current,v,a),Fe=x,Ol(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Kn,f)}catch{}return!0}finally{se.p=d,Q.T=l,vv(t,r)}}function Ev(t,r,a){r=Un(a,r),r=kf(t.stateNode,r,2),t=Gi(t,r,2),t!==null&&(Ds(t,2),kr(t))}function Qe(t,r,a){if(t.tag===3)Ev(t,t,a);else for(;r!==null;){if(r.tag===3){Ev(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ji===null||!Ji.has(l))){t=Un(a,t),a=T_(2),l=Gi(r,a,2),l!==null&&(x_(a,l,r,t),Ds(l,2),kr(l));break}}r=r.return}}function sm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Jx;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(Jf=!0,d.add(a),t=nw.bind(null,t,r,a),r.then(t,t))}function nw(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(De&a)===a&&(ft===4||ft===3&&(De&62914560)===De&&300>sn()-Mc?(Fe&2)===0&&so(t,0):Wf|=a,ro===De&&(ro=0)),kr(t)}function Tv(t,r){r===0&&(r=Vu()),t=Gs(t,r),t!==null&&(Ds(t,r),kr(t))}function rw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Tv(t,a)}function iw(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Tv(t,a)}function sw(t,r){return kt(t,r)}var zc=null,oo=null,am=!1,Bc=!1,om=!1,es=0;function kr(t){t!==oo&&t.next===null&&(oo===null?zc=oo=t:oo=oo.next=t),Bc=!0,am||(am=!0,ow())}function Ol(t,r){if(!om&&Bc){om=!0;do for(var a=!1,l=zc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var v=l.suspendedLanes,x=l.pingedLanes;f=(1<<31-pt(42|t)+1)-1,f&=d&~(v&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Av(l,f))}else f=De,f=gr(l,l===et?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Qn(l,f)||(a=!0,Av(l,f));l=l.next}while(a);om=!1}}function aw(){xv()}function xv(){Bc=am=!1;var t=0;es!==0&&yw()&&(t=es);for(var r=sn(),a=null,l=zc;l!==null;){var d=l.next,f=wv(l,r);f===0?(l.next=null,a===null?zc=d:a.next=d,d===null&&(oo=a)):(a=l,(t!==0||(f&3)!==0)&&(Bc=!0)),l=d}Vt!==0&&Vt!==5||Ol(t),es!==0&&(es=0)}function wv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-pt(f),x=1<<v,I=d[v];I===-1?((x&a)===0||(x&l)!==0)&&(d[v]=Vd(x,r)):I<=r&&(t.expiredLanes|=x),f&=~x}if(r=et,a=De,a=gr(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ni(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Qn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Ni(l),Yr(a)){case 2:case 8:a=qo;break;case 32:a=Ci;break;case 268435456:a=Iu;break;default:a=Ci}return l=Sv.bind(null,t),a=kt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Ni(l),t.callbackPriority=2,t.callbackNode=null,2}function Sv(t,r){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Pc()&&t.callbackNode!==a)return null;var l=De;return l=gr(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(av(t,l,r),wv(t,sn()),t.callbackNode!=null&&t.callbackNode===a?Sv.bind(null,t):null)}function Av(t,r){if(Pc())return null;av(t,r,!0)}function ow(){vw(function(){(Fe&6)!==0?kt(Bo,aw):xv()})}function lm(){if(es===0){var t=$a;t===0&&(t=mr,mr<<=1,(mr&261888)===0&&(mr=256)),es=t}return es}function Rv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Da(""+t)}function Nv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function lw(t,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var f=Rv((d[Pt]||null).action),v=l.submitter;v&&(r=(r=v[Pt]||null)?Rv(r.formAction):v.getAttribute("formAction"),r!==null&&(f=r,v=null));var x=new Rr("action","action",null,l,d);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(es!==0){var I=v?Nv(d,v):new FormData(d);Nf(a,{pending:!0,data:I,method:d.method,action:f},null,I)}}else typeof f=="function"&&(x.preventDefault(),I=v?Nv(d,v):new FormData(d),Nf(a,{pending:!0,data:I,method:d.method,action:f},f,I))},currentTarget:d}]})}}for(var um=0;um<Fd.length;um++){var cm=Fd[um],uw=cm.toLowerCase(),cw=cm[0].toUpperCase()+cm.slice(1);rr(uw,"on"+cw)}rr(sy,"onAnimationEnd"),rr(ay,"onAnimationIteration"),rr(oy,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(Ax,"onTransitionRun"),rr(Rx,"onTransitionStart"),rr(Nx,"onTransitionCancel"),rr(ly,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function Cv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var v=l.length-1;0<=v;v--){var x=l[v],I=x.instance,q=x.currentTarget;if(x=x.listener,I!==f&&d.isPropagationStopped())break e;f=x,d.currentTarget=q;try{f(d)}catch(K){nc(K)}d.currentTarget=null,f=I}else for(v=0;v<l.length;v++){if(x=l[v],I=x.instance,q=x.currentTarget,x=x.listener,I!==f&&d.isPropagationStopped())break e;f=x,d.currentTarget=q;try{f(d)}catch(K){nc(K)}d.currentTarget=null,f=I}}}}function Ie(t,r){var a=r[Aa];a===void 0&&(a=r[Aa]=new Set);var l=t+"__bubble";a.has(l)||(Iv(r,t,2,!1),a.add(l))}function hm(t,r,a){var l=0;r&&(l|=4),Iv(a,t,l,r)}var qc="_reactListening"+Math.random().toString(36).slice(2);function dm(t){if(!t[qc]){t[qc]=!0,Go.forEach(function(a){a!=="selectionchange"&&(hw.has(a)||hm(a,!1,t),hm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[qc]||(r[qc]=!0,hm("selectionchange",!1,r))}}function Iv(t,r,a,l){switch(sb(r)){case 2:var d=Pw;break;case 8:d=zw;break;default:d=Rm}a=d.bind(null,r,a,t),d=void 0,!Ls||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(r,a,{capture:!0,passive:d}):t.addEventListener(r,a,!0):d!==void 0?t.addEventListener(r,a,{passive:d}):t.addEventListener(r,a,!1)}function fm(t,r,a,l,d){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var x=l.stateNode.containerInfo;if(x===d)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;x!==null;){if(v=br(x),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=f=v;continue e}x=x.parentNode}}l=l.return}Vi(function(){var q=f,K=kn(a),W=[];e:{var F=uy.get(t);if(F!==void 0){var Y=Rr,ce=t;switch(t){case"keypress":if(Ps(a)===0)break e;case"keydown":case"keyup":Y=Zu;break;case"focusin":ce="focus",Y=Bs;break;case"focusout":ce="blur",Y=Bs;break;case"beforeblur":case"afterblur":Y=Bs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case sy:case ay:case oy:Y=$u;break;case ly:Y=S;break;case"scroll":case"scrollend":Y=rl;break;case"wheel":Y=$;break;case"copy":case"cut":case"paste":Y=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Xr;break;case"toggle":case"beforetoggle":Y=Se}var ge=(r&4)!==0,Ze=!ge&&(t==="scroll"||t==="scrollend"),U=ge?F!==null?F+"Capture":null:F;ge=[];for(var k=q,B;k!==null;){var X=k;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||U===null||(X=Zn(k,U),X!=null&&ge.push(kl(k,X,B))),Ze)break;k=k.return}0<ge.length&&(F=new Y(F,ce,null,a,K),W.push({event:F,listeners:ge}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&a!==el&&(ce=a.relatedTarget||a.fromElement)&&(br(ce)||ce[_r]))break e;if((Y||F)&&(F=K.window===K?K:(F=K.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(ce=a.relatedTarget||a.toElement,Y=q,ce=ce?br(ce):null,ce!==null&&(Ze=u(ce),ge=ce.tag,ce!==Ze||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(Y=null,ce=q),Y!==ce)){if(ge=il,X="onMouseLeave",U="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Xr,X="onPointerLeave",U="onPointerEnter",k="pointer"),Ze=Y==null?F:bn(Y),B=ce==null?F:bn(ce),F=new ge(X,k+"leave",Y,a,K),F.target=Ze,F.relatedTarget=B,X=null,br(K)===q&&(ge=new ge(U,k+"enter",ce,a,K),ge.target=B,ge.relatedTarget=Ze,X=ge),Ze=X,Y&&ce)t:{for(ge=dw,U=Y,k=ce,B=0,X=U;X;X=ge(X))B++;X=0;for(var fe=k;fe;fe=ge(fe))X++;for(;0<B-X;)U=ge(U),B--;for(;0<X-B;)k=ge(k),X--;for(;B--;){if(U===k||k!==null&&U===k.alternate){ge=U;break t}U=ge(U),k=ge(k)}ge=null}else ge=null;Y!==null&&Dv(W,F,Y,ge,!1),ce!==null&&Ze!==null&&Dv(W,Ze,ce,ge,!0)}}e:{if(F=q?bn(q):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var Be=Kg;else if($g(F))if(Qg)Be=xx;else{Be=Ex;var he=bx}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Ia(q.elementType)&&(Be=Kg):Be=Tx;if(Be&&(Be=Be(t,q))){Yg(W,Be,a,K);break e}he&&he(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Jo(F,"number",F.value)}switch(he=q?bn(q):window,t){case"focusin":($g(he)||he.contentEditable==="true")&&(Ua=he,Bd=q,ul=null);break;case"focusout":ul=Bd=Ua=null;break;case"mousedown":qd=!0;break;case"contextmenu":case"mouseup":case"dragend":qd=!1,ry(W,a,K);break;case"selectionchange":if(Sx)break;case"keydown":case"keyup":ry(W,a,K)}var Ne;if(He)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else La?qs(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ir&&a.locale!=="ko"&&(La||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&La&&(Ne=nl()):(Ar=K,tl="value"in Ar?Ar.value:Ar.textContent,La=!0)),he=Hc(q,Oe),0<he.length&&(Oe=new Cr(Oe,t,null,a,K),W.push({event:Oe,listeners:he}),Ne?Oe.data=Ne:(Ne=ja(a),Ne!==null&&(Oe.data=Ne)))),(Ne=jn?gx(t,a):yx(t,a))&&(Oe=Hc(q,"onBeforeInput"),0<Oe.length&&(he=new Cr("onBeforeInput","beforeinput",null,a,K),W.push({event:he,listeners:Oe}),he.data=Ne)),lw(W,t,q,a,K)}Cv(W,r)})}function kl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Hc(t,r){for(var a=r+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Zn(t,a),d!=null&&l.unshift(kl(t,d,f)),d=Zn(t,r),d!=null&&l.push(kl(t,d,f))),t.tag===3)return l;t=t.return}return[]}function dw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dv(t,r,a,l,d){for(var f=r._reactName,v=[];a!==null&&a!==l;){var x=a,I=x.alternate,q=x.stateNode;if(x=x.tag,I!==null&&I===l)break;x!==5&&x!==26&&x!==27||q===null||(I=q,d?(q=Zn(a,f),q!=null&&v.unshift(kl(a,q,I))):d||(q=Zn(a,f),q!=null&&v.push(kl(a,q,I)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var fw=/\r\n?/g,mw=/\u0000|\uFFFD/g;function Ov(t){return(typeof t=="string"?t:""+t).replace(fw,`
`).replace(mw,"")}function Mv(t,r){return r=Ov(r),Ov(t)===r}function We(t,r,a,l,d,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&cn(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,l);break;case"style":Zo(t,l,f);break;case"data":if(r!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Da(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&We(t,r,"name",d.name,d,null),We(t,r,"formEncType",d.formEncType,d,null),We(t,r,"formMethod",d.formMethod,d,null),We(t,r,"formTarget",d.formTarget,d,null)):(We(t,r,"encType",d.encType,d,null),We(t,r,"method",d.method,d,null),We(t,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Da(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),Na(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Na(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hu.get(a)||a,Na(t,a,l))}}function mm(t,r,a,l,d,f){switch(a){case"style":Zo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$o.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),f=t[Pt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Na(t,a,l)}}}function Kt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,f,v,a,null)}}d&&We(t,r,"srcSet",a.srcSet,a,null),l&&We(t,r,"src",a.src,a,null);return;case"input":Ie("invalid",t);var x=f=v=d=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":d=K;break;case"type":v=K;break;case"checked":I=K;break;case"defaultChecked":q=K;break;case"value":f=K;break;case"defaultValue":x=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:We(t,r,l,K,a,null)}}zu(t,f,x,I,q,v,d,!1);return;case"select":Ie("invalid",t),l=v=f=null;for(d in a)if(a.hasOwnProperty(d)&&(x=a[d],x!=null))switch(d){case"value":f=x;break;case"defaultValue":v=x;break;case"multiple":l=x;default:We(t,r,d,x,a,null)}r=f,a=v,t.multiple=!!l,r!=null?Di(t,!!l,r,!1):a!=null&&Di(t,!!l,a,!0);return;case"textarea":Ie("invalid",t),f=d=l=null;for(v in a)if(a.hasOwnProperty(v)&&(x=a[v],x!=null))switch(v){case"value":l=x;break;case"defaultValue":d=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:We(t,r,v,x,a,null)}Oi(t,l,d,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":We(t,r,I,l,a,null));return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Ie(Ml[l],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,q,l,a,null)}return;default:if(Ia(r)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&mm(t,r,K,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&We(t,r,x,l,a,null))}function pw(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,x=null,I=null,q=null,K=null;for(Y in a){var W=a[Y];if(a.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=W;default:l.hasOwnProperty(Y)||We(t,r,Y,null,l,W)}}for(var F in l){var Y=l[F];if(W=a[F],l.hasOwnProperty(F)&&(Y!=null||W!=null))switch(F){case"type":f=Y;break;case"name":d=Y;break;case"checked":q=Y;break;case"defaultChecked":K=Y;break;case"value":v=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==W&&We(t,r,F,Y,l,W)}}Ca(t,v,x,I,q,K,f,d);return;case"select":Y=v=x=F=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":Y=I;default:l.hasOwnProperty(f)||We(t,r,f,null,l,I)}for(d in l)if(f=l[d],I=a[d],l.hasOwnProperty(d)&&(f!=null||I!=null))switch(d){case"value":F=f;break;case"defaultValue":x=f;break;case"multiple":v=f;default:f!==I&&We(t,r,d,f,l,I)}r=x,a=v,l=Y,F!=null?Di(t,!!a,F,!1):!!l!=!!a&&(r!=null?Di(t,!!a,r,!0):Di(t,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(x in a)if(d=a[x],a.hasOwnProperty(x)&&d!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:We(t,r,x,null,l,d)}for(v in l)if(d=l[v],f=a[v],l.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":F=d;break;case"defaultValue":Y=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&We(t,r,v,d,l,f)}Bu(t,F,Y);return;case"option":for(var ce in a)F=a[ce],a.hasOwnProperty(ce)&&F!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:We(t,r,ce,null,l,F));for(I in l)F=l[I],Y=a[I],l.hasOwnProperty(I)&&F!==Y&&(F!=null||Y!=null)&&(I==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":We(t,r,I,F,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)F=a[ge],a.hasOwnProperty(ge)&&F!=null&&!l.hasOwnProperty(ge)&&We(t,r,ge,null,l,F);for(q in l)if(F=l[q],Y=a[q],l.hasOwnProperty(q)&&F!==Y&&(F!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:We(t,r,q,F,l,Y)}return;default:if(Ia(r)){for(var Ze in a)F=a[Ze],a.hasOwnProperty(Ze)&&F!==void 0&&!l.hasOwnProperty(Ze)&&mm(t,r,Ze,void 0,l,F);for(K in l)F=l[K],Y=a[K],!l.hasOwnProperty(K)||F===Y||F===void 0&&Y===void 0||mm(t,r,K,F,l,Y);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&We(t,r,U,null,l,F);for(W in l)F=l[W],Y=a[W],!l.hasOwnProperty(W)||F===Y||F==null&&Y==null||We(t,r,W,F,l,Y)}function kv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,v=d.initiatorType,x=d.duration;if(f&&x&&kv(v)){for(v=0,x=d.responseEnd,l+=1;l<a.length;l++){var I=a[l],q=I.startTime;if(q>x)break;var K=I.transferSize,W=I.initiatorType;K&&kv(W)&&(I=I.responseEnd,v+=K*(I<x?1:(x-q)/(I-q)))}if(--l,r+=8*(f+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pm=null,gm=null;function Fc(t){return t.nodeType===9?t:t.ownerDocument}function Vv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function ym(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var _m=null;function yw(){var t=window.event;return t&&t.type==="popstate"?t===_m?!1:(_m=t,!0):(_m=null,!1)}var Lv=typeof setTimeout=="function"?setTimeout:void 0,_w=typeof clearTimeout=="function"?clearTimeout:void 0,Uv=typeof Promise=="function"?Promise:void 0,vw=typeof queueMicrotask=="function"?queueMicrotask:typeof Uv<"u"?function(t){return Uv.resolve(null).then(t).catch(bw)}:Lv;function bw(t){setTimeout(function(){throw t})}function ts(t){return t==="head"}function Pv(t,r){var a=r,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),ho(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Vl(a);for(var f=a.firstChild;f;){var v=f.nextSibling,x=f.nodeName;f[vr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Vl(t.ownerDocument.body);a=d}while(a);ho(r)}function zv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function vm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vm(a),Ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Ew(t,r,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function Tw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function Bv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Hn(t.nextSibling),t===null))return null;return t}function bm(t){return t.data==="$?"||t.data==="$~"}function Em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function xw(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Tm=null;function qv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Hn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Hv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Fv(t,r,a){switch(r=Fc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Vl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ra(t)}var Fn=new Map,Gv=new Set;function Gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hi=se.d;se.d={f:ww,r:Sw,D:Aw,C:Rw,L:Nw,m:Cw,X:Dw,S:Iw,M:Ow};function ww(){var t=hi.f(),r=jc();return t||r}function Sw(t){var r=Mn(t);r!==null&&r.tag===5&&r.type==="form"?l_(r):hi.r(t)}var lo=typeof document>"u"?null:document;function $v(t,r,a){var l=lo;if(l&&typeof r=="string"&&r){var d=un(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Gv.has(d)||(Gv.add(d),t={rel:t,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),Kt(r,"link",t),xt(r),l.head.appendChild(r)))}}function Aw(t){hi.D(t),$v("dns-prefetch",t,null)}function Rw(t,r){hi.C(t,r),$v("preconnect",t,r)}function Nw(t,r,a){hi.L(t,r,a);var l=lo;if(l&&t&&r){var d='link[rel="preload"][as="'+un(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+un(a.imageSizes)+'"]')):d+='[href="'+un(t)+'"]';var f=d;switch(r){case"style":f=uo(t);break;case"script":f=co(t)}Fn.has(f)||(t=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Fn.set(f,t),l.querySelector(d)!==null||r==="style"&&l.querySelector(jl(f))||r==="script"&&l.querySelector(Ll(f))||(r=l.createElement("link"),Kt(r,"link",t),xt(r),l.head.appendChild(r)))}}function Cw(t,r){hi.m(t,r);var a=lo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=co(t)}if(!Fn.has(f)&&(t=b({rel:"modulepreload",href:t},r),Fn.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(f)))return}l=a.createElement("link"),Kt(l,"link",t),xt(l),a.head.appendChild(l)}}}function Iw(t,r,a){hi.S(t,r,a);var l=lo;if(l&&t){var d=Er(l).hoistableStyles,f=uo(t);r=r||"default";var v=d.get(f);if(!v){var x={loading:0,preload:null};if(v=l.querySelector(jl(f)))x.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Fn.get(f))&&xm(t,a);var I=v=l.createElement("link");xt(I),Kt(I,"link",t),I._p=new Promise(function(q,K){I.onload=q,I.onerror=K}),I.addEventListener("load",function(){x.loading|=1}),I.addEventListener("error",function(){x.loading|=2}),x.loading|=4,$c(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:x},d.set(f,v)}}}function Dw(t,r){hi.X(t,r);var a=lo;if(a&&t){var l=Er(a).hoistableScripts,d=co(t),f=l.get(d);f||(f=a.querySelector(Ll(d)),f||(t=b({src:t,async:!0},r),(r=Fn.get(d))&&wm(t,r),f=a.createElement("script"),xt(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Ow(t,r){hi.M(t,r);var a=lo;if(a&&t){var l=Er(a).hoistableScripts,d=co(t),f=l.get(d);f||(f=a.querySelector(Ll(d)),f||(t=b({src:t,async:!0,type:"module"},r),(r=Fn.get(d))&&wm(t,r),f=a.createElement("script"),xt(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Yv(t,r,a,l){var d=(d=Re.current)?Gc(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=uo(a.href),a=Er(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=uo(a.href);var f=Er(d).hoistableStyles,v=f.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=d.querySelector(jl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),f||Mw(d,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=co(a),a=Er(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function uo(t){return'href="'+un(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function Kv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Mw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Kt(r,"link",a),xt(r),t.head.appendChild(r))}function co(t){return'[src="'+un(t)+'"]'}function Ll(t){return"script[async]"+t}function Qv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return r.instance=l,xt(l),l;var d=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Kt(l,"style",d),$c(l,a.precedence,t),r.instance=l;case"stylesheet":d=uo(a.href);var f=t.querySelector(jl(d));if(f)return r.state.loading|=4,r.instance=f,xt(f),f;l=Kv(a),(d=Fn.get(d))&&xm(l,d),f=(t.ownerDocument||t).createElement("link"),xt(f);var v=f;return v._p=new Promise(function(x,I){v.onload=x,v.onerror=I}),Kt(f,"link",l),r.state.loading|=4,$c(f,a.precedence,t),r.instance=f;case"script":return f=co(a.src),(d=t.querySelector(Ll(f)))?(r.instance=d,xt(d),d):(l=a,(d=Fn.get(f))&&(l=b({},a),wm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),xt(d),Kt(d,"link",l),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,$c(l,a.precedence,t));return r.instance}function $c(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,v=0;v<l.length;v++){var x=l[v];if(x.dataset.precedence===r)f=x;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function xm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function wm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Yc=null;function Xv(t,r,a){if(Yc===null){var l=new Map,d=Yc=new Map;d.set(a,l)}else d=Yc,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[vr]||f[Tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(r)||"";v=t+v;var x=l.get(v);x?x.push(f):l.set(v,[f])}}return l}function Jv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function kw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Wv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Vw(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=uo(l.href),f=r.querySelector(jl(d));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Kc.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=f,xt(f);return}f=r.ownerDocument||r,l=Kv(l),(d=Fn.get(d))&&xm(l,d),f=f.createElement("link"),xt(f);var v=f;v._p=new Promise(function(x,I){v.onload=x,v.onerror=I}),Kt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Kc.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Sm=0;function jw(t,r){return t.stylesheets&&t.count===0&&Xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Xc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+r);0<t.imgBytes&&Sm===0&&(Sm=62500*gw());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Xc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Sm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qc=null;function Xc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qc=new Map,r.forEach(Lw,t),Qc=null,Kc.call(t))}function Lw(t,r){if(!(r.state.loading&4)){var a=Qc.get(t);if(a)var l=a.get(null);else{a=new Map,Qc.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}d=r.instance,v=d.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,d),a.set(v,d),this.count++,l=Kc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var Ul={$$typeof:re,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Uw(t,r,a,l,d,f,v,x,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yr(0),this.hiddenUpdates=yr(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Zv(t,r,a,l,d,f,v,x,I,q,K,W){return t=new Uw(t,r,a,v,I,q,K,W,x),r=1,f===!0&&(r|=24),f=xn(3,null,null,r),t.current=f,f.stateNode=t,r=rf(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},lf(f),t}function eb(t){return t?(t=Ba,t):Ba}function tb(t,r,a,l,d,f){d=eb(d),l.context===null?l.context=d:l.pendingContext=d,l=Fi(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Gi(t,l,r),a!==null&&(pn(a,t,r),gl(a,t,r))}function nb(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Am(t,r){nb(t,r),(t=t.alternate)&&nb(t,r)}function rb(t){if(t.tag===13||t.tag===31){var r=Gs(t,67108864);r!==null&&pn(r,t,67108864),Am(t,67108864)}}function ib(t){if(t.tag===13||t.tag===31){var r=Nn();r=Ms(r);var a=Gs(t,r);a!==null&&pn(a,t,r),Am(t,r)}}var Jc=!0;function Pw(t,r,a,l){var d=Q.T;Q.T=null;var f=se.p;try{se.p=2,Rm(t,r,a,l)}finally{se.p=f,Q.T=d}}function zw(t,r,a,l){var d=Q.T;Q.T=null;var f=se.p;try{se.p=8,Rm(t,r,a,l)}finally{se.p=f,Q.T=d}}function Rm(t,r,a,l){if(Jc){var d=Nm(l);if(d===null)fm(t,r,l,Wc,a),ab(t,l);else if(qw(d,t,r,a,l))l.stopPropagation();else if(ab(t,l),r&4&&-1<Bw.indexOf(t)){for(;d!==null;){var f=Mn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=pr(f.pendingLanes);if(v!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var I=1<<31-pt(v);x.entanglements[1]|=I,v&=~I}kr(f),(Fe&6)===0&&(kc=sn()+500,Ol(0))}}break;case 31:case 13:x=Gs(f,2),x!==null&&pn(x,f,2),jc(),Am(f,2)}if(f=Nm(l),f===null&&fm(t,r,l,Wc,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else fm(t,r,l,null,a)}}function Nm(t){return t=kn(t),Cm(t)}var Wc=null;function Cm(t){if(Wc=null,t=br(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Wc=t,null}function sb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cs()){case Bo:return 2;case qo:return 8;case Ci:case kd:return 32;case Iu:return 268435456;default:return 32}default:return 32}}var Im=!1,ns=null,rs=null,is=null,Pl=new Map,zl=new Map,ss=[],Bw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ab(t,r){switch(t){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Pl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(r.pointerId)}}function Bl(t,r,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},r!==null&&(r=Mn(r),r!==null&&rb(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function qw(t,r,a,l,d){switch(r){case"focusin":return ns=Bl(ns,t,r,a,l,d),!0;case"dragenter":return rs=Bl(rs,t,r,a,l,d),!0;case"mouseover":return is=Bl(is,t,r,a,l,d),!0;case"pointerover":var f=d.pointerId;return Pl.set(f,Bl(Pl.get(f)||null,t,r,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,zl.set(f,Bl(zl.get(f)||null,t,r,a,l,d)),!0}return!1}function ob(t){var r=br(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Xn(t.priority,function(){ib(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Xn(t.priority,function(){ib(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Nm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);el=l,a.target.dispatchEvent(l),el=null}else return r=Mn(a),r!==null&&rb(r),t.blockedOn=a,!1;r.shift()}return!0}function lb(t,r,a){Zc(t)&&a.delete(r)}function Hw(){Im=!1,ns!==null&&Zc(ns)&&(ns=null),rs!==null&&Zc(rs)&&(rs=null),is!==null&&Zc(is)&&(is=null),Pl.forEach(lb),zl.forEach(lb)}function eh(t,r){t.blockedOn===r&&(t.blockedOn=null,Im||(Im=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Hw)))}var th=null;function ub(t){th!==t&&(th=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){th===t&&(th=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],d=t[r+2];if(typeof l!="function"){if(Cm(l||a)===null)continue;break}var f=Mn(a);f!==null&&(t.splice(r,3),r-=3,Nf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function ho(t){function r(I){return eh(I,t)}ns!==null&&eh(ns,t),rs!==null&&eh(rs,t),is!==null&&eh(is,t),Pl.forEach(r),zl.forEach(r);for(var a=0;a<ss.length;a++){var l=ss[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ss.length&&(a=ss[0],a.blockedOn===null);)ob(a),a.blockedOn===null&&ss.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],v=d[Pt]||null;if(typeof f=="function")v||ub(a);else if(v){var x=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[Pt]||null)x=v.formAction;else if(Cm(d)!==null)continue}else x=v.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),ub(a)}}}function cb(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Dm(t){this._internalRoot=t}nh.prototype.render=Dm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Nn();tb(a,l,t,r,null,null)},nh.prototype.unmount=Dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;tb(t.current,2,null,t,null,null),jc(),r[_r]=null}};function nh(t){this._internalRoot=t}nh.prototype.unstable_scheduleHydration=function(t){if(t){var r=ju();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ss.length&&r!==0&&r<ss[a].priority;a++);ss.splice(a,0,t),a===0&&ob(t)}};var hb=e.version;if(hb!=="19.2.3")throw Error(s(527,hb,"19.2.3"));se.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Fw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{Kn=rh.inject(Fw),Ht=rh}catch{}}return Hl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",d=__,f=v_,v=b_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=Zv(t,1,!1,null,null,a,l,null,d,f,v,cb),t[_r]=r.current,dm(t),new Dm(r)},Hl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,d="",f=__,v=v_,x=b_,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),r=Zv(t,1,!0,r,a??null,l,d,I,f,v,x,cb),r.context=eb(null),a=r.current,l=Nn(),l=Ms(l),d=Fi(l),d.callback=null,Gi(a,d,l),a=l,r.current.lanes=a,Ds(r,a),kr(r),t[_r]=r.current,dm(t),new nh(r)},Hl.version="19.2.3",Hl}var Eb;function eS(){if(Eb)return km.exports;Eb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),km.exports=Zw(),km.exports}var tS=eS();var Tb="popstate";function nS(i={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=ya(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),rp("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:nu(u))}function s(o,u){In(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return iS(e,n,s,i)}function ct(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function In(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rS(){return Math.random().toString(36).substring(2,10)}function xb(i,e){return{usr:i.state,key:i.key,idx:e}}function rp(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ya(e):e,state:n,key:e&&e.key||s||rS()}}function nu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ya(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function iS(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function b(){m="POP";let G=E(),ne=G==null?null:G-g;g=G,p&&p({action:m,location:H.location,delta:ne})}function w(G,ne){m="PUSH";let te=rp(H.location,G,ne);n&&n(te,G),g=E()+1;let re=xb(te,g),de=H.createHref(te);try{h.pushState(re,"",de)}catch(we){if(we instanceof DOMException&&we.name==="DataCloneError")throw we;o.location.assign(de)}u&&p&&p({action:m,location:H.location,delta:1})}function M(G,ne){m="REPLACE";let te=rp(H.location,G,ne);n&&n(te,G),g=E();let re=xb(te,g),de=H.createHref(te);h.replaceState(re,"",de),u&&p&&p({action:m,location:H.location,delta:0})}function D(G){return sS(G)}let H={get action(){return m},get location(){return i(o,h)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Tb,b),p=G,()=>{o.removeEventListener(Tb,b),p=null}},createHref(G){return e(o,G)},createURL:D,encodeLocation(G){let ne=D(G);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:w,replace:M,go(G){return h.go(G)}};return H}function sS(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:nu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function hE(i,e,n="/"){return aS(i,e,n,!1)}function aS(i,e,n,s){let o=typeof e=="string"?ya(e):e,u=_i(o.pathname||"/",n);if(u==null)return null;let h=dE(i);oS(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=_S(u);m=gS(h[p],g,s)}return m}function dE(i,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ct(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=gi([s,E.relativePath]),w=n.concat(E);h.children&&h.children.length>0&&(ct(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),dE(h.children,e,w,b,p)),!(h.path==null&&!h.index)&&e.push({path:b,score:mS(b,h.index),routesMeta:w})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of fE(h.path))u(h,m,!0,p)}),e}function fE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=fE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function oS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:pS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var lS=/^:[\w-]+$/,uS=3,cS=2,hS=1,dS=10,fS=-2,wb=i=>i==="*";function mS(i,e){let n=i.split("/"),s=n.length;return n.some(wb)&&(s+=fS),e&&(s+=cS),n.filter(o=>!wb(o)).reduce((o,u)=>o+(lS.test(u)?uS:u===""?hS:dS),s)}function pS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function gS(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:gi([u,b.pathname]),pathnameBase:TS(gi([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=gi([u,b.pathnameBase]))}return h}function Nh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=yS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},w)=>{if(E==="*"){let D=m[w]||"";h=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const M=m[w];return b&&!M?g[E]=void 0:g[E]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function yS(i,e=!1,n=!0){In(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function _S(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return In(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function _i(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var mE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vS=i=>mE.test(i);function bS(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ya(i):i,u;if(n)if(vS(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),In(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=Sb(n.substring(1),"/"):u=Sb(n,e)}else u=e;return{pathname:u,search:xS(s),hash:wS(o)}}function Sb(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Um(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ES(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kp(i){let e=ES(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Vp(i,e,n,s=!1){let o;typeof i=="string"?o=ya(i):(o={...i},ct(!o.pathname||!o.pathname.includes("?"),Um("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Um("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Um("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?e[b]:"/"}let p=bS(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var gi=i=>i.join("/").replace(/\/\/+/g,"/"),TS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),xS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,wS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,SS=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function AS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function RS(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var pE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gE(i,e){let n=i;if(typeof n!="string"||!mE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(pE)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=_i(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{In(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yE=["POST","PUT","PATCH","DELETE"];new Set(yE);var NS=["GET",...yE];new Set(NS);var Io=O.createContext(null);Io.displayName="DataRouter";var Zh=O.createContext(null);Zh.displayName="DataRouterState";var CS=O.createContext(!1),_E=O.createContext({isTransitioning:!1});_E.displayName="ViewTransition";var IS=O.createContext(new Map);IS.displayName="Fetchers";var DS=O.createContext(null);DS.displayName="Await";var Dn=O.createContext(null);Dn.displayName="Navigation";var fu=O.createContext(null);fu.displayName="Location";var hr=O.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var jp=O.createContext(null);jp.displayName="RouteError";var vE="REACT_ROUTER_ERROR",OS="REDIRECT",MS="ROUTE_ERROR_RESPONSE";function kS(i){if(i.startsWith(`${vE}:${OS}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function VS(i){if(i.startsWith(`${vE}:${MS}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new SS(e.status,e.statusText,e.data)}catch{}}function jS(i,{relative:e}={}){ct(Do(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=O.useContext(Dn),{hash:o,pathname:u,search:h}=mu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:gi([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Do(){return O.useContext(fu)!=null}function Ai(){return ct(Do(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(fu).location}var bE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function EE(i){O.useContext(Dn).static||O.useLayoutEffect(i)}function TE(){let{isDataRoute:i}=O.useContext(hr);return i?JS():LS()}function LS(){ct(Do(),"useNavigate() may be used only in the context of a <Router> component.");let i=O.useContext(Io),{basename:e,navigator:n}=O.useContext(Dn),{matches:s}=O.useContext(hr),{pathname:o}=Ai(),u=JSON.stringify(kp(s)),h=O.useRef(!1);return EE(()=>{h.current=!0}),O.useCallback((p,g={})=>{if(In(h.current,bE),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=Vp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:gi([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}var US=O.createContext(null);function PS(i){let e=O.useContext(hr).outlet;return O.useMemo(()=>e&&O.createElement(US.Provider,{value:i},e),[e,i])}function mu(i,{relative:e}={}){let{matches:n}=O.useContext(hr),{pathname:s}=Ai(),o=JSON.stringify(kp(n));return O.useMemo(()=>Vp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function zS(i,e){return xE(i,e)}function xE(i,e,n,s,o){ct(Do(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=O.useContext(Dn),{matches:h}=O.useContext(hr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let te=b&&b.path||"";SE(g,!b||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let w=Ai(),M;if(e){let te=typeof e=="string"?ya(e):e;ct(E==="/"||te.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),M=te}else M=w;let D=M.pathname||"/",H=D;if(E!=="/"){let te=E.replace(/^\//,"").split("/");H="/"+D.replace(/^\//,"").split("/").slice(te.length).join("/")}let G=hE(i,{pathname:H});In(b||G!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),In(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=GS(G&&G.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:gi([E,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:gi([E,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),h,n,s,o);return e&&ne?O.createElement(fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},ne):ne}function BS(){let i=XS(),e=AS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:u},"ErrorBoundary")," or"," ",O.createElement("code",{style:u},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:o},n):null,h)}var qS=O.createElement(BS,null),wE=class extends O.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=VS(i.digest);n&&(i=n)}let e=i!==void 0?O.createElement(hr.Provider,{value:this.props.routeContext},O.createElement(jp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?O.createElement(HS,{error:i},e):e}};wE.contextType=CS;var Pm=new WeakMap;function HS({children:i,error:e}){let{basename:n}=O.useContext(Dn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=kS(e.digest);if(s){let o=Pm.get(e);if(o)throw o;let u=gE(s.location,n);if(pE&&!Pm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Pm.set(e,h),h}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function FS({routeContext:i,match:e,children:n}){let s=O.useContext(Io);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(hr.Provider,{value:i},n)}function GS(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let E=u.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);ct(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let b=u[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=E),b.route.id){let{loaderData:w,errors:M}=n,D=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!M||M[b.route.id]===void 0);if(b.route.lazy||D){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,b)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:RS(n.matches),errorInfo:b})}:void 0;return u.reduceRight((E,b,w)=>{let M,D=!1,H=null,G=null;n&&(M=h&&b.route.id?h[b.route.id]:void 0,H=b.route.errorElement||qS,m&&(p<0&&w===0?(SE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,G=null):p===w&&(D=!0,G=b.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,w+1)),te=()=>{let re;return M?re=H:D?re=G:b.route.Component?re=O.createElement(b.route.Component,null):b.route.element?re=b.route.element:re=E,O.createElement(FS,{match:b,routeContext:{outlet:E,matches:ne,isDataRoute:n!=null},children:re})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?O.createElement(wE,{location:n.location,revalidation:n.revalidation,component:H,error:M,children:te(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:g}):te()},null)}function Lp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $S(i){let e=O.useContext(Io);return ct(e,Lp(i)),e}function YS(i){let e=O.useContext(Zh);return ct(e,Lp(i)),e}function KS(i){let e=O.useContext(hr);return ct(e,Lp(i)),e}function Up(i){let e=KS(i),n=e.matches[e.matches.length-1];return ct(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function QS(){return Up("useRouteId")}function XS(){let i=O.useContext(jp),e=YS("useRouteError"),n=Up("useRouteError");return i!==void 0?i:e.errors?.[n]}function JS(){let{router:i}=$S("useNavigate"),e=Up("useNavigate"),n=O.useRef(!1);return EE(()=>{n.current=!0}),O.useCallback(async(o,u={})=>{In(n.current,bE),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Ab={};function SE(i,e,n){!e&&!Ab[i]&&(Ab[i]=!0,In(!1,n))}O.memo(WS);function WS({routes:i,future:e,state:n,onError:s}){return xE(i,void 0,n,s,e)}function AE({to:i,replace:e,state:n,relative:s}){ct(Do(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(Dn);In(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=O.useContext(hr),{pathname:h}=Ai(),m=TE(),p=Vp(i,kp(u),h,s==="path"),g=JSON.stringify(p);return O.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function ZS(i){return PS(i.context)}function gn(i){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eA({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ct(!Do(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=O.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=ya(n));let{pathname:g="/",search:E="",hash:b="",state:w=null,key:M="default"}=n,D=O.useMemo(()=>{let H=_i(g,m);return H==null?null:{location:{pathname:H,search:E,hash:b,state:w,key:M},navigationType:s}},[m,g,E,b,w,M,s]);return In(D!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:O.createElement(Dn.Provider,{value:p},O.createElement(fu.Provider,{children:e,value:D}))}function tA({children:i,location:e}){return zS(ip(i),e)}function ip(i,e=[]){let n=[];return O.Children.forEach(i,(s,o)=>{if(!O.isValidElement(s))return;let u=[...e,o];if(s.type===O.Fragment){n.push.apply(n,ip(s.props.children,u));return}ct(s.type===gn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ip(s.props.children,u)),n.push(h)}),n}var mh="get",ph="application/x-www-form-urlencoded";function ed(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function nA(i){return ed(i)&&i.tagName.toLowerCase()==="button"}function rA(i){return ed(i)&&i.tagName.toLowerCase()==="form"}function iA(i){return ed(i)&&i.tagName.toLowerCase()==="input"}function sA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function aA(i,e){return i.button===0&&(!e||e==="_self")&&!sA(i)}var ih=null;function oA(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var lA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zm(i){return i!=null&&!lA.has(i)?(In(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ph}"`),null):i}function uA(i,e){let n,s,o,u,h;if(rA(i)){let m=i.getAttribute("action");s=m?_i(m,e):null,n=i.getAttribute("method")||mh,o=zm(i.getAttribute("enctype"))||ph,u=new FormData(i)}else if(nA(i)||iA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?_i(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||mh,o=zm(i.getAttribute("formenctype"))||zm(m.getAttribute("enctype"))||ph,u=new FormData(m,i),!oA()){let{name:g,type:E,value:b}=i;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,b)}}else{if(ed(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mh,s=null,o=ph,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function cA(i,e,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&_i(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function hA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function fA(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await hA(u,n);return h.links?h.links():[]}return[]}));return yA(s.flat(1).filter(dA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Rb(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function mA(i,e,{includeHydrateFallback:n}={}){return pA(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function pA(i){return[...new Set(i)]}function gA(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function yA(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(gA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function RE(){let i=O.useContext(Io);return Pp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function _A(){let i=O.useContext(Zh);return Pp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var zp=O.createContext(void 0);zp.displayName="FrameworkContext";function NE(){let i=O.useContext(zp);return Pp(i,"You must render this element inside a <HydratedRouter> element"),i}function vA(i,e){let n=O.useContext(zp),[s,o]=O.useState(!1),[u,h]=O.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,w=O.useRef(null);O.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let H=ne=>{ne.forEach(te=>{h(te.isIntersecting)})},G=new IntersectionObserver(H,{threshold:.5});return w.current&&G.observe(w.current),()=>{G.disconnect()}}},[i]),O.useEffect(()=>{if(s){let H=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(H)}}},[s]);let M=()=>{o(!0)},D=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,w,{}]:[u,w,{onFocus:Fl(m,M),onBlur:Fl(p,D),onMouseEnter:Fl(g,M),onMouseLeave:Fl(E,D),onTouchStart:Fl(b,M)}]:[!1,w,{}]}function Fl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function bA({page:i,...e}){let{router:n}=RE(),s=O.useMemo(()=>hE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?O.createElement(TA,{page:i,matches:s,...e}):null}function EA(i){let{manifest:e,routeModules:n}=NE(),[s,o]=O.useState([]);return O.useEffect(()=>{let u=!1;return fA(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function TA({page:i,matches:e,...n}){let s=Ai(),{future:o,manifest:u,routeModules:h}=NE(),{basename:m}=RE(),{loaderData:p,matches:g}=_A(),E=O.useMemo(()=>Rb(i,e,g,u,s,"data"),[i,e,g,u,s]),b=O.useMemo(()=>Rb(i,e,g,u,s,"assets"),[i,e,g,u,s]),w=O.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let H=new Set,G=!1;if(e.forEach(te=>{let re=u.routes[te.route.id];!re||!re.hasLoader||(!E.some(de=>de.route.id===te.route.id)&&te.route.id in p&&h[te.route.id]?.shouldRevalidate||re.hasClientLoader?G=!0:H.add(te.route.id))}),H.size===0)return[];let ne=cA(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return G&&H.size>0&&ne.searchParams.set("_routes",e.filter(te=>H.has(te.route.id)).map(te=>te.route.id).join(",")),[ne.pathname+ne.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,i,h]),M=O.useMemo(()=>mA(b,u),[b,u]),D=EA(b);return O.createElement(O.Fragment,null,w.map(H=>O.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),M.map(H=>O.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),D.map(({key:H,link:G})=>O.createElement("link",{key:H,nonce:n.nonce,...G})))}function xA(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var wA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wA&&(window.__reactRouterVersion="7.12.0")}catch{}function SA({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=O.useRef();o.current==null&&(o.current=nS({window:s,v5Compat:!0}));let u=o.current,[h,m]=O.useState({action:u.action,location:u.location}),p=O.useCallback(g=>{n===!1?m(g):O.startTransition(()=>m(g))},[n]);return O.useLayoutEffect(()=>u.listen(p),[u,p]),O.createElement(eA,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var CE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ln=O.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:w,...M},D){let{basename:H,unstable_useTransitions:G}=O.useContext(Dn),ne=typeof g=="string"&&CE.test(g),te=gE(g,H);g=te.to;let re=jS(g,{relative:o}),[de,we,Ee]=vA(s,M),R=CA(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:G});function A(L){e&&e(L),L.defaultPrevented||R(L)}let N=O.createElement("a",{...M,...Ee,href:te.absoluteURL||re,onClick:te.isExternal||u?e:A,ref:xA(D,we),target:p,"data-discover":!ne&&n==="render"?"true":void 0});return de&&!ne?O.createElement(O.Fragment,null,N,O.createElement(bA,{page:re})):N});ln.displayName="Link";var AA=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let b=mu(h,{relative:g.relative}),w=Ai(),M=O.useContext(Zh),{navigator:D,basename:H}=O.useContext(Dn),G=M!=null&&kA(b)&&m===!0,ne=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,te=w.pathname,re=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(te=te.toLowerCase(),re=re?re.toLowerCase():null,ne=ne.toLowerCase()),re&&H&&(re=_i(re,H)||re);const de=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let we=te===ne||!o&&te.startsWith(ne)&&te.charAt(de)==="/",Ee=re!=null&&(re===ne||!o&&re.startsWith(ne)&&re.charAt(ne.length)==="/"),R={isActive:we,isPending:Ee,isTransitioning:G},A=we?e:void 0,N;typeof s=="function"?N=s(R):N=[s,we?"active":null,Ee?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(R):u;return O.createElement(ln,{...g,"aria-current":A,className:N,ref:E,style:L,to:h,viewTransition:m},typeof p=="function"?p(R):p)});AA.displayName="NavLink";var RA=O.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=mh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:w,...M},D)=>{let{unstable_useTransitions:H}=O.useContext(Dn),G=OA(),ne=MA(m,{relative:g}),te=h.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&CE.test(m),de=we=>{if(p&&p(we),we.defaultPrevented)return;we.preventDefault();let Ee=we.nativeEvent.submitter,R=Ee?.getAttribute("formmethod")||h,A=()=>G(Ee||we.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:w});H&&n!==!1?O.startTransition(()=>A()):A()};return O.createElement("form",{ref:D,method:te,action:ne,onSubmit:s?p:de,...M,"data-discover":!re&&i==="render"?"true":void 0})});RA.displayName="Form";function NA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IE(i){let e=O.useContext(Io);return ct(e,NA(i)),e}function CA(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=TE(),E=Ai(),b=mu(i,{relative:u});return O.useCallback(w=>{if(aA(w,e)){w.preventDefault();let M=n!==void 0?n:nu(E)===nu(b),D=()=>g(i,{replace:M,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?O.startTransition(()=>D()):D()}},[E,g,b,n,s,e,i,o,u,h,m,p])}var IA=0,DA=()=>`__${String(++IA)}__`;function OA(){let{router:i}=IE("useSubmit"),{basename:e}=O.useContext(Dn),n=QS(),s=i.fetch,o=i.navigate;return O.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:E,body:b}=uA(u,e);if(h.navigate===!1){let w=h.fetcherKey||DA();await s(w,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:b,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:b,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function MA(i,{relative:e}={}){let{basename:n}=O.useContext(Dn),s=O.useContext(hr);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...mu(i||".",{relative:e})},h=Ai();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:gi([n,u.pathname])),nu(u)}function kA(i,{relative:e}={}){let n=O.useContext(_E);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=IE("useViewTransitionState"),o=mu(i,{relative:e});if(!n.isTransitioning)return!1;let u=_i(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=_i(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Nh(o.pathname,h)!=null||Nh(o.pathname,u)!=null}const VA=()=>{};var Nb={};const DE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},jA=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},OE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,M=g&63;p||(M=64,h||(w=64)),s.push(n[E],n[b],n[w],n[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(DE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):jA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new LA;const w=u<<2|m>>4;if(s.push(w),g!==64){const M=m<<4&240|g>>2;if(s.push(M),b!==64){const D=g<<6&192|b;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class LA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UA=function(i){const e=DE(i);return OE.encodeByteArray(e,!0)},Ch=function(i){return UA(i).replace(/\./g,"")},ME=function(i){try{return OE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function PA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zA=()=>PA().__FIREBASE_DEFAULTS__,BA=()=>{if(typeof process>"u"||typeof Nb>"u")return;const i=Nb.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},qA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&ME(i[1]);return e&&JSON.parse(e)},td=()=>{try{return VA()||zA()||BA()||qA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},kE=i=>td()?.emulatorHosts?.[i],VE=i=>{const e=kE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},jE=()=>td()?.config,LE=i=>td()?.[`_${i}`];class HA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function _a(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bp(i){return(await fetch(i,{credentials:"include"})).ok}function UE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ch(JSON.stringify(n)),Ch(JSON.stringify(h)),""].join(".")}const Xl={};function FA(){const i={prod:[],emulator:[]};for(const e of Object.keys(Xl))Xl[e]?i.emulator.push(e):i.prod.push(e);return i}function GA(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Cb=!1;function qp(i,e){if(typeof window>"u"||typeof document>"u"||!_a(window.location.host)||Xl[i]===e||Xl[i]||Cb)return;Xl[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=FA().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,M){w.setAttribute("width","24"),w.setAttribute("id",M),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Cb=!0,h()},w}function E(w,M){w.setAttribute("id",M),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=GA(s),M=n("text"),D=document.getElementById(M)||document.createElement("span"),H=n("learnmore"),G=document.getElementById(H)||document.createElement("a"),ne=n("preprendIcon"),te=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;m(re),E(G,H);const de=g();p(te,ne),re.append(te,D,G,de),document.body.appendChild(re)}u?(D.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $A(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function YA(){const i=td()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function XA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JA(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function WA(){return!YA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZA(){try{return typeof indexedDB=="object"}catch{return!1}}function e2(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const t2="FirebaseError";class Gr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=t2,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?n2(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Gr(o,m,s)}}function n2(i,e){return i.replace(r2,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const r2=/\{\$([^}]+)}/g;function i2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ca(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(Ib(u)&&Ib(h)){if(!ca(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Ib(i){return i!==null&&typeof i=="object"}function gu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function s2(i,e){const n=new a2(i,e);return n.subscribe.bind(n)}class a2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");o2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Bm),o.error===void 0&&(o.error=Bm),o.complete===void 0&&(o.complete=Bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o2(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Bm(){}function Ut(i){return i&&i._delegate?i._delegate:i}class ys{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ia="[DEFAULT]";class l2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new HA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c2(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:u2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u2(i){return i===ia?void 0:i}function c2(i){return i.instantiationMode==="EAGER"}class h2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new l2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const d2={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},f2=Me.INFO,m2={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},p2=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=m2[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=f2,this._logHandler=p2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const g2=(i,e)=>e.some(n=>i instanceof n);let Db,Ob;function y2(){return Db||(Db=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _2(){return Ob||(Ob=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PE=new WeakMap,sp=new WeakMap,zE=new WeakMap,qm=new WeakMap,Fp=new WeakMap;function v2(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(fs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&PE.set(n,i)}).catch(()=>{}),Fp.set(e,i),e}function b2(i){if(sp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});sp.set(i,e)}let ap={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return sp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||zE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function E2(i){ap=i(ap)}function T2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Hm(this),e,...n);return zE.set(s,e.sort?e.sort():[e]),fs(s)}:_2().includes(i)?function(...e){return i.apply(Hm(this),e),fs(PE.get(this))}:function(...e){return fs(i.apply(Hm(this),e))}}function x2(i){return typeof i=="function"?T2(i):(i instanceof IDBTransaction&&b2(i),g2(i,y2())?new Proxy(i,ap):i)}function fs(i){if(i instanceof IDBRequest)return v2(i);if(qm.has(i))return qm.get(i);const e=x2(i);return e!==i&&(qm.set(i,e),Fp.set(e,i)),e}const Hm=i=>Fp.get(i);function w2(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=fs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(fs(h.result),p.oldVersion,p.newVersion,fs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const S2=["get","getKey","getAll","getAllKeys","count"],A2=["put","add","delete","clear"],Fm=new Map;function Mb(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Fm.get(e))return Fm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=A2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||S2.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Fm.set(e,u),u}E2(i=>({...i,get:(e,n,s)=>Mb(e,n)||i.get(e,n,s),has:(e,n)=>!!Mb(e,n)||i.has(e,n)}));class R2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function N2(i){return i.getComponent()?.type==="VERSION"}const op="@firebase/app",kb="0.14.7";const vi=new Hp("@firebase/app"),C2="@firebase/app-compat",I2="@firebase/analytics-compat",D2="@firebase/analytics",O2="@firebase/app-check-compat",M2="@firebase/app-check",k2="@firebase/auth",V2="@firebase/auth-compat",j2="@firebase/database",L2="@firebase/data-connect",U2="@firebase/database-compat",P2="@firebase/functions",z2="@firebase/functions-compat",B2="@firebase/installations",q2="@firebase/installations-compat",H2="@firebase/messaging",F2="@firebase/messaging-compat",G2="@firebase/performance",$2="@firebase/performance-compat",Y2="@firebase/remote-config",K2="@firebase/remote-config-compat",Q2="@firebase/storage",X2="@firebase/storage-compat",J2="@firebase/firestore",W2="@firebase/ai",Z2="@firebase/firestore-compat",eR="firebase",tR="12.8.0";const lp="[DEFAULT]",nR={[op]:"fire-core",[C2]:"fire-core-compat",[D2]:"fire-analytics",[I2]:"fire-analytics-compat",[M2]:"fire-app-check",[O2]:"fire-app-check-compat",[k2]:"fire-auth",[V2]:"fire-auth-compat",[j2]:"fire-rtdb",[L2]:"fire-data-connect",[U2]:"fire-rtdb-compat",[P2]:"fire-fn",[z2]:"fire-fn-compat",[B2]:"fire-iid",[q2]:"fire-iid-compat",[H2]:"fire-fcm",[F2]:"fire-fcm-compat",[G2]:"fire-perf",[$2]:"fire-perf-compat",[Y2]:"fire-rc",[K2]:"fire-rc-compat",[Q2]:"fire-gcs",[X2]:"fire-gcs-compat",[J2]:"fire-fst",[Z2]:"fire-fst-compat",[W2]:"fire-vertex","fire-js":"fire-js",[eR]:"fire-js-all"};const Ih=new Map,rR=new Map,up=new Map;function Vb(i,e){try{i.container.addComponent(e)}catch(n){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ha(i){const e=i.name;if(up.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;up.set(e,i);for(const n of Ih.values())Vb(n,i);for(const n of rR.values())Vb(n,i);return!0}function nd(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Gn(i){return i==null?!1:i.settings!==void 0}const iR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new pu("app","Firebase",iR);class sR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}const va=tR;function BE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:lp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ms.create("bad-app-name",{appName:String(o)});if(n||(n=jE()),!n)throw ms.create("no-options");const u=Ih.get(o);if(u){if(ca(n,u.options)&&ca(s,u.config))return u;throw ms.create("duplicate-app",{appName:o})}const h=new h2(o);for(const p of up.values())h.addComponent(p);const m=new sR(n,s,h);return Ih.set(o,m),m}function Gp(i=lp){const e=Ih.get(i);if(!e&&i===lp&&jE())return BE();if(!e)throw ms.create("no-app",{appName:i});return e}function Lr(i,e,n){let s=nR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(h.join(" "));return}ha(new ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const aR="firebase-heartbeat-database",oR=1,ru="firebase-heartbeat-store";let Gm=null;function qE(){return Gm||(Gm=w2(aR,oR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(i=>{throw ms.create("idb-open",{originalErrorMessage:i.message})})),Gm}async function lR(i){try{const n=(await qE()).transaction(ru),s=await n.objectStore(ru).get(HE(i));return await n.done,s}catch(e){if(e instanceof Gr)vi.warn(e.message);else{const n=ms.create("idb-get",{originalErrorMessage:e?.message});vi.warn(n.message)}}}async function jb(i,e){try{const s=(await qE()).transaction(ru,"readwrite");await s.objectStore(ru).put(e,HE(i)),await s.done}catch(n){if(n instanceof Gr)vi.warn(n.message);else{const s=ms.create("idb-set",{originalErrorMessage:n?.message});vi.warn(s.message)}}}function HE(i){return`${i.name}!${i.options.appId}`}const uR=1024,cR=30;class hR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Lb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>cR){const o=mR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Lb(),{heartbeatsToSend:n,unsentEntries:s}=dR(this._heartbeatsCache.heartbeats),o=Ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vi.warn(e),""}}}function Lb(){return new Date().toISOString().substring(0,10)}function dR(i,e=uR){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Ub(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ub(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class fR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZA()?e2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return jb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return jb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ub(i){return Ch(JSON.stringify({version:2,heartbeats:i})).length}function mR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function pR(i){ha(new ys("platform-logger",e=>new R2(e),"PRIVATE")),ha(new ys("heartbeat",e=>new hR(e),"PRIVATE")),Lr(op,kb,i),Lr(op,kb,"esm2020"),Lr("fire-js","")}pR("");var gR="firebase",yR="12.8.0";Lr(gR,yR,"app");function FE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _R=FE,GE=new pu("auth","Firebase",FE());const Dh=new Hp("@firebase/auth");function vR(i,...e){Dh.logLevel<=Me.WARN&&Dh.warn(`Auth (${va}): ${i}`,...e)}function gh(i,...e){Dh.logLevel<=Me.ERROR&&Dh.error(`Auth (${va}): ${i}`,...e)}function qr(i,...e){throw Yp(i,...e)}function lr(i,...e){return Yp(i,...e)}function $p(i,e,n){const s={..._R(),[e]:n};return new pu("auth","Firebase",s).create(e,{appName:i.name})}function oa(i){return $p(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bR(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&qr(i,"argument-error"),$p(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return GE.create(i,...e)}function _e(i,e,...n){if(!i)throw Yp(e,...n)}function mi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw gh(e),new Error(e)}function bi(i,e){i||mi(e)}function cp(){return typeof self<"u"&&self.location?.href||""}function ER(){return Pb()==="http:"||Pb()==="https:"}function Pb(){return typeof self<"u"&&self.location?.protocol||null}function TR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ER()||QA()||"connection"in navigator)?navigator.onLine:!0}function xR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,bi(n>e,"Short delay should be less than long delay!"),this.isMobile=$A()||XA()}get(){return TR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Kp(i,e){bi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class $E{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AR=new yu(3e4,6e4);function Qp(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Oo(i,e,n,s,o={}){return YE(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=gu({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return KA()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&_a(i.emulatorConfig.host)&&(g.credentials="include"),$E.fetch()(await KE(i,i.config.apiHost,n,m),g)})}async function YE(i,e,n){i._canInitEmulator=!1;const s={...wR,...e};try{const o=new NR(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw sh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw sh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw sh(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw $p(i,E,g);qr(i,E)}}catch(o){if(o instanceof Gr)throw o;qr(i,"network-request-failed",{message:String(o)})}}async function RR(i,e,n,s,o={}){const u=await Oo(i,e,n,s,o);return"mfaPendingCredential"in u&&qr(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function KE(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Kp(i.config,o):`${i.config.apiScheme}://${o}`;return SR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class NR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(lr(this.auth,"network-request-failed")),AR.get())})}}function sh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=lr(i,e,s);return o.customData._tokenResponse=n,o}async function CR(i,e){return Oo(i,"POST","/v1/accounts:delete",e)}async function Oh(i,e){return Oo(i,"POST","/v1/accounts:lookup",e)}function Jl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IR(i,e=!1){const n=Ut(i),s=await n.getIdToken(e),o=Xp(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Jl($m(o.auth_time)),issuedAtTime:Jl($m(o.iat)),expirationTime:Jl($m(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function $m(i){return Number(i)*1e3}function Xp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const o=ME(n);return o?JSON.parse(o):(gh("Failed to decode base64 JWT payload"),null)}catch(o){return gh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function zb(i){const e=Xp(i);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function iu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Gr&&DR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function DR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class OR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class hp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Mh(i){const e=i.auth,n=await i.getIdToken(),s=await iu(i,Oh(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?QE(o.providerUserInfo):[],h=kR(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new hp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function MR(i){const e=Ut(i);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function QE(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function VR(i,e){const n=await YE(i,{},async()=>{const s=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await KE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&_a(i.emulatorConfig.host)&&(p.credentials="include"),$E.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jR(i,e){return Oo(i,"POST","/v2/accounts:revokeToken",Qp(i,e))}class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=zb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await VR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new yo;return s&&(_e(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return mi("not implemented")}}function os(i,e){_e(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ar{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new OR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new hp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await iu(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IR(this,e)}reload(){return MR(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ar({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(oa(this.auth));const e=await this.getIdToken();return await iu(this,CR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:M,providerData:D,stsTokenManager:H}=n;_e(b&&H,e,"internal-error");const G=yo.fromJSON(this.name,H);_e(typeof b=="string",e,"internal-error"),os(s,e.name),os(o,e.name),_e(typeof w=="boolean",e,"internal-error"),_e(typeof M=="boolean",e,"internal-error"),os(u,e.name),os(h,e.name),os(m,e.name),os(p,e.name),os(g,e.name),os(E,e.name);const ne=new ar({uid:b,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:M,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:g,lastLoginAt:E});return D&&Array.isArray(D)&&(ne.providerData=D.map(te=>({...te}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new yo;o.updateFromServerResponse(n);const u=new ar({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Mh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?QE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new yo;m.updateFromIdToken(s);const p=new ar({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new hp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const Bb=new Map;function pi(i){bi(i instanceof Function,"Expected a class definition");let e=Bb.get(i);return e?(bi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Bb.set(i,e),e)}class XE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XE.type="NONE";const qb=XE;function yh(i,e,n){return`firebase:${i}:${e}:${n}`}class _o{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=yh(this.userKey,o.apiKey,u),this.fullPersistenceKey=yh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Oh(this.auth,{idToken:e}).catch(()=>{});return n?ar._fromGetAccountInfoResponse(this.auth,n,e):null}return ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new _o(pi(qb),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||pi(qb);const h=yh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let b;if(typeof E=="string"){const w=await Oh(e,{idToken:E}).catch(()=>{});if(!w)break;b=await ar._fromGetAccountInfoResponse(e,w,E)}else b=ar._fromJSON(e,E);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new _o(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new _o(u,e,s))}}function Hb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(e1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(n1(e))return"Blackberry";if(r1(e))return"Webos";if(WE(e))return"Safari";if((e.includes("chrome/")||ZE(e))&&!e.includes("edge/"))return"Chrome";if(t1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function JE(i=rn()){return/firefox\//i.test(i)}function WE(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZE(i=rn()){return/crios\//i.test(i)}function e1(i=rn()){return/iemobile/i.test(i)}function t1(i=rn()){return/android/i.test(i)}function n1(i=rn()){return/blackberry/i.test(i)}function r1(i=rn()){return/webos/i.test(i)}function Jp(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function LR(i=rn()){return Jp(i)&&!!window.navigator?.standalone}function UR(){return JA()&&document.documentMode===10}function i1(i=rn()){return Jp(i)||t1(i)||r1(i)||n1(i)||/windows phone/i.test(i)||e1(i)}function s1(i,e=[]){let n;switch(i){case"Browser":n=Hb(rn());break;case"Worker":n=`${Hb(rn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${va}/${s}`}class PR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function zR(i,e={}){return Oo(i,"GET","/v2/passwordPolicy",Qp(i,e))}const BR=6;class qR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??BR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class HR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fb(this),this.idTokenSubscription=new Fb(this),this.beforeStateQueue=new PR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Oh(this,{idToken:e}),s=await ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(oa(this));const n=e?Ut(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zR(this),n=new qR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await jR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&vR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function rd(i){return Ut(i)}class Fb{constructor(e){this.auth=e,this.observer=null,this.addObserver=s2(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FR(i){Wp=i}function GR(i){return Wp.loadJS(i)}function $R(){return Wp.gapiScript}function YR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function KR(i,e){const n=nd(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ca(u,e??{}))return o;qr(o,"already-initialized")}return n.initialize({options:e})}function QR(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(pi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function XR(i,e,n){const s=rd(i);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=a1(e),{host:h,port:m}=JR(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(ca(g,s.config.emulator)&&ca(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,_a(h)?(Bp(`${u}//${h}${p}`),qp("Auth",!0)):WR()}function a1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function JR(i){const e=a1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Gb(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Gb(h)}}}function Gb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function WR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class o1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,n){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}async function vo(i,e){return RR(i,"POST","/v1/accounts:signInWithIdp",Qp(i,e))}const ZR="http://localhost";class da extends o1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new da(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return vo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,vo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vo(e,n)}buildRequest(){const e={requestUri:ZR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}class Zp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _u extends Zp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ls extends _u{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";class fi extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return da._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return fi.credential(n,s)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";class us extends _u{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";class cs extends _u{constructor(){super("twitter.com")}static credential(e,n){return da._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return cs.credential(n,s)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ar._fromIdTokenResponse(e,s,o),h=$b(s);return new To({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=$b(s);return new To({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function $b(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class kh extends Gr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new kh(e,n,s,o)}}function l1(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(i,u,e,s):u})}async function eN(i,e,n=!1){const s=await iu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return To._forOperation(i,"link",s)}async function tN(i,e,n=!1){const{auth:s}=i;if(Gn(s.app))return Promise.reject(oa(s));const o="reauthenticate";try{const u=await iu(i,l1(s,o,e,i),n);_e(u.idToken,s,"internal-error");const h=Xp(u.idToken);_e(h,s,"internal-error");const{sub:m}=h;return _e(i.uid===m,s,"user-mismatch"),To._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&qr(s,"user-mismatch"),u}}async function nN(i,e,n=!1){if(Gn(i.app))return Promise.reject(oa(i));const s="signIn",o=await l1(i,s,e),u=await To._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function rN(i,e,n,s){return Ut(i).onIdTokenChanged(e,n,s)}function iN(i,e,n){return Ut(i).beforeAuthStateChanged(e,n)}function sN(i,e,n,s){return Ut(i).onAuthStateChanged(e,n,s)}function aN(i){return Ut(i).signOut()}const Vh="__sak";class u1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const oN=1e3,lN=10;class c1 extends u1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);UR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,lN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},oN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}c1.type="LOCAL";const uN=c1;class h1 extends u1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}h1.type="SESSION";const d1=h1;function cN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class id{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new id(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await cN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}id.receivers=[];function eg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class hN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=eg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Ur(){return window}function dN(i){Ur().location.href=i}function f1(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function fN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mN(){return navigator?.serviceWorker?.controller||null}function pN(){return f1()?self:null}const m1="firebaseLocalStorageDb",gN=1,jh="firebaseLocalStorage",p1="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sd(i,e){return i.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function yN(){const i=indexedDB.deleteDatabase(m1);return new vu(i).toPromise()}function dp(){const i=indexedDB.open(m1,gN);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(jh,{keyPath:p1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(jh)?e(s):(s.close(),await yN(),e(await dp()))})})}async function Yb(i,e,n){const s=sd(i,!0).put({[p1]:e,value:n});return new vu(s).toPromise()}async function _N(i,e){const n=sd(i,!1).get(e),s=await new vu(n).toPromise();return s===void 0?null:s.value}function Kb(i,e){const n=sd(i,!0).delete(e);return new vu(n).toPromise()}const vN=800,bN=3;class g1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>bN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=id._getInstance(pN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fN(),!this.activeServiceWorker)return;this.sender=new hN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dp();return await Yb(e,Vh,"1"),await Kb(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Yb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>_N(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=sd(o,!1).getAll();return new vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g1.type="LOCAL";const EN=g1;new yu(3e4,6e4);function y1(i,e){return e?pi(e):(_e(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class tg extends o1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TN(i){return nN(i.auth,new tg(i),i.bypassAuthState)}function xN(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),tN(n,new tg(i),i.bypassAuthState)}async function wN(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),eN(n,new tg(i),i.bypassAuthState)}class _1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TN;case"linkViaPopup":case"linkViaRedirect":return wN;case"reauthViaPopup":case"reauthViaRedirect":return xN;default:qr(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const SN=new yu(2e3,1e4);async function AN(i,e,n){if(Gn(i.app))return Promise.reject(lr(i,"operation-not-supported-in-this-environment"));const s=rd(i);bR(i,e,Zp);const o=y1(s,n);return new sa(s,"signInViaPopup",e,o).executeNotNull()}class sa extends _1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){bi(this.filter.length===1,"Popup operations only handle one event");const e=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SN.get())};e()}}sa.currentPopupAction=null;const RN="pendingRedirect",_h=new Map;class NN extends _1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const s=await CN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CN(i,e){const n=ON(e),s=DN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function IN(i,e){_h.set(i._key(),e)}function DN(i){return pi(i._redirectPersistence)}function ON(i){return yh(RN,i.config.apiKey,i.name)}async function MN(i,e,n=!1){if(Gn(i.app))return Promise.reject(oa(i));const s=rd(i),o=y1(s,e),h=await new NN(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const kN=600*1e3;class VN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!v1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(lr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qb(e))}saveEventToCache(e){this.cachedEventUids.add(Qb(e)),this.lastProcessedEventTime=Date.now()}}function Qb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function v1({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function jN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v1(i);default:return!1}}async function LN(i,e={}){return Oo(i,"GET","/v1/projects",e)}const UN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PN=/^https?/;async function zN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await LN(i);for(const n of e)try{if(BN(n))return}catch{}qr(i,"unauthorized-domain")}function BN(i){const e=cp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!PN.test(n))return!1;if(UN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const qN=new yu(3e4,6e4);function Xb(){const i=Ur().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function HN(i){return new Promise((e,n)=>{function s(){Xb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xb(),n(lr(i,"network-request-failed"))},timeout:qN.get()})}if(Ur().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ur().gapi?.load)s();else{const o=YR("iframefcb");return Ur()[o]=()=>{gapi.load?s():n(lr(i,"network-request-failed"))},GR(`${$R()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw vh=null,e})}let vh=null;function FN(i){return vh=vh||HN(i),vh}const GN=new yu(5e3,15e3),$N="__/auth/iframe",YN="emulator/auth/iframe",KN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XN(i){const e=i.config;_e(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Kp(e,YN):`https://${i.config.authDomain}/${$N}`,s={apiKey:e.apiKey,appName:i.name,v:va},o=QN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${gu(s).slice(1)}`}async function JN(i){const e=await FN(i),n=Ur().gapi;return _e(n,i,"internal-error"),e.open({where:document.body,url:XN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=lr(i,"network-request-failed"),m=Ur().setTimeout(()=>{u(h)},GN.get());function p(){Ur().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const WN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZN=500,eC=600,tC="_blank",nC="http://localhost";class Jb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rC(i,e,n,s=ZN,o=eC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...WN,width:s.toString(),height:o.toString(),top:u,left:h},g=rn().toLowerCase();n&&(m=ZE(g)?tC:n),JE(g)&&(e=e||nC,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[M,D])=>`${w}${M}=${D},`,"");if(LR(g)&&m!=="_self")return iC(e||"",m),new Jb(null);const b=window.open(e||"",m,E);_e(b,i,"popup-blocked");try{b.focus()}catch{}return new Jb(b)}function iC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const sC="__/auth/handler",aC="emulator/auth/handler",oC=encodeURIComponent("fac");async function Wb(i,e,n,s,o,u){_e(i.config.authDomain,i,"auth-domain-config-required"),_e(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:va,eventId:o};if(e instanceof Zp){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",i2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(e instanceof _u){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${oC}=${encodeURIComponent(p)}`:"";return`${lC(i)}?${gu(m).slice(1)}${g}`}function lC({config:i}){return i.emulator?Kp(i,aC):`https://${i.authDomain}/${sC}`}const Ym="webStorageSupport";class uC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d1,this._completeRedirectFn=MN,this._overrideRedirectResult=IN}async _openPopup(e,n,s,o){bi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Wb(e,n,s,cp(),o);return rC(e,u,eg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Wb(e,n,s,cp(),o);return dN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(bi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await JN(e),s=new VN(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ym,{type:Ym},o=>{const u=o?.[0]?.[Ym];u!==void 0&&n(!!u),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return i1()||WE()||Jp()}}const cC=uC;var Zb="@firebase/auth",e0="1.12.0";class hC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function dC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fC(i){ha(new ys("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;_e(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s1(i)},g=new HR(s,o,u,p);return QR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ha(new ys("auth-internal",e=>{const n=rd(e.getProvider("auth").getImmediate());return(s=>new hC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(Zb,e0,dC(i)),Lr(Zb,e0,"esm2020")}const mC=300,pC=LE("authIdTokenMaxAge")||mC;let t0=null;const gC=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>pC)return;const o=n?.token;t0!==o&&(t0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yC(i=Gp()){const e=nd(i,"auth");if(e.isInitialized())return e.getImmediate();const n=KR(i,{popupRedirectResolver:cC,persistence:[EN,uN,d1]}),s=LE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=gC(u.toString());iN(n,h,()=>h(n.currentUser)),rN(n,m=>h(m))}}const o=kE("auth");return o&&XR(n,`http://${o}`),n}function _C(){return document.getElementsByTagName("head")?.[0]??document}FR({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=lr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",_C().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fC("Browser");var n0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ps,b1;(function(){var i;function e(R,A){function N(){}N.prototype=A.prototype,R.F=A.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(L,V,P){for(var C=Array(arguments.length-2),at=2;at<arguments.length;at++)C[at-2]=arguments[at];return A.prototype[V].apply(L,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,N){N||(N=0);const L=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)L[V]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(V=0;V<16;++V)L[V]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=R.g[0],N=R.g[1],V=R.g[2];let P=R.g[3],C;C=A+(P^N&(V^P))+L[0]+3614090360&4294967295,A=N+(C<<7&4294967295|C>>>25),C=P+(V^A&(N^V))+L[1]+3905402710&4294967295,P=A+(C<<12&4294967295|C>>>20),C=V+(N^P&(A^N))+L[2]+606105819&4294967295,V=P+(C<<17&4294967295|C>>>15),C=N+(A^V&(P^A))+L[3]+3250441966&4294967295,N=V+(C<<22&4294967295|C>>>10),C=A+(P^N&(V^P))+L[4]+4118548399&4294967295,A=N+(C<<7&4294967295|C>>>25),C=P+(V^A&(N^V))+L[5]+1200080426&4294967295,P=A+(C<<12&4294967295|C>>>20),C=V+(N^P&(A^N))+L[6]+2821735955&4294967295,V=P+(C<<17&4294967295|C>>>15),C=N+(A^V&(P^A))+L[7]+4249261313&4294967295,N=V+(C<<22&4294967295|C>>>10),C=A+(P^N&(V^P))+L[8]+1770035416&4294967295,A=N+(C<<7&4294967295|C>>>25),C=P+(V^A&(N^V))+L[9]+2336552879&4294967295,P=A+(C<<12&4294967295|C>>>20),C=V+(N^P&(A^N))+L[10]+4294925233&4294967295,V=P+(C<<17&4294967295|C>>>15),C=N+(A^V&(P^A))+L[11]+2304563134&4294967295,N=V+(C<<22&4294967295|C>>>10),C=A+(P^N&(V^P))+L[12]+1804603682&4294967295,A=N+(C<<7&4294967295|C>>>25),C=P+(V^A&(N^V))+L[13]+4254626195&4294967295,P=A+(C<<12&4294967295|C>>>20),C=V+(N^P&(A^N))+L[14]+2792965006&4294967295,V=P+(C<<17&4294967295|C>>>15),C=N+(A^V&(P^A))+L[15]+1236535329&4294967295,N=V+(C<<22&4294967295|C>>>10),C=A+(V^P&(N^V))+L[1]+4129170786&4294967295,A=N+(C<<5&4294967295|C>>>27),C=P+(N^V&(A^N))+L[6]+3225465664&4294967295,P=A+(C<<9&4294967295|C>>>23),C=V+(A^N&(P^A))+L[11]+643717713&4294967295,V=P+(C<<14&4294967295|C>>>18),C=N+(P^A&(V^P))+L[0]+3921069994&4294967295,N=V+(C<<20&4294967295|C>>>12),C=A+(V^P&(N^V))+L[5]+3593408605&4294967295,A=N+(C<<5&4294967295|C>>>27),C=P+(N^V&(A^N))+L[10]+38016083&4294967295,P=A+(C<<9&4294967295|C>>>23),C=V+(A^N&(P^A))+L[15]+3634488961&4294967295,V=P+(C<<14&4294967295|C>>>18),C=N+(P^A&(V^P))+L[4]+3889429448&4294967295,N=V+(C<<20&4294967295|C>>>12),C=A+(V^P&(N^V))+L[9]+568446438&4294967295,A=N+(C<<5&4294967295|C>>>27),C=P+(N^V&(A^N))+L[14]+3275163606&4294967295,P=A+(C<<9&4294967295|C>>>23),C=V+(A^N&(P^A))+L[3]+4107603335&4294967295,V=P+(C<<14&4294967295|C>>>18),C=N+(P^A&(V^P))+L[8]+1163531501&4294967295,N=V+(C<<20&4294967295|C>>>12),C=A+(V^P&(N^V))+L[13]+2850285829&4294967295,A=N+(C<<5&4294967295|C>>>27),C=P+(N^V&(A^N))+L[2]+4243563512&4294967295,P=A+(C<<9&4294967295|C>>>23),C=V+(A^N&(P^A))+L[7]+1735328473&4294967295,V=P+(C<<14&4294967295|C>>>18),C=N+(P^A&(V^P))+L[12]+2368359562&4294967295,N=V+(C<<20&4294967295|C>>>12),C=A+(N^V^P)+L[5]+4294588738&4294967295,A=N+(C<<4&4294967295|C>>>28),C=P+(A^N^V)+L[8]+2272392833&4294967295,P=A+(C<<11&4294967295|C>>>21),C=V+(P^A^N)+L[11]+1839030562&4294967295,V=P+(C<<16&4294967295|C>>>16),C=N+(V^P^A)+L[14]+4259657740&4294967295,N=V+(C<<23&4294967295|C>>>9),C=A+(N^V^P)+L[1]+2763975236&4294967295,A=N+(C<<4&4294967295|C>>>28),C=P+(A^N^V)+L[4]+1272893353&4294967295,P=A+(C<<11&4294967295|C>>>21),C=V+(P^A^N)+L[7]+4139469664&4294967295,V=P+(C<<16&4294967295|C>>>16),C=N+(V^P^A)+L[10]+3200236656&4294967295,N=V+(C<<23&4294967295|C>>>9),C=A+(N^V^P)+L[13]+681279174&4294967295,A=N+(C<<4&4294967295|C>>>28),C=P+(A^N^V)+L[0]+3936430074&4294967295,P=A+(C<<11&4294967295|C>>>21),C=V+(P^A^N)+L[3]+3572445317&4294967295,V=P+(C<<16&4294967295|C>>>16),C=N+(V^P^A)+L[6]+76029189&4294967295,N=V+(C<<23&4294967295|C>>>9),C=A+(N^V^P)+L[9]+3654602809&4294967295,A=N+(C<<4&4294967295|C>>>28),C=P+(A^N^V)+L[12]+3873151461&4294967295,P=A+(C<<11&4294967295|C>>>21),C=V+(P^A^N)+L[15]+530742520&4294967295,V=P+(C<<16&4294967295|C>>>16),C=N+(V^P^A)+L[2]+3299628645&4294967295,N=V+(C<<23&4294967295|C>>>9),C=A+(V^(N|~P))+L[0]+4096336452&4294967295,A=N+(C<<6&4294967295|C>>>26),C=P+(N^(A|~V))+L[7]+1126891415&4294967295,P=A+(C<<10&4294967295|C>>>22),C=V+(A^(P|~N))+L[14]+2878612391&4294967295,V=P+(C<<15&4294967295|C>>>17),C=N+(P^(V|~A))+L[5]+4237533241&4294967295,N=V+(C<<21&4294967295|C>>>11),C=A+(V^(N|~P))+L[12]+1700485571&4294967295,A=N+(C<<6&4294967295|C>>>26),C=P+(N^(A|~V))+L[3]+2399980690&4294967295,P=A+(C<<10&4294967295|C>>>22),C=V+(A^(P|~N))+L[10]+4293915773&4294967295,V=P+(C<<15&4294967295|C>>>17),C=N+(P^(V|~A))+L[1]+2240044497&4294967295,N=V+(C<<21&4294967295|C>>>11),C=A+(V^(N|~P))+L[8]+1873313359&4294967295,A=N+(C<<6&4294967295|C>>>26),C=P+(N^(A|~V))+L[15]+4264355552&4294967295,P=A+(C<<10&4294967295|C>>>22),C=V+(A^(P|~N))+L[6]+2734768916&4294967295,V=P+(C<<15&4294967295|C>>>17),C=N+(P^(V|~A))+L[13]+1309151649&4294967295,N=V+(C<<21&4294967295|C>>>11),C=A+(V^(N|~P))+L[4]+4149444226&4294967295,A=N+(C<<6&4294967295|C>>>26),C=P+(N^(A|~V))+L[11]+3174756917&4294967295,P=A+(C<<10&4294967295|C>>>22),C=V+(A^(P|~N))+L[2]+718787259&4294967295,V=P+(C<<15&4294967295|C>>>17),C=N+(P^(V|~A))+L[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+P&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const N=A-this.blockSize,L=this.C;let V=this.h,P=0;for(;P<A;){if(V==0)for(;P<=N;)o(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<A;)if(L[V++]=R.charCodeAt(P++),V==this.blockSize){o(this,L),V=0;break}}else for(;P<A;)if(L[V++]=R[P++],V==this.blockSize){o(this,L),V=0;break}}this.h=V,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,N=0;N<4;++N)for(let L=0;L<32;L+=8)R[A++]=this.g[N]>>>L&255;return R};function u(R,A){var N=m;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=A(R)}function h(R,A){this.h=A;const N=[];let L=!0;for(let V=R.length-1;V>=0;V--){const P=R[V]|0;L&&P==A||(N[V]=P,L=!1)}this.g=N}var m={};function p(R){return-128<=R&&R<128?u(R,function(A){return new h([A|0],A<0?-1:0)}):new h([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return G(g(-R));const A=[];let N=1;for(let L=0;R>=N;L++)A[L]=R/N|0,N*=4294967296;return new h(A,0)}function E(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return G(E(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(A,8));let L=b;for(let P=0;P<R.length;P+=8){var V=Math.min(8,R.length-P);const C=parseInt(R.substring(P,P+V),A);V<8?(V=g(Math.pow(A,V)),L=L.j(V).add(g(C))):(L=L.j(N),L=L.add(g(C)))}return L}var b=p(0),w=p(1),M=p(16777216);i=h.prototype,i.m=function(){if(H(this))return-G(this).m();let R=0,A=1;for(let N=0;N<this.g.length;N++){const L=this.i(N);R+=(L>=0?L:4294967296+L)*A,A*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D(this))return"0";if(H(this))return"-"+G(this).toString(R);const A=g(Math.pow(R,6));var N=this;let L="";for(;;){const V=de(N,A).g;N=ne(N,V.j(A));let P=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=V,D(N))return P+L;for(;P.length<6;)P="0"+P;L=P+L}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function D(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function H(R){return R.h==-1}i.l=function(R){return R=ne(this,R),H(R)?-1:D(R)?0:1};function G(R){const A=R.g.length,N=[];for(let L=0;L<A;L++)N[L]=~R.g[L];return new h(N,~R.h).add(w)}i.abs=function(){return H(this)?G(this):this},i.add=function(R){const A=Math.max(this.g.length,R.g.length),N=[];let L=0;for(let V=0;V<=A;V++){let P=L+(this.i(V)&65535)+(R.i(V)&65535),C=(P>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);L=C>>>16,P&=65535,C&=65535,N[V]=C<<16|P}return new h(N,N[N.length-1]&-2147483648?-1:0)};function ne(R,A){return R.add(G(A))}i.j=function(R){if(D(this)||D(R))return b;if(H(this))return H(R)?G(this).j(G(R)):G(G(this).j(R));if(H(R))return G(this.j(G(R)));if(this.l(M)<0&&R.l(M)<0)return g(this.m()*R.m());const A=this.g.length+R.g.length,N=[];for(var L=0;L<2*A;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<R.g.length;V++){const P=this.i(L)>>>16,C=this.i(L)&65535,at=R.i(V)>>>16,Ot=R.i(V)&65535;N[2*L+2*V]+=C*Ot,te(N,2*L+2*V),N[2*L+2*V+1]+=P*Ot,te(N,2*L+2*V+1),N[2*L+2*V+1]+=C*at,te(N,2*L+2*V+1),N[2*L+2*V+2]+=P*at,te(N,2*L+2*V+2)}for(R=0;R<A;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=A;R<2*A;R++)N[R]=0;return new h(N,0)};function te(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function re(R,A){this.g=R,this.h=A}function de(R,A){if(D(A))throw Error("division by zero");if(D(R))return new re(b,b);if(H(R))return A=de(G(R),A),new re(G(A.g),G(A.h));if(H(A))return A=de(R,G(A)),new re(G(A.g),A.h);if(R.g.length>30){if(H(R)||H(A))throw Error("slowDivide_ only works with positive integers.");for(var N=w,L=A;L.l(R)<=0;)N=we(N),L=we(L);var V=Ee(N,1),P=Ee(L,1);for(L=Ee(L,2),N=Ee(N,2);!D(L);){var C=P.add(L);C.l(R)<=0&&(V=V.add(N),P=C),L=Ee(L,1),N=Ee(N,1)}return A=ne(R,V.j(A)),new re(V,A)}for(V=b;R.l(A)>=0;){for(N=Math.max(1,Math.floor(R.m()/A.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),P=g(N),C=P.j(A);H(C)||C.l(R)>0;)N-=L,P=g(N),C=P.j(A);D(P)&&(P=w),V=V.add(P),R=ne(R,C)}return new re(V,R)}i.B=function(R){return de(this,R).h},i.and=function(R){const A=Math.max(this.g.length,R.g.length),N=[];for(let L=0;L<A;L++)N[L]=this.i(L)&R.i(L);return new h(N,this.h&R.h)},i.or=function(R){const A=Math.max(this.g.length,R.g.length),N=[];for(let L=0;L<A;L++)N[L]=this.i(L)|R.i(L);return new h(N,this.h|R.h)},i.xor=function(R){const A=Math.max(this.g.length,R.g.length),N=[];for(let L=0;L<A;L++)N[L]=this.i(L)^R.i(L);return new h(N,this.h^R.h)};function we(R){const A=R.g.length+1,N=[];for(let L=0;L<A;L++)N[L]=R.i(L)<<1|R.i(L-1)>>>31;return new h(N,R.h)}function Ee(R,A){const N=A>>5;A%=32;const L=R.g.length-N,V=[];for(let P=0;P<L;P++)V[P]=A>0?R.i(P+N)>>>A|R.i(P+N+1)<<32-A:R.i(P+N);return new h(V,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,b1=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ps=h}).apply(typeof n0<"u"?n0:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var E1,$l,T1,bh,fp,x1,w1,S1;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var y=0;y<c.length;++y){var T=c[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var T=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in T))break e;T=T[z]}c=c[c.length-1],S=T[c],y=y(S),y!=S&&y!=null&&e(T,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var T=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&T.push([S,y[S]]);return T}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,T){return c.call.apply(c.bind,arguments)}function g(c,y,T){return g=p,g.apply(null,arguments)}function E(c,y){var T=Array.prototype.slice.call(arguments,1);return function(){var S=T.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,y){function T(){}T.prototype=y.prototype,c.Z=y.prototype,c.prototype=new T,c.prototype.constructor=c,c.Ob=function(S,z,$){for(var ie=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)ie[Se-2]=arguments[Se];return y.prototype[z].apply(S,ie)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function M(c){const y=c.length;if(y>0){const T=Array(y);for(let S=0;S<y;S++)T[S]=c[S];return T}return[]}function D(c,y){for(let S=1;S<arguments.length;S++){const z=arguments[S];var T=typeof z;if(T=T!="object"?T:z?Array.isArray(z)?"array":T:"null",T=="array"||T=="object"&&typeof z.length=="number"){T=c.length||0;const $=z.length||0;c.length=T+$;for(let ie=0;ie<$;ie++)c[T+ie]=z[ie]}else c.push(z)}}class H{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(c){h.setTimeout(()=>{throw c},0)}function ne(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,T){const S=re.get();S.set(y,T),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new H(()=>new de,c=>c.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let we,Ee=!1,R=new te,A=()=>{const c=Promise.resolve(void 0);we=()=>{c.then(N)}};function N(){for(var c;c=ne();){try{c.h.call(c.g)}catch(T){G(T)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Ee=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const T=()=>{};h.addEventListener("test",T,y),h.removeEventListener("test",T,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function at(c,y){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(at,V),at.prototype.init=function(c,y){const T=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(T=="mouseover"?y=c.fromElement:T=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ot="closure_listenable_"+(Math.random()*1e6|0),Q=0;function se(c,y,T,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=T,this.capture=!!S,this.ha=z,this.key=++Q,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,y,T){for(const S in c)y.call(T,c[S],S,c)}function $e(c,y){for(const T in c)y.call(void 0,c[T],T,c)}function j(c){const y={};for(const T in c)y[T]=c[T];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let T,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(T in S)c[T]=S[T];for(let $=0;$<Z.length;$++)T=Z[$],Object.prototype.hasOwnProperty.call(S,T)&&(c[T]=S[T])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,T,S,z){const $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);const ie=Re(c,y,S,z);return ie>-1?(y=c[ie],T||(y.fa=!1)):(y=new se(y,this.src,$,!!S,z),y.fa=T,c.push(y)),y};function ve(c,y){const T=y.type;if(T in c.g){var S=c.g[T],z=Array.prototype.indexOf.call(S,y,void 0),$;($=z>=0)&&Array.prototype.splice.call(S,z,1),$&&(pe(y),c.g[T].length==0&&(delete c.g[T],c.h--))}}function Re(c,y,T,S){for(let z=0;z<c.length;++z){const $=c[z];if(!$.da&&$.listener==y&&$.capture==!!T&&$.ha==S)return z}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Mt={};function ot(c,y,T,S,z){if(Array.isArray(y)){for(let $=0;$<y.length;$++)ot(c,y[$],T,S,z);return null}return T=zo(T),c&&c[Ot]?c.J(y,T,m(S)?!!S.capture:!1,z):Rs(c,y,T,!1,S,z)}function Rs(c,y,T,S,z,$){if(!y)throw Error("Invalid event type");const ie=m(z)?!!z.capture:!!z;let Se=Ns(c);if(Se||(c[Ue]=Se=new ue(c)),T=Se.add(y,T,S,ie,$),T.proxy)return T;if(S=Ta(),T.proxy=S,S.src=c,S.listener=T,c.addEventListener)P||(z=ie),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(fr(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ta(){function c(T){return y.call(c.src,c.listener,T)}const y=Uo;return c}function xa(c,y,T,S,z){if(Array.isArray(y))for(var $=0;$<y.length;$++)xa(c,y[$],T,S,z);else S=m(S)?!!S.capture:!!S,T=zo(T),c&&c[Ot]?(c=c.i,$=String(y).toString(),$ in c.g&&(y=c.g[$],T=Re(y,T,S,z),T>-1&&(pe(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete c.g[$],c.h--)))):c&&(c=Ns(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Re(y,T,S,z)),(T=c>-1?y[c]:null)&&wa(T))}function wa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ot])ve(y.i,c);else{var T=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(T,S,c.capture):y.detachEvent?y.detachEvent(fr(T),S):y.addListener&&y.removeListener&&y.removeListener(S),(T=Ns(y))?(ve(T,c),T.h==0&&(T.src=null,y[Ue]=null)):pe(c)}}}function fr(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function Uo(c,y){if(c.da)c=!0;else{y=new at(y,this);const T=c.listener,S=c.ha||c.src;c.fa&&wa(c),c=T.call(S,y)}return c}function Ns(c){return c=c[Ue],c instanceof ue?c:null}var Po="__closure_events_fn_"+(Math.random()*1e9>>>0);function zo(c){return typeof c=="function"?c:(c[Po]||(c[Po]=function(y){return c.handleEvent(y)}),c[Po])}function bt(){L.call(this),this.i=new ue(this),this.M=this,this.G=null}b(bt,L),bt.prototype[Ot]=!0,bt.prototype.removeEventListener=function(c,y,T,S){xa(this,c,y,T,S)};function kt(c,y){var T,S=c.G;if(S)for(T=[];S;S=S.G)T.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new V(y,c);else if(y instanceof V)y.target=y.target||c;else{var z=y;y=new V(S,c),ae(y,z)}z=!0;let $,ie;if(T)for(ie=T.length-1;ie>=0;ie--)$=y.g=T[ie],z=Ni($,S,!0,y)&&z;if($=y.g=c,z=Ni($,S,!0,y)&&z,z=Ni($,S,!1,y)&&z,T)for(ie=0;ie<T.length;ie++)$=y.g=T[ie],z=Ni($,S,!1,y)&&z}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const T=c.g[y];for(let S=0;S<T.length;S++)pe(T[S]);delete c.g[y],c.h--}}this.G=null},bt.prototype.J=function(c,y,T,S){return this.i.add(String(c),y,!1,T,S)},bt.prototype.K=function(c,y,T,S){return this.i.add(String(c),y,!0,T,S)};function Ni(c,y,T,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let $=0;$<y.length;++$){const ie=y[$];if(ie&&!ie.da&&ie.capture==T){const Se=ie.listener,gt=ie.ha||ie.src;ie.fa&&ve(c.i,ie),z=Se.call(gt,S)!==!1&&z}}return z&&!S.defaultPrevented}function Md(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Cu(c){c.g=Md(()=>{c.g=null,c.i&&(c.i=!1,Cu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class sn extends L{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Cu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(c){L.call(this),this.h=c,this.g={}}b(Cs,L);var Bo=[];function qo(c){ze(c.g,function(y,T){this.g.hasOwnProperty(T)&&wa(y)},c),c.g={}}Cs.prototype.N=function(){Cs.Z.N.call(this),qo(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ci=h.JSON.stringify,kd=h.JSON.parse,Iu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Du(){}function Ou(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){V.call(this,"d")}b(Ht,V);function On(){V.call(this,"c")}b(On,V);var pt={},Mu=null;function Sa(){return Mu=Mu||new bt}pt.Ia="serverreachability";function ku(c){V.call(this,pt.Ia,c)}b(ku,V);function mr(c){const y=Sa();kt(y,new ku(y))}pt.STAT_EVENT="statevent";function Is(c,y){V.call(this,pt.STAT_EVENT,c),this.stat=y}b(Is,V);function Et(c){const y=Sa();kt(y,new Is(y,c))}pt.Ja="timingevent";function pr(c,y){V.call(this,pt.Ja,c),this.size=y}b(pr,V);function gr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Vd(c,y,T,S,z,$){c.info(function(){if(c.g)if($){var ie="",Se=$.split("&");for(let He=0;He<Se.length;He++){var gt=Se[He].split("=");if(gt.length>1){const lt=gt[0];gt=gt[1];const jn=lt.split("_");ie=jn.length>=2&&jn[1]=="type"?ie+(lt+"="+gt+"&"):ie+(lt+"=redacted&")}}}else ie=null;else ie=$;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+T+`
`+ie})}function Vu(c,y,T,S,z,$,ie){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+T+`
`+$+" "+ie})}function yr(c,y,T,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+jd(c,T)+(S?" "+S:"")})}function Ds(c,y){c.info(function(){return"TIMEOUT: "+y})}Qn.prototype.info=function(){};function jd(c,y){if(!c.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(c=0;c<$.length;c++)if(Array.isArray($[c])){var T=$[c];if(!(T.length<2)){var S=T[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ie=1;ie<S.length;ie++)S[ie]=""}}}}return Ci($)}catch{return y}}var Os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fo;function Ms(){}b(Ms,Du),Ms.prototype.g=function(){return new XMLHttpRequest},Fo=new Ms;function Yr(c){return encodeURIComponent(String(c))}function ju(c){var y=1;c=c.split(":");const T=[];for(;y>0&&c.length;)T.push(c.shift()),y--;return c.length&&T.push(c.join(":")),T}function Xn(c,y,T,S){this.j=c,this.i=y,this.l=T,this.S=S||1,this.V=new Cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var Tt={},Pt={};function _r(c,y,T){c.M=1,c.A=ks(wt(y)),c.u=T,c.R=!0,Aa(c,null)}function Aa(c,y){c.F=Date.now(),vr(c),c.B=wt(c.A);var T=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Ia(T.i,"t",S),c.C=0,T=c.j.L,c.h=new Jn,c.g=Ju(c.j,T?y:null,!c.u),c.P>0&&(c.O=new sn(g(c.Y,c,c.g),c.P)),y=c.V,T=c.g,S=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Bo[0]=z.toString()),z=Bo);for(let $=0;$<z.length;$++){const ie=ot(T,z[$],S||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=c.J?j(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),mr(),Vd(c.i,c.v,c.B,c.l,c.S,c.u)}Xn.prototype.ba=function(c){c=c.target;const y=this.O;y&&er(c)==3?y.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=er(this.g),gt=this.g.ya(),He=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Se!=4||gt==7||(gt==8||He<=0?mr(3):mr(2)),br(this);var y=this.g.ca();this.X=y;var T=Ld(this);if(this.o=y==200,Vu(this.i,this.v,this.B,this.l,this.S,Se,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var $=S;break t}}$=null}if(c=$)yr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Er(this,c);else{this.o=!1,this.m=3,Et(12),bn(this),Mn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<T.length;)if(lt=Uu(this,T),lt==Pt){Se==4&&(this.m=4,Et(14),c=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Tt){this.m=4,Et(15),yr(this.i,this.l,T,"[Invalid Chunk]"),c=!1;break}else yr(this.i,this.l,lt,null),Er(this,lt);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||T.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)yr(this.i,this.l,T,"[Invalid Chunked Response]"),bn(this),Mn(this);else if(T.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),sl(ie),ie.P=!0,Et(11))}}else yr(this.i,this.l,T,null),Er(this,T);Se==4&&bn(this),this.o&&!this.K&&(Se==4?Yu(this.j,this):(this.o=!1,vr(this)))}else Qr(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),bn(this),Mn(this)}}}catch{}};function Ld(c){if(!Lu(c))return c.g.la();const y=Ft(c.g);if(y==="")return"";let T="";const S=y.length,z=er(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return bn(c),Mn(c),"";c.h.i=new h.TextDecoder}for(let $=0;$<S;$++)c.h.h=!0,T+=c.h.i.decode(y[$],{stream:!(z&&$==S-1)});return y.length=0,c.h.g+=T,c.C=0,c.h.g}function Lu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Uu(c,y){var T=c.C,S=y.indexOf(`
`,T);return S==-1?Pt:(T=Number(y.substring(T,S)),isNaN(T)?Tt:(S+=1,S+T>y.length?Pt:(y=y.slice(S,S+T),c.C=S+T,y)))}Xn.prototype.cancel=function(){this.K=!0,bn(this)};function vr(c){c.T=Date.now()+c.H,Ra(c,c.H)}function Ra(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=gr(g(c.aa,c),y)}function br(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ds(this.i,this.B),this.M!=2&&(mr(),Et(17)),bn(this),this.m=2,Mn(this)):Ra(this,this.T-c)};function Mn(c){c.j.I==0||c.K||Yu(c.j,c)}function bn(c){br(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,qo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Er(c,y){try{var T=c.j;if(T.I!=0&&(T.g==c||xr(T.h,c))){if(!c.L&&xr(T.h,c)&&T.I==3){try{var S=T.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<c.F)Va(T),Li(T);else break e;Bs(T),Et(18)}}else T.xa=z[1],0<T.xa-T.K&&z[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=gr(g(T.Va,T),6e3));Tr(T.h)<=1&&T.ta&&(T.ta=void 0)}else Cr(T,11)}else if((c.L||T.g==c)&&Va(T),!C(y))for(z=T.Ba.g.parse(y),y=0;y<z.length;y++){let He=z[y];const lt=He[0];if(!(lt<=T.K))if(T.K=lt,He=He[1],T.I==2)if(He[0]=="c"){T.M=He[1],T.ba=He[2];const jn=He[3];jn!=null&&(T.ka=jn,T.j.info("VER="+T.ka));const Ir=He[4];Ir!=null&&(T.za=Ir,T.j.info("SVER="+T.za));const tr=He[5];tr!=null&&typeof tr=="number"&&tr>0&&(S=1.5*tr,T.O=S,T.j.info("backChannelRequestTimeoutMs_="+S)),S=T;const nr=c.g;if(nr){const qs=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var $=S.h;$.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Yo($,$.h),$.h=null))}if(S.G){const ja=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(S.wa=ja,Ye(S.J,S.G,ja))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-c.F,T.j.info("Handshake RTT: "+T.T+"ms")),S=T;var ie=c;if(S.na=Xu(S,S.L?S.ba:null,S.W),ie.L){Ko(S.h,ie);var Se=ie,gt=S.O;gt&&(Se.H=gt),Se.D&&(br(Se),vr(Se)),S.g=ie}else Gu(S);T.i.length>0&&Nr(T)}else He[0]!="stop"&&He[0]!="close"||Cr(T,7);else T.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Cr(T,7):rl(T):He[0]!="noop"&&T.l&&T.l.qa(He),T.A=0)}}mr(4)}catch{}}var xt=class{constructor(c,y){this.g=c,this.map=y}};function Go(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $o(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tr(c){return c.h?1:c.g?c.g.size:0}function xr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Yo(c,y){c.g?c.g.add(y):c.h=y}function Ko(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Go.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Qo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const T of c.g.values())y=y.concat(T.G);return y}return M(c.i)}var Pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(c,y){if(c){c=c.split("&");for(let T=0;T<c.length;T++){const S=c[T].indexOf("=");let z,$=null;S>=0?(z=c[T].substring(0,S),$=c[T].substring(S+1)):z=c[T],y(z,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function En(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof En?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,Ii(this,c.u),this.h=c.h,Xo(this,Hu(c.i)),this.m=c.m):c&&(y=String(c).match(Pu))?(this.l=!1,zt(this,y[1]||"",!0),this.o=wr(y[2]||""),this.g=wr(y[3]||"",!0),Ii(this,y[4]),this.h=wr(y[5]||"",!0),Xo(this,y[6]||"",!0),this.m=wr(y[7]||"")):(this.l=!1,this.i=new Oi(null,this.l))}En.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Vs(y,Ca,!0),":");var T=this.g;return(T||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Vs(y,Ca,!0),"@"),c.push(Yr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&c.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&c.push("/"),c.push(Vs(T,T.charAt(0)=="/"?Jo:zu,!0))),(T=this.i.toString())&&c.push("?",T),(T=this.m)&&c.push("#",Vs(T,Bu)),c.join("")},En.prototype.resolve=function(c){const y=wt(this);let T=!!c.j;T?zt(y,c.j):T=!!c.o,T?y.o=c.o:T=!!c.g,T?y.g=c.g:T=c.u!=null;var S=c.h;if(T)Ii(y,c.u);else if(T=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=y.h.lastIndexOf("/");z!=-1&&(S=y.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const $=[];for(let ie=0;ie<z.length;){const Se=z[ie++];Se=="."?S&&ie==z.length&&$.push(""):Se==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),S&&ie==z.length&&$.push("")):($.push(Se),S=!0)}S=$.join("/")}else S=z}return T?y.h=S:T=c.i.toString()!=="",T?Xo(y,Hu(c.i)):T=!!c.m,T&&(y.m=c.m),y};function wt(c){return new En(c)}function zt(c,y,T){c.j=T?wr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ii(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Xo(c,y,T){y instanceof Oi?(c.i=y,Da(c.i,c.l)):(T||(y=Vs(y,Di)),c.i=new Oi(y,c.l))}function Ye(c,y,T){c.i.set(y,T)}function ks(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function wr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vs(c,y,T){return typeof c=="string"?(c=encodeURI(c).replace(y,un),T&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ca=/[#\/\?@]/g,zu=/[#\?:]/g,Jo=/[#\?]/g,Di=/[#\?@]/g,Bu=/#/g;function Oi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Na(c.i,function(y,T){c.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}i=Oi.prototype,i.add=function(c,y){cn(this),this.i=null,c=Mi(this,c);let T=this.g.get(c);return T||this.g.set(c,T=[]),T.push(y),this.h+=1,this};function qu(c,y){cn(c),y=Mi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Wo(c,y){return cn(c),y=Mi(c,y),c.g.has(y)}i.forEach=function(c,y){cn(this),this.g.forEach(function(T,S){T.forEach(function(z){c.call(y,z,S,this)},this)},this)};function Zo(c,y){cn(c);let T=[];if(typeof y=="string")Wo(c,y)&&(T=T.concat(c.g.get(Mi(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)T=T.concat(c[y]);return T}i.set=function(c,y){return cn(this),this.i=null,c=Mi(this,c),Wo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=Zo(this,c),c.length>0?String(c[0]):y):y};function Ia(c,y,T){qu(c,y),T.length>0&&(c.i=null,c.g.set(Mi(c,y),M(T)),c.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var T=y[S];const z=Yr(T);T=Zo(this,T);for(let $=0;$<T.length;$++){let ie=z;T[$]!==""&&(ie+="="+Yr(T[$])),c.push(ie)}}return this.i=c.join("&")};function Hu(c){const y=new Oi;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Mi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Da(c,y){y&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(T,S){const z=S.toLowerCase();S!=z&&(qu(this,S),Ia(this,z,T))},c)),c.j=y}function Wn(c,y){const T=new Qn;if(h.Image){const S=new Image;S.onload=E(kn,T,"TestLoadImage: loaded",!0,y,S),S.onerror=E(kn,T,"TestLoadImage: error",!1,y,S),S.onabort=E(kn,T,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(kn,T,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function el(c,y){const T=new Qn,S=new AbortController,z=setTimeout(()=>{S.abort(),kn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(z),$.ok?kn(T,"TestPingServer: ok",!0,y):kn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),kn(T,"TestPingServer: error",!1,y)})}function kn(c,y,T,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(T)}catch{}}function ki(){this.g=new Iu}function Sr(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Sr,Du),Sr.prototype.g=function(){return new js(this.i,this.h)};function js(c,y){bt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(js,bt),i=js.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Zn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vi(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Oa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Oa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Vi(this):Zn(this),this.readyState==3&&Oa(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Vi(this))},i.Na=function(c){this.g&&(this.response=c,Vi(this))},i.ga=function(){this.g&&Vi(this)};function Vi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Zn(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,c.push(T[0]+": "+T[1]),T=y.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vn(c){let y="";return ze(c,function(T,S){y+=S,y+=":",y+=T,y+=`\r
`}),y}function Ls(c,y,T){e:{for(S in T){var S=!1;break e}S=!0}S||(T=Vn(T),typeof c=="string"?T!=null&&Yr(T):Ye(c,y,T))}function Xe(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xe,bt);var Ar=/^https?$/i,tl=["POST","PUT"];i=Xe.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,T,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fo.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Us(this,$);return}if(c=T||"",T=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)T.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())T.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(T.keys()).find($=>$.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(tl,y,void 0)>=0)||S||z||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ie]of T)this.g.setRequestHeader($,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch($){Us(this,$)}};function Us(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,nl(c),Kr(c)}function nl(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,kt(this,"complete"),kt(this,"abort"),Kr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kr(this,!0)),Xe.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ps(this):this.Xa())},i.Xa=function(){Ps(this)};function Ps(c){if(c.h&&typeof u<"u"){if(c.v&&er(c)==4)setTimeout(c.Ca.bind(c),0);else if(kt(c,"readystatechange"),er(c)==4){c.h=!1;try{const $=c.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var S;if(S=$===0){let ie=String(c.D).match(Pu)[1]||null;!ie&&h.self&&h.self.location&&(ie=h.self.location.protocol.slice(0,-1)),S=!Ar.test(ie?ie.toLowerCase():"")}T=S}if(T)kt(c,"complete"),kt(c,"success");else{c.o=6;try{var z=er(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",nl(c)}}finally{Kr(c)}}}}function Kr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const T=c.g;c.g=null,y||kt(c,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function er(c){return c.g?c.g.readyState:0}i.ca=function(){try{return er(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),kd(y)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qr(c){const y={};c=(c.g&&er(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var T=ju(c[S]);const z=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const $=y[z]||[];y[z]=$,$.push(T)}$e(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rr(c,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[c]||y}function ji(c){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Rr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Rr("baseRetryDelayMs",5e3,c),this.Za=Rr("retryDelaySeedMs",1e4,c),this.Ta=Rr("forwardChannelMaxRetries",2,c),this.va=Rr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Go(c&&c.concurrentRequestLimit),this.Ba=new ki,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=ji.prototype,i.ka=8,i.I=1,i.connect=function(c,y,T,S){Et(0),this.W=c,this.H=y||{},T&&S!==void 0&&(this.H.OSID=T,this.H.OAID=S),this.F=this.X,this.J=Xu(this,null,this.W),Nr(this)};function rl(c){if(Ma(c),c.I==3){var y=c.V++,T=wt(c.J);if(Ye(T,"SID",c.M),Ye(T,"RID",y),Ye(T,"TYPE","terminate"),zs(c,T),y=new Xn(c,c.j,y),y.M=2,y.A=ks(wt(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&h.Image&&(new Image().src=y.A,T=!0),T||(y.g=Ju(y.j,null),y.g.ea(y.A)),y.F=Date.now(),vr(y)}Qu(c)}function Li(c){c.g&&(sl(c),c.g.cancel(),c.g=null)}function Ma(c){Li(c),c.v&&(h.clearTimeout(c.v),c.v=null),Va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Nr(c){if(!$o(c.h)&&!c.m){c.m=!0;var y=c.Ea;we||A(),Ee||(we(),Ee=!0),R.add(y,c),c.D=0}}function ka(c,y){return Tr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=gr(g(c.Ea,c,y),Ku(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Xn(this,this.j,c);let $=this.o;if(this.U&&($?($=j($),ae($,this.U)):$=this.U),this.u!==null||this.R||(z.J=$,$=null),this.S)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var S=this.i[T];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Fu(this,z,y),T=wt(this.J),Ye(T,"RID",c),Ye(T,"CVER",22),this.G&&Ye(T,"X-HTTP-Session-Id",this.G),zs(this,T),$&&(this.R?y="headers="+Yr(Vn($))+"&"+y:this.u&&Ls(T,this.u,$)),Yo(this.h,z),this.Ra&&Ye(T,"TYPE","init"),this.S?(Ye(T,"$req",y),Ye(T,"SID","null"),z.U=!0,_r(z,T,null)):_r(z,T,y),this.I=2}}else this.I==3&&(c?il(this,c):this.i.length==0||$o(this.h)||il(this))};function il(c,y){var T;y?T=y.l:T=c.V++;const S=wt(c.J);Ye(S,"SID",c.M),Ye(S,"RID",T),Ye(S,"AID",c.K),zs(c,S),c.u&&c.o&&Ls(S,c.u,c.o),T=new Xn(c,c.j,T,c.D+1),c.u===null&&(T.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Fu(c,T,1e3),T.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Yo(c.h,T),_r(T,S,y)}function zs(c,y){c.H&&ze(c.H,function(T,S){Ye(y,S,T)}),c.l&&ze({},function(T,S){Ye(y,S,T)})}function Fu(c,y,T){T=Math.min(c.i.length,T);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let Se=-1;for(;;){const gt=["count="+T];Se==-1?T>0?(Se=z[0].g,gt.push("ofs="+Se)):Se=0:gt.push("ofs="+Se);let He=!0;for(let lt=0;lt<T;lt++){var $=z[lt].g;const jn=z[lt].map;if($-=Se,$<0)Se=Math.max(0,z[lt].g-100),He=!1;else try{$="req"+$+"_"||"";try{var ie=jn instanceof Map?jn:Object.entries(jn);for(const[Ir,tr]of ie){let nr=tr;m(tr)&&(nr=Ci(tr)),gt.push($+Ir+"="+encodeURIComponent(nr))}}catch(Ir){throw gt.push($+"type="+encodeURIComponent("_badmap")),Ir}}catch{S&&S(jn)}}if(He){ie=gt.join("&");break e}}ie=void 0}return c=c.i.splice(0,T),y.G=c,ie}function Gu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;we||A(),Ee||(we(),Ee=!0),R.add(y,c),c.A=0}}function Bs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=gr(g(c.Da,c),Ku(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,$u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=gr(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Li(this),$u(this))};function sl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function $u(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=wt(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),zs(c,y),c.u&&c.o&&Ls(y,c.u,c.o),c.O&&(c.g.H=c.O);var T=c.g;c=c.ba,T.M=1,T.A=ks(wt(y)),T.u=null,T.R=!0,Aa(T,c)}i.Va=function(){this.C!=null&&(this.C=null,Li(this),Bs(this),Et(19))};function Va(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Yu(c,y){var T=null;if(c.g==y){Va(c),sl(c),c.g=null;var S=2}else if(xr(c.h,y))T=y.G,Ko(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;S=Sa(),kt(S,new pr(S,T)),Nr(c)}else Gu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(S==1&&ka(c,y)||S==2&&Bs(c)))switch(T&&T.length>0&&(y=c.h,y.i=y.i.concat(T)),z){case 1:Cr(c,5);break;case 4:Cr(c,10);break;case 3:Cr(c,6);break;default:Cr(c,2)}}}function Ku(c,y){let T=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(T*=2),T*y}function Cr(c,y){if(c.j.info("Error code "+y),y==2){var T=g(c.bb,c),S=c.Ua;const z=!S;S=new En(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zt(S,"https"),ks(S),z?Wn(S.toString(),T):el(S.toString(),T)}else Et(2);c.I=0,c.l&&c.l.pa(y),Qu(c),Ma(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Qu(c){if(c.I=0,c.ja=[],c.l){const y=Qo(c.h);(y.length!=0||c.i.length!=0)&&(D(c.ja,y),D(c.ja,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.oa()}}function Xu(c,y,T){var S=T instanceof En?wt(T):new En(T);if(S.g!="")y&&(S.g=y+"."+S.g),Ii(S,S.u);else{var z=h.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const $=new En(null);S&&zt($,S),y&&($.g=y),z&&Ii($,z),T&&($.h=T),S=$}return T=c.G,y=c.wa,T&&y&&Ye(S,T,y),Ye(S,"VER",c.ka),zs(c,S),S}function Ju(c,y,T){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new Sr({ab:T})):new Xe(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}i=Wu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ui(){}Ui.prototype.g=function(c,y){return new an(c,y)};function an(c,y){bt.call(this),this.g=new ji(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Xr(this)}b(an,bt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){rl(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var T={};T.__data__=c,c=T}else this.v&&(T={},T.__data__=Ci(c),c=T);y.i.push(new xt(y.Ya++,c)),y.I==3&&Nr(y)},an.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,an.Z.N.call(this)};function Zu(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const T in y){c=T;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Zu,Ht);function ec(){On.call(this),this.status=1}b(ec,On);function Xr(c){this.g=c}b(Xr,Wu),Xr.prototype.ra=function(){kt(this.g,"a")},Xr.prototype.qa=function(c){kt(this.g,new Zu(c))},Xr.prototype.pa=function(c){kt(this.g,new ec)},Xr.prototype.oa=function(){kt(this.g,"b")},Ui.prototype.createWebChannel=Ui.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,S1=function(){return new Ui},w1=function(){return Sa()},x1=pt,fp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,bh=Os,Ho.COMPLETE="complete",T1=Ho,Ou.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,$l=Ou,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,E1=Xe}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});let tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Mo="12.8.0";function vC(i){Mo=i}const fa=new Hp("@firebase/firestore");function fo(){return fa.logLevel}function le(i,...e){if(fa.logLevel<=Me.DEBUG){const n=e.map(ng);fa.debug(`Firestore (${Mo}): ${i}`,...n)}}function Ei(i,...e){if(fa.logLevel<=Me.ERROR){const n=e.map(ng);fa.error(`Firestore (${Mo}): ${i}`,...n)}}function xo(i,...e){if(fa.logLevel<=Me.WARN){const n=e.map(ng);fa.warn(`Firestore (${Mo}): ${i}`,...n)}}function ng(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function ye(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,A1(i,s,n)}function A1(i,e,n){let s=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ei(s),new Error(s)}function Ge(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||A1(e,o,s)}function xe(i,e){return i}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class R1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class EC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class TC{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new R1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class xC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class wC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new xC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class r0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new r0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new r0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function AC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class rg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=AC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function mp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Km(o)===Km(u)?ke(o,u):Km(o)?1:-1}return ke(i.length,e.length)}const RC=55296,NC=57343;function Km(i){const e=i.charCodeAt(0);return e>=RC&&e<=NC}function wo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const i0="__name__";class Vr{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Vr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=Vr.isNumericId(e),o=Vr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vr.extractNumericId(e).compare(Vr.extractNumericId(n)):mp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ps.fromString(e.substring(4,e.length-2))}}class tt extends Vr{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const CC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Vr{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return CC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i0}static keyField(){return new Xt([i0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new oe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}function N1(i,e,n){if(!n)throw new oe(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function IC(i,e,n,s){if(e===!0&&s===!0)throw new oe(J.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function s0(i){if(!me.isDocumentKey(i))throw new oe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function a0(i){if(me.isDocumentKey(i))throw new oe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function C1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function ad(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ye(12329,{type:typeof i})}function vn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new oe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ad(i);throw new oe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Dt(i,e){const n={typeString:i};return e&&(n.value=e),n}function bu(i,e){if(!C1(i))throw new oe(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(J.INVALID_ARGUMENT,n);return!0}const o0=-62135596800,l0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*l0);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<o0)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l0}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-o0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Dt("string",it._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new it(0,0))}static max(){return new be(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const su=-1;function DC(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new _s(o,me.empty(),e)}function OC(i){return new _s(i.readTime,i.key,su)}class _s{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new _s(be.min(),me.empty(),su)}static max(){return new _s(be.max(),me.empty(),su)}}function MC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}const kC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ko(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==kC)throw i;le("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function jC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vo(i){return i.name==="IndexedDbTransactionError"}class od{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}od.ce=-1;const ig=-1;function ld(i){return i==null}function Lh(i){return i===0&&1/i==-1/0}function LC(i){return typeof i=="number"&&Number.isInteger(i)&&!Lh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const I1="";function UC(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=u0(e)),e=PC(i.get(n),e);return u0(e)}function PC(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case I1:n+="";break;default:n+=u}}return n}function u0(i){return i+I1+""}function c0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ws(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function D1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new h0(this.data.getIterator())}getIteratorFrom(e){return new h0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class h0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Lt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class O1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new O1("Invalid base64 string: "+u):u}})(e);return new Wt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const zC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const n=zC.exec(i);if(Ge(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function bs(i){return typeof i=="string"?Wt.fromBase64String(i):Wt.fromUint8Array(i)}const M1="server_timestamp",k1="__type__",V1="__previous_value__",j1="__local_write_time__";function sg(i){return(i?.mapValue?.fields||{})[k1]?.stringValue===M1}function ud(i){const e=i.mapValue.fields[V1];return sg(e)?ud(e):e}function au(i){const e=vs(i.mapValue.fields[j1].timestampValue);return new it(e.seconds,e.nanos)}class BC{constructor(e,n,s,o,u,h,m,p,g,E,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=b}}const Uh="(default)";class ou{constructor(e,n){this.projectId=e,this.database=n||Uh}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}function qC(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new oe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(i.options.projectId,e)}const L1="__type__",HC="__max__",lh={mapValue:{}},U1="__vector__",Ph="value";function Es(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?sg(i)?4:GC(i)?9007199254740991:FC(i)?10:11:ye(28295,{value:i})}function Hr(i,e){if(i===e)return!0;const n=Es(i);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return au(i).isEqual(au(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=vs(o.timestampValue),m=vs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return bs(o.bytesValue).isEqual(bs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=vt(o.doubleValue),m=vt(u.doubleValue);return h===m?Lh(h)===Lh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return wo(i.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(c0(h)!==c0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Hr(h[p],m[p])))return!1;return!0})(i,e);default:return ye(52216,{left:i})}}function lu(i,e){return(i.values||[]).find((n=>Hr(n,e)))!==void 0}function So(i,e){if(i===e)return 0;const n=Es(i),s=Es(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=vt(u.integerValue||u.doubleValue),p=vt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return d0(i.timestampValue,e.timestampValue);case 4:return d0(au(i),au(e));case 5:return mp(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=bs(u),p=bs(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=ke(m[g],p[g]);if(E!==0)return E}return ke(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=ke(vt(u.latitude),vt(h.latitude));return m!==0?m:ke(vt(u.longitude),vt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return f0(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Ph]?.arrayValue,E=p[Ph]?.arrayValue,b=ke(g?.values?.length||0,E?.values?.length||0);return b!==0?b:f0(g,E)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===lh.mapValue&&h===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(h===lh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const w=mp(p[b],E[b]);if(w!==0)return w;const M=So(m[p[b]],g[E[b]]);if(M!==0)return M}return ke(p.length,E.length)})(i.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function d0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=vs(i),s=vs(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function f0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=So(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function Ao(i){return pp(i)}function pp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=vs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return bs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return me.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=pp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${pp(n.fields[h])}`;return o+"}"})(i.mapValue):ye(61005,{value:i})}function Eh(i){switch(Es(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ud(i);return e?16+Eh(e):16;case 5:return 2*i.stringValue.length;case 6:return bs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Eh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ws(s.fields,((u,h)=>{o+=u.length+Eh(h)})),o})(i.mapValue);default:throw ye(13486,{value:i})}}function m0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function gp(i){return!!i&&"integerValue"in i}function ag(i){return!!i&&"arrayValue"in i}function p0(i){return!!i&&"nullValue"in i}function g0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Th(i){return!!i&&"mapValue"in i}function FC(i){return(i?.mapValue?.fields||{})[L1]?.stringValue===U1}function Wl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ws(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Wl(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wl(i.arrayValue.values[n]);return e}return{...i}}function GC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===HC}class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Wl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ws(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new _n(Wl(this.value))}}function P1(i){const e=[];return ws(i.fields,((n,s)=>{const o=new Xt([n]);if(Th(s)){const u=P1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Cn(e)}class nn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,be.min(),be.min(),be.min(),_n.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,be.min(),be.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,be.min(),be.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zh{constructor(e,n){this.position=e,this.inclusive=n}}function y0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),n.key):s=So(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function _0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Hr(i.position[n],e.position[n]))return!1;return!0}class uu{constructor(e,n="asc"){this.field=e,this.dir=n}}function $C(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class z1{}class It extends z1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new KC(e,n,s):n==="array-contains"?new JC(e,s):n==="in"?new WC(e,s):n==="not-in"?new ZC(e,s):n==="array-contains-any"?new eI(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new QC(e,s):new XC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(So(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends z1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cr(e,n)}matches(e){return B1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function B1(i){return i.op==="and"}function q1(i){return YC(i)&&B1(i)}function YC(i){for(const e of i.filters)if(e instanceof cr)return!1;return!0}function yp(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+Ao(i.value);if(q1(i))return i.filters.map((e=>yp(e))).join(",");{const e=i.filters.map((n=>yp(n))).join(",");return`${i.op}(${e})`}}function H1(i,e){return i instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Hr(s.value,o.value)})(i,e):i instanceof cr?(function(s,o){return o instanceof cr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&H1(h,o.filters[m])),!0):!1})(i,e):void ye(19439)}function F1(i){return i instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`})(i):i instanceof cr?(function(n){return n.op.toString()+" {"+n.getFilters().map(F1).join(" ,")+"}"})(i):"Filter"}class KC extends It{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class QC extends It{constructor(e,n){super(e,"in",n),this.keys=G1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class XC extends It{constructor(e,n){super(e,"not-in",n),this.keys=G1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function G1(i,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class JC extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ag(n)&&lu(n.arrayValue,this.value)}}class WC extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class ZC extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lu(this.value.arrayValue,n)}}class eI extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ag(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>lu(this.value.arrayValue,s)))}}class tI{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function v0(i,e=null,n=[],s=[],o=null,u=null,h=null){return new tI(i,e,n,s,o,u,h)}function og(i){const e=xe(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>yp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ao(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ao(s))).join(",")),e.Te=n}return e.Te}function lg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!$C(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!H1(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!_0(i.startAt,e.startAt)&&_0(i.endAt,e.endAt)}function _p(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class jo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function nI(i,e,n,s,o,u,h,m){return new jo(i,e,n,s,o,u,h,m)}function cd(i){return new jo(i)}function b0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function rI(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function $1(i){return i.collectionGroup!==null}function Zl(i){const e=xe(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Lt(Xt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new uu(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new uu(Xt.keyField(),s))}return e.Ie}function Pr(i){const e=xe(i);return e.Ee||(e.Ee=iI(e,Zl(i))),e.Ee}function iI(i,e){if(i.limitType==="F")return v0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new uu(o.field,u)}));const n=i.endAt?new zh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new zh(i.startAt.position,i.startAt.inclusive):null;return v0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function vp(i,e){const n=i.filters.concat([e]);return new jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function sI(i,e){const n=i.explicitOrderBy.concat([e]);return new jo(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function Bh(i,e,n){return new jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function hd(i,e){return lg(Pr(i),Pr(e))&&i.limitType===e.limitType}function Y1(i){return`${og(Pr(i))}|lt:${i.limitType}`}function mo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>F1(o))).join(", ")}]`),ld(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ao(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ao(o))).join(",")),`Target(${s})`})(Pr(i))}; limitType=${i.limitType})`}function dd(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of Zl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=y0(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,Zl(s),o)||s.endAt&&!(function(h,m,p){const g=y0(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,Zl(s),o))})(i,e)}function aI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function K1(i){return(e,n)=>{let s=!1;for(const o of Zl(i)){const u=oI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function oI(i,e,n){const s=i.field.isKeyField()?me.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?So(p,g):ye(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:i.dir})}}class ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return D1(this.inner)}size(){return this.innerSize}}const lI=new ht(me.comparator);function Ti(){return lI}const Q1=new ht(me.comparator);function Yl(...i){let e=Q1;for(const n of i)e=e.insert(n.key,n);return e}function X1(i){let e=Q1;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function aa(){return eu()}function J1(){return eu()}function eu(){return new ba((i=>i.toString()),((i,e)=>i.isEqual(e)))}const uI=new ht(me.comparator),cI=new Lt(me.comparator);function Ve(...i){let e=cI;for(const n of i)e=e.add(n);return e}const hI=new Lt(ke);function dI(){return hI}function ug(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function W1(i){return{integerValue:""+i}}function fI(i,e){return LC(e)?W1(e):ug(i,e)}class fd{constructor(){this._=void 0}}function mI(i,e,n){return i instanceof cu?(function(o,u){const h={fields:{[k1]:{stringValue:M1},[j1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&sg(u)&&(u=ud(u)),u&&(h.fields[V1]=u),{mapValue:h}})(n,e):i instanceof hu?eT(i,e):i instanceof du?tT(i,e):(function(o,u){const h=Z1(o,u),m=E0(h)+E0(o.Ae);return gp(h)&&gp(o.Ae)?W1(m):ug(o.serializer,m)})(i,e)}function pI(i,e,n){return i instanceof hu?eT(i,e):i instanceof du?tT(i,e):n}function Z1(i,e){return i instanceof qh?(function(s){return gp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class cu extends fd{}class hu extends fd{constructor(e){super(),this.elements=e}}function eT(i,e){const n=nT(e);for(const s of i.elements)n.some((o=>Hr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class du extends fd{constructor(e){super(),this.elements=e}}function tT(i,e){let n=nT(e);for(const s of i.elements)n=n.filter((o=>!Hr(o,s)));return{arrayValue:{values:n}}}class qh extends fd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function E0(i){return vt(i.integerValue||i.doubleValue)}function nT(i){return ag(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class gI{constructor(e,n){this.field=e,this.transform=n}}function yI(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof hu&&o instanceof hu||s instanceof du&&o instanceof du?wo(s.elements,o.elements,Hr):s instanceof qh&&o instanceof qh?Hr(s.Ae,o.Ae):s instanceof cu&&o instanceof cu})(i.transform,e.transform)}class _I{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class md{}function rT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new cg(i.key,Yn.none()):new Eu(i.key,i.data,Yn.none());{const n=i.data,s=_n.empty();let o=new Lt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ss(i.key,s,new Cn(o.toArray()),Yn.none())}}function vI(i,e,n){i instanceof Eu?(function(o,u,h){const m=o.value.clone(),p=x0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Ss?(function(o,u,h){if(!xh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=x0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(iT(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function tu(i,e,n,s){return i instanceof Eu?(function(u,h,m,p){if(!xh(u.precondition,h))return m;const g=u.value.clone(),E=w0(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof Ss?(function(u,h,m,p){if(!xh(u.precondition,h))return m;const g=w0(u.fieldTransforms,p,h),E=h.data;return E.setAll(iT(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,n,s):(function(u,h,m){return xh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function bI(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Z1(s.transform,o||null);u!=null&&(n===null&&(n=_n.empty()),n.set(s.field,u))}return n||null}function T0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&wo(s,o,((u,h)=>yI(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Eu extends md{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ss extends md{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function iT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function x0(i,e,n){const s=new Map;Ge(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,pI(h,m,n[o]))}return s}function w0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,mI(u,h,e))}return s}class cg extends md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EI extends md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&vI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=tu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=tu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=J1();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=rT(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,((n,s)=>T0(n,s)))&&wo(this.baseMutations,e.baseMutations,((n,s)=>T0(n,s)))}}class hg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return uI})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new hg(e,n,s,o)}}class xI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class wI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,Pe;function SI(i){switch(i){case J.OK:return ye(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ye(15467,{code:i})}}function sT(i){if(i===void 0)return Ei("GRPC error has no .code"),J.UNKNOWN;switch(i){case Ct.OK:return J.OK;case Ct.CANCELLED:return J.CANCELLED;case Ct.UNKNOWN:return J.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return J.INTERNAL;case Ct.UNAVAILABLE:return J.UNAVAILABLE;case Ct.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ct.NOT_FOUND:return J.NOT_FOUND;case Ct.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ct.ABORTED:return J.ABORTED;case Ct.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ct.DATA_LOSS:return J.DATA_LOSS;default:return ye(39323,{code:i})}}(Pe=Ct||(Ct={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function AI(){return new TextEncoder}const RI=new ps([4294967295,4294967295],0);function S0(i){const e=AI().encode(i),n=new b1;return n.update(e),new Uint8Array(n.digest())}function A0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ps([n,s],0),new ps([o,u],0)]}class dg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ps.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ps.fromNumber(s)));return o.compare(RI)===1&&(o=new ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=S0(e),[s,o]=A0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new dg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=S0(e),[s,o]=A0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pd{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new pd(be.min(),o,new ht(ke),Ti(),Ve())}}class Tu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Tu(s,n,Ve(),Ve(),Ve())}}class wh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class aT{constructor(e,n){this.targetId=e,this.Ce=n}}class oT{constructor(e,n,s=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class R0{constructor(){this.ve=0,this.Fe=N0(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new Tu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=N0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class NI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ti(),this.He=uh(),this.Je=uh(),this.Ze=new ht(ke)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(_p(u))if(s===0){const h=new me(u.path);this.et(n,h,nn.newNoDocument(h,be.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=bs(s).toUint8Array()}catch(p){if(p instanceof O1)return xo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new dg(h,o,u)}catch(p){return xo(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&_p(m.target)){const p=new me(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,nn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=Ve();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new pd(e,n,this.Ze,this.je,s);return this.je=Ti(),this.He=uh(),this.Je=uh(),this.Ze=new ht(ke),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new R0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Lt(ke),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Lt(ke),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new R0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uh(){return new ht(me.comparator)}function N0(){return new ht(me.comparator)}const CI={asc:"ASCENDING",desc:"DESCENDING"},II={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DI={and:"AND",or:"OR"};class OI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bp(i,e){return i.useProto3Json||ld(e)?e:{value:e}}function Hh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function MI(i,e){return Hh(i,e.toTimestamp())}function zr(i){return Ge(!!i,49232),be.fromTimestamp((function(n){const s=vs(n);return new it(s.seconds,s.nanos)})(i))}function fg(i,e){return Ep(i,e).canonicalString()}function Ep(i,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function uT(i){const e=tt.fromString(i);return Ge(mT(e),10190,{key:e.toString()}),e}function Tp(i,e){return fg(i.databaseId,e.path)}function Qm(i,e){const n=uT(e);if(n.get(1)!==i.databaseId.projectId)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new me(hT(n))}function cT(i,e){return fg(i.databaseId,e)}function kI(i){const e=uT(i);return e.length===4?tt.emptyPath():hT(e)}function xp(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function hT(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function C0(i,e,n){return{name:Tp(i,e),fields:n.value.mapValue.fields}}function VI(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ye(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Wt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Wt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?J.UNKNOWN:sT(g.code);return new oe(E,g.message||"")})(h);n=new oT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qm(i,s.document.name),u=zr(s.document.updateTime),h=s.document.createTime?zr(s.document.createTime):be.min(),m=new _n({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new wh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Qm(i,s.document),u=s.readTime?zr(s.readTime):be.min(),h=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new wh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Qm(i,s.document),u=s.removedTargetIds||[];n=new wh([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new wI(o,u),m=s.targetId;n=new aT(m,h)}}return n}function jI(i,e){let n;if(e instanceof Eu)n={update:C0(i,e.key,e.value)};else if(e instanceof cg)n={delete:Tp(i,e.key)};else if(e instanceof Ss)n={update:C0(i,e.key,e.data),updateMask:GI(e.fieldMask)};else{if(!(e instanceof EI))return ye(16599,{dt:e.type});n={verify:Tp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof cu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof hu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof du)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof qh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:MI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(i,e.precondition)),n}function LI(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?zr(o.updateTime):zr(u);return h.isEqual(be.min())&&(h=zr(u)),new _I(h,o.transformResults||[])})(n,e)))):[]}function UI(i,e){return{documents:[cT(i,e.path)]}}function PI(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=cT(i,o);const u=(function(g){if(g.length!==0)return fT(cr.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:po(w.field),direction:qI(w.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=bp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function zI(i){let e=kI(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const w=dT(b);return w instanceof cr&&q1(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((w=>(function(D){return new uu(go(D.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let w;return w=typeof b=="object"?b.value:b,ld(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(b){const w=!!b.before,M=b.values||[];return new zh(M,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const w=!b.before,M=b.values||[];return new zh(M,w)})(n.endAt)),nI(e,o,h,u,m,"F",p,g)}function BI(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=go(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=go(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=go(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=go(n.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(i):i.fieldFilter!==void 0?(function(n){return It.create(go(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return cr.create(n.compositeFilter.filters.map((s=>dT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(i):ye(30097,{filter:i})}function qI(i){return CI[i]}function HI(i){return II[i]}function FI(i){return DI[i]}function po(i){return{fieldPath:i.canonicalString()}}function go(i){return Xt.fromServerFormat(i.fieldPath)}function fT(i){return i instanceof It?(function(n){if(n.op==="=="){if(g0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NAN"}};if(p0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(g0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NAN"}};if(p0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(n.field),op:HI(n.op),value:n.value}}})(i):i instanceof cr?(function(n){const s=n.getFilters().map((o=>fT(o)));return s.length===1?s[0]:{compositeFilter:{op:FI(n.op),filters:s}}})(i):ye(54877,{filter:i})}function GI(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function mT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function pT(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class ds{constructor(e,n,s,o,u=be.min(),h=be.min(),m=Wt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $I{constructor(e){this.yt=e}}function YI(i){const e=zI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Bh(e,e.limit,"L"):e}class KI{constructor(){this.Sn=new QI}addToCollectionParentIndex(e,n){return this.Sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(_s.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class QI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(tt.comparator)).toArray()}}const I0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gT=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(gT,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class Ro{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ro(0)}static ar(){return new Ro(-1)}}const D0="LruGarbageCollector",XI=1048576;function O0([i,e],[n,s]){const o=ke(i,n);return o===0?ke(e,s):o}class JI{constructor(e){this.Pr=e,this.buffer=new Lt(O0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();O0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(D0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vo(n)?le(D0,"Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.Ar(3e5)}))}}class ZI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(od.ce);const s=new JI(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(I0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),fo()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function eD(i,e){return new ZI(i,e)}class tD{constructor(){this.changes=new ba((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class rD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&tu(s.mutation,o,Cn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const o=aa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Yl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=aa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Ti();const h=eu(),m=(function(){return eu()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ss)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),tu(E.mutation,g,E.mutation.getFieldMask(),it.now())):h.set(g.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new nD(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=eu();let o=new ht(((h,m)=>h-m)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Cn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const b=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,b=J1();E.forEach((w=>{if(!u.has(w)){const M=rT(n.get(w),s.get(w));M!==null&&b.set(w,M),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ee.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return rI(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(aa());let m=su,p=u;return h.next((g=>ee.forEach(g,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ve()))).next((E=>({batchId:m,changes:X1(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Yl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Yl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const g=(function(b,w){return new jo(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((b,w)=>{h=h.insert(b,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,nn.newInvalidDocument(E)))}));let m=Yl();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&tu(E.mutation,g,Cn.empty(),it.now()),dd(n,g)&&(m=m.insert(p,g))})),m}))}}class iD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:zr(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:YI(o.bundledQuery),readTime:zr(o.readTime)}})(n)),ee.resolve()}}class sD{constructor(){this.overlays=new ht(me.comparator),this.Lr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=aa();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=aa(),u=n.length+1,h=new me(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=aa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=aa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ee.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new xI(n,s));let u=this.Lr.get(n);u===void 0&&(u=Ve(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class aD{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class mg{constructor(){this.kr=new Lt(qt.Kr),this.qr=new Lt(qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new qt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new me(new tt([])),s=new qt(n,e),o=new qt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new me(new tt([])),s=new qt(n,e),o=new qt(n,e+1);let u=Ve();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new qt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return me.comparator(e.key,n.key)||ke(e.Hr,n.Hr)}static Ur(e,n){return ke(e.Hr,n.Hr)||me.comparator(e.key,n.key)}}class oD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Lt(qt.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new TI(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?ig:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(ke);return n.forEach((o=>{const u=new qt(o,0),h=new qt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),ee.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new qt(new me(u),0);let m=new Lt(ke);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),h),ee.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ee.forEach(n.mutations,(o=>{const u=new qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new qt(n,0),o=this.Jr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class lD{constructor(e){this.ti=e,this.docs=(function(){return new ht(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=Ti();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ti();const h=n.path,m=new me(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||MC(OC(E),s)<=0||(o.has(E.key)||dd(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ye(9500)}ni(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new uD(this)}getSize(e){return ee.resolve(this.size)}}class uD extends tD{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class cD{constructor(e){this.persistence=e,this.ri=new ba((n=>og(n)),lg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new mg,this.targetCount=0,this.oi=Ro._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.lr(n),ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.si.containsKey(n))}}class yT{constructor(e,n){this._i={},this.overlays={},this.ai=new od(0),this.ui=!1,this.ui=!0,this.ci=new aD,this.referenceDelegate=e(this),this.li=new cD(this),this.indexManager=new KI,this.remoteDocumentCache=(function(o){return new lD(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new $I(n),this.Pi=new iD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new oD(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new hD(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ee.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class hD extends VC{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Ri=new mg,this.Ai=null}static Vi(e){return new pg(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(s=>{const o=me.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Fh{constructor(e,n){this.persistence=e,this.fi=new ba((s=>UC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=eD(this,n)}static Vi(e,n){return new Fh(e,n)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ee.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,u.removeEntry(h,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eh(e.data.value)),n}wr(e,n,s){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class gg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new gg(e,n.fromCache,s,o)}}class dD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return WA()?8:jC(rn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new dD;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(fo()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(fo()<=Me.DEBUG&&le("QueryEngine","Query:",mo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(fo()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):ee.resolve())}gs(e,n){if(b0(n))return ee.resolve(null);let s=Pr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Bh(n,null,"F"),s=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ve(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ss(n,g,h,p.readTime)?this.gs(e,Bh(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,s,o){return b0(n)||o.isEqual(be.min())?ee.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?ee.resolve(null):(fo()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mo(n)),this.Ds(e,h,n,DC(o,su)).next((m=>m)))}))}bs(e,n){let s=new Lt(K1(e));return n.forEach(((o,u)=>{dd(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return fo()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",mo(n)),this.fs.getDocumentsMatchingQuery(e,n,_s.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const yg="LocalStore",mD=3e8;class pD{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ht(ke),this.Fs=new ba((u=>og(u)),lg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function gD(i,e,n,s){return new pD(i,e,n,s)}async function _T(i,e){const n=xe(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Ve();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function yD(i,e){const n=xe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const b=g.batch,w=b.keys();let M=ee.resolve();return w.forEach((D=>{M=M.next((()=>E.getEntry(p,D))).next((H=>{const G=g.docVersions.get(D);Ge(G!==null,48541),H.version.compareTo(G)<0&&(b.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),E.addEntry(H)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function vT(i){const e=xe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function _D(i,e){const n=xe(i),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,b)=>{const w=o.get(b);if(!w)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,b))));let M=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?M=M.withResumeToken(Wt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(b,M),(function(H,G,ne){return H.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=mD?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(w,M,E)&&m.push(n.li.updateTargetData(u,M))}));let p=Ti(),g=Ve();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(vD(u,h,e.documentUpdates).next((E=>{p=E.Bs,g=E.Ls}))),!s.isEqual(be.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ee.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.vs=o,u)))}function vD(i,e,n){let s=Ve(),o=Ve();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Ti();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):le(yg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:h,Ls:o}}))}function bD(i,e){const n=xe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ig),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ED(i,e){const n=xe(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new ds(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function wp(i,e,n){const s=xe(i),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Vo(h))throw h;le(yg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function M0(i,e,n){const s=xe(i);let o=be.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const b=xe(p),w=b.Fs.get(E);return w!==void 0?ee.resolve(b.vs.get(w)):b.li.getTargetData(g,E)})(s,h,Pr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?u:Ve()))).next((m=>(TD(s,aI(e),m),{documents:m,ks:u})))))}function TD(i,e,n){let s=i.Ms.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Ms.set(e,s)}class k0{constructor(){this.activeTargetIds=dI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xD{constructor(){this.vo=new k0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new k0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wD{Mo(e){}shutdown(){}}const V0="ConnectivityMonitor";class j0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(V0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(V0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ch=null;function Sp(){return ch===null?ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():ch++,"0x"+ch.toString(16)}const Xm="RestConnection",SD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class AD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Uh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=Sp(),m=this.Qo(e,n.toUriEncodedString());le(Xm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),E=_a(g);return this.zo(e,m,p,s,E).then((b=>(le(Xm,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw xo(Xm,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=SD[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class RD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",Gl=(i,e,n)=>{i.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class bo extends AD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!bo.c_){const e=w1();Gl(e,x1.STAT_EVENT,(n=>{n.stat===fp.PROXY?le(en,"STAT_EVENT: detected buffering proxy"):n.stat===fp.NOPROXY&&le(en,"STAT_EVENT: detected no buffering proxy")})),bo.c_=!0}}zo(e,n,s,o,u){const h=Sp();return new Promise(((m,p)=>{const g=new E1;g.setWithCredentials(!0),g.listenOnce(T1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case bh.NO_ERROR:const b=g.getResponseJson();le(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case bh.TIMEOUT:le(en,`RPC '${e}' ${h} timed out`),p(new oe(J.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:const w=g.getStatus();if(le(en,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const D=M?.error;if(D&&D.status&&D.message){const H=(function(ne){const te=ne.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(te)>=0?te:J.UNKNOWN})(D.status);p(new oe(H,D.message))}else p(new oe(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(J.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(en,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);le(en,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Sp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const g=u.join("");le(en,`Creating RPC '${e}' stream ${o}: ${g}`,m);const E=h.createWebChannel(g,m);this.I_(E);let b=!1,w=!1;const M=new RD({Ho:D=>{w?le(en,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(b||(le(en,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),le(en,`RPC '${e}' stream ${o} sending:`,D),E.send(D))},Jo:()=>E.close()});return Gl(E,$l.EventType.OPEN,(()=>{w||(le(en,`RPC '${e}' stream ${o} transport opened.`),M.i_())})),Gl(E,$l.EventType.CLOSE,(()=>{w||(w=!0,le(en,`RPC '${e}' stream ${o} transport closed`),M.o_(),this.E_(E))})),Gl(E,$l.EventType.ERROR,(D=>{w||(w=!0,xo(en,`RPC '${e}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),M.o_(new oe(J.UNAVAILABLE,"The operation could not be completed")))})),Gl(E,$l.EventType.MESSAGE,(D=>{if(!w){const H=D.data[0];Ge(!!H,16349);const G=H,ne=G?.error||G[0]?.error;if(ne){le(en,`RPC '${e}' stream ${o} received error:`,ne);const te=ne.status;let re=(function(Ee){const R=Ct[Ee];if(R!==void 0)return sT(R)})(te),de=ne.message;re===void 0&&(re=J.INTERNAL,de="Unknown error status: "+te+" with message "+ne.message),w=!0,M.o_(new oe(re,de)),E.close()}else le(en,`RPC '${e}' stream ${o} received:`,H),M.__(H)}})),bo.u_(),setTimeout((()=>{M.s_()}),0),M}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return S1()}}function ND(i){return new bo(i)}function Jm(){return typeof document<"u"?document:null}function gd(i){return new OI(i,!0)}bo.c_=!1;class bT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const L0="PersistentStream";class ET{constructor(e,n,s,o,u,h,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Ei(n.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(L0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(L0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CD extends ET{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=VI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?zr(h.readTime):be.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=xp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=_p(p)?{documents:UI(u,p)}:{query:PI(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=lT(u,h.resumeToken);const g=bp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=Hh(u,h.snapshotVersion.toTimestamp());const g=bp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=BI(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=xp(this.serializer),n.removeTarget=e,this.K_(n)}}class ID extends ET{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LI(e.writeResults,e.commitTime),s=zr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=xp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>jI(this.serializer,s)))};this.K_(n)}}class DD{}class OD extends DD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,Ep(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(J.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Ep(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function MD(i,e,n,s){return new OD(i,e,n,s)}class kD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ei(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ma="RemoteStore";class VD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{Ea(this)&&(le(ma,"Restarting streams for network reachability change."),await(async function(p){const g=xe(p);g.Ea.add(4),await xu(g),g.Va.set("Unknown"),g.Ea.delete(4),await yd(g)})(this))}))})),this.Va=new kD(s,o)}}async function yd(i){if(Ea(i))for(const e of i.Ra)await e(!0)}async function xu(i){for(const e of i.Ra)await e(!1)}function TT(i,e){const n=xe(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Eg(n)?bg(n):Lo(n).O_()&&vg(n,e))}function _g(i,e){const n=xe(i),s=Lo(n);n.Ia.delete(e),s.O_()&&xT(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ea(n)&&n.Va.set("Unknown"))}function vg(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(i).Z_(e)}function xT(i,e){i.da.$e(e),Lo(i).X_(e)}function bg(i){i.da=new NI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Lo(i).start(),i.Va.ua()}function Eg(i){return Ea(i)&&!Lo(i).x_()&&i.Ia.size>0}function Ea(i){return xe(i).Ea.size===0}function wT(i){i.da=void 0}async function jD(i){i.Va.set("Online")}async function LD(i){i.Ia.forEach(((e,n)=>{vg(i,e)}))}async function UD(i,e){wT(i),Eg(i)?(i.Va.ha(e),bg(i)):i.Va.set("Unknown")}async function PD(i,e,n){if(i.Va.set("Online"),e instanceof oT&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(s){le(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Gh(i,s)}else if(e instanceof wh?i.da.Xe(e):e instanceof aT?i.da.st(e):i.da.tt(e),!n.isEqual(be.min()))try{const s=await vT(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Wt.EMPTY_BYTE_STRING,E.snapshotVersion)),xT(u,p);const b=new ds(E.target,p,g,E.sequenceNumber);vg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){le(ma,"Failed to raise snapshot:",s),await Gh(i,s)}}async function Gh(i,e,n){if(!Vo(e))throw e;i.Ea.add(1),await xu(i),i.Va.set("Offline"),n||(n=()=>vT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{le(ma,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await yd(i)}))}function ST(i,e){return e().catch((n=>Gh(i,n,e)))}async function _d(i){const e=xe(i),n=Ts(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ig;for(;zD(e);)try{const o=await bD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,BD(e,o)}catch(o){await Gh(e,o)}AT(e)&&RT(e)}function zD(i){return Ea(i)&&i.Ta.length<10}function BD(i,e){i.Ta.push(e);const n=Ts(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function AT(i){return Ea(i)&&!Ts(i).x_()&&i.Ta.length>0}function RT(i){Ts(i).start()}async function qD(i){Ts(i).ra()}async function HD(i){const e=Ts(i);for(const n of i.Ta)e.ea(n.mutations)}async function FD(i,e,n){const s=i.Ta.shift(),o=hg.from(s,e,n);await ST(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await _d(i)}async function GD(i,e){e&&Ts(i).Y_&&await(async function(s,o){if((function(h){return SI(h)&&h!==J.ABORTED})(o.code)){const u=s.Ta.shift();Ts(s).B_(),await ST(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await _d(s)}})(i,e),AT(i)&&RT(i)}async function U0(i,e){const n=xe(i);n.asyncQueue.verifyOperationInProgress(),le(ma,"RemoteStore received new credentials");const s=Ea(n);n.Ea.add(3),await xu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yd(n)}async function $D(i,e){const n=xe(i);e?(n.Ea.delete(2),await yd(n)):e||(n.Ea.add(2),await xu(n),n.Va.set("Unknown"))}function Lo(i){return i.ma||(i.ma=(function(n,s,o){const u=xe(n);return u.sa(),new CD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:jD.bind(null,i),Yo:LD.bind(null,i),t_:UD.bind(null,i),J_:PD.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),Eg(i)?bg(i):i.Va.set("Unknown")):(await i.ma.stop(),wT(i))}))),i.ma}function Ts(i){return i.fa||(i.fa=(function(n,s,o){const u=xe(n);return u.sa(),new ID(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:qD.bind(null,i),t_:GD.bind(null,i),ta:HD.bind(null,i),na:FD.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await _d(i)):(await i.fa.stop(),i.Ta.length>0&&(le(ma,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Tg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Tg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(i,e){if(Ei("AsyncQueue",`${e}: ${i}`),Vo(i))return new oe(J.UNAVAILABLE,`${e}: ${i}`);throw i}class Eo{static emptySet(e){return new Eo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Yl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class P0{constructor(){this.ga=new ht(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class No{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new No(e,n,Eo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class YD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class KD{constructor(){this.queries=z0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=xe(n),u=o.queries;o.queries=z0(),u.forEach(((h,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new oe(J.ABORTED,"Firestore shutting down"))}}function z0(){return new ba((i=>Y1(i)),hd)}async function wg(i,e){const n=xe(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new YD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=xg(h,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Ag(n)}async function Sg(i,e){const n=xe(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function QD(i,e){const n=xe(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&Ag(n)}function XD(i,e,n){const s=xe(i),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Ag(i){i.Ca.forEach((e=>{e.next()}))}var Ap,B0;(B0=Ap||(Ap={})).Ma="default",B0.Cache="cache";class Rg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new No(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ap.Cache}}class NT{constructor(e){this.key=e}}class CT{constructor(e){this.key=e}}class JD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.eu=K1(e),this.tu=new Eo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new P0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const w=o.get(E),M=dd(this.query,b)?b:null,D=!!w&&this.mutatedKeys.has(w.key),H=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let G=!1;w&&M?w.data.isEqual(M.data)?D!==H&&(s.track({type:3,doc:M}),G=!0):this.su(w,M)||(s.track({type:2,doc:M}),G=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!w&&M?(s.track({type:0,doc:M}),G=!0):w&&!M&&(s.track({type:1,doc:w}),G=!0,(p||g)&&(m=!0)),G&&(M?(h=h.add(M),u=H?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,b)=>(function(M,D){const H=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:G})}};return H(M)-H(D)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,h.length!==0||g?{snapshot:new No(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new P0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new CT(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new NT(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ng="SyncEngine";class WD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class ZD{constructor(e){this.key=e,this.hu=!1}}class e4{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ba((m=>Y1(m)),hd),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(me.comparator),this.Au=new Map,this.Vu=new mg,this.du={},this.mu=new Map,this.fu=Ro.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function t4(i,e,n=!0){const s=VT(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await IT(s,e,n,!0),o}async function n4(i,e){const n=VT(i);await IT(n,e,!0,!1)}async function IT(i,e,n,s){const o=await ED(i.localStore,Pr(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await r4(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&TT(i.remoteStore,o),m}async function r4(i,e,n,s,o){i.pu=(b,w,M)=>(async function(H,G,ne,te){let re=G.view.ru(ne);re.Ss&&(re=await M0(H.localStore,G.query,!1).then((({documents:R})=>G.view.ru(R,re))));const de=te&&te.targetChanges.get(G.targetId),we=te&&te.targetMismatches.get(G.targetId)!=null,Ee=G.view.applyChanges(re,H.isPrimaryClient,de,we);return H0(H,G.targetId,Ee.au),Ee.snapshot})(i,b,w,M);const u=await M0(i.localStore,e,!0),h=new JD(e,u.ks),m=h.ru(u.documents),p=Tu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);H0(i,n,g.au);const E=new WD(e,n,h);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function i4(i,e,n){const s=xe(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!hd(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await wp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&_g(s.remoteStore,o.targetId),Rp(s,o.targetId)})).catch(ko)):(Rp(s,o.targetId),await wp(s.localStore,o.targetId,!0))}async function s4(i,e){const n=xe(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),_g(n.remoteStore,s.targetId))}async function a4(i,e,n){const s=f4(i);try{const o=await(function(h,m){const p=xe(h),g=it.now(),E=m.reduce(((M,D)=>M.add(D.key)),Ve());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let D=Ti(),H=Ve();return p.xs.getEntries(M,E).next((G=>{D=G,D.forEach(((ne,te)=>{te.isValidDocument()||(H=H.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(M,D))).next((G=>{b=G;const ne=[];for(const te of m){const re=bI(te,b.get(te.key).overlayedDocument);re!=null&&ne.push(new Ss(te.key,re,P1(re.value.mapValue),Yn.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,ne,m)})).next((G=>{w=G;const ne=G.applyToLocalDocumentSet(b,H);return p.documentOverlayCache.saveOverlays(M,G.batchId,ne)}))})).then((()=>({batchId:w.batchId,changes:X1(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.du[h.currentUser.toKey()];g||(g=new ht(ke)),g=g.insert(m,p),h.du[h.currentUser.toKey()]=g})(s,o.batchId,n),await wu(s,o.changes),await _d(s.remoteStore)}catch(o){const u=xg(o,"Failed to persist write");n.reject(u)}}async function DT(i,e){const n=xe(i);try{const s=await _D(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await wu(n,s,e)}catch(s){await ko(s)}}function q0(i,e,n){const s=xe(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=xe(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,b)=>{for(const w of b.ba)w.va(m)&&(g=!0)})),g&&Ag(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function o4(i,e,n){const s=xe(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ht(me.comparator);h=h.insert(u,nn.newNoDocument(u,be.min()));const m=Ve().add(u),p=new pd(be.min(),new Map,new ht(ke),h,m);await DT(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),Cg(s)}else await wp(s.localStore,e,!1).then((()=>Rp(s,e,n))).catch(ko)}async function l4(i,e){const n=xe(i),s=e.batch.batchId;try{const o=await yD(n.localStore,e);MT(n,s,null),OT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await wu(n,o)}catch(o){await ko(o)}}async function u4(i,e,n){const s=xe(i);try{const o=await(function(h,m){const p=xe(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(Ge(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);MT(s,e,n),OT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await wu(s,o)}catch(o){await ko(o)}}function OT(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function MT(i,e,n){const s=xe(i);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Rp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((s=>{i.Vu.containsKey(s)||kT(i,s)}))}function kT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(_g(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),Cg(i))}function H0(i,e,n){for(const s of n)s instanceof NT?(i.Vu.addReference(s.key,e),c4(i,s)):s instanceof CT?(le(Ng,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,e),i.Vu.containsKey(s.key)||kT(i,s.key)):ye(19791,{wu:s})}function c4(i,e){const n=e.key,s=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(s)||(le(Ng,"New document in limbo: "+n),i.Eu.add(s),Cg(i))}function Cg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new me(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new ZD(n)),i.Ru=i.Ru.insert(n,s),TT(i.remoteStore,new ds(Pr(cd(n.path)),s,"TargetPurposeLimboResolution",od.ce))}}async function wu(i,e,n){const s=xe(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=gg.Es(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(p,g){const E=xe(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ee.forEach(g,(w=>ee.forEach(w.Ts,(M=>E.persistence.referenceDelegate.addReference(b,w.targetId,M))).next((()=>ee.forEach(w.Is,(M=>E.persistence.referenceDelegate.removeReference(b,w.targetId,M)))))))))}catch(b){if(!Vo(b))throw b;le(yg,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const M=E.vs.get(w),D=M.snapshotVersion,H=M.withLastLimboFreeSnapshotVersion(D);E.vs=E.vs.insert(w,H)}}})(s.localStore,u))}async function h4(i,e){const n=xe(i);if(!n.currentUser.isEqual(e)){le(Ng,"User change. New user:",e.toKey());const s=await _T(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(J.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await wu(n,s.Ns)}}function d4(i,e){const n=xe(i),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function VT(i){const e=xe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=DT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o4.bind(null,e),e.Pu.J_=QD.bind(null,e.eventManager),e.Pu.yu=XD.bind(null,e.eventManager),e}function f4(i){const e=xe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u4.bind(null,e),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return gD(this.persistence,new fD,e.initialUser,this.serializer)}Cu(e){return new yT(pg.Vi,this.serializer)}Du(e){return new xD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class m4 extends $h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new WI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new yT((s=>Fh.Vi(s,n)),this.serializer)}}class Np{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>q0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=h4.bind(null,this.syncEngine),await $D(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new KD})()}createDatastore(e){const n=gd(e.databaseInfo.databaseId),s=ND(e.databaseInfo);return MD(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new VD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>q0(this.syncEngine,n,0)),(function(){return j0.v()?new j0:new wD})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const b=new e4(o,u,h,m,p,g);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=xe(n);le(ma,"RemoteStore shutting down."),s.Ea.add(5),await xu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Np.provider={build:()=>new Np};class Ig{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const xs="FirestoreClient";class p4{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(xs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(xs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=xg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Wm(i,e){i.asyncQueue.verifyOperationInProgress(),le(xs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await _T(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function F0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await g4(i);le(xs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>U0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>U0(e.remoteStore,o))),i._onlineComponents=e}async function g4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le(xs,"Using user provided OfflineComponentProvider");try{await Wm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;xo("Error using user provided cache. Falling back to memory cache: "+n),await Wm(i,new $h)}}else le(xs,"Using default OfflineComponentProvider"),await Wm(i,new m4(void 0));return i._offlineComponents}async function jT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le(xs,"Using user provided OnlineComponentProvider"),await F0(i,i._uninitializedComponentsProvider._online)):(le(xs,"Using default OnlineComponentProvider"),await F0(i,new Np))),i._onlineComponents}function y4(i){return jT(i).then((e=>e.syncEngine))}async function Yh(i){const e=await jT(i),n=e.eventManager;return n.onListen=t4.bind(null,e.syncEngine),n.onUnlisten=i4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=n4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=s4.bind(null,e.syncEngine),n}function _4(i,e,n,s){const o=new Ig(s),u=new Rg(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>wg(await Yh(i),u))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>Sg(await Yh(i),u)))}}function v4(i,e,n={}){const s=new yi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new Ig({next:w=>{E.Nu(),h.enqueueAndForget((()=>Sg(u,b)));const M=w.docs.has(m);!M&&w.fromCache?g.reject(new oe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&w.fromCache&&p&&p.source==="server"?g.reject(new oe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new Rg(cd(m.path),E,{includeMetadataChanges:!0,Ka:!0});return wg(u,b)})(await Yh(i),i.asyncQueue,e,n,s))),s.promise}function b4(i,e,n={}){const s=new yi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new Ig({next:w=>{E.Nu(),h.enqueueAndForget((()=>Sg(u,b))),w.fromCache&&p.source==="server"?g.reject(new oe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new Rg(m,E,{includeMetadataChanges:!0,Ka:!0});return wg(u,b)})(await Yh(i),i.asyncQueue,e,n,s))),s.promise}function E4(i,e){const n=new yi;return i.asyncQueue.enqueueAndForget((async()=>a4(await y4(i),e,n))),n.promise}function LT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const T4="ComponentProvider",G0=new Map;function x4(i,e,n,s,o){return new BC(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,LT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const UT="firestore.googleapis.com",$0=!0;class Y0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UT,this.ssl=$0}else this.host=e.host,this.ssl=e.ssl??$0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XI)throw new oe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new bC;switch(s.type){case"firstParty":return new wC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=G0.get(n);s&&(le(T4,"Removing Datastore"),G0.delete(n),s.terminate())})(this),Promise.resolve()}}function w4(i,e,n,s={}){i=vn(i,vd);const o=_a(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Bp(`https://${m}`),qp("Firestore",!0)),u.host!==UT&&u.host!==m&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ca(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=tn.MOCK_USER;else{g=UE(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new oe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(b)}i._authCredentials=new EC(new R1(g,E))}}class Ri{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ri(this.firestore,e,this._query)}}class mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(bu(n,mt._jsonSchema))return new mt(e,s||null,new me(tt.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Dt("string",mt._jsonSchemaVersion),referencePath:Dt("string")};class gs extends Ri{constructor(e,n,s){super(e,n,cd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new me(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function xi(i,e,...n){if(i=Ut(i),N1("collection","path",e),i instanceof vd){const s=tt.fromString(e,...n);return a0(s),new gs(i,null,s)}{if(!(i instanceof mt||i instanceof gs))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return a0(s),new gs(i.firestore,null,s)}}function Jt(i,e,...n){if(i=Ut(i),arguments.length===1&&(e=rg.newId()),N1("doc","path",e),i instanceof vd){const s=tt.fromString(e,...n);return s0(s),new mt(i,null,new me(s))}{if(!(i instanceof mt||i instanceof gs))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return s0(s),new mt(i.firestore,i instanceof gs?i.converter:null,new me(s))}}const K0="AsyncQueue";class Q0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bT(this,"async_queue_retry"),this._c=()=>{const s=Jm();s&&le(K0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Vo(e))throw e;le(K0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ei("INTERNAL UNHANDLED ERROR: ",X0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Tg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:X0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function X0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class wi extends vd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Q0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q0(e),this._firestoreClient=void 0,await e}}}function S4(i,e){const n=typeof i=="object"?i:Gp(),s=typeof i=="string"?i:Uh,o=nd(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=VE("firestore");u&&w4(o,...u)}return o}function bd(i){if(i._terminated)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||A4(i),i._firestoreClient}function A4(i){const e=i._freezeSettings(),n=x4(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new p4(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(Wt.fromBase64String(e))}catch(n){throw new oe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $n(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Dt("string",$n._jsonSchemaVersion),bytes:Dt("string")};class Dg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ed{constructor(e){this._methodName=e}}class Br{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Br._jsonSchemaVersion}}static fromJSON(e){if(bu(e,Br._jsonSchema))return new Br(e.latitude,e.longitude)}}Br._jsonSchemaVersion="firestore/geoPoint/1.0",Br._jsonSchema={type:Dt("string",Br._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class ur{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ur(e.vectorValues);throw new oe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ur._jsonSchemaVersion="firestore/vectorValue/1.0",ur._jsonSchema={type:Dt("string",ur._jsonSchemaVersion),vectorValues:Dt("object")};const R4=/^__.*__$/;class N4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(e,this.data,n,this.fieldTransforms)}}class PT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:i})}}class Og{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Kh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(zT(this.dataSource)&&R4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class C4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||gd(e)}createContext(e,n,s,o=!1){return new Og({dataSource:e,methodName:n,targetDoc:s,path:Xt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Td(i){const e=i._freezeSettings(),n=gd(i._databaseId);return new C4(i._databaseId,!!e.ignoreUndefinedProperties,n)}function BT(i,e,n,s,o,u={}){const h=i.createContext(u.merge||u.mergeFields?2:0,e,n,o);kg("Data must be an object, but it was:",h,s);const m=qT(s,h);let p,g;if(u.merge)p=new Cn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const w=pa(e,b,n);if(!h.contains(w))throw new oe(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);GT(E,w)||E.push(w)}p=new Cn(E),g=h.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=h.fieldTransforms;return new N4(new _n(m),p,g)}class xd extends Ed{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xd}}class Mg extends Ed{_toFieldTransform(e){return new gI(e.path,new cu)}isEqual(e){return e instanceof Mg}}function I4(i,e,n,s){const o=i.createContext(1,e,n);kg("Data must be an object, but it was:",o,s);const u=[],h=_n.empty();ws(s,((p,g)=>{const E=FT(e,p,n);g=Ut(g);const b=o.childContextForFieldPath(E);if(g instanceof xd)u.push(E);else{const w=Su(g,b);w!=null&&(u.push(E),h.set(E,w))}}));const m=new Cn(u);return new PT(h,m,o.fieldTransforms)}function D4(i,e,n,s,o,u){const h=i.createContext(1,e,n),m=[pa(e,s,n)],p=[o];if(u.length%2!=0)throw new oe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(pa(e,u[w])),p.push(u[w+1]);const g=[],E=_n.empty();for(let w=m.length-1;w>=0;--w)if(!GT(g,m[w])){const M=m[w];let D=p[w];D=Ut(D);const H=h.childContextForFieldPath(M);if(D instanceof xd)g.push(M);else{const G=Su(D,H);G!=null&&(g.push(M),E.set(M,G))}}const b=new Cn(g);return new PT(E,b,h.fieldTransforms)}function O4(i,e,n,s=!1){return Su(n,i.createContext(s?4:3,e))}function Su(i,e){if(HT(i=Ut(i)))return kg("Unsupported field value:",e,i),qT(i,e);if(i instanceof Ed)return(function(s,o){if(!zT(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Su(m,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return fI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Hh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hh(o.serializer,u)}}if(s instanceof Br)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $n)return{bytesValue:lT(o.serializer,s._byteString)};if(s instanceof mt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:fg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ur)return(function(h,m){const p=h instanceof ur?h.toArray():h;return{mapValue:{fields:{[L1]:{stringValue:U1},[Ph]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return ug(m.serializer,E)}))}}}}}})(s,o);if(pT(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${ad(s)}`)})(i,e)}function qT(i,e){const n={};return D1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(i,((s,o)=>{const u=Su(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function HT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof Br||i instanceof $n||i instanceof mt||i instanceof Ed||i instanceof ur||pT(i))}function kg(i,e,n){if(!HT(n)||!C1(n)){const s=ad(n);throw s==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+s)}}function pa(i,e,n){if((e=Ut(e))instanceof Dg)return e._internalPath;if(typeof e=="string")return FT(i,e);throw Kh("Field path arguments must be of type string or ",i,!1,void 0,n)}const M4=new RegExp("[~\\*/\\[\\]]");function FT(i,e,n){if(e.search(M4)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Dg(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Kh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new oe(J.INVALID_ARGUMENT,m+i+p)}function GT(i,e){return i.some((n=>n.isEqual(e)))}class k4{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ws(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Ph].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new ur(n)}convertGeoPoint(e){return new Br(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ud(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const n=vs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Ge(mT(s),9688,{name:e});const o=new ou(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||Ei(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Vg extends k4{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function V4(){return new Mg("serverTimestamp")}const J0="@firebase/firestore",W0="4.10.0";function Z0(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class $T{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(pa("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class j4 extends $T{data(){return super.data()}}function YT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new oe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jg{}class Lg extends jg{}function Au(i,e,...n){let s=[];e instanceof jg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Pg)).length,m=u.filter((p=>p instanceof wd)).length;if(h>1||h>0&&m>0)throw new oe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class wd extends Lg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new wd(e,n,s)}_apply(e){const n=this._parse(e);return KT(e._query,n),new Ri(e.firestore,e.converter,vp(e._query,n))}_parse(e){const n=Td(e.firestore);return(function(u,h,m,p,g,E,b){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){tE(b,E);const D=[];for(const H of b)D.push(eE(p,u,H));w={arrayValue:{values:D}}}else w=eE(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||tE(b,E),w=O4(m,h,b,E==="in"||E==="not-in");return It.create(g,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ug(i,e,n){const s=e,o=pa("where",i);return wd._create(o,s,n)}class Pg extends jg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Pg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)KT(h,p),h=vp(h,p)})(e._query,n),new Ri(e.firestore,e.converter,vp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zg extends Lg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new zg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uu(u,h)})(e._query,this._field,this._direction);return new Ri(e.firestore,e.converter,sI(e._query,n))}}function Sd(i,e="asc"){const n=e,s=pa("orderBy",i);return zg._create(s,n)}class Bg extends Lg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Bg(e,n,s)}_apply(e){return new Ri(e.firestore,e.converter,Bh(e._query,this._limit,this._limitType))}}function L4(i){return Bg._create("limit",i,"F")}function eE(i,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new oe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$1(e)&&n.indexOf("/")!==-1)throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!me.isDocumentKey(s))throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return m0(i,new me(s))}if(n instanceof mt)return m0(i,n._key);throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ad(n)}.`)}function tE(i,e){if(!Array.isArray(i)||i.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KT(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function QT(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends $T{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(pa("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:Dt("string",la._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Sh extends la{data(e={}){return super.data(e)}}class ua{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Sh(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:U4(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ua._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function U4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:i})}}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:Dt("string",ua._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};function Cp(i){i=vn(i,mt);const e=vn(i.firestore,wi),n=bd(e);return v4(n,i._key).then((s=>JT(e,i,s)))}function qg(i){i=vn(i,Ri);const e=vn(i.firestore,wi),n=bd(e),s=new Vg(e);return YT(i._query),b4(n,i._query).then((o=>new ua(e,s,i,o)))}function XT(i,e,n){i=vn(i,mt);const s=vn(i.firestore,wi),o=QT(i.converter,e),u=Td(s);return Rd(s,[BT(u,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Yn.none())])}function ga(i,e,n,...s){i=vn(i,mt);const o=vn(i.firestore,wi),u=Td(o);let h;return h=typeof(e=Ut(e))=="string"||e instanceof Dg?D4(u,"updateDoc",i._key,e,n,s):I4(u,"updateDoc",i._key,e),Rd(o,[h.toMutation(i._key,Yn.exists(!0))])}function Ad(i){return Rd(vn(i.firestore,wi),[new cg(i._key,Yn.none())])}function Hg(i,e){const n=vn(i.firestore,wi),s=Jt(i),o=QT(i.converter,e),u=Td(i.firestore);return Rd(n,[BT(u,"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Yn.exists(!1))]).then((()=>s))}function Ru(i,...e){i=Ut(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Z0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Z0(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,h,m;if(i instanceof mt)h=vn(i.firestore,wi),m=cd(i._key.path),u={next:g=>{e[s]&&e[s](JT(h,i,g))},error:e[s+1],complete:e[s+2]};else{const g=vn(i,Ri);h=vn(g.firestore,wi),m=g._query;const E=new Vg(h);u={next:b=>{e[s]&&e[s](new ua(h,E,g,b))},error:e[s+1],complete:e[s+2]},YT(i._query)}const p=bd(h);return _4(p,m,o,u)}function Rd(i,e){const n=bd(i);return E4(n,e)}function JT(i,e,n){const s=n.docs.get(e._key),o=new Vg(i);return new la(i,o,e._key,s,new Ql(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){vC(va),ha(new ys("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new wi(new TC(s.getProvider("auth-internal")),new SC(h,s.getProvider("app-check-internal")),qC(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Lr(J0,W0,e),Lr(J0,W0,"esm2020")})();const WT="firebasestorage.googleapis.com",P4="storageBucket",z4=120*1e3,B4=600*1e3;class $r extends Gr{constructor(e,n,s=0){super(Zm(e),`Firebase Storage: ${n} (${Zm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$r.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fr;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fr||(Fr={}));function Zm(i){return"storage/"+i}function q4(){const i="An unknown error occurred, please check the error payload for server response.";return new $r(Fr.UNKNOWN,i)}function H4(){return new $r(Fr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function F4(){return new $r(Fr.CANCELED,"User canceled the upload/download.")}function G4(i){return new $r(Fr.INVALID_URL,"Invalid URL '"+i+"'.")}function $4(i){return new $r(Fr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function nE(i){return new $r(Fr.INVALID_ARGUMENT,i)}function ZT(){return new $r(Fr.APP_DELETED,"The Firebase app was deleted.")}function Y4(i){return new $r(Fr.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class or{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=or.makeFromUrl(e,n)}catch{return new or(e,"")}if(s.path==="")return s;throw $4(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(de){de.path.charAt(de.path.length-1)==="/"&&(de.path_=de.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(de){de.path_=decodeURIComponent(de.path)}const E="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",M=new RegExp(`^https?://${b}/${E}/b/${o}/o${w}`,"i"),D={bucket:1,path:3},H=n===WT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,G="([^?#]*)",ne=new RegExp(`^https?://${H}/${o}/${G}`,"i"),re=[{regex:m,indices:p,postModify:u},{regex:M,indices:D,postModify:g},{regex:ne,indices:{bucket:1,path:2},postModify:g}];for(let de=0;de<re.length;de++){const we=re[de],Ee=we.regex.exec(e);if(Ee){const R=Ee[we.indices.bucket];let A=Ee[we.indices.path];A||(A=""),s=new or(R,A),we.postModify(s);break}}if(s==null)throw G4(e);return s}}class K4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Q4(i,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...G){g||(g=!0,e.apply(null,G))}function b(G){o=setTimeout(()=>{o=null,i(M,p())},G)}function w(){u&&clearTimeout(u)}function M(G,...ne){if(g){w();return}if(G){w(),E.call(null,G,...ne);return}if(p()||h){w(),E.call(null,G,...ne);return}s<64&&(s*=2);let re;m===1?(m=2,re=0):re=(s+Math.random())*1e3,b(re)}let D=!1;function H(G){D||(D=!0,w(),!g&&(o!==null?(G||(m=2),clearTimeout(o),b(0)):G||(m=1)))}return b(0),u=setTimeout(()=>{h=!0,H(!0)},n),H}function X4(i){i(!1)}function J4(i){return i!==void 0}function rE(i,e,n,s){if(s<e)throw nE(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw nE(`Invalid value for '${i}'. Expected ${n} or less.`)}function W4(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Qh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Qh||(Qh={}));function Z4(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}class eO{constructor(e,n,s,o,u,h,m,p,g,E,b,w=!0,M=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,H)=>{this.resolve_=D,this.reject_=H,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new hh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Qh.NO_ERROR,p=u.getStatus();if(!m||Z4(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Qh.ABORT;s(!1,new hh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new hh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());J4(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=q4();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?ZT():F4();h(p)}else{const p=H4();h(p)}};this.canceled_?n(!1,new hh(!1,null,!0)):this.backoffId_=Q4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&X4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function tO(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function nO(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rO(i,e){e&&(i["X-Firebase-GMPID"]=e)}function iO(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function sO(i,e,n,s,o,u,h=!0,m=!1){const p=W4(i.urlParams),g=i.url+p,E=Object.assign({},i.headers);return rO(E,e),tO(E,n),nO(E,u),iO(E,s),new eO(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}function aO(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function oO(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}class Xh{constructor(e,n){this._service=e,n instanceof or?this._location=n:this._location=or.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xh(e,n)}get root(){const e=new or(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oO(this._location.path)}get storage(){return this._service}get parent(){const e=aO(this._location.path);if(e===null)return null;const n=new or(this._location.bucket,e);return new Xh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Y4(e)}}function iE(i,e){const n=e?.[P4];return n==null?null:or.makeFromBucketSpec(n,i)}function lO(i,e,n,s={}){i.host=`${e}:${n}`;const o=_a(e);o&&(Bp(`https://${i.host}/b`),qp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:UE(u,i.app.options.projectId))}class uO{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=WT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=z4,this._maxUploadRetryTime=B4,this._requests=new Set,o!=null?this._bucket=or.makeFromBucketSpec(o,this._host):this._bucket=iE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=or.makeFromBucketSpec(this._url,e):this._bucket=iE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new K4(ZT());{const h=sO(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const sE="@firebase/storage",aE="0.14.0";const ex="storage";function cO(i=Gp(),e){i=Ut(i);const s=nd(i,ex).getImmediate({identifier:e}),o=VE("storage");return o&&hO(s,...o),s}function hO(i,e,n,s={}){lO(i,e,n,s)}function dO(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new uO(n,s,o,e,va)}function fO(){ha(new ys(ex,dO,"PUBLIC").setMultipleInstances(!0)),Lr(sE,aE,""),Lr(sE,aE,"esm2020")}fO();const mO={apiKey:"AIzaSyBlW-nhvlaKqrDTSDIT0yN0IY8oqBFhOOY",authDomain:"mjhs-esports.firebaseapp.com",projectId:"mjhs-esports",storageBucket:"mjhs-esports.firebasestorage.app",messagingSenderId:"586504727075",appId:"1:586504727075:web:ec5707639e2dd654e9df96",measurementId:"G-4S7RNXD108"},Fg=BE(mO),ep=yC(Fg),st=S4(Fg);cO(Fg);const pO=new fi,gO=i=>i.endsWith("@madisonstudent.org")?"student":i.endsWith("@madison.k12.in.us")?"staff":"guest",tx=O.createContext(),dr=()=>O.useContext(tx),yO=({children:i})=>{const[e,n]=O.useState(null),[s,o]=O.useState(null),[u,h]=O.useState(!0),m=async()=>{try{const b=(await AN(ep,pO)).user,w=gO(b.email),M=Jt(st,"users",b.uid),D=await Cp(M);D.exists()?o(D.data().role):(await XT(M,{email:b.email,displayName:b.displayName,photoURL:b.photoURL,role:w,createdAt:new Date,stats:{}}),o(w))}catch(E){console.error("Login Error:",E),alert(E.message)}},p=()=>(o(null),aN(ep));O.useEffect(()=>sN(ep,async b=>{if(b){const w=Jt(st,"users",b.uid),M=await Cp(w);M.exists()&&o(M.data().role)}else o(null);n(b),h(!1)}),[]);const g={currentUser:e,userRole:s,loginWithGoogle:m,logout:p};return _.jsx(tx.Provider,{value:g,children:!u&&i})};let _O={data:""},vO=i=>{if(typeof window=="object"){let e=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(i||document.head).appendChild(e),e.firstChild}return i||_O},bO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,EO=/\/\*[^]*?\*\/|  +/g,oE=/\n+/g,hs=(i,e)=>{let n="",s="",o="";for(let u in i){let h=i[u];u[0]=="@"?u[1]=="i"?n=u+" "+h+";":s+=u[1]=="f"?hs(h,u):u+"{"+hs(h,u[1]=="k"?"":e)+"}":typeof h=="object"?s+=hs(h,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):h!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=hs.p?hs.p(u,h):u+":"+h+";")}return n+(e&&o?e+"{"+o+"}":o)+s},di={},nx=i=>{if(typeof i=="object"){let e="";for(let n in i)e+=n+nx(i[n]);return e}return i},TO=(i,e,n,s,o)=>{let u=nx(i),h=di[u]||(di[u]=(p=>{let g=0,E=11;for(;g<p.length;)E=101*E+p.charCodeAt(g++)>>>0;return"go"+E})(u));if(!di[h]){let p=u!==i?i:(g=>{let E,b,w=[{}];for(;E=bO.exec(g.replace(EO,""));)E[4]?w.shift():E[3]?(b=E[3].replace(oE," ").trim(),w.unshift(w[0][b]=w[0][b]||{})):w[0][E[1]]=E[2].replace(oE," ").trim();return w[0]})(i);di[h]=hs(o?{["@keyframes "+h]:p}:p,n?"":"."+h)}let m=n&&di.g?di.g:null;return n&&(di.g=di[h]),((p,g,E,b)=>{b?g.data=g.data.replace(b,p):g.data.indexOf(p)===-1&&(g.data=E?p+g.data:g.data+p)})(di[h],e,s,m),h},xO=(i,e,n)=>i.reduce((s,o,u)=>{let h=e[u];if(h&&h.call){let m=h(n),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;h=p?"."+p:m&&typeof m=="object"?m.props?"":hs(m,""):m===!1?"":m}return s+o+(h??"")},"");function Nd(i){let e=this||{},n=i.call?i(e.p):i;return TO(n.unshift?n.raw?xO(n,[].slice.call(arguments,1),e.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):n,vO(e.target),e.g,e.o,e.k)}let rx,Ip,Dp;Nd.bind({g:1});let Si=Nd.bind({k:1});function wO(i,e,n,s){hs.p=e,rx=i,Ip=n,Dp=s}function As(i,e){let n=this||{};return function(){let s=arguments;function o(u,h){let m=Object.assign({},u),p=m.className||o.className;n.p=Object.assign({theme:Ip&&Ip()},m),n.o=/ *go\d+/.test(p),m.className=Nd.apply(n,s)+(p?" "+p:"");let g=i;return i[0]&&(g=m.as||i,delete m.as),Dp&&g[0]&&Dp(m),rx(g,m)}return o}}var SO=i=>typeof i=="function",Jh=(i,e)=>SO(i)?i(e):i,AO=(()=>{let i=0;return()=>(++i).toString()})(),ix=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),RO=20,Gg="default",sx=(i,e)=>{let{toastLimit:n}=i.settings;switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,n)};case 1:return{...i,toasts:i.toasts.map(h=>h.id===e.toast.id?{...h,...e.toast}:h)};case 2:let{toast:s}=e;return sx(i,{type:i.toasts.find(h=>h.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...i,toasts:i.toasts.map(h=>h.id===o||o===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(h=>h.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let u=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+u}))}}},Ah=[],ax={toasts:[],pausedAt:void 0,settings:{toastLimit:RO}},jr={},ox=(i,e=Gg)=>{jr[e]=sx(jr[e]||ax,i),Ah.forEach(([n,s])=>{n===e&&s(jr[e])})},lx=i=>Object.keys(jr).forEach(e=>ox(i,e)),NO=i=>Object.keys(jr).find(e=>jr[e].toasts.some(n=>n.id===i)),Cd=(i=Gg)=>e=>{ox(e,i)},CO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},IO=(i={},e=Gg)=>{let[n,s]=O.useState(jr[e]||ax),o=O.useRef(jr[e]);O.useEffect(()=>(o.current!==jr[e]&&s(jr[e]),Ah.push([e,s]),()=>{let h=Ah.findIndex(([m])=>m===e);h>-1&&Ah.splice(h,1)}),[e]);let u=n.toasts.map(h=>{var m,p,g;return{...i,...i[h.type],...h,removeDelay:h.removeDelay||((m=i[h.type])==null?void 0:m.removeDelay)||i?.removeDelay,duration:h.duration||((p=i[h.type])==null?void 0:p.duration)||i?.duration||CO[h.type],style:{...i.style,...(g=i[h.type])==null?void 0:g.style,...h.style}}});return{...n,toasts:u}},DO=(i,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...n,id:n?.id||AO()}),Nu=i=>(e,n)=>{let s=DO(e,i,n);return Cd(s.toasterId||NO(s.id))({type:2,toast:s}),s.id},jt=(i,e)=>Nu("blank")(i,e);jt.error=Nu("error");jt.success=Nu("success");jt.loading=Nu("loading");jt.custom=Nu("custom");jt.dismiss=(i,e)=>{let n={type:3,toastId:i};e?Cd(e)(n):lx(n)};jt.dismissAll=i=>jt.dismiss(void 0,i);jt.remove=(i,e)=>{let n={type:4,toastId:i};e?Cd(e)(n):lx(n)};jt.removeAll=i=>jt.remove(void 0,i);jt.promise=(i,e,n)=>{let s=jt.loading(e.loading,{...n,...n?.loading});return typeof i=="function"&&(i=i()),i.then(o=>{let u=e.success?Jh(e.success,o):void 0;return u?jt.success(u,{id:s,...n,...n?.success}):jt.dismiss(s),o}).catch(o=>{let u=e.error?Jh(e.error,o):void 0;u?jt.error(u,{id:s,...n,...n?.error}):jt.dismiss(s)}),i};var OO=1e3,MO=(i,e="default")=>{let{toasts:n,pausedAt:s}=IO(i,e),o=O.useRef(new Map).current,u=O.useCallback((b,w=OO)=>{if(o.has(b))return;let M=setTimeout(()=>{o.delete(b),h({type:4,toastId:b})},w);o.set(b,M)},[]);O.useEffect(()=>{if(s)return;let b=Date.now(),w=n.map(M=>{if(M.duration===1/0)return;let D=(M.duration||0)+M.pauseDuration-(b-M.createdAt);if(D<0){M.visible&&jt.dismiss(M.id);return}return setTimeout(()=>jt.dismiss(M.id,e),D)});return()=>{w.forEach(M=>M&&clearTimeout(M))}},[n,s,e]);let h=O.useCallback(Cd(e),[e]),m=O.useCallback(()=>{h({type:5,time:Date.now()})},[h]),p=O.useCallback((b,w)=>{h({type:1,toast:{id:b,height:w}})},[h]),g=O.useCallback(()=>{s&&h({type:6,time:Date.now()})},[s,h]),E=O.useCallback((b,w)=>{let{reverseOrder:M=!1,gutter:D=8,defaultPosition:H}=w||{},G=n.filter(re=>(re.position||H)===(b.position||H)&&re.height),ne=G.findIndex(re=>re.id===b.id),te=G.filter((re,de)=>de<ne&&re.visible).length;return G.filter(re=>re.visible).slice(...M?[te+1]:[0,te]).reduce((re,de)=>re+(de.height||0)+D,0)},[n]);return O.useEffect(()=>{n.forEach(b=>{if(b.dismissed)u(b.id,b.removeDelay);else{let w=o.get(b.id);w&&(clearTimeout(w),o.delete(b.id))}})},[n,u]),{toasts:n,handlers:{updateHeight:p,startPause:m,endPause:g,calculateOffset:E}}},kO=Si`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,VO=Si`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jO=Si`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,LO=As("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${VO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${jO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,UO=Si`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,PO=As("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${UO} 1s linear infinite;
`,zO=Si`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,BO=Si`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,qO=As("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${BO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,HO=As("div")`
  position: absolute;
`,FO=As("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,GO=Si`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$O=As("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${GO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,YO=({toast:i})=>{let{icon:e,type:n,iconTheme:s}=i;return e!==void 0?typeof e=="string"?O.createElement($O,null,e):e:n==="blank"?null:O.createElement(FO,null,O.createElement(PO,{...s}),n!=="loading"&&O.createElement(HO,null,n==="error"?O.createElement(LO,{...s}):O.createElement(qO,{...s})))},KO=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,QO=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,XO="0%{opacity:0;} 100%{opacity:1;}",JO="0%{opacity:1;} 100%{opacity:0;}",WO=As("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ZO=As("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,eM=(i,e)=>{let n=i.includes("top")?1:-1,[s,o]=ix()?[XO,JO]:[KO(n),QO(n)];return{animation:e?`${Si(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Si(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},tM=O.memo(({toast:i,position:e,style:n,children:s})=>{let o=i.height?eM(i.position||e||"top-center",i.visible):{opacity:0},u=O.createElement(YO,{toast:i}),h=O.createElement(ZO,{...i.ariaProps},Jh(i.message,i));return O.createElement(WO,{className:i.className,style:{...o,...n,...i.style}},typeof s=="function"?s({icon:u,message:h}):O.createElement(O.Fragment,null,u,h))});wO(O.createElement);var nM=({id:i,className:e,style:n,onHeightUpdate:s,children:o})=>{let u=O.useCallback(h=>{if(h){let m=()=>{let p=h.getBoundingClientRect().height;s(i,p)};m(),new MutationObserver(m).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return O.createElement("div",{ref:u,className:e,style:n},o)},rM=(i,e)=>{let n=i.includes("top"),s=n?{top:0}:{bottom:0},o=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ix()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...o}},iM=Nd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,dh=16,sM=({reverseOrder:i,position:e="top-center",toastOptions:n,gutter:s,children:o,toasterId:u,containerStyle:h,containerClassName:m})=>{let{toasts:p,handlers:g}=MO(n,u);return O.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:dh,left:dh,right:dh,bottom:dh,pointerEvents:"none",...h},className:m,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(E=>{let b=E.position||e,w=g.calculateOffset(E,{reverseOrder:i,gutter:s,defaultPosition:e}),M=rM(b,w);return O.createElement(nM,{id:E.id,key:E.id,onHeightUpdate:g.updateHeight,className:E.visible?iM:"",style:M},E.type==="custom"?Jh(E.message,E):o?o(E):O.createElement(tM,{toast:E,position:b}))}))},aM=jt;const oM="/mjhs-esports-portal/assets/logo-6ixeAFF8.png",lM=()=>{const{currentUser:i,logout:e}=dr();return _.jsx("nav",{className:"bg-brand-black/90 backdrop-blur-md border-b border-brand-red/30 fixed w-full z-50 top-0",children:_.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"flex items-center justify-between h-20",children:[_.jsxs(ln,{to:"/",className:"flex items-center gap-3 group",children:[_.jsx("img",{src:oM,alt:"MJHS Logo",className:"h-12 w-auto group-hover:scale-105 transition duration-300"}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx("span",{className:"font-titles text-brand-white text-xl tracking-wider leading-none",children:"MJHS ESPORTS"}),_.jsx("span",{className:"font-body text-brand-red text-xs tracking-widest font-bold",children:"PORTAL"})]})]}),_.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[_.jsx(fh,{to:"/",children:"HOME"}),_.jsx(fh,{to:"/roster",children:"MEET THE PLAYERS"}),_.jsx(fh,{to:"/matches",children:"MATCHES"}),_.jsx(fh,{to:"/store",children:"MERCH"}),i?_.jsx(ln,{to:"/dashboard",className:"bg-brand-red text-white px-5 py-2 rounded font-titles tracking-wide hover:bg-brand-darkRed transition",children:"DASHBOARD"}):_.jsx(ln,{to:"/login",className:"border border-brand-red text-brand-red px-5 py-2 rounded font-titles tracking-wide hover:bg-brand-red hover:text-white transition",children:"LOGIN"})]})]})})})},fh=({to:i,children:e})=>_.jsx(ln,{to:i,className:"font-titles text-gray-300 hover:text-brand-yellow transition tracking-wide text-sm",children:e}),uM=()=>_.jsxs("div",{className:"min-h-screen bg-brand-black text-brand-white font-body selection:bg-brand-red selection:text-white",children:[_.jsx(lM,{}),_.jsxs("section",{className:"relative h-screen flex items-center justify-center overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-brand-black via-transparent to-brand-black z-10"}),_.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-brand-red/20 blur-[120px] rounded-full"}),_.jsxs("div",{className:"relative z-20 text-center max-w-4xl px-4",children:[_.jsx("h2",{className:"text-brand-yellow font-titles tracking-[0.2em] text-lg mb-4 animate-pulse",children:"MADISON JUNIOR HIGH SCHOOL"}),_.jsxs("h1",{className:"font-titles text-7xl md:text-9xl text-white mb-2 leading-tight",children:["#LEVEL",_.jsx("span",{className:"text-brand-red",children:"UP"})]}),_.jsx("p",{className:"font-body text-gray-400 text-lg md:text-xl max-w-2xl mx-auto mb-10",children:"The official home of the Esports Cubs. Competing in Rocket League, Super Smash Bros, Minecraft, and more."}),_.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[_.jsx(ln,{to:"/matches",className:"bg-brand-red text-white px-8 py-4 rounded font-titles text-xl hover:bg-brand-darkRed transition shadow-[0_0_20px_rgba(176,12,26,0.4)] hover:shadow-[0_0_30px_rgba(176,12,26,0.6)]",children:"WATCH LIVE"}),_.jsx(ln,{to:"/roster",className:"border border-brand-grey text-white px-8 py-4 rounded font-titles text-xl hover:bg-brand-white hover:text-brand-black transition",children:"MEET THE TEAM"}),_.jsx(ln,{to:"/login",children:_.jsx("button",{className:"bg-brand-red text-white font-titles text-xl px-8 py-4 skew-x-[-10deg] hover:bg-brand-darkRed hover:scale-105 transition-all duration-300 border-2 border-brand-red shadow-[0_0_20px_rgba(176,12,26,0.5)]",children:_.jsx("span",{className:"skew-x-[10deg] block",children:"JOIN THE TEAM"})})})]})]})]}),_.jsx("div",{className:"bg-brand-red py-4 overflow-hidden whitespace-nowrap border-y-4 border-brand-darkRed",children:_.jsx("div",{className:"inline-block animate-marquee font-titles text-2xl text-brand-black font-bold tracking-wider",children:"ROCKET LEAGUE  //  SUPER SMASH BROS  //  MINECRAFT  //  MARIO KART  //  FORTNITE  //  MARVEL RIVALS  //  CHESS  //  TETRIS  // ROCKET LEAGUE  //  SUPER SMASH BROS  //  MINECRAFT  //  MARIO KART  //  FORTNITE  //  MARVEL RIVALS  //  CHESS  //  TETRIS"})})]});const cM=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hM=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),lE=i=>{const e=hM(i);return e.charAt(0).toUpperCase()+e.slice(1)},ux=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),dM=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var fM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mM=O.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>O.createElement("svg",{ref:p,...fM,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:ux("lucide",o),...!u&&!dM(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,E])=>O.createElement(g,E)),...Array.isArray(u)?u:[u]]));const je=(i,e)=>{const n=O.forwardRef(({className:s,...o},u)=>O.createElement(mM,{ref:u,iconNode:e,className:ux(`lucide-${cM(lE(i))}`,`lucide-${i}`,s),...o}));return n.displayName=lE(i),n};const pM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],gM=je("activity",pM);const yM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],tp=je("arrow-right",yM);const _M=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],vM=je("banknote",_M);const bM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Rh=je("calendar",bM);const EM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],TM=je("circle-check-big",EM);const xM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cx=je("clock",xM);const wM=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],SM=je("credit-card",wM);const AM=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],RM=je("dollar-sign",AM);const NM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],CM=je("file-text",NM);const IM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],DM=je("funnel",IM);const OM=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],hx=je("gamepad-2",OM);const MM=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],uE=je("hash",MM);const kM=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],VM=je("inbox",kM);const jM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],LM=je("layout-dashboard",jM);const UM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],PM=je("log-out",UM);const zM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],BM=je("mail",zM);const qM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],dx=je("map-pin",qM);const HM=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],FM=je("menu",HM);const GM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],fx=je("message-square",GM);const $M=[["path",{d:"M5 12h14",key:"1ays0h"}]],Op=je("minus",$M);const YM=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],KM=je("monitor",YM);const QM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],XM=je("pencil",QM);const JM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Co=je("plus",JM);const WM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],mx=je("save",WM);const ZM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],e3=je("search",ZM);const t3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],n3=je("send",t3);const r3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],i3=je("shield",r3);const s3=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],a3=je("shopping-bag",s3);const o3=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],cE=je("shopping-cart",o3);const l3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Id=je("trash-2",l3);const u3=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],c3=je("trending-down",u3);const h3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],d3=je("trending-up",h3);const f3=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Dd=je("trophy",f3);const m3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],px=je("user",m3);const p3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],g3=je("users",p3);const y3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wh=je("x",y3),_3=({isOpen:i,toggleSidebar:e})=>{const{logout:n,userRole:s}=dr(),o=Ai(),h=[{label:"Dashboard",path:"/dashboard",icon:_.jsx(LM,{size:20}),roles:["all"]},{label:"Inbox",path:"/dashboard/inbox",icon:_.jsx(VM,{size:20}),roles:["admin","coach"]},{label:"Roster & Teams",path:"/dashboard/roster",icon:_.jsx(g3,{size:20}),roles:["admin","coach"]},{label:"Financials",path:"/dashboard/financials",icon:_.jsx(vM,{size:20}),roles:["admin","coach","staff"]},{label:"Join Team",path:"/dashboard/application",icon:_.jsx(CM,{size:20}),roles:["student","guest"]},{label:"Comms",path:"/dashboard/comms",icon:_.jsx(fx,{size:20}),roles:["all"]},{label:"Calendar",path:"/dashboard/calendar",icon:_.jsx(Rh,{size:20}),roles:["all"]},{label:"My Stats",path:"/dashboard/stats",icon:_.jsx(Dd,{size:20}),roles:["all"]},{label:"Store",path:"/dashboard/store",icon:_.jsx(a3,{size:20}),roles:["all"]}].filter(m=>m.roles.includes("all")||m.roles.includes(s));return _.jsxs(_.Fragment,{children:[i&&_.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:e}),_.jsxs("div",{className:`
        fixed md:static inset-y-0 left-0 z-50
        w-64 bg-brand-black border-r border-brand-grey/20 flex flex-col
        transform transition-transform duration-300 ease-in-out
        ${i?"translate-x-0":"-translate-x-full"} 
        md:translate-x-0
      `,children:[_.jsxs("div",{className:"h-20 flex items-center justify-between px-6 border-b border-brand-grey/20",children:[_.jsxs("h1",{className:"font-titles text-2xl text-brand-red tracking-wider",children:["MJHS",_.jsx("span",{className:"text-white",children:"PORTAL"})]}),_.jsx("button",{onClick:e,className:"md:hidden text-brand-grey hover:text-white",children:_.jsx(Wh,{size:24})})]}),_.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:h.map(m=>{const p=o.pathname===m.path;return _.jsxs(ln,{to:m.path,onClick:()=>window.innerWidth<768&&e(),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group ${p?"bg-brand-red text-white shadow-[0_0_10px_rgba(176,12,26,0.4)]":"text-brand-grey hover:bg-white/5 hover:text-white"}`,children:[_.jsx("span",{className:p?"text-white":"text-brand-grey group-hover:text-white",children:m.icon}),_.jsx("span",{className:"font-titles tracking-wide text-sm",children:m.label.toUpperCase()})]},m.path)})}),_.jsx("div",{className:"p-4 border-t border-brand-grey/20",children:_.jsxs("button",{onClick:n,className:"flex items-center gap-3 px-4 py-3 w-full rounded-lg text-brand-grey hover:bg-brand-red/10 hover:text-brand-red transition-all duration-200",children:[_.jsx(PM,{size:20}),_.jsx("span",{className:"font-titles tracking-wide text-sm",children:"LOG OUT"})]})})]})]})},v3=()=>{const[i,e]=O.useState(!1),n=()=>e(!i);return _.jsxs("div",{className:"flex min-h-screen bg-[#0a0a0a]",children:[_.jsx(_3,{isOpen:i,toggleSidebar:n}),_.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[_.jsxs("div",{className:"md:hidden h-16 flex items-center justify-between px-4 border-b border-brand-grey/20 bg-brand-black",children:[_.jsx("h1",{className:"font-titles text-xl text-brand-white",children:"MJHS ESPORTS"}),_.jsx("button",{onClick:n,className:"text-brand-white p-2",children:_.jsx(FM,{size:24})})]}),_.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto overflow-x-hidden",children:_.jsx("div",{className:"max-w-7xl mx-auto",children:_.jsx(ZS,{})})})]})]})},b3=()=>{const[i,e]=O.useState(null),[n,s]=O.useState(!0);O.useEffect(()=>{const h=Jt(st,"stream","live"),m=Ru(h,p=>{if(p.exists())e(p.data());else{const g={teamA:"MJHS",teamB:"GUEST",scoreA:0,scoreB:0,game:"Rocket League",status:"OFFLINE"};XT(h,g),e(g)}s(!1)});return()=>m()},[]);const o=async(h,m)=>{const p=Jt(st,"stream","live"),g=h==="A"?"scoreA":"scoreB",E=i[g];await ga(p,{[g]:Math.max(0,E+m)})},u=async(h,m)=>{await ga(Jt(st,"stream","live"),{[h]:m})};return n||!i?_.jsx("div",{className:"text-brand-grey",children:"Loading Stream Controls..."}):_.jsxs("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-red/30 shadow-[0_0_15px_rgba(176,12,26,0.1)]",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-brand-grey/20 pb-4",children:[_.jsxs("h3",{className:"font-titles text-xl text-white flex items-center gap-2",children:[_.jsx(KM,{className:"text-brand-red"})," LIVE STREAM CONTROL"]}),_.jsxs("select",{className:"bg-brand-black border border-brand-grey/30 text-xs rounded p-1 text-white",value:i.status,onChange:h=>u("status",h.target.value),children:[_.jsx("option",{value:"OFFLINE",children:"OFFLINE"}),_.jsx("option",{value:"STARTING SOON",children:"STARTING SOON"}),_.jsx("option",{value:"LIVE",children:"LIVE"}),_.jsx("option",{value:"INTERMISSION",children:"INTERMISSION"}),_.jsx("option",{value:"GG WP",children:"GG WP"})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[_.jsxs("div",{className:"text-center space-y-3",children:[_.jsx("input",{type:"text",className:"w-full bg-brand-black border border-brand-grey/30 text-center font-bold text-brand-red rounded p-2",value:i.teamA,onChange:h=>u("teamA",h.target.value)}),_.jsxs("div",{className:"flex items-center justify-center gap-4",children:[_.jsx("button",{onClick:()=>o("A",-1),className:"p-2 bg-brand-grey/20 rounded hover:bg-brand-grey/40 text-white",children:_.jsx(Op,{})}),_.jsx("span",{className:"font-titles text-4xl text-white",children:i.scoreA}),_.jsx("button",{onClick:()=>o("A",1),className:"p-2 bg-brand-red rounded hover:bg-brand-darkRed text-white",children:_.jsx(Co,{})})]})]}),_.jsxs("div",{className:"text-center space-y-3",children:[_.jsx("input",{type:"text",className:"w-full bg-brand-black border border-brand-grey/30 text-center font-bold text-white rounded p-2",value:i.teamB,onChange:h=>u("teamB",h.target.value)}),_.jsxs("div",{className:"flex items-center justify-center gap-4",children:[_.jsx("button",{onClick:()=>o("B",-1),className:"p-2 bg-brand-grey/20 rounded hover:bg-brand-grey/40 text-white",children:_.jsx(Op,{})}),_.jsx("span",{className:"font-titles text-4xl text-white",children:i.scoreB}),_.jsx("button",{onClick:()=>o("B",1),className:"p-2 bg-brand-grey rounded hover:bg-white hover:text-black text-white",children:_.jsx(Co,{})})]})]})]}),_.jsxs("div",{className:"mt-6 pt-4 border-t border-brand-grey/10",children:[_.jsx("label",{className:"text-xs text-brand-grey block mb-1",children:"Current Game Title"}),_.jsx("input",{type:"text",className:"w-full bg-brand-black border border-brand-grey/30 text-white rounded p-2 text-sm",value:i.game,onChange:h=>u("game",h.target.value)})]})]})},E3=()=>{const{currentUser:i,userRole:e}=dr(),[n,s]=O.useState(null),[o,u]=O.useState(!0);O.useEffect(()=>{(async()=>{try{const p=new Date().toISOString().split("T")[0],g=Au(xi(st,"events"),Ug("date",">=",p),Sd("date","asc"),L4(1)),E=await qg(g);if(E.empty)s(null);else{const b=E.docs[0].data();s({id:E.docs[0].id,...b})}}catch(p){console.error("Error fetching next event:",p)}finally{u(!1)}})()},[]);const h=m=>{if(!m)return"";const p={weekday:"short",month:"short",day:"numeric"};return new Date(m).toLocaleDateString("en-US",p)};return _.jsxs("div",{className:"space-y-8 animate-fade-in",children:[_.jsxs("div",{children:[_.jsxs("h1",{className:"font-titles text-4xl md:text-5xl text-brand-white mb-2",children:["WELCOME BACK, ",_.jsx("span",{className:"text-brand-red",children:i.displayName||"PLAYER"})]}),_.jsxs("p",{className:"font-body text-brand-grey text-lg",children:["System Status: ",_.jsx("span",{className:"text-brand-green font-bold",children:"ONLINE"})]})]}),(e==="admin"||e==="coach")&&_.jsx(b3,{}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[_.jsxs("div",{className:"lg:col-span-2 bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden relative group",children:[_.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition",children:_.jsx(Rh,{size:120})}),_.jsxs("div",{className:"p-8 relative z-10",children:[_.jsxs("h2",{className:"font-titles text-2xl text-brand-yellow mb-6 flex items-center gap-2",children:[_.jsx(Rh,{className:"text-brand-red"})," UPCOMING EVENT"]}),o?_.jsx("div",{className:"h-24 flex items-center text-brand-grey animate-pulse",children:"Loading schedule..."}):n?_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("div",{className:"text-brand-grey text-sm font-bold tracking-widest mb-1",children:"EVENT TITLE"}),_.jsx("div",{className:"font-titles text-4xl md:text-5xl text-brand-white tracking-wide",children:n.title.toUpperCase()})]}),_.jsxs("div",{className:"flex flex-wrap gap-6 mt-4",children:[_.jsxs("div",{className:"flex items-center gap-2 text-brand-grey",children:[_.jsx("div",{className:"bg-brand-red p-2 rounded text-white",children:_.jsx(Rh,{size:18})}),_.jsx("span",{className:"text-lg text-white",children:h(n.date)})]}),_.jsxs("div",{className:"flex items-center gap-2 text-brand-grey",children:[_.jsx("div",{className:"bg-brand-yellow p-2 rounded text-brand-black",children:_.jsx(cx,{size:18})}),_.jsx("span",{className:"text-lg text-white",children:n.time})]}),_.jsxs("div",{className:"flex items-center gap-2 text-brand-grey",children:[_.jsx("div",{className:"bg-brand-grey p-2 rounded text-white",children:_.jsx(dx,{size:18})}),_.jsx("span",{className:"text-lg text-white",children:n.location})]})]}),_.jsx("div",{className:"mt-6 pt-6 border-t border-brand-grey/10",children:_.jsx("span",{className:`px-3 py-1 rounded text-sm font-bold border ${n.type==="Match"?"bg-brand-red text-white border-brand-red":n.type==="Practice"?"bg-brand-yellow text-brand-black border-brand-yellow":"bg-brand-grey text-white border-brand-grey"}`,children:n.type.toUpperCase()})})]}):_.jsxs("div",{className:"py-8",children:[_.jsx("h3",{className:"text-2xl text-brand-white font-titles",children:"NO UPCOMING EVENTS"}),_.jsx("p",{className:"text-brand-grey mt-2",children:"The calendar is currently clear."}),_.jsx(ln,{to:"/dashboard/calendar",className:"inline-block mt-4 text-brand-red hover:text-white transition",children:"View Full Schedule "})]})]})]}),_.jsx("div",{className:"bg-brand-black border border-brand-grey/20 rounded-xl p-6 flex flex-col justify-between",children:_.jsxs("div",{children:[_.jsx("h2",{className:"font-titles text-xl text-brand-white mb-4",children:"QUICK ACTIONS"}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs(ln,{to:"/dashboard/comms",className:"flex items-center justify-between bg-brand-red text-white p-4 rounded hover:bg-brand-darkRed group transition border border-brand-red",children:[_.jsx("span",{className:"font-bold",children:"TEAM CHAT"}),_.jsx(tp,{size:18,className:"text-white/70 group-hover:text-white"})]}),_.jsxs(ln,{to:"/dashboard/stats",className:"flex items-center justify-between bg-brand-yellow text-brand-black p-4 rounded hover:bg-yellow-400 group transition border border-brand-yellow",children:[_.jsx("span",{className:"font-bold",children:"UPDATE PROFILE"}),_.jsx(tp,{size:18,className:"text-brand-black/50 group-hover:text-brand-black"})]}),(e==="admin"||e==="coach")&&_.jsxs(ln,{to:"/dashboard/roster",className:"flex items-center justify-between bg-brand-white text-brand-black p-4 rounded hover:bg-gray-200 group transition border border-brand-white",children:[_.jsx("span",{className:"font-bold",children:"MANAGE ROSTER"}),_.jsx(tp,{size:18,className:"text-brand-black/50 group-hover:text-brand-black"})]})]})]})}),_.jsxs("div",{className:"md:col-span-3 bg-brand-red text-white rounded-xl p-8 flex flex-col md:flex-row items-center justify-between relative overflow-hidden",children:[_.jsxs("div",{className:"relative z-10",children:[_.jsx("h2",{className:"font-titles text-3xl mb-2",children:"ARE YOU GAME READY?"}),_.jsx("p",{className:"opacity-90 max-w-xl",children:"Ensure your profile is up to date with your current rank and active games. Coaches use this data for roster selection."})]}),_.jsx("div",{className:"relative z-10 mt-6 md:mt-0",children:_.jsx(ln,{to:"/dashboard/stats",children:_.jsx("button",{className:"bg-brand-black text-white px-6 py-3 rounded font-titles font-bold hover:bg-brand-yellow hover:text-brand-black transition border-2 border-brand-black",children:"UPDATE MY STATS"})})}),_.jsx(Dd,{className:"absolute -right-10 -bottom-10 text-brand-darkRed opacity-50 rotate-12",size:200})]})]})]})},T3=["Rocket League","Super Smash Bros Ultimate","Minecraft (Bed Wars)","Mario Kart","Fortnite (Zone Wars)","Marvel Rivals","Chess","Tetris"],x3=()=>{const{currentUser:i}=dr(),[e,n]=O.useState(!1),[s,o]=O.useState({gamertag:"",discord:"",grade:"",bio:"",games:[]});O.useEffect(()=>{(async()=>{if(i){const g=Jt(st,"users",i.uid),E=await Cp(g);if(E.exists()){const b=E.data();o({gamertag:b.gamertag||"",discord:b.discord||"",grade:b.grade||"",bio:b.bio||"",games:b.games||[]})}}})()},[i]);const u=p=>{o({...s,[p.target.name]:p.target.value})},h=p=>{o(g=>g.games.includes(p)?{...g,games:g.games.filter(b=>b!==p)}:{...g,games:[...g.games,p]})},m=async p=>{p.preventDefault(),n(!0);const g=Jt(st,"users",i.uid),E=ga(g,{gamertag:s.gamertag,discord:s.discord,grade:s.grade,bio:s.bio,games:s.games,updatedAt:new Date});try{await aM.promise(E,{loading:"Saving Profile...",success:"Profile Updated Successfully!",error:"Failed to update profile."})}catch(b){console.error("Error updating profile:",b)}n(!1)};return _.jsxs("div",{className:"max-w-4xl",children:[_.jsx("h2",{className:"font-titles text-3xl text-brand-white mb-6 border-b border-brand-grey/20 pb-4",children:"PLAYER PROFILE"}),_.jsxs("form",{onSubmit:m,className:"space-y-8",children:[_.jsxs("div",{className:"bg-brand-black border border-brand-grey/20 p-6 rounded-xl",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-6 text-brand-red",children:[_.jsx(px,{size:24}),_.jsx("h3",{className:"font-titles text-xl",children:"IDENTITY"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-brand-grey text-sm mb-2",children:"Gamertag"}),_.jsx("input",{type:"text",name:"gamertag",value:s.gamertag,onChange:u,placeholder:"Ex: NinjaCuber99",className:"w-full bg-[#111] border border-brand-grey/30 rounded p-3 text-white focus:border-brand-red focus:outline-none"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-brand-grey text-sm mb-2",children:"Discord Username"}),_.jsx("input",{type:"text",name:"discord",value:s.discord,onChange:u,placeholder:"username#0000",className:"w-full bg-[#111] border border-brand-grey/30 rounded p-3 text-white focus:border-brand-red focus:outline-none"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-brand-grey text-sm mb-2",children:"Grade Level"}),_.jsxs("select",{name:"grade",value:s.grade,onChange:u,className:"w-full bg-[#111] border border-brand-grey/30 rounded p-3 text-white focus:border-brand-red focus:outline-none",children:[_.jsx("option",{value:"",children:"Select Grade"}),_.jsx("option",{value:"6",children:"6th Grade"}),_.jsx("option",{value:"7",children:"7th Grade"}),_.jsx("option",{value:"8",children:"8th Grade"}),_.jsx("option",{value:"Staff",children:"Staff / Coach"})]})]})]})]}),_.jsxs("div",{className:"bg-brand-black border border-brand-grey/20 p-6 rounded-xl",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-6 text-brand-red",children:[_.jsx(hx,{size:24}),_.jsx("h3",{className:"font-titles text-xl",children:"ACTIVE GAMES"})]}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:T3.map(p=>_.jsx("button",{type:"button",onClick:()=>h(p),className:`p-4 rounded-lg text-sm font-bold transition-all duration-200 border ${s.games.includes(p)?"bg-brand-red text-white border-brand-red shadow-[0_0_10px_rgba(176,12,26,0.4)]":"bg-[#111] text-brand-grey border-brand-grey/20 hover:border-brand-white"}`,children:p},p))})]}),_.jsx("div",{className:"flex justify-end",children:_.jsxs("button",{type:"submit",disabled:e,className:"flex items-center gap-2 bg-brand-yellow text-brand-black px-8 py-3 rounded font-titles font-bold hover:bg-white transition",children:[_.jsx(mx,{size:20}),e?"SAVING...":"SAVE PROFILE"]})})]})]})},Od=()=>_.jsx("div",{className:"flex justify-center items-center py-20",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-brand-red"})}),w3=({player:i,onClose:e,onUpdate:n})=>{const[s,o]=O.useState(!1),[u,h]=O.useState({gamertag:i.gamertag||"",discord:i.discord||"",role:i.role||"student",stats:{goals:i.stats?.goals||0,assists:i.stats?.assists||0,wins:i.stats?.wins||0,mvps:i.stats?.mvps||0}}),m=(g,E)=>{h(b=>({...b,stats:{...b.stats,[g]:parseInt(E)||0}}))},p=async g=>{g.preventDefault(),o(!0);try{const E=Jt(st,"users",i.id);await ga(E,{gamertag:u.gamertag,discord:u.discord,role:u.role,stats:u.stats}),n(),e()}catch(E){console.error("Error updating player:",E),alert("Failed to update profile.")}finally{o(!1)}};return _.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-[#111] w-full max-w-2xl rounded-xl border border-brand-red/50 shadow-[0_0_30px_rgba(176,12,26,0.2)] overflow-hidden animate-fade-in",children:[_.jsxs("div",{className:"bg-brand-red p-4 flex justify-between items-center",children:[_.jsxs("h2",{className:"font-titles text-xl text-white",children:["EDIT PLAYER: ",i.gamertag]}),_.jsx("button",{onClick:e,className:"text-white hover:text-brand-black",children:_.jsx(Wh,{})})]}),_.jsxs("form",{onSubmit:p,className:"p-6 space-y-6 overflow-y-auto max-h-[80vh]",children:[_.jsxs("div",{className:"space-y-4",children:[_.jsxs("h3",{className:"text-brand-grey text-sm font-bold flex items-center gap-2",children:[_.jsx(gM,{size:16})," PROFILE DETAILS"]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Gamertag"}),_.jsx("input",{type:"text",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.gamertag,onChange:g=>h({...u,gamertag:g.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Discord"}),_.jsx("input",{type:"text",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.discord,onChange:g=>h({...u,discord:g.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Role (Permission Level)"}),_.jsxs("select",{className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.role,onChange:g=>h({...u,role:g.target.value}),children:[_.jsx("option",{value:"student",children:"Student (No Access)"}),_.jsx("option",{value:"player",children:"Player (Roster Access)"}),_.jsx("option",{value:"coach",children:"Coach (Admin Access)"})]})]})]})]}),_.jsxs("div",{className:"space-y-4 pt-4 border-t border-brand-grey/20",children:[_.jsxs("h3",{className:"text-brand-yellow text-sm font-bold flex items-center gap-2",children:[_.jsx(Dd,{size:16})," SEASON STATISTICS"]}),_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Goals / Points"}),_.jsx("input",{type:"number",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.stats.goals,onChange:g=>m("goals",g.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Assists"}),_.jsx("input",{type:"number",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.stats.assists,onChange:g=>m("assists",g.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Wins"}),_.jsx("input",{type:"number",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.stats.wins,onChange:g=>m("wins",g.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"MVPs"}),_.jsx("input",{type:"number",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.stats.mvps,onChange:g=>m("mvps",g.target.value)})]})]})]}),_.jsx("button",{disabled:s,className:"w-full bg-brand-red text-white font-titles py-3 rounded hover:bg-brand-darkRed transition flex justify-center items-center gap-2",children:s?"SAVING...":_.jsxs(_.Fragment,{children:[_.jsx(mx,{size:20})," SAVE CHANGES"]})})]})]})})},S3=["All","Rocket League","Super Smash Bros Ultimate","Minecraft (Bed Wars)","Mario Kart","Fortnite (Zone Wars)","Marvel Rivals","Chess","Tetris"],A3=()=>{const{userRole:i}=dr(),[e,n]=O.useState([]),[s,o]=O.useState(!0),[u,h]=O.useState("All"),[m,p]=O.useState(""),[g,E]=O.useState(null),b=async()=>{try{const H=(await qg(xi(st,"users"))).docs.map(G=>({id:G.id,...G.data()}));n(H)}catch(D){console.error("Error fetching roster:",D)}finally{o(!1)}};O.useEffect(()=>{b()},[]);const w=async D=>{if(window.confirm("Are you sure you want to remove this player? This cannot be undone."))try{await Ad(Jt(st,"users",D)),n(H=>H.filter(G=>G.id!==D))}catch(H){console.error("Error deleting player:",H),alert("Could not delete player.")}},M=e.filter(D=>{const H=u==="All"?!0:D.games&&D.games.includes(u),G=D.gamertag?.toLowerCase().includes(m.toLowerCase())||D.email?.toLowerCase().includes(m.toLowerCase());return H&&G});return _.jsxs("div",{className:"space-y-6",children:[g&&_.jsx(w3,{player:g,onClose:()=>E(null),onUpdate:b}),_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end border-b border-brand-grey/20 pb-4 gap-4",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"TEAM ROSTER"}),_.jsx("p",{className:"text-brand-grey text-sm",children:"Manage players and view game assignments"})]}),_.jsxs("div",{className:"bg-brand-red px-4 py-1 rounded text-white font-titles text-sm",children:["TOTAL PLAYERS: ",M.length]})]}),_.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-brand-black border border-brand-grey/20 p-4 rounded-xl",children:[_.jsxs("div",{className:"relative flex-1",children:[_.jsx(e3,{className:"absolute left-3 top-3 text-brand-grey",size:20}),_.jsx("input",{type:"text",placeholder:"Search Gamertag or Email...",className:"w-full bg-[#111] border border-brand-grey/30 rounded pl-10 pr-4 py-2 text-white focus:border-brand-red focus:outline-none",value:m,onChange:D=>p(D.target.value)})]}),_.jsxs("div",{className:"relative w-full md:w-64",children:[_.jsx(DM,{className:"absolute left-3 top-3 text-brand-grey",size:20}),_.jsx("select",{className:"w-full bg-[#111] border border-brand-grey/30 rounded pl-10 pr-4 py-2 text-white focus:border-brand-red focus:outline-none appearance-none",value:u,onChange:D=>h(D.target.value),children:S3.map(D=>_.jsx("option",{value:D,children:D},D))})]})]}),s?_.jsx(Od,{}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(D=>_.jsxs("div",{className:"bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden hover:border-brand-red/50 transition group relative",children:[(i==="admin"||i==="coach")&&_.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[_.jsx("button",{onClick:()=>E(D),className:"p-2 bg-brand-yellow text-brand-black rounded hover:bg-white",title:"Edit Player",children:_.jsx(XM,{size:16})}),_.jsx("button",{onClick:()=>w(D.id),className:"p-2 bg-brand-red text-white rounded hover:bg-red-700",title:"Remove Player",children:_.jsx(Id,{size:16})})]}),_.jsxs("div",{className:"bg-[#111] p-4 border-b border-brand-grey/10 flex justify-between items-start",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"font-titles text-xl text-brand-white group-hover:text-brand-yellow truncate",children:D.gamertag||"No Gamertag"}),_.jsxs("div",{className:"flex items-center gap-2 text-brand-grey text-xs mt-1",children:[_.jsx(BM,{size:12}),_.jsx("span",{className:"truncate max-w-[150px]",children:D.email})]})]}),_.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase border ${D.role==="coach"?"bg-brand-red text-white border-brand-red":D.role==="player"?"bg-brand-grey/10 text-brand-grey border-brand-grey/20":"bg-brand-yellow/10 text-brand-yellow border-brand-yellow/20"}`,children:D.role||"Student"})]}),_.jsxs("div",{className:"p-4 space-y-4",children:[_.jsxs("div",{className:"flex items-center gap-3 text-sm text-brand-grey",children:[_.jsx(fx,{size:16,className:"text-brand-purple"}),_.jsx("span",{children:D.discord||"No Discord linked"})]}),_.jsxs("div",{className:"flex items-center gap-3 text-sm text-brand-grey",children:[_.jsx(px,{size:16,className:"text-brand-red"}),_.jsx("span",{children:D.grade?`${D.grade}th Grade`:"Grade not set"})]}),D.stats&&(D.stats.wins>0||D.stats.goals>0)&&_.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-[#0a0a0a] p-2 rounded border border-brand-grey/10",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("span",{className:"block font-titles text-brand-red",children:D.stats.wins}),_.jsx("span",{className:"text-[10px] text-brand-grey",children:"WINS"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("span",{className:"block font-titles text-brand-white",children:D.stats.goals}),_.jsx("span",{className:"text-[10px] text-brand-grey",children:"GOALS"})]})]}),_.jsxs("div",{className:"pt-2 border-t border-brand-grey/10",children:[_.jsxs("p",{className:"text-xs text-brand-grey mb-2 flex items-center gap-1",children:[_.jsx(hx,{size:12})," ACTIVE GAMES"]}),_.jsx("div",{className:"flex flex-wrap gap-2",children:D.games&&D.games.length>0?D.games.map(H=>_.jsx("span",{className:"text-[10px] px-2 py-1 bg-brand-red/10 text-brand-red border border-brand-red/30 rounded",children:H},H)):_.jsx("span",{className:"text-[10px] text-brand-grey italic",children:"No games selected"})})]})]})]},D.id))})]})},R3=[{id:"general",name:"general",locked:!1},{id:"announcements",name:"announcements",locked:!0},{id:"rocket-league",name:"rocket-league",locked:!1},{id:"smash-bros",name:"smash-bros",locked:!1},{id:"minecraft",name:"minecraft",locked:!1}],N3=()=>{const{currentUser:i,userRole:e}=dr(),[n,s]=O.useState("general"),[o,u]=O.useState([]),[h,m]=O.useState(""),p=O.useRef();O.useEffect(()=>{const b=Au(xi(st,"messages"),Ug("channel","==",n),Sd("createdAt","asc")),w=Ru(b,M=>{const D=M.docs.map(H=>({id:H.id,...H.data()}));u(D),p.current?.scrollIntoView({behavior:"smooth"})});return()=>w()},[n]);const g=async b=>{if(b.preventDefault(),!!h.trim()){if(n==="announcements"&&e==="student"){alert("Only Staff can post in Announcements.");return}try{await Hg(xi(st,"messages"),{text:h,createdAt:V4(),uid:i.uid,displayName:i.displayName||i.email.split("@")[0],photoURL:i.photoURL,role:e,channel:n}),m("")}catch(w){console.error("Error sending message:",w)}}},E=async b=>{window.confirm("Delete this message?")&&await Ad(Jt(st,"messages",b))};return _.jsxs("div",{className:"flex h-[calc(100vh-140px)] bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden",children:[_.jsxs("div",{className:"w-64 bg-[#111] border-r border-brand-grey/20 flex flex-col",children:[_.jsx("div",{className:"p-4 border-b border-brand-grey/20",children:_.jsx("h3",{className:"font-titles text-brand-white tracking-wider",children:"CHANNELS"})}),_.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:R3.map(b=>_.jsxs("button",{onClick:()=>s(b.id),className:`w-full flex items-center gap-2 px-3 py-2 rounded text-sm font-bold transition ${n===b.id?"bg-brand-red/20 text-brand-white border-l-2 border-brand-red":"text-brand-grey hover:bg-brand-grey/10 hover:text-brand-white"}`,children:[_.jsx(uE,{size:16}),b.name,b.locked&&_.jsx(i3,{size:12,className:"ml-auto text-brand-yellow"})]},b.id))})]}),_.jsxs("div",{className:"flex-1 flex flex-col bg-brand-black relative",children:[_.jsxs("div",{className:"h-14 border-b border-brand-grey/20 flex items-center px-6 bg-[#0a0a0a]",children:[_.jsx(uE,{className:"text-brand-grey mr-2",size:20}),_.jsx("span",{className:"font-titles text-lg text-white",children:n}),n==="announcements"&&_.jsx("span",{className:"ml-4 text-xs text-brand-yellow border border-brand-yellow/30 px-2 py-1 rounded",children:"READ ONLY"})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[o.map(b=>{const w=b.uid===i.uid;return _.jsxs("div",{className:`flex gap-3 group ${w?"flex-row-reverse":""}`,children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-grey/30 flex items-center justify-center overflow-hidden flex-shrink-0 border border-brand-grey/20",children:b.photoURL?_.jsx("img",{src:b.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):_.jsx("span",{className:"text-xs font-bold text-white",children:b.displayName?.[0]?.toUpperCase()})}),_.jsxs("div",{className:`flex flex-col ${w?"items-end":"items-start"} max-w-[70%]`,children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx("span",{className:"text-xs font-bold text-brand-grey",children:b.displayName}),b.role==="admin"&&_.jsx("span",{className:"text-[10px] bg-brand-red text-white px-1 rounded",children:"ADMIN"})]}),_.jsx("div",{className:`px-4 py-2 rounded-lg text-sm ${w?"bg-brand-red text-white rounded-tr-none":"bg-[#222] text-gray-200 border border-brand-grey/20 rounded-tl-none"}`,children:b.text}),(e==="admin"||e==="coach")&&_.jsx("button",{onClick:()=>E(b.id),className:"opacity-0 group-hover:opacity-100 absolute -right-8 top-2 text-brand-grey hover:text-brand-red transition",children:_.jsx(Id,{size:14})})]})]},b.id)}),_.jsx("div",{ref:p})]}),_.jsx("div",{className:"p-4 bg-[#111] border-t border-brand-grey/20",children:_.jsxs("form",{onSubmit:g,className:"flex gap-2",children:[_.jsx("input",{type:"text",value:h,onChange:b=>m(b.target.value),disabled:n==="announcements"&&e==="student",placeholder:n==="announcements"&&e==="student"?"Read Only Channel":`Message #${n}`,className:"flex-1 bg-brand-black border border-brand-grey/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-brand-red disabled:opacity-50 disabled:cursor-not-allowed"}),_.jsx("button",{type:"submit",disabled:!h.trim()||n==="announcements"&&e==="student",className:"bg-brand-red text-white p-3 rounded-lg hover:bg-brand-darkRed transition disabled:opacity-50 disabled:cursor-not-allowed",children:_.jsx(n3,{size:20})})]})})]})]})},np=[{label:"Match",color:"bg-brand-red text-white border-brand-red"},{label:"Practice",color:"bg-brand-yellow text-brand-black border-brand-yellow"},{label:"Meeting",color:"bg-brand-grey text-white border-brand-grey"}],C3=()=>{const{userRole:i}=dr(),[e,n]=O.useState([]),[s,o]=O.useState(!0),[u,h]=O.useState(!1),[m,p]=O.useState({title:"",date:"",time:"",location:"Esports Lab",type:"Practice"});O.useEffect(()=>{const b=Au(xi(st,"events"),Sd("date","asc")),w=Ru(b,M=>{const D=M.docs.map(H=>({id:H.id,...H.data()}));n(D),o(!1)});return()=>w()},[]);const g=async b=>{if(b.preventDefault(),!(!m.title||!m.date))try{await Hg(xi(st,"events"),{...m,createdAt:new Date}),h(!1),p({title:"",date:"",time:"",location:"Esports Lab",type:"Practice"})}catch(w){console.error("Error adding event:",w)}},E=async b=>{window.confirm("Remove this event?")&&await Ad(Jt(st,"events",b))};return _.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[_.jsxs("div",{className:"flex justify-between items-end border-b border-brand-grey/20 pb-4",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"TEAM SCHEDULE"}),_.jsx("p",{className:"text-brand-grey text-sm",children:"Upcoming matches and practices"})]}),(i==="admin"||i==="coach")&&_.jsxs("button",{onClick:()=>h(!u),className:"flex items-center gap-2 bg-brand-red text-white px-4 py-2 rounded font-bold hover:bg-brand-darkRed transition",children:[u?"CLOSE":"ADD EVENT"," ",_.jsx(Co,{size:20})]})]}),u&&_.jsxs("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/30 animate-fade-in",children:[_.jsx("h3",{className:"font-titles text-xl mb-4 text-brand-yellow",children:"NEW EVENT DETAILS"}),_.jsxs("form",{onSubmit:g,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsx("input",{type:"text",placeholder:"Event Title (e.g., VS Floyd Central)",className:"md:col-span-2 bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.title,onChange:b=>p({...m,title:b.target.value})}),_.jsx("input",{type:"date",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.date,onChange:b=>p({...m,date:b.target.value})}),_.jsx("input",{type:"time",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.time,onChange:b=>p({...m,time:b.target.value})}),_.jsx("select",{className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.type,onChange:b=>p({...m,type:b.target.value}),children:np.map(b=>_.jsx("option",{value:b.label,children:b.label},b.label))}),_.jsx("input",{type:"text",placeholder:"Location",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.location,onChange:b=>p({...m,location:b.target.value})}),_.jsx("button",{className:"md:col-span-2 bg-brand-white text-brand-black font-bold p-3 rounded hover:bg-gray-200",children:"PUBLISH TO SCHEDULE"})]})]}),_.jsxs("div",{className:"space-y-4",children:[s&&_.jsx(Od,{}),e.length===0&&!s&&_.jsx("div",{className:"text-center text-brand-grey py-10",children:"No upcoming events scheduled."}),e.map(b=>{const w=np.find(M=>M.label===b.type)||np[0];return _.jsxs("div",{className:"flex flex-col md:flex-row bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden group hover:border-brand-grey/50 transition",children:[_.jsxs("div",{className:"bg-[#111] p-6 flex flex-col items-center justify-center min-w-[120px] border-b md:border-b-0 md:border-r border-brand-grey/20",children:[_.jsx("span",{className:"font-titles text-3xl text-brand-white",children:new Date(b.date).getDate()}),_.jsx("span",{className:"text-brand-red font-bold uppercase text-sm",children:new Date(b.date).toLocaleString("default",{month:"short"})}),_.jsx("span",{className:"text-brand-grey text-xs mt-1",children:new Date(b.date).toLocaleString("default",{weekday:"long"})})]}),_.jsxs("div",{className:"p-6 flex-1 flex flex-col justify-center",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[_.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold border ${w.color}`,children:b.type.toUpperCase()}),_.jsxs("div",{className:"flex items-center gap-1 text-brand-grey text-sm",children:[_.jsx(cx,{size:14})," ",b.time]})]}),_.jsx("h3",{className:"font-titles text-2xl text-white group-hover:text-brand-yellow transition",children:b.title}),_.jsxs("div",{className:"flex items-center gap-2 text-brand-grey text-sm mt-2",children:[_.jsx(dx,{size:16,className:"text-brand-red"}),b.location]})]}),(i==="admin"||i==="coach")&&_.jsx("button",{onClick:()=>E(b.id),className:"bg-brand-red/10 text-brand-red p-4 flex items-center justify-center opacity-0 group-hover:opacity-100 hover:bg-brand-red hover:text-white transition w-16",children:_.jsx(Id,{size:24})})]},b.id)})]})]})},I3=()=>{const{currentUser:i,userRole:e}=dr(),[n,s]=O.useState(!1),[o,u]=O.useState(!1),[h,m]=O.useState({gamertag:"",discord:"",grade:"",gpa:"",guardianName:"",guardianEmail:"",jerseySize:"M",games:[]}),p=["Rocket League","Super Smash Bros","Minecraft","Valorant","Overwatch 2"],g=b=>{m(w=>({...w,games:w.games.includes(b)?w.games.filter(M=>M!==b):[...w.games,b]}))},E=async b=>{b.preventDefault(),s(!0);try{const w=Jt(st,"users",i.uid);await ga(w,{...h,applicationStatus:"submitted",updatedAt:new Date}),u(!0)}catch(w){console.error("Error submitting application:",w),alert("Failed to submit application.")}finally{s(!1)}};return o||e==="player"?_.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-center space-y-4",children:[_.jsx(TM,{size:64,className:"text-brand-green"}),_.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"APPLICATION RECEIVED"}),_.jsx("p",{className:"text-brand-grey",children:"Your coach will review your application and schedule a tryout."}),_.jsx("div",{className:"bg-brand-grey/10 p-4 rounded border border-brand-grey/30",children:_.jsxs("p",{className:"font-bold text-brand-yellow",children:["CURRENT STATUS: ",e==="player"?"ROSTERED":"PENDING TRYOUT"]})})]}):_.jsxs("div",{className:"max-w-3xl mx-auto",children:[_.jsxs("div",{className:"mb-8",children:[_.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"PLAYER APPLICATION"}),_.jsx("p",{className:"text-brand-grey",children:"Complete your profile to tryout for the season."})]}),_.jsxs("form",{onSubmit:E,className:"bg-[#111] p-8 rounded-xl border border-brand-grey/20 space-y-6",children:[_.jsxs("div",{className:"space-y-4",children:[_.jsx("h3",{className:"text-xl font-titles text-brand-red border-b border-brand-grey/20 pb-2",children:"PLAYER INFO"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsx("input",{required:!0,type:"text",placeholder:"Gamertag",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.gamertag,onChange:b=>m({...h,gamertag:b.target.value})}),_.jsx("input",{required:!0,type:"text",placeholder:"Discord Username",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.discord,onChange:b=>m({...h,discord:b.target.value})}),_.jsxs("select",{required:!0,className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.grade,onChange:b=>m({...h,grade:b.target.value}),children:[_.jsx("option",{value:"",children:"Select Grade"}),[9,10,11,12].map(b=>_.jsxs("option",{value:b,children:[b,"th Grade"]},b))]}),_.jsx("input",{required:!0,type:"number",step:"0.01",placeholder:"Current GPA",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.gpa,onChange:b=>m({...h,gpa:b.target.value})})]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("h3",{className:"text-xl font-titles text-brand-red border-b border-brand-grey/20 pb-2",children:"GUARDIAN INFO"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsx("input",{required:!0,type:"text",placeholder:"Parent/Guardian Name",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.guardianName,onChange:b=>m({...h,guardianName:b.target.value})}),_.jsx("input",{required:!0,type:"email",placeholder:"Parent Email",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.guardianEmail,onChange:b=>m({...h,guardianEmail:b.target.value})})]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("h3",{className:"text-xl font-titles text-brand-red border-b border-brand-grey/20 pb-2",children:"GAMES OF INTEREST"}),_.jsx("div",{className:"flex flex-wrap gap-3",children:p.map(b=>_.jsx("button",{type:"button",onClick:()=>g(b),className:`px-4 py-2 rounded border transition ${h.games.includes(b)?"bg-brand-red text-white border-brand-red":"bg-transparent text-brand-grey border-brand-grey/30 hover:border-brand-grey"}`,children:b},b))})]}),_.jsx("button",{disabled:n,className:"w-full bg-brand-white text-brand-black font-titles text-xl py-4 rounded hover:bg-gray-200 transition",children:n?"SUBMITTING...":"SUBMIT APPLICATION"})]})]})},D3=()=>{const[i,e]=O.useState([]),[n,s]=O.useState(!0),o=async()=>{s(!0);try{const m=Au(xi(st,"users"),Ug("applicationStatus","in",["submitted","tryout"])),p=await qg(m);e(p.docs.map(g=>({id:g.id,...g.data()})))}catch(m){console.error("Error fetching apps:",m)}finally{s(!1)}};O.useEffect(()=>{o()},[]);const u=async m=>{confirm("Move to 'Tryout' phase? This will notify the student.")&&(await ga(Jt(st,"users",m),{applicationStatus:"tryout"}),o())},h=async m=>{confirm("Approve for Roster? This grants 'Player' permissions.")&&(await ga(Jt(st,"users",m),{applicationStatus:"approved",role:"player"}),o())};return _.jsxs("div",{className:"space-y-6",children:[_.jsx("div",{className:"flex justify-between items-end border-b border-brand-grey/20 pb-4",children:_.jsxs("div",{children:[_.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"APPLICATION INBOX"}),_.jsx("p",{className:"text-brand-grey text-sm",children:"Review pending student applications"})]})}),n?_.jsx(Od,{}):_.jsxs("div",{className:"grid gap-4",children:[i.length===0&&_.jsx("p",{className:"text-brand-grey",children:"No pending applications."}),i.map(m=>_.jsxs("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/20 flex flex-col md:flex-row justify-between gap-4",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("h3",{className:"font-titles text-2xl text-white",children:m.displayName}),_.jsx("span",{className:`px-2 py-0.5 text-xs font-bold uppercase rounded border ${m.applicationStatus==="tryout"?"bg-brand-yellow text-brand-black border-brand-yellow":"bg-brand-grey/20 text-brand-grey border-brand-grey"}`,children:m.applicationStatus})]}),_.jsxs("div",{className:"text-brand-grey text-sm mt-1 grid grid-cols-2 gap-x-8 gap-y-1",children:[_.jsxs("p",{children:["Gamertag: ",_.jsx("span",{className:"text-white",children:m.gamertag})]}),_.jsxs("p",{children:["GPA: ",_.jsx("span",{className:"text-white",children:m.gpa})]}),_.jsxs("p",{children:["Grade: ",_.jsx("span",{className:"text-white",children:m.grade})]}),_.jsxs("p",{children:["Games: ",_.jsx("span",{className:"text-white",children:m.games?.join(", ")})]})]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[m.applicationStatus==="submitted"&&_.jsx("button",{onClick:()=>u(m.id),className:"bg-brand-yellow text-brand-black px-4 py-2 rounded font-bold hover:bg-yellow-400 transition",children:"SCHEDULE TRYOUT"}),m.applicationStatus==="tryout"&&_.jsx("button",{onClick:()=>h(m.id),className:"bg-brand-green text-white px-4 py-2 rounded font-bold hover:bg-green-600 transition border border-brand-green",children:"APPROVE ROSTER"})]})]},m.id))]})]})},O3=()=>{const{userRole:i}=dr(),[e,n]=O.useState([]),[s,o]=O.useState(!0),[u,h]=O.useState(!1),[m,p]=O.useState({description:"",amount:"",type:"incoming",category:"Sponsorship",date:new Date().toISOString().split("T")[0]});O.useEffect(()=>{const D=Au(xi(st,"financials"),Sd("date","desc")),H=Ru(D,G=>{const ne=G.docs.map(te=>({id:te.id,...te.data()}));n(ne),o(!1)});return()=>H()},[]);const g=e.reduce((D,H)=>H.type==="incoming"?D+Number(H.amount):D-Number(H.amount),0),E=e.filter(D=>D.type==="incoming").reduce((D,H)=>D+Number(H.amount),0),b=e.filter(D=>D.type==="outgoing").reduce((D,H)=>D+Number(H.amount),0),w=async D=>{if(D.preventDefault(),!(!m.description||!m.amount))try{await Hg(xi(st,"financials"),{...m,amount:parseFloat(m.amount),createdAt:new Date}),h(!1),p({description:"",amount:"",type:"incoming",category:"Sponsorship",date:new Date().toISOString().split("T")[0]})}catch(H){console.error("Error adding transaction:",H)}},M=async D=>{confirm("Delete this transaction record?")&&await Ad(Jt(st,"financials",D))};return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex justify-between items-end border-b border-brand-grey/20 pb-4",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"FINANCIAL LEDGER"}),_.jsx("p",{className:"text-brand-grey text-sm",children:"Track team funds, sponsorships, and expenses"})]}),_.jsxs("button",{onClick:()=>h(!u),className:"bg-brand-red text-white px-4 py-2 rounded font-bold hover:bg-brand-darkRed transition flex items-center gap-2",children:[u?"CANCEL":"ADD ENTRY"," ",_.jsx(Co,{size:20})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[_.jsx("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/20",children:_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-brand-grey text-xs font-bold uppercase",children:"Current Balance"}),_.jsxs("h3",{className:`font-titles text-3xl mt-1 ${g>=0?"text-brand-green":"text-brand-red"}`,children:["$",g.toFixed(2)]})]}),_.jsx("div",{className:"p-3 bg-brand-grey/10 rounded-full text-brand-white",children:_.jsx(RM,{size:24})})]})}),_.jsx("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/20",children:_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-brand-grey text-xs font-bold uppercase",children:"Total Income"}),_.jsxs("h3",{className:"font-titles text-3xl mt-1 text-brand-yellow",children:["+$",E.toFixed(2)]})]}),_.jsx("div",{className:"p-3 bg-brand-yellow/10 rounded-full text-brand-yellow",children:_.jsx(d3,{size:24})})]})}),_.jsx("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/20",children:_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-brand-grey text-xs font-bold uppercase",children:"Total Expenses"}),_.jsxs("h3",{className:"font-titles text-3xl mt-1 text-brand-red",children:["-$",b.toFixed(2)]})]}),_.jsx("div",{className:"p-3 bg-brand-red/10 rounded-full text-brand-red",children:_.jsx(c3,{size:24})})]})})]}),u&&_.jsxs("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/30 animate-fade-in",children:[_.jsx("h3",{className:"font-titles text-xl mb-4 text-brand-white",children:"NEW TRANSACTION"}),_.jsxs("form",{onSubmit:w,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsx("input",{type:"text",placeholder:"Description (e.g., Check from El Nopal)",className:"md:col-span-2 bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.description,onChange:D=>p({...m,description:D.target.value})}),_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("select",{className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white flex-1",value:m.type,onChange:D=>p({...m,type:D.target.value}),children:[_.jsx("option",{value:"incoming",children:"Incoming (+ Credit)"}),_.jsx("option",{value:"outgoing",children:"Outgoing (- Debit)"})]}),_.jsx("input",{type:"number",step:"0.01",placeholder:"Amount",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white flex-1",value:m.amount,onChange:D=>p({...m,amount:D.target.value})})]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("select",{className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white flex-1",value:m.category,onChange:D=>p({...m,category:D.target.value}),children:[_.jsx("option",{value:"Sponsorship",children:"Sponsorship"}),_.jsx("option",{value:"Player Dues",children:"Player Dues"}),_.jsx("option",{value:"Equipment",children:"Equipment"}),_.jsx("option",{value:"Concessions",children:"Concessions"}),_.jsx("option",{value:"Merch",children:"Merchandise"}),_.jsx("option",{value:"Travel",children:"Travel/Bus"}),_.jsx("option",{value:"Other",children:"Other"})]}),_.jsx("input",{type:"date",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white flex-1",value:m.date,onChange:D=>p({...m,date:D.target.value})})]}),_.jsx("button",{className:"md:col-span-2 bg-brand-green text-white font-bold p-3 rounded hover:bg-green-600 transition",children:"LOG TRANSACTION"})]})]}),_.jsx("div",{className:"bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden",children:s?_.jsx("div",{className:"p-8",children:_.jsx(Od,{})}):_.jsxs("table",{className:"w-full text-left",children:[_.jsx("thead",{className:"bg-[#111] text-brand-grey text-xs uppercase font-bold border-b border-brand-grey/20",children:_.jsxs("tr",{children:[_.jsx("th",{className:"p-4",children:"Date"}),_.jsx("th",{className:"p-4",children:"Description"}),_.jsx("th",{className:"p-4",children:"Category"}),_.jsx("th",{className:"p-4 text-right",children:"Amount"}),_.jsx("th",{className:"p-4 w-10"})]})}),_.jsxs("tbody",{className:"divide-y divide-brand-grey/10 text-sm text-brand-white",children:[e.map(D=>_.jsxs("tr",{className:"hover:bg-white/5 transition",children:[_.jsx("td",{className:"p-4 text-brand-grey",children:D.date}),_.jsx("td",{className:"p-4 font-bold",children:D.description}),_.jsx("td",{className:"p-4",children:_.jsx("span",{className:"px-2 py-1 rounded-full text-[10px] bg-brand-grey/10 border border-brand-grey/20 text-brand-grey uppercase",children:D.category})}),_.jsxs("td",{className:`p-4 text-right font-titles text-lg ${D.type==="incoming"?"text-brand-green":"text-brand-red"}`,children:[D.type==="incoming"?"+":"-","$",Number(D.amount).toFixed(2)]}),_.jsx("td",{className:"p-4 text-center",children:i==="admin"&&_.jsx("button",{onClick:()=>M(D.id),className:"text-brand-grey hover:text-brand-red",children:_.jsx(Id,{size:16})})})]},D.id)),e.length===0&&_.jsx("tr",{children:_.jsx("td",{colSpan:"5",className:"p-8 text-center text-brand-grey italic",children:"No transactions recorded yet."})})]})]})})]})},M3=[{id:1,name:"MJHS Official Jersey",price:45,image:"https://placehold.co/400x400/B00C1A/white?text=Jersey",category:"Apparel"},{id:2,name:"Esports Hoodie",price:35,image:"https://placehold.co/400x400/111/white?text=Hoodie",category:"Apparel"},{id:3,name:"Performance Mousepad",price:20,image:"https://placehold.co/400x400/333/white?text=Mousepad",category:"Gear"},{id:4,name:"Team Snapback",price:25,image:"https://placehold.co/400x400/A6464D/white?text=Hat",category:"Apparel"}],k3=()=>{const[i,e]=O.useState([]),[n,s]=O.useState(!1),o=p=>{e(g=>g.find(b=>b.id===p.id)?g.map(b=>b.id===p.id?{...b,qty:b.qty+1}:b):[...g,{...p,qty:1}]),s(!0)},u=p=>{e(g=>g.filter(E=>E.id!==p))},h=(p,g)=>{e(E=>E.map(b=>{if(b.id===p){const w=Math.max(1,b.qty+g);return{...b,qty:w}}return b}))},m=i.reduce((p,g)=>p+g.price*g.qty,0);return _.jsxs("div",{className:"relative h-full",children:[_.jsxs("div",{className:"flex justify-between items-end border-b border-brand-grey/20 pb-4 mb-6",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"TEAM STORE"}),_.jsx("p",{className:"text-brand-grey text-sm",children:"Support the team with official merch"})]}),_.jsxs("button",{onClick:()=>s(!0),className:"relative bg-brand-white text-brand-black px-4 py-2 rounded font-bold hover:bg-gray-200 transition flex items-center gap-2",children:[_.jsx(cE,{size:20})," CART",i.length>0&&_.jsx("span",{className:"absolute -top-2 -right-2 bg-brand-red text-white text-xs w-5 h-5 flex items-center justify-center rounded-full border border-brand-black",children:i.reduce((p,g)=>p+g.qty,0)})]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:M3.map(p=>_.jsxs("div",{className:"bg-[#111] border border-brand-grey/20 rounded-xl overflow-hidden group hover:border-brand-red/50 transition",children:[_.jsxs("div",{className:"aspect-square bg-brand-black relative overflow-hidden",children:[_.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover group-hover:scale-105 transition duration-500"}),_.jsx("div",{className:"absolute top-2 right-2 bg-brand-black/80 text-white text-xs px-2 py-1 rounded border border-brand-grey/30",children:p.category})]}),_.jsxs("div",{className:"p-4",children:[_.jsx("h3",{className:"font-titles text-lg text-white truncate",children:p.name}),_.jsxs("div",{className:"flex justify-between items-center mt-2",children:[_.jsxs("span",{className:"text-brand-yellow font-titles text-xl",children:["$",p.price.toFixed(2)]}),_.jsx("button",{onClick:()=>o(p),className:"bg-brand-red text-white p-2 rounded hover:bg-brand-darkRed transition",children:_.jsx(Co,{size:20})})]})]})]},p.id))}),n&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 backdrop-blur-sm",onClick:()=>s(!1)}),_.jsxs("div",{className:"fixed top-0 right-0 h-full w-full md:w-96 bg-[#0a0a0a] border-l border-brand-grey/30 z-50 shadow-2xl flex flex-col animate-slide-in-right",children:[_.jsxs("div",{className:"p-6 border-b border-brand-grey/20 flex justify-between items-center bg-brand-red",children:[_.jsxs("h2",{className:"font-titles text-xl text-white flex items-center gap-2",children:[_.jsx(cE,{size:20})," YOUR CART"]}),_.jsx("button",{onClick:()=>s(!1),className:"text-white hover:text-black",children:_.jsx(Wh,{size:24})})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:i.length===0?_.jsx("div",{className:"text-center text-brand-grey mt-10",children:"Your cart is empty."}):i.map(p=>_.jsxs("div",{className:"flex gap-4 bg-[#111] p-3 rounded border border-brand-grey/20",children:[_.jsx("img",{src:p.image,alt:p.name,className:"w-16 h-16 rounded object-cover bg-brand-black"}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h4",{className:"font-bold text-white text-sm",children:p.name}),_.jsxs("p",{className:"text-brand-yellow text-sm",children:["$",(p.price*p.qty).toFixed(2)]}),_.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[_.jsx("button",{onClick:()=>h(p.id,-1),className:"p-1 bg-brand-grey/20 text-white rounded hover:bg-brand-grey/40",children:_.jsx(Op,{size:12})}),_.jsx("span",{className:"text-xs text-brand-grey",children:p.qty}),_.jsx("button",{onClick:()=>h(p.id,1),className:"p-1 bg-brand-grey/20 text-white rounded hover:bg-brand-grey/40",children:_.jsx(Co,{size:12})})]})]}),_.jsx("button",{onClick:()=>u(p.id),className:"text-brand-grey hover:text-brand-red self-start",children:_.jsx(Wh,{size:16})})]},p.id))}),_.jsxs("div",{className:"p-6 border-t border-brand-grey/20 bg-[#111]",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("span",{className:"text-brand-grey",children:"Subtotal"}),_.jsxs("span",{className:"font-titles text-2xl text-white",children:["$",m.toFixed(2)]})]}),_.jsxs("button",{disabled:i.length===0,className:"w-full bg-brand-green text-white font-titles py-4 rounded hover:bg-green-600 transition flex justify-center items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>alert("Stripe Integration requires Backend Cloud Functions. This is a UI Demo."),children:[_.jsx(SM,{size:20})," CHECKOUT NOW"]})]})]})]})]})},V3=()=>{const[i,e]=O.useState({teamA:"MJHS",teamB:"OPPONENT",scoreA:0,scoreB:0,game:"Rocket League",status:"LIVE"});return O.useEffect(()=>{const n=Ru(Jt(st,"stream","live"),s=>{s.exists()&&e(s.data())});return()=>n()},[]),_.jsxs("div",{className:"min-h-screen bg-transparent p-10 flex flex-col justify-between",children:[_.jsx("div",{className:"flex justify-center",children:_.jsxs("div",{className:"flex items-stretch bg-brand-black border-2 border-brand-red rounded-xl overflow-hidden shadow-[0_0_20px_rgba(0,0,0,0.8)]",children:[_.jsxs("div",{className:"bg-[#111] p-4 min-w-[150px] flex flex-col items-center justify-center border-r border-brand-grey/30",children:[_.jsx("h2",{className:"font-titles text-3xl text-brand-white tracking-widest",children:i.teamA}),_.jsx("div",{className:"w-full h-1 bg-brand-red mt-2"})]}),_.jsxs("div",{className:"flex items-center bg-brand-red px-6",children:[_.jsx("span",{className:"font-titles text-5xl text-white drop-shadow-md",children:i.scoreA}),_.jsx("span",{className:"mx-4 text-white/50 font-bold",children:"-"}),_.jsx("span",{className:"font-titles text-5xl text-white drop-shadow-md",children:i.scoreB})]}),_.jsxs("div",{className:"bg-[#111] p-4 min-w-[150px] flex flex-col items-center justify-center border-l border-brand-grey/30",children:[_.jsx("h2",{className:"font-titles text-3xl text-brand-white tracking-widest",children:i.teamB}),_.jsx("div",{className:"w-full h-1 bg-brand-grey mt-2"})]})]})}),_.jsxs("div",{className:"flex justify-between items-end",children:[_.jsxs("div",{className:"bg-brand-black/90 border-l-4 border-brand-yellow px-6 py-3 rounded-r-xl",children:[_.jsxs("h3",{className:"text-brand-yellow font-titles text-xl flex items-center gap-2",children:[_.jsx(Dd,{size:20})," CURRENT MATCH"]}),_.jsx("p",{className:"text-white font-bold",children:i.game})]}),_.jsx("div",{className:"bg-brand-red px-4 py-2 rounded-t-lg",children:_.jsx("span",{className:"font-titles text-white tracking-widest animate-pulse",children:i.status})})]})]})},j3=()=>{const{loginWithGoogle:i,currentUser:e}=dr();return e?_.jsx(AE,{to:"/dashboard"}):_.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-brand-black text-brand-white space-y-8",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"font-titles text-6xl text-brand-red tracking-wider",children:"MJHS ESPORTS"}),_.jsx("p",{className:"font-body text-brand-grey mt-2 text-xl",children:"PORTAL LOGIN"})]}),_.jsxs("div",{className:"flex gap-6",children:[_.jsx("button",{onClick:()=>i(),className:"bg-brand-red px-8 py-4 rounded-lg font-bold hover:bg-brand-darkRed transition border-2 border-brand-red text-white",children:"LOGIN WITH SCHOOL EMAIL"}),_.jsx("button",{onClick:()=>i(),className:"bg-transparent border-2 border-brand-grey px-8 py-4 rounded-lg font-bold hover:bg-brand-grey/20 transition text-brand-grey",children:"GUEST / PARENT"})]})]})},L3=({children:i})=>{const{currentUser:e}=dr();return e?i:_.jsx(AE,{to:"/login"})};function U3(){return _.jsxs(yO,{children:[_.jsx(sM,{position:"bottom-right",toastOptions:{style:{background:"#333",color:"#fff",border:"1px solid #B00C1A"}}}),_.jsx(SA,{children:_.jsxs(tA,{children:[_.jsx(gn,{path:"/",element:_.jsx(uM,{})}),_.jsx(gn,{path:"/login",element:_.jsx(j3,{})}),_.jsx(gn,{path:"/overlay",element:_.jsx(V3,{})}),_.jsxs(gn,{path:"/dashboard",element:_.jsx(L3,{children:_.jsx(v3,{})}),children:[_.jsx(gn,{index:!0,element:_.jsx(E3,{})}),_.jsx(gn,{path:"stats",element:_.jsx(x3,{})}),_.jsx(gn,{path:"roster",element:_.jsx(A3,{})}),_.jsx(gn,{path:"comms",element:_.jsx(N3,{})}),_.jsx(gn,{path:"calendar",element:_.jsx(C3,{})}),_.jsx(gn,{path:"financials",element:_.jsx(O3,{})}),_.jsx(gn,{path:"application",element:_.jsx(I3,{})}),_.jsx(gn,{path:"inbox",element:_.jsx(D3,{})}),_.jsx(gn,{path:"store",element:_.jsx(k3,{})})]})]})})]})}tS.createRoot(document.getElementById("root")).render(_.jsx(O.StrictMode,{children:_.jsx(U3,{})}));
