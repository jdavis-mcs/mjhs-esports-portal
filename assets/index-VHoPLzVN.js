(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Tm={exports:{}},zl={};var e0;function jS(){if(e0)return zl;e0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var t0;function zS(){return t0||(t0=1,Tm.exports=jS()),Tm.exports}var w=zS(),Am={exports:{}},Te={};var n0;function BS(){if(n0)return Te;n0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function M(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,F={};function ne(V,W,ae){this.props=V,this.context=W,this.refs=F,this.updater=ae||K}ne.prototype.isReactComponent={},ne.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},ne.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function te(){}te.prototype=ne.prototype;function ie(V,W,ae){this.props=V,this.context=W,this.refs=F,this.updater=ae||K}var fe=ie.prototype=new te;fe.constructor=ie,Y(fe,ne.prototype),fe.isPureReactComponent=!0;var Se=Array.isArray;function be(){}var x={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(V,W,ae){var ue=ae.ref;return{$$typeof:r,type:V,key:W,ref:ue!==void 0?ue:null,props:ae}}function k(V,W){return C(V.type,W,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return W[ae]})}var I=/\/+/g;function rt(V,W){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):W.toString(36)}function Dt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(be,be):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function $(V,W,ae,ue,ve){var xe=typeof V;(xe==="undefined"||xe==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(xe){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case r:case e:Ue=!0;break;case E:return Ue=V._init,$(Ue(V._payload),W,ae,ue,ve)}}if(Ue)return ve=ve(V),Ue=ue===""?"."+rt(V,0):ue,Se(ve)?(ae="",Ue!=null&&(ae=Ue.replace(I,"$&/")+"/"),$(ve,W,ae,"",function(ws){return ws})):ve!=null&&(O(ve)&&(ve=k(ve,ae+(ve.key==null||V&&V.key===ve.key?"":(""+ve.key).replace(I,"$&/")+"/")+Ue)),W.push(ve)),1;Ue=0;var Ot=ue===""?".":ue+":";if(Se(V))for(var st=0;st<V.length;st++)ue=V[st],xe=Ot+rt(ue,st),Ue+=$(ue,W,ae,xe,ve);else if(st=M(V),typeof st=="function")for(V=st.call(V),st=0;!(ue=V.next()).done;)ue=ue.value,xe=Ot+rt(ue,st++),Ue+=$(ue,W,ae,xe,ve);else if(xe==="object"){if(typeof V.then=="function")return $(Dt(V),W,ae,ue,ve);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function se(V,W,ae){if(V==null)return V;var ue=[],ve=0;return $(V,ue,"","",function(xe){return W.call(ae,xe,ve++)}),ue}function pe(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var je=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ge={map:se,forEach:function(V,W,ae){se(V,function(){W.apply(this,arguments)},ae)},count:function(V){var W=0;return se(V,function(){W++}),W},toArray:function(V){return se(V,function(W){return W})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Te.Activity=b,Te.Children=Ge,Te.Component=ne,Te.Fragment=n,Te.Profiler=o,Te.PureComponent=ie,Te.StrictMode=s,Te.Suspense=p,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Te.__COMPILER_RUNTIME={__proto__:null,c:function(V){return x.H.useMemoCache(V)}},Te.cache=function(V){return function(){return V.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(V,W,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=Y({},V.props),ve=V.key;if(W!=null)for(xe in W.key!==void 0&&(ve=""+W.key),W)!R.call(W,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&W.ref===void 0||(ue[xe]=W[xe]);var xe=arguments.length-2;if(xe===1)ue.children=ae;else if(1<xe){for(var Ue=Array(xe),Ot=0;Ot<xe;Ot++)Ue[Ot]=arguments[Ot+2];ue.children=Ue}return C(V.type,ve,ue)},Te.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Te.createElement=function(V,W,ae){var ue,ve={},xe=null;if(W!=null)for(ue in W.key!==void 0&&(xe=""+W.key),W)R.call(W,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=W[ue]);var Ue=arguments.length-2;if(Ue===1)ve.children=ae;else if(1<Ue){for(var Ot=Array(Ue),st=0;st<Ue;st++)Ot[st]=arguments[st+2];ve.children=Ot}if(V&&V.defaultProps)for(ue in Ue=V.defaultProps,Ue)ve[ue]===void 0&&(ve[ue]=Ue[ue]);return C(V,xe,ve)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(V){return{$$typeof:m,render:V}},Te.isValidElement=O,Te.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:pe}},Te.memo=function(V,W){return{$$typeof:g,type:V,compare:W===void 0?null:W}},Te.startTransition=function(V){var W=x.T,ae={};x.T=ae;try{var ue=V(),ve=x.S;ve!==null&&ve(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(be,je)}catch(xe){je(xe)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),x.T=W}},Te.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Te.use=function(V){return x.H.use(V)},Te.useActionState=function(V,W,ae){return x.H.useActionState(V,W,ae)},Te.useCallback=function(V,W){return x.H.useCallback(V,W)},Te.useContext=function(V){return x.H.useContext(V)},Te.useDebugValue=function(){},Te.useDeferredValue=function(V,W){return x.H.useDeferredValue(V,W)},Te.useEffect=function(V,W){return x.H.useEffect(V,W)},Te.useEffectEvent=function(V){return x.H.useEffectEvent(V)},Te.useId=function(){return x.H.useId()},Te.useImperativeHandle=function(V,W,ae){return x.H.useImperativeHandle(V,W,ae)},Te.useInsertionEffect=function(V,W){return x.H.useInsertionEffect(V,W)},Te.useLayoutEffect=function(V,W){return x.H.useLayoutEffect(V,W)},Te.useMemo=function(V,W){return x.H.useMemo(V,W)},Te.useOptimistic=function(V,W){return x.H.useOptimistic(V,W)},Te.useReducer=function(V,W,ae){return x.H.useReducer(V,W,ae)},Te.useRef=function(V){return x.H.useRef(V)},Te.useState=function(V){return x.H.useState(V)},Te.useSyncExternalStore=function(V,W,ae){return x.H.useSyncExternalStore(V,W,ae)},Te.useTransition=function(){return x.H.useTransition()},Te.version="19.2.3",Te}var i0;function Tp(){return i0||(i0=1,Am.exports=BS()),Am.exports}var L=Tp(),Sm={exports:{}},Bl={},wm={exports:{}},Rm={};var r0;function HS(){return r0||(r0=1,(function(r){function e($,se){var pe=$.length;$.push(se);e:for(;0<pe;){var je=pe-1>>>1,Ge=$[je];if(0<o(Ge,se))$[je]=se,$[pe]=Ge,pe=je;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var se=$[0],pe=$.pop();if(pe!==se){$[0]=pe;e:for(var je=0,Ge=$.length,V=Ge>>>1;je<V;){var W=2*(je+1)-1,ae=$[W],ue=W+1,ve=$[ue];if(0>o(ae,pe))ue<Ge&&0>o(ve,ae)?($[je]=ve,$[ue]=pe,je=ue):($[je]=ae,$[W]=pe,je=W);else if(ue<Ge&&0>o(ve,pe))$[je]=ve,$[ue]=pe,je=ue;else break e}}return se}function o($,se){var pe=$.sortIndex-se.sortIndex;return pe!==0?pe:$.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,b=null,S=3,M=!1,K=!1,Y=!1,F=!1,ne=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function fe($){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=$)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function Se($){if(Y=!1,fe($),!K)if(n(p)!==null)K=!0,be||(be=!0,P());else{var se=n(g);se!==null&&Dt(Se,se.startTime-$)}}var be=!1,x=-1,R=5,C=-1;function k(){return F?!0:!(r.unstable_now()-C<R)}function O(){if(F=!1,be){var $=r.unstable_now();C=$;var se=!0;try{e:{K=!1,Y&&(Y=!1,te(x),x=-1),M=!0;var pe=S;try{t:{for(fe($),b=n(p);b!==null&&!(b.expirationTime>$&&k());){var je=b.callback;if(typeof je=="function"){b.callback=null,S=b.priorityLevel;var Ge=je(b.expirationTime<=$);if($=r.unstable_now(),typeof Ge=="function"){b.callback=Ge,fe($),se=!0;break t}b===n(p)&&s(p),fe($)}else s(p);b=n(p)}if(b!==null)se=!0;else{var V=n(g);V!==null&&Dt(Se,V.startTime-$),se=!1}}break e}finally{b=null,S=pe,M=!1}se=void 0}}finally{se?P():be=!1}}}var P;if(typeof ie=="function")P=function(){ie(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,rt=I.port2;I.port1.onmessage=O,P=function(){rt.postMessage(null)}}else P=function(){ne(O,0)};function Dt($,se){x=ne(function(){$(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function($){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var pe=S;S=se;try{return $()}finally{S=pe}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function($,se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pe=S;S=$;try{return se()}finally{S=pe}},r.unstable_scheduleCallback=function($,se,pe){var je=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,$){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=pe+Ge,$={id:E++,callback:se,priorityLevel:$,startTime:pe,expirationTime:Ge,sortIndex:-1},pe>je?($.sortIndex=pe,e(g,$),n(p)===null&&$===n(g)&&(Y?(te(x),x=-1):Y=!0,Dt(Se,pe-je))):($.sortIndex=Ge,e(p,$),K||M||(K=!0,be||(be=!0,P()))),$},r.unstable_shouldYield=k,r.unstable_wrapCallback=function($){var se=S;return function(){var pe=S;S=se;try{return $.apply(this,arguments)}finally{S=pe}}}})(Rm)),Rm}var s0;function qS(){return s0||(s0=1,wm.exports=HS()),wm.exports}var xm={exports:{}},Jt={};var a0;function FS(){if(a0)return Jt;a0=1;var r=Tp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Jt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Jt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Jt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,g){return p(g)},Jt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var o0;function GS(){if(o0)return xm.exports;o0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xm.exports=FS(),xm.exports}var l0;function KS(){if(l0)return Bl;l0=1;var r=qS(),e=Tp(),n=GS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,T=f.child;T;){if(T===a){_=!0,a=f,l=d;break}if(T===l){_=!0,l=f,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=f;break}if(T===l){_=!0,l=d,a=f;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case ne:return"Profiler";case F:return"StrictMode";case Se:return"Suspense";case be:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case ie:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case fe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var Dt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function V(t){return{current:t}}function W(t){0>Ge||(t.current=je[Ge],je[Ge]=null,Ge--)}function ae(t,i){Ge++,je[Ge]=t.current,t.current=i}var ue=V(null),ve=V(null),xe=V(null),Ue=V(null);function Ot(t,i){switch(ae(xe,i),ae(ve,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Av(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Av(i),t=Sv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ue),ae(ue,t)}function st(){W(ue),W(ve),W(xe)}function ws(t){t.memoizedState!==null&&ae(Ue,t);var i=ue.current,a=Sv(i,t.type);i!==a&&(ae(ve,t),ae(ue,a))}function Ea(t){ve.current===t&&(W(ue),W(ve)),Ue.current===t&&(W(Ue),Ll._currentValue=pe)}var ba,Ta;function ci(t){if(ba===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ba=i&&i[1]||"",Ta=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ba+t+Ta}var Lo=!1;function Rs(t,i){if(!t||Lo)return"";Lo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var H=G}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(G){H=G}t.call(Z.prototype)}}else{try{throw Error()}catch(G){H=G}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var N=_.split(`
`),B=T.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===B.length)for(l=N.length-1,f=B.length-1;1<=l&&0<=f&&N[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==B[f]){var Q=`
`+N[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=f);break}}}finally{Lo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ci(a):""}function Uo(t,i){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return t.child!==i&&i!==null?ci("Suspense Fallback"):ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Rs(t.type,!1);case 11:return Rs(t.type.render,!1);case 1:return Rs(t.type,!0);case 31:return ci("Activity");default:return""}}function Po(t){try{var i="",a=null;do i+=Uo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,wr=r.unstable_cancelCallback,Sf=r.unstable_shouldYield,wu=r.unstable_requestPaint,nn=r.unstable_now,xs=r.unstable_getCurrentPriorityLevel,jo=r.unstable_ImmediatePriority,zo=r.unstable_UserBlockingPriority,Rr=r.unstable_NormalPriority,wf=r.unstable_LowPriority,Ru=r.unstable_IdlePriority,xu=r.log,Cu=r.unstable_setDisableYieldValue,Kn=null,Ht=null;function In(t){if(typeof xu=="function"&&Cu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Kn,t)}catch{}}var mt=Math.clz32?Math.clz32:Nu,Iu=Math.log,Aa=Math.LN2;function Nu(t){return t>>>=0,t===0?32:31-(Iu(t)/Aa|0)|0}var hi=256,Cs=262144,Et=4194304;function fi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function di(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=fi(l):(_&=T,_!==0?f=fi(_):a||(a=T&~t,a!==0&&(f=fi(a))))):(T=l&~d,T!==0?f=fi(T):_!==0?f=fi(_):a||(a=l&~t,a!==0&&(f=fi(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Yn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Rf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Du(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function mi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Is(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xf(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-mt(a),Z=1<<Q;T[Q]=0,N[Q]=-1;var H=B[Q];if(H!==null)for(B[Q]=null,Q=0;Q<H.length;Q++){var G=H[Q];G!==null&&(G.lane&=-536870913)}a&=~Z}l!==0&&Ns(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ns(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Bo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-mt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Ho(t,i){var a=i&-i;return a=(a&42)!==0?1:Ds(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ds(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ou(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Yv(t.type))}function Qn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var $n=Math.random().toString(36).slice(2),bt="__reactFiber$"+$n,Pt="__reactProps$"+$n,pi="__reactContainer$"+$n,Sa="__reactEvents$"+$n,Cf="__reactListeners$"+$n,Mu="__reactHandles$"+$n,Vu="__reactResources$"+$n,gi="__reactMarker$"+$n;function wa(t){delete t[bt],delete t[Pt],delete t[Sa],delete t[Cf],delete t[Mu]}function yi(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[pi]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Dv(t);t!==null;){if(a=t[bt])return a;t=Dv(t)}return i}t=a,a=t.parentNode}return null}function Nn(t){if(t=t[bt]||t[pi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function yn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function _i(t){var i=t[Vu];return i||(i=t[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[gi]=!0}var qo=new Set,Fo={};function vi(t,i){Ei(t,i),Ei(t+"Capture",i)}function Ei(t,i){for(Fo[t]=i,t=0;t<i.length;t++)qo.add(i[t])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ko={},Yo={};function ku(t){return vt.call(Yo,t)?!0:vt.call(Ko,t)?!1:Go.test(t)?Yo[t]=!0:(Ko[t]=!0,!1)}function Ra(t,i,a){if(ku(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function _n(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Qo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=xr(t)?"checked":"value";t._valueTracker=Qo(t,i,""+t[i])}}function Os(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=xr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ms=/[\n"\\]/g;function on(t){return t.replace(Ms,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function xa(t,i,a,l,f,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+jt(i)):t.value!==""+jt(i)&&(t.value=""+jt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?$o(t,_,jt(i)):a!=null?$o(t,_,jt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+jt(T):t.removeAttribute("name")}function Lu(t,i,a,l,f,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+jt(a):"",i=i!=null?""+jt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function $o(t,i,a){i==="number"&&bi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Cr(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Uu(t,i,a){if(i!=null&&(i=""+jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+jt(a):""}function Ir(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Dt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function ln(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Pu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Jo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Xo(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Xo(t,d,i[d])}function Ca(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ju=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return Nr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xn(){}var Zo=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dr=null,Ti=null;function Vs(t){var i=Nn(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(xa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Pt]||null;if(!f)throw Error(s(90));xa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Os(l)}break e;case"textarea":Uu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Cr(t,!!a.multiple,i,!1)}}}var Na=!1;function Or(t,i,a){if(Na)return t(i,a);Na=!0;try{var l=t(i);return l}finally{if(Na=!1,(Dr!==null||Ti!==null)&&(Oc(),Dr&&(i=Dr,t=Ti,Ti=Dr=null,Vs(i),t)))for(i=0;i<t.length;i++)Vs(t[i])}}function Jn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ks=!1;if(On)try{var $e={};Object.defineProperty($e,"passive",{get:function(){ks=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{ks=!1}var Ai=null,Wo=null,Ls=null;function el(){if(Ls)return Ls;var t,i=Wo,a=i.length,l,f="value"in Ai?Ai.value:Ai.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Ls=f.slice(t,1<l?1-l:void 0)}function Us(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Gi(){return!0}function Zn(){return!1}function qt(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gi:Zn,this.isPropagationStopped=Zn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),i}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=qt(Ki),Mr=b({},Ki,{view:0,detail:0}),tl=qt(Mr),Vr,Da,wi,Oa=b({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Vr=t.screenX-wi.screenX,Da=t.screenY-wi.screenY):Da=Vr=0,wi=t),Vr)},movementY:function(t){return"movementY"in t?t.movementY:Da}}),nl=qt(Oa),Ps=b({},Oa,{dataTransfer:0}),zu=qt(Ps),Bu=b({},Mr,{relatedTarget:0}),js=qt(Bu),il=b({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Hu=qt(il),Ma=b({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qu=qt(Ma),Fu=b({},Ki,{data:0}),Ri=qt(Fu),Gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Yu[t])?!!i[t]:!1}function kr(){return Qu}var rn=b({},Mr,{key:function(t){if(t.key){var i=Gu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(t){return t.type==="keypress"?Us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$u=qt(rn),Xu=b({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=qt(Xu),c=b({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),y=qt(c),v=b({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=qt(v),j=b({},Oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=qt(j),re=b({},Ki,{newState:0,oldState:0}),we=qt(re),pt=[9,13,27,32],He=On&&"CompositionEvent"in window,at=null;On&&"documentMode"in document&&(at=document.documentMode);var Mn=On&&"TextEvent"in window&&!at,xi=On&&(!He||at&&8<at&&11>=at),Wn=" ",ei=!1;function zs(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Va(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ka=!1;function uA(t,i){switch(t){case"compositionend":return Va(i);case"keypress":return i.which!==32?null:(ei=!0,Wn);case"textInput":return t=i.data,t===Wn&&ei?null:t;default:return null}}function cA(t,i){if(ka)return t==="compositionend"||!He&&zs(t,i)?(t=el(),Ls=Wo=Ai=null,ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return xi&&i.locale!=="ko"?null:i.data;default:return null}}var hA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!hA[t.type]:i==="textarea"}function kg(t,i,a,l){Dr?Ti?Ti.push(l):Ti=[l]:Dr=l,i=jc(i,"onChange"),0<i.length&&(a=new Si("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var rl=null,sl=null;function fA(t){yv(t,0)}function Ju(t){var i=yn(t);if(Os(i))return t}function Lg(t,i){if(t==="change")return i}var Ug=!1;if(On){var If;if(On){var Nf="oninput"in document;if(!Nf){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),Nf=typeof Pg.oninput=="function"}If=Nf}else If=!1;Ug=If&&(!document.documentMode||9<document.documentMode)}function jg(){rl&&(rl.detachEvent("onpropertychange",zg),sl=rl=null)}function zg(t){if(t.propertyName==="value"&&Ju(sl)){var i=[];kg(i,sl,t,Dn(t)),Or(fA,i)}}function dA(t,i,a){t==="focusin"?(jg(),rl=i,sl=a,rl.attachEvent("onpropertychange",zg)):t==="focusout"&&jg()}function mA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ju(sl)}function pA(t,i){if(t==="click")return Ju(i)}function gA(t,i){if(t==="input"||t==="change")return Ju(i)}function yA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var vn=typeof Object.is=="function"?Object.is:yA;function al(t,i){if(vn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!vt.call(i,f)||!vn(t[f],i[f]))return!1}return!0}function Bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hg(t,i){var a=Bg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Bg(a)}}function qg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?qg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Fg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=bi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=bi(t.document)}return i}function Df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var _A=On&&"documentMode"in document&&11>=document.documentMode,La=null,Of=null,ol=null,Mf=!1;function Gg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mf||La==null||La!==bi(l)||(l=La,"selectionStart"in l&&Df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=jc(Of,"onSelect"),0<l.length&&(i=new Si("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=La)))}function Bs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ua={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},Vf={},Kg={};On&&(Kg=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Hs(t){if(Vf[t])return Vf[t];if(!Ua[t])return t;var i=Ua[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Kg)return Vf[t]=i[a];return t}var Yg=Hs("animationend"),Qg=Hs("animationiteration"),$g=Hs("animationstart"),vA=Hs("transitionrun"),EA=Hs("transitionstart"),bA=Hs("transitioncancel"),Xg=Hs("transitionend"),Jg=new Map,kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kf.push("scrollEnd");function ti(t,i){Jg.set(t,i),vi(i,[t])}var Zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],Pa=0,Lf=0;function Wu(){for(var t=Pa,i=Lf=Pa=0;i<t;){var a=Vn[i];Vn[i++]=null;var l=Vn[i];Vn[i++]=null;var f=Vn[i];Vn[i++]=null;var d=Vn[i];if(Vn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Zg(a,f,d)}}function ec(t,i,a,l){Vn[Pa++]=t,Vn[Pa++]=i,Vn[Pa++]=a,Vn[Pa++]=l,Lf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uf(t,i,a,l){return ec(t,i,a,l),tc(t)}function qs(t,i){return ec(t,null,null,i),tc(t)}function Zg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-mt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function tc(t){if(50<Il)throw Il=0,Kd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ja={};function TA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,i,a,l){return new TA(t,i,a,l)}function Pf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,i){var a=t.alternate;return a===null?(a=En(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Wg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function nc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Pf(t)&&(_=1);else if(typeof t=="string")_=xS(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=En(31,a,i,f),t.elementType=C,t.lanes=d,t;case Y:return Fs(a.children,f,d,i);case F:_=8,f|=24;break;case ne:return t=En(12,a,i,f|2),t.elementType=ne,t.lanes=d,t;case Se:return t=En(13,a,i,f),t.elementType=Se,t.lanes=d,t;case be:return t=En(19,a,i,f),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case te:_=9;break e;case fe:_=11;break e;case x:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=En(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Fs(t,i,a,l){return t=En(7,t,l,i),t.lanes=a,t}function jf(t,i,a){return t=En(6,t,null,i),t.lanes=a,t}function ey(t){var i=En(18,null,null,0);return i.stateNode=t,i}function zf(t,i,a){return i=En(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ty=new WeakMap;function kn(t,i){if(typeof t=="object"&&t!==null){var a=ty.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Po(i)},ty.set(t,i),i)}return{value:t,source:i,stack:Po(i)}}var za=[],Ba=0,ic=null,ll=0,Ln=[],Un=0,Lr=null,Ci=1,Ii="";function $i(t,i){za[Ba++]=ll,za[Ba++]=ic,ic=t,ll=i}function ny(t,i,a){Ln[Un++]=Ci,Ln[Un++]=Ii,Ln[Un++]=Lr,Lr=t;var l=Ci;t=Ii;var f=32-mt(l)-1;l&=~(1<<f),a+=1;var d=32-mt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ci=1<<32-mt(i)+f|a<<f|l,Ii=d+t}else Ci=1<<d|a<<f|l,Ii=t}function Bf(t){t.return!==null&&($i(t,1),ny(t,1,0))}function Hf(t){for(;t===ic;)ic=za[--Ba],za[Ba]=null,ll=za[--Ba],za[Ba]=null;for(;t===Lr;)Lr=Ln[--Un],Ln[Un]=null,Ii=Ln[--Un],Ln[Un]=null,Ci=Ln[--Un],Ln[Un]=null}function iy(t,i){Ln[Un++]=Ci,Ln[Un++]=Ii,Ln[Un++]=Lr,Ci=i.id,Ii=i.overflow,Lr=t}var Ft=null,tt=null,Le=!1,Ur=null,Pn=!1,qf=Error(s(519));function Pr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(kn(i,t)),qf}function ry(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[bt]=t,i[Pt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Dl.length;a++)Ne(Dl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),Lu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),Ir(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||bv(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Xn),i=!0):i=!1,i||Pr(t,!0)}function sy(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Ft=Ft.return}}function Ha(t){if(t!==Ft)return!1;if(!Le)return sy(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||om(t.type,t.memoizedProps)),a=!a),a&&tt&&Pr(t),sy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=Nv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=Nv(t)}else i===27?(i=tt,Zr(t.type)?(t=fm,fm=null,tt=t):tt=i):tt=Ft?zn(t.stateNode.nextSibling):null;return!0}function Gs(){tt=Ft=null,Le=!1}function Ff(){var t=Ur;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Ur=null),t}function ul(t){Ur===null?Ur=[t]:Ur.push(t)}var Gf=V(null),Ks=null,Xi=null;function jr(t,i,a){ae(Gf,i._currentValue),i._currentValue=a}function Ji(t){t._currentValue=Gf.current,W(Gf)}function Kf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Yf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var N=0;N<i.length;N++)if(T.context===i[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Kf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Kf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function qa(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=f.type;vn(f.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(f===Ue.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}f=f.return}t!==null&&Yf(i,t,a,l),i.flags|=262144}function rc(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ys(t){Ks=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return ay(Ks,t)}function sc(t,i){return Ks===null&&Ys(t),ay(t,i)}function ay(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Xi===null){if(t===null)throw Error(s(308));Xi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Xi=Xi.next=i;return a}var AA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},SA=r.unstable_scheduleCallback,wA=r.unstable_NormalPriority,St={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qf(){return{controller:new AA,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&SA(wA,function(){t.controller.abort()})}var hl=null,$f=0,Fa=0,Ga=null;function RA(t,i){if(hl===null){var a=hl=[];$f=0,Fa=Zd(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $f++,i.then(oy,oy),i}function oy(){if(--$f===0&&hl!==null){Ga!==null&&(Ga.status="fulfilled");var t=hl;hl=null,Fa=0,Ga=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function xA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ly=$.S;$.S=function(t,i){G_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&RA(t,i),ly!==null&&ly(t,i)};var Qs=V(null);function Xf(){var t=Qs.current;return t!==null?t:We.pooledCache}function ac(t,i){i===null?ae(Qs,Qs.current):ae(Qs,i.pool)}function uy(){var t=Xf();return t===null?null:{parent:St._currentValue,pool:t}}var Ka=Error(s(460)),Jf=Error(s(474)),oc=Error(s(542)),lc={then:function(){}};function cy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Xn,Xn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,dy(t),t;default:if(typeof i.status=="string")i.then(Xn,Xn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,dy(t),t}throw Xs=i,Ka}}function $s(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xs=a,Ka):a}}var Xs=null;function fy(){if(Xs===null)throw Error(s(459));var t=Xs;return Xs=null,t}function dy(t){if(t===Ka||t===oc)throw Error(s(483))}var Ya=null,fl=0;function uc(t){var i=fl;return fl+=1,Ya===null&&(Ya=[]),hy(Ya,t,i)}function dl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function cc(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function my(t){function i(U,D){if(t){var z=U.deletions;z===null?(U.deletions=[D],U.flags|=16):z.push(D)}}function a(U,D){if(!t)return null;for(;D!==null;)i(U,D),D=D.sibling;return null}function l(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function f(U,D){return U=Qi(U,D),U.index=0,U.sibling=null,U}function d(U,D,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<D?(U.flags|=67108866,D):z):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,D,z,X){return D===null||D.tag!==6?(D=jf(z,U.mode,X),D.return=U,D):(D=f(D,z),D.return=U,D)}function N(U,D,z,X){var de=z.type;return de===Y?Q(U,D,z.props.children,X,z.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&$s(de)===D.type)?(D=f(D,z.props),dl(D,z),D.return=U,D):(D=nc(z.type,z.key,z.props,null,U.mode,X),dl(D,z),D.return=U,D)}function B(U,D,z,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=zf(z,U.mode,X),D.return=U,D):(D=f(D,z.children||[]),D.return=U,D)}function Q(U,D,z,X,de){return D===null||D.tag!==7?(D=Fs(z,U.mode,X,de),D.return=U,D):(D=f(D,z),D.return=U,D)}function Z(U,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=jf(""+D,U.mode,z),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case M:return z=nc(D.type,D.key,D.props,null,U.mode,z),dl(z,D),z.return=U,z;case K:return D=zf(D,U.mode,z),D.return=U,D;case R:return D=$s(D),Z(U,D,z)}if(Dt(D)||P(D))return D=Fs(D,U.mode,z,null),D.return=U,D;if(typeof D.then=="function")return Z(U,uc(D),z);if(D.$$typeof===ie)return Z(U,sc(U,D),z);cc(U,D)}return null}function H(U,D,z,X){var de=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return de!==null?null:T(U,D,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return z.key===de?N(U,D,z,X):null;case K:return z.key===de?B(U,D,z,X):null;case R:return z=$s(z),H(U,D,z,X)}if(Dt(z)||P(z))return de!==null?null:Q(U,D,z,X,null);if(typeof z.then=="function")return H(U,D,uc(z),X);if(z.$$typeof===ie)return H(U,D,sc(U,z),X);cc(U,z)}return null}function G(U,D,z,X,de){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(z)||null,T(D,U,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case M:return U=U.get(X.key===null?z:X.key)||null,N(D,U,X,de);case K:return U=U.get(X.key===null?z:X.key)||null,B(D,U,X,de);case R:return X=$s(X),G(U,D,z,X,de)}if(Dt(X)||P(X))return U=U.get(z)||null,Q(D,U,X,de,null);if(typeof X.then=="function")return G(U,D,z,uc(X),de);if(X.$$typeof===ie)return G(U,D,z,sc(D,X),de);cc(D,X)}return null}function ce(U,D,z,X){for(var de=null,ze=null,he=D,Ce=D=0,Oe=null;he!==null&&Ce<z.length;Ce++){he.index>Ce?(Oe=he,he=null):Oe=he.sibling;var Be=H(U,he,z[Ce],X);if(Be===null){he===null&&(he=Oe);break}t&&he&&Be.alternate===null&&i(U,he),D=d(Be,D,Ce),ze===null?de=Be:ze.sibling=Be,ze=Be,he=Oe}if(Ce===z.length)return a(U,he),Le&&$i(U,Ce),de;if(he===null){for(;Ce<z.length;Ce++)he=Z(U,z[Ce],X),he!==null&&(D=d(he,D,Ce),ze===null?de=he:ze.sibling=he,ze=he);return Le&&$i(U,Ce),de}for(he=l(he);Ce<z.length;Ce++)Oe=G(he,U,Ce,z[Ce],X),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?Ce:Oe.key),D=d(Oe,D,Ce),ze===null?de=Oe:ze.sibling=Oe,ze=Oe);return t&&he.forEach(function(is){return i(U,is)}),Le&&$i(U,Ce),de}function ge(U,D,z,X){if(z==null)throw Error(s(151));for(var de=null,ze=null,he=D,Ce=D=0,Oe=null,Be=z.next();he!==null&&!Be.done;Ce++,Be=z.next()){he.index>Ce?(Oe=he,he=null):Oe=he.sibling;var is=H(U,he,Be.value,X);if(is===null){he===null&&(he=Oe);break}t&&he&&is.alternate===null&&i(U,he),D=d(is,D,Ce),ze===null?de=is:ze.sibling=is,ze=is,he=Oe}if(Be.done)return a(U,he),Le&&$i(U,Ce),de;if(he===null){for(;!Be.done;Ce++,Be=z.next())Be=Z(U,Be.value,X),Be!==null&&(D=d(Be,D,Ce),ze===null?de=Be:ze.sibling=Be,ze=Be);return Le&&$i(U,Ce),de}for(he=l(he);!Be.done;Ce++,Be=z.next())Be=G(he,U,Ce,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?Ce:Be.key),D=d(Be,D,Ce),ze===null?de=Be:ze.sibling=Be,ze=Be);return t&&he.forEach(function(PS){return i(U,PS)}),Le&&$i(U,Ce),de}function Ze(U,D,z,X){if(typeof z=="object"&&z!==null&&z.type===Y&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case M:e:{for(var de=z.key;D!==null;){if(D.key===de){if(de=z.type,de===Y){if(D.tag===7){a(U,D.sibling),X=f(D,z.props.children),X.return=U,U=X;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&$s(de)===D.type){a(U,D.sibling),X=f(D,z.props),dl(X,z),X.return=U,U=X;break e}a(U,D);break}else i(U,D);D=D.sibling}z.type===Y?(X=Fs(z.props.children,U.mode,X,z.key),X.return=U,U=X):(X=nc(z.type,z.key,z.props,null,U.mode,X),dl(X,z),X.return=U,U=X)}return _(U);case K:e:{for(de=z.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(U,D.sibling),X=f(D,z.children||[]),X.return=U,U=X;break e}else{a(U,D);break}else i(U,D);D=D.sibling}X=zf(z,U.mode,X),X.return=U,U=X}return _(U);case R:return z=$s(z),Ze(U,D,z,X)}if(Dt(z))return ce(U,D,z,X);if(P(z)){if(de=P(z),typeof de!="function")throw Error(s(150));return z=de.call(z),ge(U,D,z,X)}if(typeof z.then=="function")return Ze(U,D,uc(z),X);if(z.$$typeof===ie)return Ze(U,D,sc(U,z),X);cc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(a(U,D.sibling),X=f(D,z),X.return=U,U=X):(a(U,D),X=jf(z,U.mode,X),X.return=U,U=X),_(U)):a(U,D)}return function(U,D,z,X){try{fl=0;var de=Ze(U,D,z,X);return Ya=null,de}catch(he){if(he===Ka||he===oc)throw he;var ze=En(29,he,null,U.mode);return ze.lanes=X,ze.return=U,ze}}}var Js=my(!0),py=my(!1),zr=!1;function Zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Br(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=tc(t),Zg(t,null,a),i}return ec(t,l,i,a),tc(t)}function ml(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Bo(t,a)}}function ed(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var td=!1;function pl(){if(td){var t=Ga;if(t!==null)throw t}}function gl(t,i,a,l){td=!1;var f=t.updateQueue;zr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var N=T,B=N.next;N.next=null,_===null?d=B:_.next=B,_=N;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==_&&(T===null?Q.firstBaseUpdate=B:T.next=B,Q.lastBaseUpdate=N))}if(d!==null){var Z=f.baseState;_=0,Q=B=N=null,T=d;do{var H=T.lane&-536870913,G=H!==T.lane;if(G?(De&H)===H:(l&H)===H){H!==0&&H===Fa&&(td=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,ge=T;H=i;var Ze=a;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){Z=ce.call(Ze,Z,H);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,H=typeof ce=="function"?ce.call(Ze,Z,H):ce,H==null)break e;Z=b({},Z,H);break e;case 2:zr=!0}}H=T.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=f.callbacks,G===null?f.callbacks=[H]:G.push(H))}else G={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(B=Q=G,N=Z):Q=Q.next=G,_|=H;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;G=T,T=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);Q===null&&(N=Z),f.baseState=N,f.firstBaseUpdate=B,f.lastBaseUpdate=Q,d===null&&(f.shared.lanes=0),Yr|=_,t.lanes=_,t.memoizedState=Z}}function gy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function yy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gy(a[t],i)}var Qa=V(null),hc=V(0);function _y(t,i){t=ar,ae(hc,t),ae(Qa,i),ar=t|i.baseLanes}function nd(){ae(hc,ar),ae(Qa,Qa.current)}function id(){ar=hc.current,W(Qa),W(hc)}var bn=V(null),jn=null;function qr(t){var i=t.alternate;ae(gt,gt.current&1),ae(bn,t),jn===null&&(i===null||Qa.current!==null||i.memoizedState!==null)&&(jn=t)}function rd(t){ae(gt,gt.current),ae(bn,t),jn===null&&(jn=t)}function vy(t){t.tag===22?(ae(gt,gt.current),ae(bn,t),jn===null&&(jn=t)):Fr()}function Fr(){ae(gt,gt.current),ae(bn,bn.current)}function Tn(t){W(bn),jn===t&&(jn=null),W(gt)}var gt=V(0);function fc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||cm(a)||hm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Zi=0,Re=null,Xe=null,wt=null,dc=!1,$a=!1,Zs=!1,mc=0,yl=0,Xa=null,CA=0;function ct(){throw Error(s(321))}function sd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!vn(t[a],i[a]))return!1;return!0}function ad(t,i,a,l,f,d){return Zi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?n_:bd,Zs=!1,d=a(l,f),Zs=!1,$a&&(d=by(i,a,l,f)),Ey(t),d}function Ey(t){$.H=El;var i=Xe!==null&&Xe.next!==null;if(Zi=0,wt=Xe=Re=null,dc=!1,yl=0,Xa=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&rc(t)&&(Rt=!0))}function by(t,i,a,l){Re=t;var f=0;do{if($a&&(Xa=null),yl=0,$a=!1,25<=f)throw Error(s(301));if(f+=1,wt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=i_,d=i(a,l)}while($a);return d}function IA(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?_l(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Re.flags|=1024),i}function od(){var t=mc!==0;return mc=0,t}function ld(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ud(t){if(dc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}dc=!1}Zi=0,wt=Xe=Re=null,$a=!1,yl=mc=0,Xa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Re.memoizedState=wt=t:wt=wt.next=t,wt}function yt(){if(Xe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=wt===null?Re.memoizedState:wt.next;if(i!==null)wt=i,Xe=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},wt===null?Re.memoizedState=wt=t:wt=wt.next=t}return wt}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var i=yl;return yl+=1,Xa===null&&(Xa=[]),t=hy(Xa,t,i),i=Re,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?n_:bd),t}function gc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===ie)return Gt(t)}throw Error(s(438,String(t)))}function cd(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=pc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function Wi(t,i){return typeof i=="function"?i(t):i}function yc(t){var i=yt();return hd(i,Xe,t)}function hd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var T=_=null,N=null,B=i,Q=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(De&Z)===Z:(Zi&Z)===Z){var H=B.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===Fa&&(Q=!0);else if((Zi&H)===H){B=B.next,H===Fa&&(Q=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(T=N=Z,_=d):N=N.next=Z,Re.lanes|=H,Yr|=H;Z=B.action,Zs&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else H={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(T=N=H,_=d):N=N.next=H,Re.lanes|=Z,Yr|=Z;B=B.next}while(B!==null&&B!==i);if(N===null?_=d:N.next=T,!vn(d,t.memoizedState)&&(Rt=!0,Q&&(a=Ga,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function fd(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);vn(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ty(t,i,a){var l=Re,f=yt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!vn((Xe||f).memoizedState,a);if(_&&(f.memoizedState=a,Rt=!0),f=f.queue,pd(wy.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},Sy.bind(null,l,f,a,i),null),We===null)throw Error(s(349));d||(Zi&127)!==0||Ay(l,i,a)}return a}function Ay(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=pc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Sy(t,i,a,l){i.value=a,i.getSnapshot=l,Ry(i)&&xy(t)}function wy(t,i,a){return a(function(){Ry(i)&&xy(t)})}function Ry(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!vn(t,a)}catch{return!0}}function xy(t){var i=qs(t,2);i!==null&&dn(i,t,2)}function dd(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Zs){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},i}function Cy(t,i,a,l){return t.baseState=a,hd(t,Xe,typeof l=="function"?l:Wi)}function NA(t,i,a,l,f){if(Ec(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Iy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Iy(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=$.T,_={};$.T=_;try{var T=a(f,l),N=$.S;N!==null&&N(_,T),Ny(t,i,T)}catch(B){md(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(f,l),Ny(t,i,d)}catch(B){md(t,i,B)}}function Ny(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Dy(t,i,l)},function(l){return md(t,i,l)}):Dy(t,i,a)}function Dy(t,i,a){i.status="fulfilled",i.value=a,Oy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Iy(t,a)))}function md(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Oy(i),i=i.next;while(i!==l)}t.action=null}function Oy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function My(t,i){return i}function Vy(t,i){if(Le){var a=We.formState;if(a!==null){e:{var l=Re;if(Le){if(tt){t:{for(var f=tt,d=Pn;f.nodeType!==8;){if(!d){f=null;break t}if(f=zn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){tt=zn(f.nextSibling),l=f.data==="F!";break e}}Pr(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:My,lastRenderedState:i},a.queue=l,a=Wy.bind(null,Re,l),l.dispatch=a,l=dd(!1),d=Ed.bind(null,Re,!1,l.queue),l=sn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=NA.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function ky(t){var i=yt();return Ly(i,Xe,t)}function Ly(t,i,a){if(i=hd(t,i,My)[0],t=yc(Wi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=_l(i)}catch(_){throw _===Ka?oc:_}else l=i;i=yt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Ja(9,{destroy:void 0},DA.bind(null,f,a),null)),[l,d,t]}function DA(t,i){t.action=i}function Uy(t){var i=yt(),a=Xe;if(a!==null)return Ly(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ja(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=pc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Py(){return yt().memoizedState}function _c(t,i,a,l){var f=sn();Re.flags|=t,f.memoizedState=Ja(1|i,{destroy:void 0},a,l===void 0?null:l)}function vc(t,i,a,l){var f=yt();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&sd(l,Xe.memoizedState.deps)?f.memoizedState=Ja(i,d,a,l):(Re.flags|=t,f.memoizedState=Ja(1|i,d,a,l))}function jy(t,i){_c(8390656,8,t,i)}function pd(t,i){vc(2048,8,t,i)}function OA(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=pc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function zy(t){var i=yt().memoizedState;return OA({ref:i,nextImpl:t}),function(){if((qe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function By(t,i){return vc(4,2,t,i)}function Hy(t,i){return vc(4,4,t,i)}function qy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Fy(t,i,a){a=a!=null?a.concat([t]):null,vc(4,4,qy.bind(null,i,t),a)}function gd(){}function Gy(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&sd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Ky(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&sd(i,l[1]))return l[0];if(l=t(),Zs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l}function yd(t,i,a){return a===void 0||(Zi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Y_(),Re.lanes|=t,Yr|=t,a)}function Yy(t,i,a,l){return vn(a,i)?a:Qa.current!==null?(t=yd(t,a,l),vn(t,i)||(Rt=!0),t):(Zi&42)===0||(Zi&1073741824)!==0&&(De&261930)===0?(Rt=!0,t.memoizedState=a):(t=Y_(),Re.lanes|=t,Yr|=t,i)}function Qy(t,i,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var _=$.T,T={};$.T=T,Ed(t,!1,i,a);try{var N=f(),B=$.S;if(B!==null&&B(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=xA(N,l);vl(t,i,Q,wn(t))}else vl(t,i,l,wn(t))}catch(Z){vl(t,i,{then:function(){},status:"rejected",reason:Z},wn())}finally{se.p=d,_!==null&&T.types!==null&&(_.types=T.types),$.T=_}}function MA(){}function _d(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=$y(t).queue;Qy(t,f,i,pe,a===null?MA:function(){return Xy(t),a(l)})}function $y(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Xy(t){var i=$y(t);i.next===null&&(i=t.alternate.memoizedState),vl(t,i.next.queue,{},wn())}function vd(){return Gt(Ll)}function Jy(){return yt().memoizedState}function Zy(){return yt().memoizedState}function VA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();t=Br(a);var l=Hr(i,t,a);l!==null&&(dn(l,i,a),ml(l,i,a)),i={cache:Qf()},t.payload=i;return}i=i.return}}function kA(t,i,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(t)?e_(i,a):(a=Uf(t,i,a,l),a!==null&&(dn(a,t,l),t_(a,i,l)))}function Wy(t,i,a){var l=wn();vl(t,i,a,l)}function vl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(t))e_(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(f.hasEagerState=!0,f.eagerState=T,vn(T,_))return ec(t,i,f,0),We===null&&Wu(),!1}catch{}if(a=Uf(t,i,f,l),a!==null)return dn(a,t,l),t_(a,i,l),!0}return!1}function Ed(t,i,a,l){if(l={lane:2,revertLane:Zd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ec(t)){if(i)throw Error(s(479))}else i=Uf(t,a,l,2),i!==null&&dn(i,t,2)}function Ec(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function e_(t,i){$a=dc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function t_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Bo(t,a)}}var El={readContext:Gt,use:gc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};El.useEffectEvent=ct;var n_={readContext:Gt,use:gc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:jy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,_c(4194308,4,qy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return _c(4194308,4,t,i)},useInsertionEffect:function(t,i){_c(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Zs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var f=a(i);if(Zs){In(!0);try{a(i)}finally{In(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=kA.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=dd(t);var i=t.queue,a=Wy.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:gd,useDeferredValue:function(t,i){var a=sn();return yd(a,t,i)},useTransition:function(){var t=dd(!1);return t=Qy.bind(null,Re,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,f=sn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),We===null)throw Error(s(349));(De&127)!==0||Ay(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,jy(wy.bind(null,l,d,t),[t]),l.flags|=2048,Ja(9,{destroy:void 0},Sy.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=We.identifierPrefix;if(Le){var a=Ii,l=Ci;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=mc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=CA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:vd,useFormState:Vy,useActionState:Vy,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ed.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:cd,useCacheRefresh:function(){return sn().memoizedState=VA.bind(null,Re)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},bd={readContext:Gt,use:gc,useCallback:Gy,useContext:Gt,useEffect:pd,useImperativeHandle:Fy,useInsertionEffect:By,useLayoutEffect:Hy,useMemo:Ky,useReducer:yc,useRef:Py,useState:function(){return yc(Wi)},useDebugValue:gd,useDeferredValue:function(t,i){var a=yt();return Yy(a,Xe.memoizedState,t,i)},useTransition:function(){var t=yc(Wi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:Ty,useId:Jy,useHostTransitionStatus:vd,useFormState:ky,useActionState:ky,useOptimistic:function(t,i){var a=yt();return Cy(a,Xe,t,i)},useMemoCache:cd,useCacheRefresh:Zy};bd.useEffectEvent=zy;var i_={readContext:Gt,use:gc,useCallback:Gy,useContext:Gt,useEffect:pd,useImperativeHandle:Fy,useInsertionEffect:By,useLayoutEffect:Hy,useMemo:Ky,useReducer:fd,useRef:Py,useState:function(){return fd(Wi)},useDebugValue:gd,useDeferredValue:function(t,i){var a=yt();return Xe===null?yd(a,t,i):Yy(a,Xe.memoizedState,t,i)},useTransition:function(){var t=fd(Wi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:Ty,useId:Jy,useHostTransitionStatus:vd,useFormState:Uy,useActionState:Uy,useOptimistic:function(t,i){var a=yt();return Xe!==null?Cy(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:cd,useCacheRefresh:Zy};i_.useEffectEvent=zy;function Td(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ad={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=wn(),f=Br(l);f.payload=i,a!=null&&(f.callback=a),i=Hr(t,f,l),i!==null&&(dn(i,t,l),ml(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=wn(),f=Br(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Hr(t,f,l),i!==null&&(dn(i,t,l),ml(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=wn(),l=Br(a);l.tag=2,i!=null&&(l.callback=i),i=Hr(t,l,a),i!==null&&(dn(i,t,a),ml(i,t,a))}};function r_(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!al(a,l)||!al(f,d):!0}function s_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Ad.enqueueReplaceState(i,i.state,null)}function Ws(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function a_(t){Zu(t)}function o_(t){console.error(t)}function l_(t){Zu(t)}function bc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function u_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Sd(t,i,a){return a=Br(a),a.tag=3,a.payload={element:null},a.callback=function(){bc(t,i)},a}function c_(t){return t=Br(t),t.tag=3,t}function h_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){u_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){u_(i,a,l),typeof f!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function LA(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&qa(i,a,f,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?Mc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===lc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),$d(t,l,f)),!1;case 22:return a.flags|=65536,l===lc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),$d(t,l,f)),!1}throw Error(s(435,a.tag))}return $d(t,l,f),Mc(),!1}if(Le)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==qf&&(t=Error(s(422),{cause:l}),ul(kn(t,a)))):(l!==qf&&(i=Error(s(423),{cause:l}),ul(kn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=kn(l,a),f=Sd(t.stateNode,l,f),ed(t,f),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=kn(d,a),Cl===null?Cl=[d]:Cl.push(d),ht!==4&&(ht=2),i===null)return!0;l=kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Sd(a.stateNode,l,t),ed(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Qr===null||!Qr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=c_(f),h_(f,t,a,l),ed(a,f),!1}a=a.return}while(a!==null);return!1}var wd=Error(s(461)),Rt=!1;function Kt(t,i,a,l){i.child=t===null?py(i,null,a,l):Js(i,t.child,a,l)}function f_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ys(i),l=ad(t,i,a,_,d,f),T=od(),t!==null&&!Rt?(ld(t,i,f),er(t,i,f)):(Le&&T&&Bf(i),i.flags|=1,Kt(t,i,l,f),i.child)}function d_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Pf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,m_(t,i,d,l,f)):(t=nc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Md(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(_,l)&&t.ref===i.ref)return er(t,i,f)}return i.flags|=1,t=Qi(d,l),t.ref=i.ref,t.return=i,i.child=t}function m_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(al(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,Md(t,f))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,er(t,i,f)}return Rd(t,i,a,l,f)}function p_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return g_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ac(i,d!==null?d.cachePool:null),d!==null?_y(i,d):nd(),vy(i);else return l=i.lanes=536870912,g_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ac(i,d.cachePool),_y(i,d),Fr(),i.memoizedState=null):(t!==null&&ac(i,null),nd(),Fr());return Kt(t,i,f,a),i.child}function bl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function g_(t,i,a,l,f){var d=Xf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&ac(i,null),nd(),vy(i),t!==null&&qa(t,i,l,!0),i.childLanes=f,null}function Tc(t,i){return i=Sc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function y_(t,i,a){return Js(i,t.child,null,a),t=Tc(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function UA(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Tc(i,l),i.lanes=536870912,bl(null,t);if(rd(i),(t=tt)?(t=Iv(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Lr!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=ey(t),a.return=i,i.child=a,Ft=i,tt=null)):t=null,t===null)throw Pr(i);return i.lanes=536870912,null}return Tc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(rd(i),f)if(i.flags&256)i.flags&=-257,i=y_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||qa(t,i,a,!1),f=(a&t.childLanes)!==0,Rt||f){if(l=We,l!==null&&(_=Ho(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,qs(t,_),dn(l,t,_),wd;Mc(),i=y_(t,i,a)}else t=d.treeContext,tt=zn(_.nextSibling),Ft=i,Le=!0,Ur=null,Pn=!1,t!==null&&iy(i,t),i=Tc(i,l),i.flags|=4096;return i}return t=Qi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ac(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Rd(t,i,a,l,f){return Ys(i),a=ad(t,i,a,l,void 0,f),l=od(),t!==null&&!Rt?(ld(t,i,f),er(t,i,f)):(Le&&l&&Bf(i),i.flags|=1,Kt(t,i,a,f),i.child)}function __(t,i,a,l,f,d){return Ys(i),i.updateQueue=null,a=by(i,l,a,f),Ey(t),l=od(),t!==null&&!Rt?(ld(t,i,d),er(t,i,d)):(Le&&l&&Bf(i),i.flags|=1,Kt(t,i,a,d),i.child)}function v_(t,i,a,l,f){if(Ys(i),i.stateNode===null){var d=ja,_=a.contextType;typeof _=="object"&&_!==null&&(d=Gt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ad,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Zf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Gt(_):ja,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Td(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Ad.enqueueReplaceState(d,d.state,null),gl(i,l,d,f),pl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,N=Ws(a,T);d.props=N;var B=d.context,Q=a.contextType;_=ja,typeof Q=="object"&&Q!==null&&(_=Gt(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==_)&&s_(i,d,l,_),zr=!1;var H=i.memoizedState;d.state=H,gl(i,l,d,f),pl(),B=i.memoizedState,T||H!==B||zr?(typeof Z=="function"&&(Td(i,a,Z,l),B=i.memoizedState),(N=zr||r_(i,a,N,l,H,B,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Wf(t,i),_=i.memoizedProps,Q=Ws(a,_),d.props=Q,Z=i.pendingProps,H=d.context,B=a.contextType,N=ja,typeof B=="object"&&B!==null&&(N=Gt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||H!==N)&&s_(i,d,l,N),zr=!1,H=i.memoizedState,d.state=H,gl(i,l,d,f),pl();var G=i.memoizedState;_!==Z||H!==G||zr||t!==null&&t.dependencies!==null&&rc(t.dependencies)?(typeof T=="function"&&(Td(i,a,T,l),G=i.memoizedState),(Q=zr||r_(i,a,Q,l,H,G,N)||t!==null&&t.dependencies!==null&&rc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=N,l=Q):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ac(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Js(i,t.child,null,f),i.child=Js(i,null,a,f)):Kt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=er(t,i,f),t}function E_(t,i,a,l){return Gs(),i.flags|=256,Kt(t,i,a,l),i.child}var xd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cd(t){return{baseLanes:t,cachePool:uy()}}function Id(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Sn),t}function b_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(f?qr(i):Fr(),(t=tt)?(t=Iv(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Lr!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=ey(t),a.return=i,i.child=a,Ft=i,tt=null)):t=null,t===null)throw Pr(i);return hm(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,f?(Fr(),f=i.mode,T=Sc({mode:"hidden",children:T},f),l=Fs(l,f,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Cd(a),l.childLanes=Id(t,_,a),i.memoizedState=xd,bl(null,l)):(qr(i),Nd(i,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(d)i.flags&256?(qr(i),i.flags&=-257,i=Dd(t,i,a)):i.memoizedState!==null?(Fr(),i.child=t.child,i.flags|=128,i=null):(Fr(),T=l.fallback,f=i.mode,l=Sc({mode:"visible",children:l.children},f),T=Fs(T,f,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Js(i,t.child,null,a),l=i.child,l.memoizedState=Cd(a),l.childLanes=Id(t,_,a),i.memoizedState=xd,i=bl(null,l));else if(qr(i),hm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,ul({value:l,source:null,stack:null}),i=Dd(t,i,a)}else if(Rt||qa(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=We,_!==null&&(l=Ho(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,qs(t,l),dn(_,t,l),wd;cm(T)||Mc(),i=Dd(t,i,a)}else cm(T)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,tt=zn(T.nextSibling),Ft=i,Le=!0,Ur=null,Pn=!1,t!==null&&iy(i,t),i=Nd(i,l.children),i.flags|=4096);return i}return f?(Fr(),T=l.fallback,f=i.mode,N=t.child,B=N.sibling,l=Qi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?T=Qi(B,T):(T=Fs(T,f,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,bl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Cd(a):(f=T.cachePool,f!==null?(N=St._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=uy(),T={baseLanes:T.baseLanes|a,cachePool:f}),l.memoizedState=T,l.childLanes=Id(t,_,a),i.memoizedState=xd,bl(t.child,l)):(qr(i),a=t.child,t=a.sibling,a=Qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Nd(t,i){return i=Sc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Sc(t,i){return t=En(22,t,null,i),t.lanes=0,t}function Dd(t,i,a){return Js(i,t.child,null,a),t=Nd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function T_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Kf(t.return,i,a)}function Od(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function A_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=gt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ae(gt,_),Kt(t,i,l,a),l=Le?ll:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&T_(t,a,i);else if(t.tag===19)T_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&fc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Od(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&fc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Od(i,!0,a,null,d,l);break;case"together":Od(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function er(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Yr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(qa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Md(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&rc(t)))}function PA(t,i,a){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),jr(i,St,t.memoizedState.cache),Gs();break;case 27:case 5:ws(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:jr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,rd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(qr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?b_(t,i,a):(qr(i),t=er(t,i,a),t!==null?t.sibling:null);qr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(qa(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return A_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(gt,gt.current),l)break;return null;case 22:return i.lanes=0,p_(t,i,a,i.pendingProps);case 24:jr(i,St,t.memoizedState.cache)}return er(t,i,a)}function S_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!Md(t,a)&&(i.flags&128)===0)return Rt=!1,PA(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Le&&(i.flags&1048576)!==0&&ny(i,ll,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=$s(i.elementType),i.type=t,typeof t=="function")Pf(t)?(l=Ws(t,l),i.tag=1,i=v_(null,i,t,l,a)):(i.tag=0,i=Rd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===fe){i.tag=11,i=f_(null,i,t,l,a);break e}else if(f===x){i.tag=14,i=d_(null,i,t,l,a);break e}}throw i=rt(t)||t,Error(s(306,i,""))}}return i;case 0:return Rd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Ws(l,i.pendingProps),v_(t,i,l,f,a);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Wf(t,i),gl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,jr(i,St,l),l!==d.cache&&Yf(i,[St],a,!0),pl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=E_(t,i,l,a);break e}else if(l!==f){f=kn(Error(s(424)),i),ul(f),i=E_(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,tt=zn(t.firstChild),Ft=i,Le=!0,Ur=null,Pn=!0,a=py(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Gs(),l===f){i=er(t,i,a);break e}Kt(t,i,l,a)}i=i.child}return i;case 26:return Ac(t,i),t===null?(a=kv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=zc(xe.current).createElement(a),l[bt]=i,l[Pt]=t,Yt(l,a,t),Tt(l),i.stateNode=l):i.memoizedState=kv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ws(i),t===null&&Le&&(l=i.stateNode=Ov(i.type,i.pendingProps,xe.current),Ft=i,Pn=!0,f=tt,Zr(i.type)?(fm=f,tt=zn(l.firstChild)):tt=f),Kt(t,i,i.pendingProps.children,a),Ac(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((f=l=tt)&&(l=mS(l,i.type,i.pendingProps,Pn),l!==null?(i.stateNode=l,Ft=i,tt=zn(l.firstChild),Pn=!1,f=!0):f=!1),f||Pr(i)),ws(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,om(f,d)?l=null:_!==null&&om(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=ad(t,i,IA,null,null,a),Ll._currentValue=f),Ac(t,i),Kt(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=tt)&&(a=pS(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,Ft=i,tt=null,t=!0):t=!1),t||Pr(i)),null;case 13:return b_(t,i,a);case 4:return Ot(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Js(i,null,l,a):Kt(t,i,l,a),i.child;case 11:return f_(t,i,i.type,i.pendingProps,a);case 7:return Kt(t,i,i.pendingProps,a),i.child;case 8:return Kt(t,i,i.pendingProps.children,a),i.child;case 12:return Kt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,jr(i,i.type,l.value),Kt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Ys(i),f=Gt(f),l=l(f),i.flags|=1,Kt(t,i,l,a),i.child;case 14:return d_(t,i,i.type,i.pendingProps,a);case 15:return m_(t,i,i.type,i.pendingProps,a);case 19:return A_(t,i,a);case 31:return UA(t,i,a);case 22:return p_(t,i,a,i.pendingProps);case 24:return Ys(i),l=Gt(St),t===null?(f=Xf(),f===null&&(f=We,d=Qf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Zf(i),jr(i,St,f)):((t.lanes&a)!==0&&(Wf(t,i),gl(i,null,null,a),pl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),jr(i,St,l)):(l=d.cache,jr(i,St,l),l!==f.cache&&Yf(i,[St],a,!0))),Kt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function tr(t){t.flags|=4}function Vd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(J_())t.flags|=8192;else throw Xs=lc,Jf}else t.flags&=-16777217}function w_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!zv(i))if(J_())t.flags|=8192;else throw Xs=lc,Jf}function wc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Du():536870912,t.lanes|=i,to|=i)}function Tl(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function jA(t,i,a){var l=i.pendingProps;switch(Hf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ji(St),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ha(i)?tr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ff())),nt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(tr(i),d!==null?(nt(i),w_(i,d)):(nt(i),Vd(i,f,null,l,a))):d?d!==t.memoizedState?(tr(i),nt(i),w_(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&tr(i),nt(i),Vd(i,f,t,l,a)),null;case 27:if(Ea(i),a=xe.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&tr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=ue.current,Ha(i)?ry(i):(t=Ov(f,l,a),i.stateNode=t,tr(i))}return nt(i),null;case 5:if(Ea(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&tr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=ue.current,Ha(i))ry(i);else{var _=zc(xe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[bt]=i,d[Pt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Yt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&tr(i)}}return nt(i),Vd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&tr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,Ha(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Ft,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||bv(t.nodeValue,a)),t||Pr(i,!0)}else t=zc(t).createTextNode(l),t[bt]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ha(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[bt]=i}else Gs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=Ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ha(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[bt]=i}else Gs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),f=!1}else f=Ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),wc(i,i.updateQueue),nt(i),null);case 4:return st(),t===null&&nm(i.stateNode.containerInfo),nt(i),null;case 10:return Ji(i.type),nt(i),null;case 19:if(W(gt),l=i.memoizedState,l===null)return nt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Tl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=fc(t),d!==null){for(i.flags|=128,Tl(l,!1),t=d.updateQueue,i.updateQueue=t,wc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Wg(a,t),a=a.sibling;return ae(gt,gt.current&1|2),Le&&$i(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>Nc&&(i.flags|=128,f=!0,Tl(l,!1),i.lanes=4194304)}else{if(!f)if(t=fc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,wc(i,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return nt(i),null}else 2*nn()-l.renderingStartTime>Nc&&a!==536870912&&(i.flags|=128,f=!0,Tl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=gt.current,ae(gt,f?a&1|2:a&1),Le&&$i(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return Tn(i),id(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&wc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&W(Qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ji(St),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function zA(t,i){switch(Hf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ji(St),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ea(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Gs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Gs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(gt),null;case 4:return st(),null;case 10:return Ji(i.type),null;case 22:case 23:return Tn(i),id(),t!==null&&W(Qs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ji(St),null;case 25:return null;default:return null}}function R_(t,i){switch(Hf(i),i.tag){case 3:Ji(St),st();break;case 26:case 27:case 5:Ea(i);break;case 4:st();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:W(gt);break;case 10:Ji(i.type);break;case 22:case 23:Tn(i),id(),t!==null&&W(Qs);break;case 24:Ji(St)}}function Al(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(T){Qe(i,i.return,T)}}function Gr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=i;var N=a,B=T;try{B()}catch(Q){Qe(f,N,Q)}}}l=l.next}while(l!==d)}}catch(Q){Qe(i,i.return,Q)}}function x_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{yy(i,a)}catch(l){Qe(t,t.return,l)}}}function C_(t,i,a){a.props=Ws(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(t,i,l)}}function Sl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Qe(t,i,f)}}function Ni(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Qe(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Qe(t,i,f)}else a.current=null}function I_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Qe(t,t.return,f)}}function kd(t,i,a){try{var l=t.stateNode;lS(l,t.type,a,i),l[Pt]=i}catch(f){Qe(t,t.return,f)}}function N_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zr(t.type)||t.tag===4}function Ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||N_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ud(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Xn));else if(l!==4&&(l===27&&Zr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Ud(t,i,a),t=t.sibling;t!==null;)Ud(t,i,a),t=t.sibling}function Rc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Zr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Rc(t,i,a),t=t.sibling;t!==null;)Rc(t,i,a),t=t.sibling}function D_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Yt(i,l,a),i[bt]=t,i[Pt]=a}catch(d){Qe(t,t.return,d)}}var nr=!1,xt=!1,Pd=!1,O_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function BA(t,i){if(t=t.containerInfo,sm=Yc,t=Fg(t),Df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,N=-1,B=0,Q=0,Z=t,H=null;t:for(;;){for(var G;Z!==a||f!==0&&Z.nodeType!==3||(T=_+f),Z!==d||l!==0&&Z.nodeType!==3||(N=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(G=Z.firstChild)!==null;)H=Z,Z=G;for(;;){if(Z===t)break t;if(H===a&&++B===f&&(T=_),H===d&&++Q===l&&(N=_),(G=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=G}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(am={focusedElem:t,selectionRange:a},Yc=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Ws(a.type,f);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Qe(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)um(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":um(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function M_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:rr(t,a),l&4&&Al(5,a);break;case 1:if(rr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Qe(a,a.return,_)}else{var f=Ws(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Qe(a,a.return,_)}}l&64&&x_(a),l&512&&Sl(a,a.return);break;case 3:if(rr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{yy(t,i)}catch(_){Qe(a,a.return,_)}}break;case 27:i===null&&l&4&&D_(a);case 26:case 5:rr(t,a),i===null&&l&4&&I_(a),l&512&&Sl(a,a.return);break;case 12:rr(t,a);break;case 31:rr(t,a),l&4&&L_(t,a);break;case 13:rr(t,a),l&4&&U_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=XA.bind(null,a),gS(t,a))));break;case 22:if(l=a.memoizedState!==null||nr,!l){i=i!==null&&i.memoizedState!==null||xt,f=nr;var d=xt;nr=l,(xt=i)&&!d?sr(t,a,(a.subtreeFlags&8772)!==0):rr(t,a),nr=f,xt=d}break;case 30:break;default:rr(t,a)}}function V_(t){var i=t.alternate;i!==null&&(t.alternate=null,V_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&wa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,un=!1;function ir(t,i,a){for(a=a.child;a!==null;)k_(t,i,a),a=a.sibling}function k_(t,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:xt||Ni(a,i),ir(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xt||Ni(a,i);var l=ot,f=un;Zr(a.type)&&(ot=a.stateNode,un=!1),ir(t,i,a),Ml(a.stateNode),ot=l,un=f;break;case 5:xt||Ni(a,i);case 6:if(l=ot,f=un,ot=null,ir(t,i,a),ot=l,un=f,ot!==null)if(un)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Qe(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Qe(a,i,d)}break;case 18:ot!==null&&(un?(t=ot,xv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),uo(t)):xv(ot,a.stateNode));break;case 4:l=ot,f=un,ot=a.stateNode.containerInfo,un=!0,ir(t,i,a),ot=l,un=f;break;case 0:case 11:case 14:case 15:Gr(2,a,i),xt||Gr(4,a,i),ir(t,i,a);break;case 1:xt||(Ni(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&C_(a,i,l)),ir(t,i,a);break;case 21:ir(t,i,a);break;case 22:xt=(l=xt)||a.memoizedState!==null,ir(t,i,a),xt=l;break;default:ir(t,i,a)}}function L_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{uo(t)}catch(a){Qe(i,i.return,a)}}}function U_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{uo(t)}catch(a){Qe(i,i.return,a)}}function HA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new O_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new O_),i;default:throw Error(s(435,t.tag))}}function xc(t,i){var a=HA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=JA.bind(null,t,l);l.then(f,f)}})}function cn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Zr(T.type)){ot=T.stateNode,un=!1;break e}break;case 5:ot=T.stateNode,un=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(ot===null)throw Error(s(160));k_(d,_,f),ot=null,un=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)P_(i,t),i=i.sibling}var ni=null;function P_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),l&4&&(Gr(3,t,t.return),Al(3,t),Gr(5,t,t.return));break;case 1:cn(i,t),hn(t),l&512&&(xt||a===null||Ni(a,a.return)),l&64&&nr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ni;if(cn(i,t),hn(t),l&512&&(xt||a===null||Ni(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[gi]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Yt(d,l,a),d[bt]=t,Tt(d),l=d;break e;case"link":var _=Pv("link","href",f).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Pv("meta","content",f).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,Tt(d),l=d}t.stateNode=l}else jv(f,t.type,t.stateNode);else t.stateNode=Uv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?jv(f,t.type,t.stateNode):Uv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&kd(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),hn(t),l&512&&(xt||a===null||Ni(a,a.return)),a!==null&&l&4&&kd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),hn(t),l&512&&(xt||a===null||Ni(a,a.return)),t.flags&32){f=t.stateNode;try{ln(f,"")}catch(ce){Qe(t,t.return,ce)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,kd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Pd=!0);break;case 6:if(cn(i,t),hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Qe(t,t.return,ce)}}break;case 3:if(qc=null,f=ni,ni=Bc(i.containerInfo),cn(i,t),ni=f,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{uo(i.containerInfo)}catch(ce){Qe(t,t.return,ce)}Pd&&(Pd=!1,j_(t));break;case 4:l=ni,ni=Bc(t.stateNode.containerInfo),cn(i,t),hn(t),ni=l;break;case 12:cn(i,t),hn(t);break;case 31:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xc(t,l)));break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ic=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=nr,Q=xt;if(nr=B||f,xt=Q||N,cn(i,t),xt=Q,nr=B,hn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||nr||xt||ea(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=N.stateNode;var Z=N.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ce){Qe(N,N.return,ce)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(ce){Qe(N,N.return,ce)}}}else if(i.tag===18){if(a===null){N=i;try{var G=N.stateNode;f?Cv(G,!0):Cv(N.stateNode,!1)}catch(ce){Qe(N,N.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xc(t,a))));break;case 19:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xc(t,l)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(N_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Ld(t);Rc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var T=Ld(t);Rc(t,T,_);break;case 3:case 4:var N=a.stateNode.containerInfo,B=Ld(t);Ud(t,B,N);break;default:throw Error(s(161))}}catch(Q){Qe(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function j_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;j_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function rr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)M_(t,i.alternate,i),i=i.sibling}function ea(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Gr(4,i,i.return),ea(i);break;case 1:Ni(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&C_(i,i.return,a),ea(i);break;case 27:Ml(i.stateNode);case 26:case 5:Ni(i,i.return),ea(i);break;case 22:i.memoizedState===null&&ea(i);break;case 30:ea(i);break;default:ea(i)}t=t.sibling}}function sr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:sr(f,d,a),Al(4,d);break;case 1:if(sr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Qe(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)gy(N[f],T)}catch(B){Qe(l,l.return,B)}}a&&_&64&&x_(d),Sl(d,d.return);break;case 27:D_(d);case 26:case 5:sr(f,d,a),a&&l===null&&_&4&&I_(d),Sl(d,d.return);break;case 12:sr(f,d,a);break;case 31:sr(f,d,a),a&&_&4&&L_(f,d);break;case 13:sr(f,d,a),a&&_&4&&U_(f,d);break;case 22:d.memoizedState===null&&sr(f,d,a),Sl(d,d.return);break;case 30:break;default:sr(f,d,a)}i=i.sibling}}function jd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function zd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t))}function ii(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)z_(t,i,a,l),i=i.sibling}function z_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ii(t,i,a,l),f&2048&&Al(9,i);break;case 1:ii(t,i,a,l);break;case 3:ii(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t)));break;case 12:if(f&2048){ii(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Qe(i,i.return,N)}}else ii(t,i,a,l);break;case 31:ii(t,i,a,l);break;case 13:ii(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ii(t,i,a,l):wl(t,i):d._visibility&2?ii(t,i,a,l):(d._visibility|=2,Za(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&jd(_,i);break;case 24:ii(t,i,a,l),f&2048&&zd(i.alternate,i);break;default:ii(t,i,a,l)}}function Za(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,N=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Za(d,_,T,N,f),Al(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?Za(d,_,T,N,f):wl(d,_):(Q._visibility|=2,Za(d,_,T,N,f)),f&&B&2048&&jd(_.alternate,_);break;case 24:Za(d,_,T,N,f),f&&B&2048&&zd(_.alternate,_);break;default:Za(d,_,T,N,f)}i=i.sibling}}function wl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:wl(a,l),f&2048&&jd(l.alternate,l);break;case 24:wl(a,l),f&2048&&zd(l.alternate,l);break;default:wl(a,l)}i=i.sibling}}var Rl=8192;function Wa(t,i,a){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)B_(t,i,a),t=t.sibling}function B_(t,i,a){switch(t.tag){case 26:Wa(t,i,a),t.flags&Rl&&t.memoizedState!==null&&CS(a,ni,t.memoizedState,t.memoizedProps);break;case 5:Wa(t,i,a);break;case 3:case 4:var l=ni;ni=Bc(t.stateNode.containerInfo),Wa(t,i,a),ni=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Rl,Rl=16777216,Wa(t,i,a),Rl=l):Wa(t,i,a));break;default:Wa(t,i,a)}}function H_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function xl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,F_(l,t)}H_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)q_(t),t=t.sibling}function q_(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&Gr(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Cc(t)):xl(t);break;default:xl(t)}}function Cc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,F_(l,t)}H_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Gr(8,i,i.return),Cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Cc(i));break;default:Cc(i)}t=t.sibling}}function F_(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Gr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var f=l.sibling,d=l.return;if(V_(l),l===a){zt=null;break e}if(f!==null){f.return=d,zt=f;break e}zt=d}}}var qA={getCacheForType:function(t){var i=Gt(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(St).controller.signal}},FA=typeof WeakMap=="function"?WeakMap:Map,qe=0,We=null,Ie=null,De=0,Ye=0,An=null,Kr=!1,eo=!1,Bd=!1,ar=0,ht=0,Yr=0,ta=0,Hd=0,Sn=0,to=0,Cl=null,fn=null,qd=!1,Ic=0,G_=0,Nc=1/0,Dc=null,Qr=null,Vt=0,$r=null,no=null,or=0,Fd=0,Gd=null,K_=null,Il=0,Kd=null;function wn(){return(qe&2)!==0&&De!==0?De&-De:$.T!==null?Zd():Ou()}function Y_(){if(Sn===0)if((De&536870912)===0||Le){var t=Cs;Cs<<=1,(Cs&3932160)===0&&(Cs=262144),Sn=t}else Sn=536870912;return t=bn.current,t!==null&&(t.flags|=32),Sn}function dn(t,i,a){(t===We&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(io(t,0),Xr(t,De,Sn,!1)),Is(t,a),((qe&2)===0||t!==We)&&(t===We&&((qe&2)===0&&(ta|=a),ht===4&&Xr(t,De,Sn,!1)),Di(t))}function Q_(t,i,a){if((qe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Yn(t,i),f=l?YA(t,i):Qd(t,i,!0),d=l;do{if(f===0){eo&&!l&&Xr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!GA(a)){f=Qd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;f=Cl;var N=T.current.memoizedState.isDehydrated;if(N&&(io(T,_).flags|=256),_=Qd(T,_,!1),_!==2){if(Bd&&!N){T.errorRecoveryDisabledLanes|=d,ta|=d,f=4;break e}d=fn,fn=f,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){io(t,0),Xr(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Xr(l,i,Sn,!Kr);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Ic+300-nn(),10<f)){if(Xr(l,i,Sn,!Kr),di(l,0,!0)!==0)break e;or=i,l.timeoutHandle=wv($_.bind(null,l,a,fn,Dc,qd,i,Sn,ta,to,Kr,d,"Throttled",-0,0),f);break e}$_(l,a,fn,Dc,qd,i,Sn,ta,to,Kr,d,null,-0,0)}}break}while(!0);Di(t)}function $_(t,i,a,l,f,d,_,T,N,B,Q,Z,H,G){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},B_(i,d,Z);var ce=(d&62914560)===d?Ic-nn():(d&4194048)===d?G_-nn():0;if(ce=IS(Z,ce),ce!==null){or=d,t.cancelPendingCommit=ce(iv.bind(null,t,i,d,a,l,f,_,T,N,Q,Z,null,H,G)),Xr(t,d,_,!B);return}}iv(t,i,d,a,l,f,_,T,N)}function GA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!vn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xr(t,i,a,l){i&=~Hd,i&=~ta,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-mt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Ns(t,a,i)}function Oc(){return(qe&6)===0?(Nl(0),!1):!0}function Yd(){if(Ie!==null){if(Ye===0)var t=Ie.return;else t=Ie,Xi=Ks=null,ud(t),Ya=null,fl=0,t=Ie;for(;t!==null;)R_(t.alternate,t),t=t.return;Ie=null}}function io(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,hS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),or=0,Yd(),We=t,Ie=a=Qi(t.current,null),De=i,Ye=0,An=null,Kr=!1,eo=Yn(t,i),Bd=!1,to=Sn=Hd=ta=Yr=ht=0,fn=Cl=null,qd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-mt(l),d=1<<f;i|=t[f],l&=~d}return ar=i,Wu(),a}function X_(t,i){Re=null,$.H=El,i===Ka||i===oc?(i=fy(),Ye=3):i===Jf?(i=fy(),Ye=4):Ye=i===wd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Ie===null&&(ht=1,bc(t,kn(i,t.current)))}function J_(){var t=bn.current;return t===null?!0:(De&4194048)===De?jn===null:(De&62914560)===De||(De&536870912)!==0?t===jn:!1}function Z_(){var t=$.H;return $.H=El,t===null?El:t}function W_(){var t=$.A;return $.A=qA,t}function Mc(){ht=4,Kr||(De&4194048)!==De&&bn.current!==null||(eo=!0),(Yr&134217727)===0&&(ta&134217727)===0||We===null||Xr(We,De,Sn,!1)}function Qd(t,i,a){var l=qe;qe|=2;var f=Z_(),d=W_();(We!==t||De!==i)&&(Dc=null,io(t,i)),i=!1;var _=ht;e:do try{if(Ye!==0&&Ie!==null){var T=Ie,N=An;switch(Ye){case 8:Yd(),_=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var B=Ye;if(Ye=0,An=null,ro(t,T,N,B),a&&eo){_=0;break e}break;default:B=Ye,Ye=0,An=null,ro(t,T,N,B)}}KA(),_=ht;break}catch(Q){X_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Xi=Ks=null,qe=l,$.H=f,$.A=d,Ie===null&&(We=null,De=0,Wu()),_}function KA(){for(;Ie!==null;)ev(Ie)}function YA(t,i){var a=qe;qe|=2;var l=Z_(),f=W_();We!==t||De!==i?(Dc=null,Nc=nn()+500,io(t,i)):eo=Yn(t,i);e:do try{if(Ye!==0&&Ie!==null){i=Ie;var d=An;t:switch(Ye){case 1:Ye=0,An=null,ro(t,i,d,1);break;case 2:case 9:if(cy(d)){Ye=0,An=null,tv(i);break}i=function(){Ye!==2&&Ye!==9||We!==t||(Ye=7),Di(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:cy(d)?(Ye=0,An=null,tv(i)):(Ye=0,An=null,ro(t,i,d,7));break;case 5:var _=null;switch(Ie.tag){case 26:_=Ie.memoizedState;case 5:case 27:var T=Ie;if(_?zv(_):T.stateNode.complete){Ye=0,An=null;var N=T.sibling;if(N!==null)Ie=N;else{var B=T.return;B!==null?(Ie=B,Vc(B)):Ie=null}break t}}Ye=0,An=null,ro(t,i,d,5);break;case 6:Ye=0,An=null,ro(t,i,d,6);break;case 8:Yd(),ht=6;break e;default:throw Error(s(462))}}QA();break}catch(Q){X_(t,Q)}while(!0);return Xi=Ks=null,$.H=l,$.A=f,qe=a,Ie!==null?0:(We=null,De=0,Wu(),ht)}function QA(){for(;Ie!==null&&!Sf();)ev(Ie)}function ev(t){var i=S_(t.alternate,t,ar);t.memoizedProps=t.pendingProps,i===null?Vc(t):Ie=i}function tv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=__(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=__(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:ud(i);default:R_(a,i),i=Ie=Wg(i,ar),i=S_(a,i,ar)}t.memoizedProps=t.pendingProps,i===null?Vc(t):Ie=i}function ro(t,i,a,l){Xi=Ks=null,ud(i),Ya=null,fl=0;var f=i.return;try{if(LA(t,f,i,a,De)){ht=1,bc(t,kn(a,t.current)),Ie=null;return}}catch(d){if(f!==null)throw Ie=f,d;ht=1,bc(t,kn(a,t.current)),Ie=null;return}i.flags&32768?(Le||l===1?t=!0:eo||(De&536870912)!==0?t=!1:(Kr=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),nv(i,t)):Vc(i)}function Vc(t){var i=t;do{if((i.flags&32768)!==0){nv(i,Kr);return}t=i.return;var a=jA(i.alternate,i,ar);if(a!==null){Ie=a;return}if(i=i.sibling,i!==null){Ie=i;return}Ie=i=t}while(i!==null);ht===0&&(ht=5)}function nv(t,i){do{var a=zA(t.alternate,t);if(a!==null){a.flags&=32767,Ie=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=a}while(t!==null);ht=6,Ie=null}function iv(t,i,a,l,f,d,_,T,N){t.cancelPendingCommit=null;do kc();while(Vt!==0);if((qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Lf,xf(t,a,d,_,T,N),t===We&&(Ie=We=null,De=0),no=i,$r=t,or=a,Fd=d,Gd=f,K_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ZA(Rr,function(){return lv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=se.p,se.p=2,_=qe,qe|=4;try{BA(t,i,a)}finally{qe=_,se.p=f,$.T=l}}Vt=1,rv(),sv(),av()}}function rv(){if(Vt===1){Vt=0;var t=$r,i=no,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=se.p;se.p=2;var f=qe;qe|=4;try{P_(i,t);var d=am,_=Fg(t.containerInfo),T=d.focusedElem,N=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&qg(T.ownerDocument.documentElement,T)){if(N!==null&&Df(T)){var B=N.start,Q=N.end;if(Q===void 0&&(Q=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Q,T.value.length);else{var Z=T.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var G=H.getSelection(),ce=T.textContent.length,ge=Math.min(N.start,ce),Ze=N.end===void 0?ge:Math.min(N.end,ce);!G.extend&&ge>Ze&&(_=Ze,Ze=ge,ge=_);var U=Hg(T,ge),D=Hg(T,Ze);if(U&&D&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var z=Z.createRange();z.setStart(U.node,U.offset),G.removeAllRanges(),ge>Ze?(G.addRange(z),G.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),G.addRange(z))}}}}for(Z=[],G=T;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var X=Z[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Yc=!!sm,am=sm=null}finally{qe=f,se.p=l,$.T=a}}t.current=i,Vt=2}}function sv(){if(Vt===2){Vt=0;var t=$r,i=no,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=se.p;se.p=2;var f=qe;qe|=4;try{M_(t,i.alternate,i)}finally{qe=f,se.p=l,$.T=a}}Vt=3}}function av(){if(Vt===4||Vt===3){Vt=0,wu();var t=$r,i=no,a=or,l=K_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,no=$r=null,ov(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Qr=null),Fi(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Kn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,f=se.p,se.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{$.T=i,se.p=f}}(or&3)!==0&&kc(),Di(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Kd?Il++:(Il=0,Kd=t):Il=0,Nl(0)}}function ov(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,cl(i)))}function kc(){return rv(),sv(),av(),lv()}function lv(){if(Vt!==5)return!1;var t=$r,i=Fd;Fd=0;var a=Fi(or),l=$.T,f=se.p;try{se.p=32>a?32:a,$.T=null,a=Gd,Gd=null;var d=$r,_=or;if(Vt=0,no=$r=null,or=0,(qe&6)!==0)throw Error(s(331));var T=qe;if(qe|=4,q_(d.current),z_(d,d.current,_,a),qe=T,Nl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Kn,d)}catch{}return!0}finally{se.p=f,$.T=l,ov(t,i)}}function uv(t,i,a){i=kn(a,i),i=Sd(t.stateNode,i,2),t=Hr(t,i,2),t!==null&&(Is(t,2),Di(t))}function Qe(t,i,a){if(t.tag===3)uv(t,t,a);else for(;i!==null;){if(i.tag===3){uv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Qr===null||!Qr.has(l))){t=kn(a,t),a=c_(2),l=Hr(i,a,2),l!==null&&(h_(a,l,i,t),Is(l,2),Di(l));break}}i=i.return}}function $d(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new FA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Bd=!0,f.add(a),t=$A.bind(null,t,i,a),i.then(t,t))}function $A(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(De&a)===a&&(ht===4||ht===3&&(De&62914560)===De&&300>nn()-Ic?(qe&2)===0&&io(t,0):Hd|=a,to===De&&(to=0)),Di(t)}function cv(t,i){i===0&&(i=Du()),t=qs(t,i),t!==null&&(Is(t,i),Di(t))}function XA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),cv(t,a)}function JA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),cv(t,a)}function ZA(t,i){return Mt(t,i)}var Lc=null,so=null,Xd=!1,Uc=!1,Jd=!1,Jr=0;function Di(t){t!==so&&t.next===null&&(so===null?Lc=so=t:so=so.next=t),Uc=!0,Xd||(Xd=!0,eS())}function Nl(t,i){if(!Jd&&Uc){Jd=!0;do for(var a=!1,l=Lc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=f&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,mv(l,d))}else d=De,d=di(l,l===We?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yn(l,d)||(a=!0,mv(l,d));l=l.next}while(a);Jd=!1}}function WA(){hv()}function hv(){Uc=Xd=!1;var t=0;Jr!==0&&cS()&&(t=Jr);for(var i=nn(),a=null,l=Lc;l!==null;){var f=l.next,d=fv(l,i);d===0?(l.next=null,a===null?Lc=f:a.next=f,f===null&&(so=a)):(a=l,(t!==0||(d&3)!==0)&&(Uc=!0)),l=f}Vt!==0&&Vt!==5||Nl(t),Jr!==0&&(Jr=0)}function fv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-mt(d),T=1<<_,N=f[_];N===-1?((T&a)===0||(T&l)!==0)&&(f[_]=Rf(T,i)):N<=i&&(t.expiredLanes|=T),d&=~T}if(i=We,a=De,a=di(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Yn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&wr(l),Fi(a)){case 2:case 8:a=zo;break;case 32:a=Rr;break;case 268435456:a=Ru;break;default:a=Rr}return l=dv.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&wr(l),t.callbackPriority=2,t.callbackNode=null,2}function dv(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(kc()&&t.callbackNode!==a)return null;var l=De;return l=di(t,t===We?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Q_(t,l,i),fv(t,nn()),t.callbackNode!=null&&t.callbackNode===a?dv.bind(null,t):null)}function mv(t,i){if(kc())return null;Q_(t,i,!0)}function eS(){fS(function(){(qe&6)!==0?Mt(jo,WA):hv()})}function Zd(){if(Jr===0){var t=Fa;t===0&&(t=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Jr=t}return Jr}function pv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function gv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function tS(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=pv((f[Pt]||null).action),_=l.submitter;_&&(i=(i=_[Pt]||null)?pv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Si("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Jr!==0){var N=_?gv(f,_):new FormData(f);_d(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=_?gv(f,_):new FormData(f),_d(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Wd=0;Wd<kf.length;Wd++){var em=kf[Wd],nS=em.toLowerCase(),iS=em[0].toUpperCase()+em.slice(1);ti(nS,"on"+iS)}ti(Yg,"onAnimationEnd"),ti(Qg,"onAnimationIteration"),ti($g,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(vA,"onTransitionRun"),ti(EA,"onTransitionStart"),ti(bA,"onTransitionCancel"),ti(Xg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function yv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],N=T.instance,B=T.currentTarget;if(T=T.listener,N!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=B;try{d(f)}catch(Q){Zu(Q)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(T=l[_],N=T.instance,B=T.currentTarget,T=T.listener,N!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=B;try{d(f)}catch(Q){Zu(Q)}f.currentTarget=null,d=N}}}}function Ne(t,i){var a=i[Sa];a===void 0&&(a=i[Sa]=new Set);var l=t+"__bubble";a.has(l)||(_v(i,t,2,!1),a.add(l))}function tm(t,i,a){var l=0;i&&(l|=4),_v(a,t,l,i)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function nm(t){if(!t[Pc]){t[Pc]=!0,qo.forEach(function(a){a!=="selectionchange"&&(rS.has(a)||tm(a,!1,t),tm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Pc]||(i[Pc]=!0,tm("selectionchange",!1,i))}}function _v(t,i,a,l){switch(Yv(i)){case 2:var f=OS;break;case 8:f=MS;break;default:f=ym}a=f.bind(null,i,a,t),f=void 0,!ks||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function im(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;T!==null;){if(_=yi(T),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Or(function(){var B=d,Q=Dn(a),Z=[];e:{var H=Jg.get(t);if(H!==void 0){var G=Si,ce=t;switch(t){case"keypress":if(Us(a)===0)break e;case"keydown":case"keyup":G=$u;break;case"focusin":ce="focus",G=js;break;case"focusout":ce="blur",G=js;break;case"beforeblur":case"afterblur":G=js;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=y;break;case Yg:case Qg:case $g:G=Hu;break;case Xg:G=A;break;case"scroll":case"scrollend":G=tl;break;case"wheel":G=q;break;case"copy":case"cut":case"paste":G=qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Yi;break;case"toggle":case"beforetoggle":G=we}var ge=(i&4)!==0,Ze=!ge&&(t==="scroll"||t==="scrollend"),U=ge?H!==null?H+"Capture":null:H;ge=[];for(var D=B,z;D!==null;){var X=D;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||U===null||(X=Jn(D,U),X!=null&&ge.push(Ol(D,X,z))),Ze)break;D=D.return}0<ge.length&&(H=new G(H,ce,null,a,Q),Z.push({event:H,listeners:ge}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&a!==Zo&&(ce=a.relatedTarget||a.fromElement)&&(yi(ce)||ce[pi]))break e;if((G||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,G?(ce=a.relatedTarget||a.toElement,G=B,ce=ce?yi(ce):null,ce!==null&&(Ze=u(ce),ge=ce.tag,ce!==Ze||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(G=null,ce=B),G!==ce)){if(ge=nl,X="onMouseLeave",U="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Yi,X="onPointerLeave",U="onPointerEnter",D="pointer"),Ze=G==null?H:yn(G),z=ce==null?H:yn(ce),H=new ge(X,D+"leave",G,a,Q),H.target=Ze,H.relatedTarget=z,X=null,yi(Q)===B&&(ge=new ge(U,D+"enter",ce,a,Q),ge.target=z,ge.relatedTarget=Ze,X=ge),Ze=X,G&&ce)t:{for(ge=sS,U=G,D=ce,z=0,X=U;X;X=ge(X))z++;X=0;for(var de=D;de;de=ge(de))X++;for(;0<z-X;)U=ge(U),z--;for(;0<X-z;)D=ge(D),X--;for(;z--;){if(U===D||D!==null&&U===D.alternate){ge=U;break t}U=ge(U),D=ge(D)}ge=null}else ge=null;G!==null&&vv(Z,H,G,ge,!1),ce!==null&&Ze!==null&&vv(Z,Ze,ce,ge,!0)}}e:{if(H=B?yn(B):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var ze=Lg;else if(Vg(H))if(Ug)ze=gA;else{ze=mA;var he=dA}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Ca(B.elementType)&&(ze=Lg):ze=pA;if(ze&&(ze=ze(t,B))){kg(Z,ze,a,Q);break e}he&&he(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&$o(H,"number",H.value)}switch(he=B?yn(B):window,t){case"focusin":(Vg(he)||he.contentEditable==="true")&&(La=he,Of=B,ol=null);break;case"focusout":ol=Of=La=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,Gg(Z,a,Q);break;case"selectionchange":if(_A)break;case"keydown":case"keyup":Gg(Z,a,Q)}var Ce;if(He)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else ka?zs(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(xi&&a.locale!=="ko"&&(ka||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&ka&&(Ce=el()):(Ai=Q,Wo="value"in Ai?Ai.value:Ai.textContent,ka=!0)),he=jc(B,Oe),0<he.length&&(Oe=new Ri(Oe,t,null,a,Q),Z.push({event:Oe,listeners:he}),Ce?Oe.data=Ce:(Ce=Va(a),Ce!==null&&(Oe.data=Ce)))),(Ce=Mn?uA(t,a):cA(t,a))&&(Oe=jc(B,"onBeforeInput"),0<Oe.length&&(he=new Ri("onBeforeInput","beforeinput",null,a,Q),Z.push({event:he,listeners:Oe}),he.data=Ce)),tS(Z,t,B,a,Q)}yv(Z,i)})}function Ol(t,i,a){return{instance:t,listener:i,currentTarget:a}}function jc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Jn(t,a),f!=null&&l.unshift(Ol(t,f,d)),f=Jn(t,i),f!=null&&l.push(Ol(t,f,d))),t.tag===3)return l;t=t.return}return[]}function sS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function vv(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,N=T.alternate,B=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||B===null||(N=B,f?(B=Jn(a,d),B!=null&&_.unshift(Ol(a,B,N))):f||(B=Jn(a,d),B!=null&&_.push(Ol(a,B,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var aS=/\r\n?/g,oS=/\u0000|\uFFFD/g;function Ev(t){return(typeof t=="string"?t:""+t).replace(aS,`
`).replace(oS,"")}function bv(t,i){return i=Ev(i),Ev(t)===i}function Je(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ln(t,""+l);break;case"className":_n(t,"class",l);break;case"tabIndex":_n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,a,l);break;case"style":Jo(t,l,d);break;case"data":if(i!=="object"){_n(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",f.name,f,null),Je(t,i,"formEncType",f.formEncType,f,null),Je(t,i,"formMethod",f.formMethod,f,null),Je(t,i,"formTarget",f.formTarget,f,null)):(Je(t,i,"encType",f.encType,f,null),Je(t,i,"method",f.method,f,null),Je(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),Ra(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ra(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ju.get(a)||a,Ra(t,a,l))}}function rm(t,i,a,l,f,d){switch(a){case"style":Jo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ra(t,a,l)}}}function Yt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}f&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var T=d=_=f=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":_=Q;break;case"checked":N=Q;break;case"defaultChecked":B=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Je(t,i,l,Q,a,null)}}Lu(t,d,T,N,B,_,f,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Je(t,i,f,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Cr(t,!!l,i,!1):a!=null&&Cr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(t,i,_,T,a,null)}Ir(t,l,f,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,i,N,l,a,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Ne(Dl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,B,l,a,null)}return;default:if(Ca(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&rm(t,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(t,i,T,l,a,null))}function lS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,T=null,N=null,B=null,Q=null;for(G in a){var Z=a[G];if(a.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(G)||Je(t,i,G,null,l,Z)}}for(var H in l){var G=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(G!=null||Z!=null))switch(H){case"type":d=G;break;case"name":f=G;break;case"checked":B=G;break;case"defaultChecked":Q=G;break;case"value":_=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==Z&&Je(t,i,H,G,l,Z)}}xa(t,_,T,N,B,Q,d,f);return;case"select":G=_=T=H=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":G=N;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==N&&Je(t,i,f,d,l,N)}i=T,a=_,l=G,H!=null?Cr(t,!!a,H,!1):!!l!=!!a&&(i!=null?Cr(t,!!a,i,!0):Cr(t,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,i,T,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":H=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,i,_,f,l,d)}Uu(t,H,G);return;case"option":for(var ce in a)H=a[ce],a.hasOwnProperty(ce)&&H!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:Je(t,i,ce,null,l,H));for(N in l)H=l[N],G=a[N],l.hasOwnProperty(N)&&H!==G&&(H!=null||G!=null)&&(N==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":Je(t,i,N,H,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)H=a[ge],a.hasOwnProperty(ge)&&H!=null&&!l.hasOwnProperty(ge)&&Je(t,i,ge,null,l,H);for(B in l)if(H=l[B],G=a[B],l.hasOwnProperty(B)&&H!==G&&(H!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Je(t,i,B,H,l,G)}return;default:if(Ca(i)){for(var Ze in a)H=a[Ze],a.hasOwnProperty(Ze)&&H!==void 0&&!l.hasOwnProperty(Ze)&&rm(t,i,Ze,void 0,l,H);for(Q in l)H=l[Q],G=a[Q],!l.hasOwnProperty(Q)||H===G||H===void 0&&G===void 0||rm(t,i,Q,H,l,G);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&Je(t,i,U,null,l,H);for(Z in l)H=l[Z],G=a[Z],!l.hasOwnProperty(Z)||H===G||H==null&&G==null||Je(t,i,Z,H,l,G)}function Tv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,T=f.duration;if(d&&T&&Tv(_)){for(_=0,T=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>T)break;var Q=N.transferSize,Z=N.initiatorType;Q&&Tv(Z)&&(N=N.responseEnd,_+=Q*(N<T?1:(T-B)/(N-B)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sm=null,am=null;function zc(t){return t.nodeType===9?t:t.ownerDocument}function Av(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function om(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var lm=null;function cS(){var t=window.event;return t&&t.type==="popstate"?t===lm?!1:(lm=t,!0):(lm=null,!1)}var wv=typeof setTimeout=="function"?setTimeout:void 0,hS=typeof clearTimeout=="function"?clearTimeout:void 0,Rv=typeof Promise=="function"?Promise:void 0,fS=typeof queueMicrotask=="function"?queueMicrotask:typeof Rv<"u"?function(t){return Rv.resolve(null).then(t).catch(dS)}:wv;function dS(t){setTimeout(function(){throw t})}function Zr(t){return t==="head"}function xv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),uo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ml(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[gi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ml(t.ownerDocument.body);a=f}while(a);uo(i)}function Cv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function um(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":um(a),wa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function mS(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function pS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function Iv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=zn(t.nextSibling),t===null))return null;return t}function cm(t){return t.data==="$?"||t.data==="$~"}function hm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function gS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var fm=null;function Nv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Dv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Ov(t,i,a){switch(i=zc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);wa(t)}var Bn=new Map,Mv=new Set;function Bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var lr=se.d;se.d={f:yS,r:_S,D:vS,C:ES,L:bS,m:TS,X:SS,S:AS,M:wS};function yS(){var t=lr.f(),i=Oc();return t||i}function _S(t){var i=Nn(t);i!==null&&i.tag===5&&i.type==="form"?Xy(i):lr.r(t)}var ao=typeof document>"u"?null:document;function Vv(t,i,a){var l=ao;if(l&&typeof i=="string"&&i){var f=on(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Mv.has(f)||(Mv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Yt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function vS(t){lr.D(t),Vv("dns-prefetch",t,null)}function ES(t,i){lr.C(t,i),Vv("preconnect",t,i)}function bS(t,i,a){lr.L(t,i,a);var l=ao;if(l&&t&&i){var f='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+on(a.imageSizes)+'"]')):f+='[href="'+on(t)+'"]';var d=f;switch(i){case"style":d=oo(t);break;case"script":d=lo(t)}Bn.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Bn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Vl(d))||i==="script"&&l.querySelector(kl(d))||(i=l.createElement("link"),Yt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function TS(t,i){lr.m(t,i);var a=ao;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=lo(t)}if(!Bn.has(d)&&(t=b({rel:"modulepreload",href:t},i),Bn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(d)))return}l=a.createElement("link"),Yt(l,"link",t),Tt(l),a.head.appendChild(l)}}}function AS(t,i,a){lr.S(t,i,a);var l=ao;if(l&&t){var f=_i(l).hoistableStyles,d=oo(t);i=i||"default";var _=f.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Vl(d)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Bn.get(d))&&dm(t,a);var N=_=l.createElement("link");Tt(N),Yt(N,"link",t),N._p=new Promise(function(B,Q){N.onload=B,N.onerror=Q}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Hc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(d,_)}}}function SS(t,i){lr.X(t,i);var a=ao;if(a&&t){var l=_i(a).hoistableScripts,f=lo(t),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(t=b({src:t,async:!0},i),(i=Bn.get(f))&&mm(t,i),d=a.createElement("script"),Tt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function wS(t,i){lr.M(t,i);var a=ao;if(a&&t){var l=_i(a).hoistableScripts,f=lo(t),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Bn.get(f))&&mm(t,i),d=a.createElement("script"),Tt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function kv(t,i,a,l){var f=(f=xe.current)?Bc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=oo(a.href),a=_i(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=oo(a.href);var d=_i(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Vl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),d||RS(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=lo(a),a=_i(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function oo(t){return'href="'+on(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function Lv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function RS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Yt(i,"link",a),Tt(i),t.head.appendChild(i))}function lo(t){return'[src="'+on(t)+'"]'}function kl(t){return"script[async]"+t}function Uv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return i.instance=l,Tt(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Yt(l,"style",f),Hc(l,a.precedence,t),i.instance=l;case"stylesheet":f=oo(a.href);var d=t.querySelector(Vl(f));if(d)return i.state.loading|=4,i.instance=d,Tt(d),d;l=Lv(a),(f=Bn.get(f))&&dm(l,f),d=(t.ownerDocument||t).createElement("link"),Tt(d);var _=d;return _._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),Yt(d,"link",l),i.state.loading|=4,Hc(d,a.precedence,t),i.instance=d;case"script":return d=lo(a.src),(f=t.querySelector(kl(d)))?(i.instance=f,Tt(f),f):(l=a,(f=Bn.get(d))&&(l=b({},a),mm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Tt(f),Yt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Hc(l,a.precedence,t));return i.instance}function Hc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function dm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function mm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var qc=null;function Pv(t,i,a){if(qc===null){var l=new Map,f=qc=new Map;f.set(a,l)}else f=qc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[gi]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function jv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function xS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function zv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function CS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=oo(l.href),d=i.querySelector(Vl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Fc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Tt(d);return}d=i.ownerDocument||i,l=Lv(l),(f=Bn.get(f))&&dm(l,f),d=d.createElement("link"),Tt(d);var _=d;_._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),Yt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Fc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var pm=0;function IS(t,i){return t.stylesheets&&t.count===0&&Kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&pm===0&&(pm=62500*uS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>pm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gc=null;function Kc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gc=new Map,i.forEach(NS,t),Gc=null,Fc.call(t))}function NS(t,i){if(!(i.state.loading&4)){var a=Gc.get(t);if(a)var l=a.get(null);else{a=new Map,Gc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Fc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Ll={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function DS(t,i,a,l,f,d,_,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Bv(t,i,a,l,f,d,_,T,N,B,Q,Z){return t=new DS(t,i,a,_,N,B,Q,Z,T),i=1,d===!0&&(i|=24),d=En(3,null,null,i),t.current=d,d.stateNode=t,i=Qf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Zf(d),t}function Hv(t){return t?(t=ja,t):ja}function qv(t,i,a,l,f,d){f=Hv(f),l.context===null?l.context=f:l.pendingContext=f,l=Br(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Hr(t,l,i),a!==null&&(dn(a,t,i),ml(a,t,i))}function Fv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function gm(t,i){Fv(t,i),(t=t.alternate)&&Fv(t,i)}function Gv(t){if(t.tag===13||t.tag===31){var i=qs(t,67108864);i!==null&&dn(i,t,67108864),gm(t,67108864)}}function Kv(t){if(t.tag===13||t.tag===31){var i=wn();i=Ds(i);var a=qs(t,i);a!==null&&dn(a,t,i),gm(t,i)}}var Yc=!0;function OS(t,i,a,l){var f=$.T;$.T=null;var d=se.p;try{se.p=2,ym(t,i,a,l)}finally{se.p=d,$.T=f}}function MS(t,i,a,l){var f=$.T;$.T=null;var d=se.p;try{se.p=8,ym(t,i,a,l)}finally{se.p=d,$.T=f}}function ym(t,i,a,l){if(Yc){var f=_m(l);if(f===null)im(t,i,l,Qc,a),Qv(t,l);else if(kS(f,t,i,a,l))l.stopPropagation();else if(Qv(t,l),i&4&&-1<VS.indexOf(t)){for(;f!==null;){var d=Nn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=fi(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var N=1<<31-mt(_);T.entanglements[1]|=N,_&=~N}Di(d),(qe&6)===0&&(Nc=nn()+500,Nl(0))}}break;case 31:case 13:T=qs(d,2),T!==null&&dn(T,d,2),Oc(),gm(d,2)}if(d=_m(l),d===null&&im(t,i,l,Qc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else im(t,i,l,null,a)}}function _m(t){return t=Dn(t),vm(t)}var Qc=null;function vm(t){if(Qc=null,t=yi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Qc=t,null}function Yv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xs()){case jo:return 2;case zo:return 8;case Rr:case wf:return 32;case Ru:return 268435456;default:return 32}default:return 32}}var Em=!1,Wr=null,es=null,ts=null,Ul=new Map,Pl=new Map,ns=[],VS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qv(t,i){switch(t){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Ul.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(i.pointerId)}}function jl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Nn(i),i!==null&&Gv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function kS(t,i,a,l,f){switch(i){case"focusin":return Wr=jl(Wr,t,i,a,l,f),!0;case"dragenter":return es=jl(es,t,i,a,l,f),!0;case"mouseover":return ts=jl(ts,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ul.set(d,jl(Ul.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Pl.set(d,jl(Pl.get(d)||null,t,i,a,l,f)),!0}return!1}function $v(t){var i=yi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Qn(t.priority,function(){Kv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Qn(t.priority,function(){Kv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=_m(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Zo=l,a.target.dispatchEvent(l),Zo=null}else return i=Nn(a),i!==null&&Gv(i),t.blockedOn=a,!1;i.shift()}return!0}function Xv(t,i,a){$c(t)&&a.delete(i)}function LS(){Em=!1,Wr!==null&&$c(Wr)&&(Wr=null),es!==null&&$c(es)&&(es=null),ts!==null&&$c(ts)&&(ts=null),Ul.forEach(Xv),Pl.forEach(Xv)}function Xc(t,i){t.blockedOn===i&&(t.blockedOn=null,Em||(Em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,LS)))}var Jc=null;function Jv(t){Jc!==t&&(Jc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Jc===t&&(Jc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(vm(l||a)===null)continue;break}var d=Nn(a);d!==null&&(t.splice(i,3),i-=3,_d(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function uo(t){function i(N){return Xc(N,t)}Wr!==null&&Xc(Wr,t),es!==null&&Xc(es,t),ts!==null&&Xc(ts,t),Ul.forEach(i),Pl.forEach(i);for(var a=0;a<ns.length;a++){var l=ns[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ns.length&&(a=ns[0],a.blockedOn===null);)$v(a),a.blockedOn===null&&ns.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Pt]||null;if(typeof d=="function")_||Jv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Pt]||null)T=_.formAction;else if(vm(f)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Jv(a)}}}function Zv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function bm(t){this._internalRoot=t}Zc.prototype.render=bm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=wn();qv(a,l,t,i,null,null)},Zc.prototype.unmount=bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;qv(t.current,2,null,t,null,null),Oc(),i[pi]=null}};function Zc(t){this._internalRoot=t}Zc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ou();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ns.length&&i!==0&&i<ns[a].priority;a++);ns.splice(a,0,t),a===0&&$v(t)}};var Wv=e.version;if(Wv!=="19.2.3")throw Error(s(527,Wv,"19.2.3"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var US={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Kn=Wc.inject(US),Ht=Wc}catch{}}return Bl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=a_,d=o_,_=l_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Bv(t,1,!1,null,null,a,l,null,f,d,_,Zv),t[pi]=i.current,nm(t),new bm(i)},Bl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=a_,_=o_,T=l_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Bv(t,1,!0,i,a??null,l,f,N,d,_,T,Zv),i.context=Hv(null),a=i.current,l=wn(),l=Ds(l),f=Br(l),f.callback=null,Hr(a,f,l),a=l,i.current.lanes=a,Is(i,a),Di(i),t[pi]=i.current,nm(t),new Zc(i)},Bl.version="19.2.3",Bl}var u0;function YS(){if(u0)return Sm.exports;u0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sm.exports=KS(),Sm.exports}var QS=YS();var c0="popstate";function $S(r={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=pa(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Ym("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:eu(u))}function s(o,u){xn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return JS(e,n,s,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function xn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XS(){return Math.random().toString(36).substring(2,10)}function h0(r,e){return{usr:r.state,key:r.key,idx:e}}function Ym(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?pa(e):e,state:n,key:e&&e.key||s||XS()}}function eu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function pa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function JS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function b(){m="POP";let F=E(),ne=F==null?null:F-g;g=F,p&&p({action:m,location:Y.location,delta:ne})}function S(F,ne){m="PUSH";let te=Ym(Y.location,F,ne);n&&n(te,F),g=E()+1;let ie=h0(te,g),fe=Y.createHref(te);try{h.pushState(ie,"",fe)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;o.location.assign(fe)}u&&p&&p({action:m,location:Y.location,delta:1})}function M(F,ne){m="REPLACE";let te=Ym(Y.location,F,ne);n&&n(te,F),g=E();let ie=h0(te,g),fe=Y.createHref(te);h.replaceState(ie,"",fe),u&&p&&p({action:m,location:Y.location,delta:0})}function K(F){return ZS(F)}let Y={get action(){return m},get location(){return r(o,h)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(c0,b),p=F,()=>{o.removeEventListener(c0,b),p=null}},createHref(F){return e(o,F)},createURL:K,encodeLocation(F){let ne=K(F);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:S,replace:M,go(F){return h.go(F)}};return Y}function ZS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:eu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function ZE(r,e,n="/"){return WS(r,e,n,!1)}function WS(r,e,n,s){let o=typeof e=="string"?pa(e):e,u=gr(o.pathname||"/",n);if(u==null)return null;let h=WE(r);ew(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=hw(u);m=uw(h[p],g,s)}return m}function WE(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=mr([s,E.relativePath]),S=n.concat(E);h.children&&h.children.length>0&&(lt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),WE(h.children,e,S,b,p)),!(h.path==null&&!h.index)&&e.push({path:b,score:ow(b,h.index),routesMeta:S})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of eb(h.path))u(h,m,!0,p)}),e}function eb(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=eb(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function ew(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:lw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var tw=/^:[\w-]+$/,nw=3,iw=2,rw=1,sw=10,aw=-2,f0=r=>r==="*";function ow(r,e){let n=r.split("/"),s=n.length;return n.some(f0)&&(s+=aw),e&&(s+=iw),n.filter(o=>!f0(o)).reduce((o,u)=>o+(tw.test(u)?nw:u===""?rw:sw),s)}function lw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function uw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:mr([u,b.pathname]),pathnameBase:pw(mr([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=mr([u,b.pathnameBase]))}return h}function Sh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=cw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},S)=>{if(E==="*"){let K=m[S]||"";h=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const M=m[S];return b&&!M?g[E]=void 0:g[E]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function cw(r,e=!1,n=!0){xn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function hw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function gr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var tb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fw=r=>tb.test(r);function dw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?pa(r):r,u;if(n)if(fw(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),xn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=d0(n.substring(1),"/"):u=d0(n,e)}else u=e;return{pathname:u,search:gw(s),hash:yw(o)}}function d0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Cm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ap(r){let e=mw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Sp(r,e,n,s=!1){let o;typeof r=="string"?o=pa(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),Cm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Cm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Cm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?e[b]:"/"}let p=dw(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var mr=r=>r.join("/").replace(/\/\/+/g,"/"),pw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),gw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,yw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,_w=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function vw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Ew(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var nb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ib(r,e){let n=r;if(typeof n!="string"||!tb.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(nb)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=gr(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{xn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rb=["POST","PUT","PATCH","DELETE"];new Set(rb);var bw=["GET",...rb];new Set(bw);var Co=L.createContext(null);Co.displayName="DataRouter";var Qh=L.createContext(null);Qh.displayName="DataRouterState";var Tw=L.createContext(!1),sb=L.createContext({isTransitioning:!1});sb.displayName="ViewTransition";var Aw=L.createContext(new Map);Aw.displayName="Fetchers";var Sw=L.createContext(null);Sw.displayName="Await";var Cn=L.createContext(null);Cn.displayName="Navigation";var hu=L.createContext(null);hu.displayName="Location";var ui=L.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var wp=L.createContext(null);wp.displayName="RouteError";var ab="REACT_ROUTER_ERROR",ww="REDIRECT",Rw="ROUTE_ERROR_RESPONSE";function xw(r){if(r.startsWith(`${ab}:${ww}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Cw(r){if(r.startsWith(`${ab}:${Rw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new _w(e.status,e.statusText,e.data)}catch{}}function Iw(r,{relative:e}={}){lt(Io(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(Cn),{hash:o,pathname:u,search:h}=fu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:mr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Io(){return L.useContext(hu)!=null}function Ar(){return lt(Io(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(hu).location}var ob="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lb(r){L.useContext(Cn).static||L.useLayoutEffect(r)}function ub(){let{isDataRoute:r}=L.useContext(ui);return r?Fw():Nw()}function Nw(){lt(Io(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Co),{basename:e,navigator:n}=L.useContext(Cn),{matches:s}=L.useContext(ui),{pathname:o}=Ar(),u=JSON.stringify(Ap(s)),h=L.useRef(!1);return lb(()=>{h.current=!0}),L.useCallback((p,g={})=>{if(xn(h.current,ob),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=Sp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:mr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}var Dw=L.createContext(null);function Ow(r){let e=L.useContext(ui).outlet;return L.useMemo(()=>e&&L.createElement(Dw.Provider,{value:r},e),[e,r])}function fu(r,{relative:e}={}){let{matches:n}=L.useContext(ui),{pathname:s}=Ar(),o=JSON.stringify(Ap(n));return L.useMemo(()=>Sp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Mw(r,e){return cb(r,e)}function cb(r,e,n,s,o){lt(Io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(Cn),{matches:h}=L.useContext(ui),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let te=b&&b.path||"";fb(g,!b||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let S=Ar(),M;if(e){let te=typeof e=="string"?pa(e):e;lt(E==="/"||te.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),M=te}else M=S;let K=M.pathname||"/",Y=K;if(E!=="/"){let te=E.replace(/^\//,"").split("/");Y="/"+K.replace(/^\//,"").split("/").slice(te.length).join("/")}let F=ZE(r,{pathname:Y});xn(b||F!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),xn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=Pw(F&&F.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:mr([E,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:mr([E,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),h,n,s,o);return e&&ne?L.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},ne):ne}function Vw(){let r=qw(),e=vw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,h)}var kw=L.createElement(Vw,null),hb=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Cw(r.digest);n&&(r=n)}let e=r!==void 0?L.createElement(ui.Provider,{value:this.props.routeContext},L.createElement(wp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?L.createElement(Lw,{error:r},e):e}};hb.contextType=Tw;var Im=new WeakMap;function Lw({children:r,error:e}){let{basename:n}=L.useContext(Cn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=xw(e.digest);if(s){let o=Im.get(e);if(o)throw o;let u=ib(s.location,n);if(nb&&!Im.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Im.set(e,h),h}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Uw({routeContext:r,match:e,children:n}){let s=L.useContext(Co);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ui.Provider,{value:r},n)}function Pw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let E=u.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let b=u[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=E),b.route.id){let{loaderData:S,errors:M}=n,K=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!M||M[b.route.id]===void 0);if(b.route.lazy||K){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,b)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Ew(n.matches),errorInfo:b})}:void 0;return u.reduceRight((E,b,S)=>{let M,K=!1,Y=null,F=null;n&&(M=h&&b.route.id?h[b.route.id]:void 0,Y=b.route.errorElement||kw,m&&(p<0&&S===0?(fb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),K=!0,F=null):p===S&&(K=!0,F=b.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,S+1)),te=()=>{let ie;return M?ie=Y:K?ie=F:b.route.Component?ie=L.createElement(b.route.Component,null):b.route.element?ie=b.route.element:ie=E,L.createElement(Uw,{match:b,routeContext:{outlet:E,matches:ne,isDataRoute:n!=null},children:ie})};return n&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?L.createElement(hb,{location:n.location,revalidation:n.revalidation,component:Y,error:M,children:te(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:g}):te()},null)}function Rp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jw(r){let e=L.useContext(Co);return lt(e,Rp(r)),e}function zw(r){let e=L.useContext(Qh);return lt(e,Rp(r)),e}function Bw(r){let e=L.useContext(ui);return lt(e,Rp(r)),e}function xp(r){let e=Bw(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Hw(){return xp("useRouteId")}function qw(){let r=L.useContext(wp),e=zw("useRouteError"),n=xp("useRouteError");return r!==void 0?r:e.errors?.[n]}function Fw(){let{router:r}=jw("useNavigate"),e=xp("useNavigate"),n=L.useRef(!1);return lb(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{xn(n.current,ob),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var m0={};function fb(r,e,n){!e&&!m0[r]&&(m0[r]=!0,xn(!1,n))}L.memo(Gw);function Gw({routes:r,future:e,state:n,onError:s}){return cb(r,void 0,n,s,e)}function db({to:r,replace:e,state:n,relative:s}){lt(Io(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(Cn);xn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(ui),{pathname:h}=Ar(),m=ub(),p=Sp(r,Ap(u),h,s==="path"),g=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Kw(r){return Ow(r.context)}function cr(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){lt(!Io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=pa(n));let{pathname:g="/",search:E="",hash:b="",state:S=null,key:M="default"}=n,K=L.useMemo(()=>{let Y=gr(g,m);return Y==null?null:{location:{pathname:Y,search:E,hash:b,state:S,key:M},navigationType:s}},[m,g,E,b,S,M,s]);return xn(K!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),K==null?null:L.createElement(Cn.Provider,{value:p},L.createElement(hu.Provider,{children:e,value:K}))}function Qw({children:r,location:e}){return Mw(Qm(r),e)}function Qm(r,e=[]){let n=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,Qm(s.props.children,u));return}lt(s.type===cr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Qm(s.props.children,u)),n.push(h)}),n}var ch="get",hh="application/x-www-form-urlencoded";function $h(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function $w(r){return $h(r)&&r.tagName.toLowerCase()==="button"}function Xw(r){return $h(r)&&r.tagName.toLowerCase()==="form"}function Jw(r){return $h(r)&&r.tagName.toLowerCase()==="input"}function Zw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ww(r,e){return r.button===0&&(!e||e==="_self")&&!Zw(r)}var eh=null;function eR(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var tR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nm(r){return r!=null&&!tR.has(r)?(xn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):r}function nR(r,e){let n,s,o,u,h;if(Xw(r)){let m=r.getAttribute("action");s=m?gr(m,e):null,n=r.getAttribute("method")||ch,o=Nm(r.getAttribute("enctype"))||hh,u=new FormData(r)}else if($w(r)||Jw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?gr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ch,o=Nm(r.getAttribute("formenctype"))||Nm(m.getAttribute("enctype"))||hh,u=new FormData(m,r),!eR()){let{name:g,type:E,value:b}=r;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,b)}}else{if($h(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ch,s=null,o=hh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function iR(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&gr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function rR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function aR(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await rR(u,n);return h.links?h.links():[]}return[]}));return cR(s.flat(1).filter(sR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function p0(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function oR(r,e,{includeHydrateFallback:n}={}){return lR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function lR(r){return[...new Set(r)]}function uR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function cR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(uR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function mb(){let r=L.useContext(Co);return Cp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function hR(){let r=L.useContext(Qh);return Cp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ip=L.createContext(void 0);Ip.displayName="FrameworkContext";function pb(){let r=L.useContext(Ip);return Cp(r,"You must render this element inside a <HydratedRouter> element"),r}function fR(r,e){let n=L.useContext(Ip),[s,o]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,S=L.useRef(null);L.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Y=ne=>{ne.forEach(te=>{h(te.isIntersecting)})},F=new IntersectionObserver(Y,{threshold:.5});return S.current&&F.observe(S.current),()=>{F.disconnect()}}},[r]),L.useEffect(()=>{if(s){let Y=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let M=()=>{o(!0)},K=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Hl(m,M),onBlur:Hl(p,K),onMouseEnter:Hl(g,M),onMouseLeave:Hl(E,K),onTouchStart:Hl(b,M)}]:[!1,S,{}]}function Hl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function dR({page:r,...e}){let{router:n}=mb(),s=L.useMemo(()=>ZE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?L.createElement(pR,{page:r,matches:s,...e}):null}function mR(r){let{manifest:e,routeModules:n}=pb(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return aR(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function pR({page:r,matches:e,...n}){let s=Ar(),{future:o,manifest:u,routeModules:h}=pb(),{basename:m}=mb(),{loaderData:p,matches:g}=hR(),E=L.useMemo(()=>p0(r,e,g,u,s,"data"),[r,e,g,u,s]),b=L.useMemo(()=>p0(r,e,g,u,s,"assets"),[r,e,g,u,s]),S=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Y=new Set,F=!1;if(e.forEach(te=>{let ie=u.routes[te.route.id];!ie||!ie.hasLoader||(!E.some(fe=>fe.route.id===te.route.id)&&te.route.id in p&&h[te.route.id]?.shouldRevalidate||ie.hasClientLoader?F=!0:Y.add(te.route.id))}),Y.size===0)return[];let ne=iR(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return F&&Y.size>0&&ne.searchParams.set("_routes",e.filter(te=>Y.has(te.route.id)).map(te=>te.route.id).join(",")),[ne.pathname+ne.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,r,h]),M=L.useMemo(()=>oR(b,u),[b,u]),K=mR(b);return L.createElement(L.Fragment,null,S.map(Y=>L.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...n})),M.map(Y=>L.createElement("link",{key:Y,rel:"modulepreload",href:Y,...n})),K.map(({key:Y,link:F})=>L.createElement("link",{key:Y,nonce:n.nonce,...F})))}function gR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var yR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yR&&(window.__reactRouterVersion="7.12.0")}catch{}function _R({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=L.useRef();o.current==null&&(o.current=$S({window:s,v5Compat:!0}));let u=o.current,[h,m]=L.useState({action:u.action,location:u.location}),p=L.useCallback(g=>{n===!1?m(g):L.startTransition(()=>m(g))},[n]);return L.useLayoutEffect(()=>u.listen(p),[u,p]),L.createElement(Yw,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var gb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:S,...M},K){let{basename:Y,unstable_useTransitions:F}=L.useContext(Cn),ne=typeof g=="string"&&gb.test(g),te=ib(g,Y);g=te.to;let ie=Iw(g,{relative:o}),[fe,Se,be]=fR(s,M),x=TR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:S,unstable_useTransitions:F});function R(k){e&&e(k),k.defaultPrevented||x(k)}let C=L.createElement("a",{...M,...be,href:te.absoluteURL||ie,onClick:te.isExternal||u?e:R,ref:gR(K,Se),target:p,"data-discover":!ne&&n==="render"?"true":void 0});return fe&&!ne?L.createElement(L.Fragment,null,C,L.createElement(dR,{page:ie})):C});an.displayName="Link";var vR=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let b=fu(h,{relative:g.relative}),S=Ar(),M=L.useContext(Qh),{navigator:K,basename:Y}=L.useContext(Cn),F=M!=null&&xR(b)&&m===!0,ne=K.encodeLocation?K.encodeLocation(b).pathname:b.pathname,te=S.pathname,ie=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(te=te.toLowerCase(),ie=ie?ie.toLowerCase():null,ne=ne.toLowerCase()),ie&&Y&&(ie=gr(ie,Y)||ie);const fe=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let Se=te===ne||!o&&te.startsWith(ne)&&te.charAt(fe)==="/",be=ie!=null&&(ie===ne||!o&&ie.startsWith(ne)&&ie.charAt(ne.length)==="/"),x={isActive:Se,isPending:be,isTransitioning:F},R=Se?e:void 0,C;typeof s=="function"?C=s(x):C=[s,Se?"active":null,be?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(x):u;return L.createElement(an,{...g,"aria-current":R,className:C,ref:E,style:k,to:h,viewTransition:m},typeof p=="function"?p(x):p)});vR.displayName="NavLink";var ER=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=ch,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:S,...M},K)=>{let{unstable_useTransitions:Y}=L.useContext(Cn),F=wR(),ne=RR(m,{relative:g}),te=h.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&gb.test(m),fe=Se=>{if(p&&p(Se),Se.defaultPrevented)return;Se.preventDefault();let be=Se.nativeEvent.submitter,x=be?.getAttribute("formmethod")||h,R=()=>F(be||Se.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:S});Y&&n!==!1?L.startTransition(()=>R()):R()};return L.createElement("form",{ref:K,method:te,action:ne,onSubmit:s?p:fe,...M,"data-discover":!ie&&r==="render"?"true":void 0})});ER.displayName="Form";function bR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yb(r){let e=L.useContext(Co);return lt(e,bR(r)),e}function TR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=ub(),E=Ar(),b=fu(r,{relative:u});return L.useCallback(S=>{if(Ww(S,e)){S.preventDefault();let M=n!==void 0?n:eu(E)===eu(b),K=()=>g(r,{replace:M,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?L.startTransition(()=>K()):K()}},[E,g,b,n,s,e,r,o,u,h,m,p])}var AR=0,SR=()=>`__${String(++AR)}__`;function wR(){let{router:r}=yb("useSubmit"),{basename:e}=L.useContext(Cn),n=Hw(),s=r.fetch,o=r.navigate;return L.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:E,body:b}=nR(u,e);if(h.navigate===!1){let S=h.fetcherKey||SR();await s(S,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:b,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:b,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function RR(r,{relative:e}={}){let{basename:n}=L.useContext(Cn),s=L.useContext(ui);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...fu(r||".",{relative:e})},h=Ar();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:mr([n,u.pathname])),eu(u)}function xR(r,{relative:e}={}){let n=L.useContext(sb);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=yb("useViewTransitionState"),o=fu(r,{relative:e});if(!n.isTransitioning)return!1;let u=gr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=gr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Sh(o.pathname,h)!=null||Sh(o.pathname,u)!=null}const CR=()=>{};var g0={};const _b=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},IR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},vb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,M=g&63;p||(M=64,h||(S=64)),s.push(n[E],n[b],n[S],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(_b(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):IR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new NR;const S=u<<2|m>>4;if(s.push(S),g!==64){const M=m<<4&240|g>>2;if(s.push(M),b!==64){const K=g<<6&192|b;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class NR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DR=function(r){const e=_b(r);return vb.encodeByteArray(e,!0)},wh=function(r){return DR(r).replace(/\./g,"")},Eb=function(r){try{return vb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function OR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const MR=()=>OR().__FIREBASE_DEFAULTS__,VR=()=>{if(typeof process>"u"||typeof g0>"u")return;const r=g0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},kR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Eb(r[1]);return e&&JSON.parse(e)},Xh=()=>{try{return CR()||MR()||VR()||kR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},bb=r=>Xh()?.emulatorHosts?.[r],Tb=r=>{const e=bb(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Ab=()=>Xh()?.config,Sb=r=>Xh()?.[`_${r}`];class LR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ga(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Np(r){return(await fetch(r,{credentials:"include"})).ok}function wb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[wh(JSON.stringify(n)),wh(JSON.stringify(h)),""].join(".")}const Ql={};function UR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?r.emulator.push(e):r.prod.push(e);return r}function PR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let y0=!1;function Dp(r,e){if(typeof window>"u"||typeof document>"u"||!ga(window.location.host)||Ql[r]===e||Ql[r]||y0)return;Ql[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=UR().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,M){S.setAttribute("width","24"),S.setAttribute("id",M),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{y0=!0,h()},S}function E(S,M){S.setAttribute("id",M),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=PR(s),M=n("text"),K=document.getElementById(M)||document.createElement("span"),Y=n("learnmore"),F=document.getElementById(Y)||document.createElement("a"),ne=n("preprendIcon"),te=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ie=S.element;m(ie),E(F,Y);const fe=g();p(te,ne),ie.append(te,K,F,fe),document.body.appendChild(ie)}u?(K.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function zR(){const r=Xh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function qR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FR(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function GR(){return!zR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KR(){try{return typeof indexedDB=="object"}catch{return!1}}function YR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const QR="FirebaseError";class Hi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=QR,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?$R(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Hi(o,m,s)}}function $R(r,e){return r.replace(XR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const XR=/\{\$([^}]+)}/g;function JR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function la(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(_0(u)&&_0(h)){if(!la(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function _0(r){return r!==null&&typeof r=="object"}function mu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ZR(r,e){const n=new WR(r,e);return n.subscribe.bind(n)}class WR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");e2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Dm),o.error===void 0&&(o.error=Dm),o.complete===void 0&&(o.complete=Dm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Dm(){}function Ut(r){return r&&r._delegate?r._delegate:r}class ms{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const na="[DEFAULT]";class t2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new LR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i2(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:n2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n2(r){return r===na?void 0:r}function i2(r){return r.instantiationMode==="EAGER"}class r2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new t2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const s2={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},a2=Me.INFO,o2={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},l2=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=o2[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Op{constructor(e){this.name=e,this._logLevel=a2,this._logHandler=l2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const u2=(r,e)=>e.some(n=>r instanceof n);let v0,E0;function c2(){return v0||(v0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h2(){return E0||(E0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rb=new WeakMap,$m=new WeakMap,xb=new WeakMap,Om=new WeakMap,Mp=new WeakMap;function f2(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(cs(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Rb.set(n,r)}).catch(()=>{}),Mp.set(e,r),e}function d2(r){if($m.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});$m.set(r,e)}let Xm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return $m.get(r);if(e==="objectStoreNames")return r.objectStoreNames||xb.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function m2(r){Xm=r(Xm)}function p2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Mm(this),e,...n);return xb.set(s,e.sort?e.sort():[e]),cs(s)}:h2().includes(r)?function(...e){return r.apply(Mm(this),e),cs(Rb.get(this))}:function(...e){return cs(r.apply(Mm(this),e))}}function g2(r){return typeof r=="function"?p2(r):(r instanceof IDBTransaction&&d2(r),u2(r,c2())?new Proxy(r,Xm):r)}function cs(r){if(r instanceof IDBRequest)return f2(r);if(Om.has(r))return Om.get(r);const e=g2(r);return e!==r&&(Om.set(r,e),Mp.set(e,r)),e}const Mm=r=>Mp.get(r);function y2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=cs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(cs(h.result),p.oldVersion,p.newVersion,cs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const _2=["get","getKey","getAll","getAllKeys","count"],v2=["put","add","delete","clear"],Vm=new Map;function b0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=v2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||_2.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Vm.set(e,u),u}m2(r=>({...r,get:(e,n,s)=>b0(e,n)||r.get(e,n,s),has:(e,n)=>!!b0(e,n)||r.has(e,n)}));class E2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(b2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function b2(r){return r.getComponent()?.type==="VERSION"}const Jm="@firebase/app",T0="0.14.7";const yr=new Op("@firebase/app"),T2="@firebase/app-compat",A2="@firebase/analytics-compat",S2="@firebase/analytics",w2="@firebase/app-check-compat",R2="@firebase/app-check",x2="@firebase/auth",C2="@firebase/auth-compat",I2="@firebase/database",N2="@firebase/data-connect",D2="@firebase/database-compat",O2="@firebase/functions",M2="@firebase/functions-compat",V2="@firebase/installations",k2="@firebase/installations-compat",L2="@firebase/messaging",U2="@firebase/messaging-compat",P2="@firebase/performance",j2="@firebase/performance-compat",z2="@firebase/remote-config",B2="@firebase/remote-config-compat",H2="@firebase/storage",q2="@firebase/storage-compat",F2="@firebase/firestore",G2="@firebase/ai",K2="@firebase/firestore-compat",Y2="firebase",Q2="12.8.0";const Zm="[DEFAULT]",$2={[Jm]:"fire-core",[T2]:"fire-core-compat",[S2]:"fire-analytics",[A2]:"fire-analytics-compat",[R2]:"fire-app-check",[w2]:"fire-app-check-compat",[x2]:"fire-auth",[C2]:"fire-auth-compat",[I2]:"fire-rtdb",[N2]:"fire-data-connect",[D2]:"fire-rtdb-compat",[O2]:"fire-fn",[M2]:"fire-fn-compat",[V2]:"fire-iid",[k2]:"fire-iid-compat",[L2]:"fire-fcm",[U2]:"fire-fcm-compat",[P2]:"fire-perf",[j2]:"fire-perf-compat",[z2]:"fire-rc",[B2]:"fire-rc-compat",[H2]:"fire-gcs",[q2]:"fire-gcs-compat",[F2]:"fire-fst",[K2]:"fire-fst-compat",[G2]:"fire-vertex","fire-js":"fire-js",[Y2]:"fire-js-all"};const Rh=new Map,X2=new Map,Wm=new Map;function A0(r,e){try{r.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ua(r){const e=r.name;if(Wm.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;Wm.set(e,r);for(const n of Rh.values())A0(n,r);for(const n of X2.values())A0(n,r);return!0}function Jh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Hn(r){return r==null?!1:r.settings!==void 0}const J2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new du("app","Firebase",J2);class Z2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}const ya=Q2;function Cb(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Zm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw hs.create("bad-app-name",{appName:String(o)});if(n||(n=Ab()),!n)throw hs.create("no-options");const u=Rh.get(o);if(u){if(la(n,u.options)&&la(s,u.config))return u;throw hs.create("duplicate-app",{appName:o})}const h=new r2(o);for(const p of Wm.values())h.addComponent(p);const m=new Z2(n,s,h);return Rh.set(o,m),m}function Vp(r=Zm){const e=Rh.get(r);if(!e&&r===Zm&&Ab())return Cb();if(!e)throw hs.create("no-app",{appName:r});return e}function Vi(r,e,n){let s=$2[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(h.join(" "));return}ua(new ms(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const W2="firebase-heartbeat-database",ex=1,tu="firebase-heartbeat-store";let km=null;function Ib(){return km||(km=y2(W2,ex,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(r=>{throw hs.create("idb-open",{originalErrorMessage:r.message})})),km}async function tx(r){try{const n=(await Ib()).transaction(tu),s=await n.objectStore(tu).get(Nb(r));return await n.done,s}catch(e){if(e instanceof Hi)yr.warn(e.message);else{const n=hs.create("idb-get",{originalErrorMessage:e?.message});yr.warn(n.message)}}}async function S0(r,e){try{const s=(await Ib()).transaction(tu,"readwrite");await s.objectStore(tu).put(e,Nb(r)),await s.done}catch(n){if(n instanceof Hi)yr.warn(n.message);else{const s=hs.create("idb-set",{originalErrorMessage:n?.message});yr.warn(s.message)}}}function Nb(r){return`${r.name}!${r.options.appId}`}const nx=1024,ix=30;class rx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ax(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=w0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>ix){const o=ox(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=w0(),{heartbeatsToSend:n,unsentEntries:s}=sx(this._heartbeatsCache.heartbeats),o=wh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return yr.warn(e),""}}}function w0(){return new Date().toISOString().substring(0,10)}function sx(r,e=nx){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),R0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),R0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ax{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KR()?YR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function R0(r){return wh(JSON.stringify({version:2,heartbeats:r})).length}function ox(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function lx(r){ua(new ms("platform-logger",e=>new E2(e),"PRIVATE")),ua(new ms("heartbeat",e=>new rx(e),"PRIVATE")),Vi(Jm,T0,r),Vi(Jm,T0,"esm2020"),Vi("fire-js","")}lx("");var ux="firebase",cx="12.8.0";Vi(ux,cx,"app");function Db(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hx=Db,Ob=new du("auth","Firebase",Db());const xh=new Op("@firebase/auth");function fx(r,...e){xh.logLevel<=Me.WARN&&xh.warn(`Auth (${ya}): ${r}`,...e)}function fh(r,...e){xh.logLevel<=Me.ERROR&&xh.error(`Auth (${ya}): ${r}`,...e)}function ji(r,...e){throw Lp(r,...e)}function ai(r,...e){return Lp(r,...e)}function kp(r,e,n){const s={...hx(),[e]:n};return new du("auth","Firebase",s).create(e,{appName:r.name})}function sa(r){return kp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dx(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ji(r,"argument-error"),kp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Ob.create(r,...e)}function _e(r,e,...n){if(!r)throw Lp(e,...n)}function fr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw fh(e),new Error(e)}function _r(r,e){r||fr(e)}function ep(){return typeof self<"u"&&self.location?.href||""}function mx(){return x0()==="http:"||x0()==="https:"}function x0(){return typeof self<"u"&&self.location?.protocol||null}function px(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mx()||HR()||"connection"in navigator)?navigator.onLine:!0}function gx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,_r(n>e,"Short delay should be less than long delay!"),this.isMobile=jR()||qR()}get(){return px()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Up(r,e){_r(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Mb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _x=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vx=new pu(3e4,6e4);function Pp(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function No(r,e,n,s,o={}){return Vb(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=mu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return BR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ga(r.emulatorConfig.host)&&(g.credentials="include"),Mb.fetch()(await kb(r,r.config.apiHost,n,m),g)})}async function Vb(r,e,n){r._canInitEmulator=!1;const s={...yx,...e};try{const o=new bx(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw th(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw th(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw th(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw kp(r,E,g);ji(r,E)}}catch(o){if(o instanceof Hi)throw o;ji(r,"network-request-failed",{message:String(o)})}}async function Ex(r,e,n,s,o={}){const u=await No(r,e,n,s,o);return"mfaPendingCredential"in u&&ji(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function kb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Up(r.config,o):`${r.config.apiScheme}://${o}`;return _x.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class bx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ai(this.auth,"network-request-failed")),vx.get())})}}function th(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ai(r,e,s);return o.customData._tokenResponse=n,o}async function Tx(r,e){return No(r,"POST","/v1/accounts:delete",e)}async function Ch(r,e){return No(r,"POST","/v1/accounts:lookup",e)}function $l(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ax(r,e=!1){const n=Ut(r),s=await n.getIdToken(e),o=jp(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:$l(Lm(o.auth_time)),issuedAtTime:$l(Lm(o.iat)),expirationTime:$l(Lm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Lm(r){return Number(r)*1e3}function jp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Eb(n);return o?JSON.parse(o):(fh("Failed to decode base64 JWT payload"),null)}catch(o){return fh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function C0(r){const e=jp(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function nu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Hi&&Sx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Sx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class wx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ih(r){const e=r.auth,n=await r.getIdToken(),s=await nu(r,Ch(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?Lb(o.providerUserInfo):[],h=xx(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new tp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function Rx(r){const e=Ut(r);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xx(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Lb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Cx(r,e){const n=await Vb(r,{},async()=>{const s=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await kb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&ga(r.emulatorConfig.host)&&(p.credentials="include"),Mb.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ix(r,e){return No(r,"POST","/v2/accounts:revokeToken",Pp(r,e))}class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=C0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Cx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new po;return s&&(_e(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return fr("not implemented")}}function rs(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new wx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await nu(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ax(this,e)}reload(){return Rx(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(sa(this.auth));const e=await this.getIdToken();return await nu(this,Tx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:M,providerData:K,stsTokenManager:Y}=n;_e(b&&Y,e,"internal-error");const F=po.fromJSON(this.name,Y);_e(typeof b=="string",e,"internal-error"),rs(s,e.name),rs(o,e.name),_e(typeof S=="boolean",e,"internal-error"),_e(typeof M=="boolean",e,"internal-error"),rs(u,e.name),rs(h,e.name),rs(m,e.name),rs(p,e.name),rs(g,e.name),rs(E,e.name);const ne=new ri({uid:b,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:M,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:g,lastLoginAt:E});return K&&Array.isArray(K)&&(ne.providerData=K.map(te=>({...te}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new po;o.updateFromServerResponse(n);const u=new ri({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ih(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Lb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new po;m.updateFromIdToken(s);const p=new ri({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const I0=new Map;function dr(r){_r(r instanceof Function,"Expected a class definition");let e=I0.get(r);return e?(_r(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,I0.set(r,e),e)}class Ub{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ub.type="NONE";const N0=Ub;function dh(r,e,n){return`firebase:${r}:${e}:${n}`}class go{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=dh(this.userKey,o.apiKey,u),this.fullPersistenceKey=dh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ch(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new go(dr(N0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||dr(N0);const h=dh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let b;if(typeof E=="string"){const S=await Ch(e,{idToken:E}).catch(()=>{});if(!S)break;b=await ri._fromGetAccountInfoResponse(e,S,E)}else b=ri._fromJSON(e,E);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new go(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new go(u,e,s))}}function D0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qb(e))return"Blackberry";if(Fb(e))return"Webos";if(jb(e))return"Safari";if((e.includes("chrome/")||zb(e))&&!e.includes("edge/"))return"Chrome";if(Hb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function Pb(r=tn()){return/firefox\//i.test(r)}function jb(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zb(r=tn()){return/crios\//i.test(r)}function Bb(r=tn()){return/iemobile/i.test(r)}function Hb(r=tn()){return/android/i.test(r)}function qb(r=tn()){return/blackberry/i.test(r)}function Fb(r=tn()){return/webos/i.test(r)}function zp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Nx(r=tn()){return zp(r)&&!!window.navigator?.standalone}function Dx(){return FR()&&document.documentMode===10}function Gb(r=tn()){return zp(r)||Hb(r)||Fb(r)||qb(r)||/windows phone/i.test(r)||Bb(r)}function Kb(r,e=[]){let n;switch(r){case"Browser":n=D0(tn());break;case"Worker":n=`${D0(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ya}/${s}`}class Ox{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Mx(r,e={}){return No(r,"GET","/v2/passwordPolicy",Pp(r,e))}const Vx=6;class kx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Vx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class Lx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O0(this),this.idTokenSubscription=new O0(this),this.beforeStateQueue=new Ox(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ob,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await go.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ch(this,{idToken:e}),s=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Hn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(sa(this));const n=e?Ut(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Mx(this),n=new kx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Ix(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&dr(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zh(r){return Ut(r)}class O0{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZR(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ux(r){Bp=r}function Px(r){return Bp.loadJS(r)}function jx(){return Bp.gapiScript}function zx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function Bx(r,e){const n=Jh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(la(u,e??{}))return o;ji(o,"already-initialized")}return n.initialize({options:e})}function Hx(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(dr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function qx(r,e,n){const s=Zh(r);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Yb(e),{host:h,port:m}=Fx(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(la(g,s.config.emulator)&&la(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ga(h)?(Np(`${u}//${h}${p}`),Dp("Auth",!0)):Gx()}function Yb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Fx(r){const e=Yb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:M0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:M0(h)}}}function M0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Gx(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Qb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,n){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}async function yo(r,e){return Ex(r,"POST","/v1/accounts:signInWithIdp",Pp(r,e))}const Kx="http://localhost";class ca extends Qb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ca(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return yo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,yo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yo(e,n)}buildRequest(){const e={requestUri:Kx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}class Hp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends Hp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ss extends gu{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";class hr extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ca._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return hr.credential(n,s)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";class as extends gu{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";class os extends gu{constructor(){super("twitter.com")}static credential(e,n){return ca._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return os.credential(n,s)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ri._fromIdTokenResponse(e,s,o),h=V0(s);return new Eo({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=V0(s);return new Eo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function V0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Nh extends Hi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Nh(e,n,s,o)}}function $b(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,u,e,s):u})}async function Yx(r,e,n=!1){const s=await nu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Eo._forOperation(r,"link",s)}async function Qx(r,e,n=!1){const{auth:s}=r;if(Hn(s.app))return Promise.reject(sa(s));const o="reauthenticate";try{const u=await nu(r,$b(s,o,e,r),n);_e(u.idToken,s,"internal-error");const h=jp(u.idToken);_e(h,s,"internal-error");const{sub:m}=h;return _e(r.uid===m,s,"user-mismatch"),Eo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ji(s,"user-mismatch"),u}}async function $x(r,e,n=!1){if(Hn(r.app))return Promise.reject(sa(r));const s="signIn",o=await $b(r,s,e),u=await Eo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function Xx(r,e,n,s){return Ut(r).onIdTokenChanged(e,n,s)}function Jx(r,e,n){return Ut(r).beforeAuthStateChanged(e,n)}function Zx(r,e,n,s){return Ut(r).onAuthStateChanged(e,n,s)}function Wx(r){return Ut(r).signOut()}const Dh="__sak";class Xb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const eC=1e3,tC=10;class Jb extends Xb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);Dx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,tC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},eC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jb.type="LOCAL";const nC=Jb;class Zb extends Xb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Zb.type="SESSION";const Wb=Zb;function iC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Wh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await iC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];function qp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class rC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=qp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function ki(){return window}function sC(r){ki().location.href=r}function eT(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function aC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oC(){return navigator?.serviceWorker?.controller||null}function lC(){return eT()?self:null}const tT="firebaseLocalStorageDb",uC=1,Oh="firebaseLocalStorage",nT="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ef(r,e){return r.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function cC(){const r=indexedDB.deleteDatabase(tT);return new yu(r).toPromise()}function np(){const r=indexedDB.open(tT,uC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Oh,{keyPath:nT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Oh)?e(s):(s.close(),await cC(),e(await np()))})})}async function k0(r,e,n){const s=ef(r,!0).put({[nT]:e,value:n});return new yu(s).toPromise()}async function hC(r,e){const n=ef(r,!1).get(e),s=await new yu(n).toPromise();return s===void 0?null:s.value}function L0(r,e){const n=ef(r,!0).delete(e);return new yu(n).toPromise()}const fC=800,dC=3;class iT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await np(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>dC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(lC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aC(),!this.activeServiceWorker)return;this.sender=new rC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await np();return await k0(e,Dh,"1"),await L0(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>k0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>hC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>L0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ef(o,!1).getAll();return new yu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iT.type="LOCAL";const mC=iT;new pu(3e4,6e4);function rT(r,e){return e?dr(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Fp extends Qb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pC(r){return $x(r.auth,new Fp(r),r.bypassAuthState)}function gC(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),Qx(n,new Fp(r),r.bypassAuthState)}async function yC(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),Yx(n,new Fp(r),r.bypassAuthState)}class sT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pC;case"linkViaPopup":case"linkViaRedirect":return yC;case"reauthViaPopup":case"reauthViaRedirect":return gC;default:ji(this.auth,"internal-error")}}resolve(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _C=new pu(2e3,1e4);async function vC(r,e,n){if(Hn(r.app))return Promise.reject(ai(r,"operation-not-supported-in-this-environment"));const s=Zh(r);dx(r,e,Hp);const o=rT(s,n);return new ia(s,"signInViaPopup",e,o).executeNotNull()}class ia extends sT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ia.currentPopupAction&&ia.currentPopupAction.cancel(),ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const e=qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_C.get())};e()}}ia.currentPopupAction=null;const EC="pendingRedirect",mh=new Map;class bC extends sT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const s=await TC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TC(r,e){const n=wC(e),s=SC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function AC(r,e){mh.set(r._key(),e)}function SC(r){return dr(r._redirectPersistence)}function wC(r){return dh(EC,r.config.apiKey,r.name)}async function RC(r,e,n=!1){if(Hn(r.app))return Promise.reject(sa(r));const s=Zh(r),o=rT(s,e),h=await new bC(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const xC=600*1e3;class CC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!aT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ai(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xC&&this.cachedEventUids.clear(),this.cachedEventUids.has(U0(e))}saveEventToCache(e){this.cachedEventUids.add(U0(e)),this.lastProcessedEventTime=Date.now()}}function U0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function aT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function IC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aT(r);default:return!1}}async function NC(r,e={}){return No(r,"GET","/v1/projects",e)}const DC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OC=/^https?/;async function MC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await NC(r);for(const n of e)try{if(VC(n))return}catch{}ji(r,"unauthorized-domain")}function VC(r){const e=ep(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!OC.test(n))return!1;if(DC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const kC=new pu(3e4,6e4);function P0(){const r=ki().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function LC(r){return new Promise((e,n)=>{function s(){P0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P0(),n(ai(r,"network-request-failed"))},timeout:kC.get()})}if(ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ki().gapi?.load)s();else{const o=zx("iframefcb");return ki()[o]=()=>{gapi.load?s():n(ai(r,"network-request-failed"))},Px(`${jx()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ph=null,e})}let ph=null;function UC(r){return ph=ph||LC(r),ph}const PC=new pu(5e3,15e3),jC="__/auth/iframe",zC="emulator/auth/iframe",BC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qC(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Up(e,zC):`https://${r.config.authDomain}/${jC}`,s={apiKey:e.apiKey,appName:r.name,v:ya},o=HC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${mu(s).slice(1)}`}async function FC(r){const e=await UC(r),n=ki().gapi;return _e(n,r,"internal-error"),e.open({where:document.body,url:qC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ai(r,"network-request-failed"),m=ki().setTimeout(()=>{u(h)},PC.get());function p(){ki().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const GC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KC=500,YC=600,QC="_blank",$C="http://localhost";class j0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XC(r,e,n,s=KC,o=YC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...GC,width:s.toString(),height:o.toString(),top:u,left:h},g=tn().toLowerCase();n&&(m=zb(g)?QC:n),Pb(g)&&(e=e||$C,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[M,K])=>`${S}${M}=${K},`,"");if(Nx(g)&&m!=="_self")return JC(e||"",m),new j0(null);const b=window.open(e||"",m,E);_e(b,r,"popup-blocked");try{b.focus()}catch{}return new j0(b)}function JC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const ZC="__/auth/handler",WC="emulator/auth/handler",eI=encodeURIComponent("fac");async function z0(r,e,n,s,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ya,eventId:o};if(e instanceof Hp){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",JR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(e instanceof gu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${eI}=${encodeURIComponent(p)}`:"";return`${tI(r)}?${mu(m).slice(1)}${g}`}function tI({config:r}){return r.emulator?Up(r,WC):`https://${r.authDomain}/${ZC}`}const Um="webStorageSupport";class nI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wb,this._completeRedirectFn=RC,this._overrideRedirectResult=AC}async _openPopup(e,n,s,o){_r(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await z0(e,n,s,ep(),o);return XC(e,u,qp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await z0(e,n,s,ep(),o);return sC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(_r(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await FC(e),s=new CC(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Um,{type:Um},o=>{const u=o?.[0]?.[Um];u!==void 0&&n(!!u),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Gb()||jb()||zp()}}const iI=nI;var B0="@firebase/auth",H0="1.12.0";class rI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aI(r){ua(new ms("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;_e(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kb(r)},g=new Lx(s,o,u,p);return Hx(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ua(new ms("auth-internal",e=>{const n=Zh(e.getProvider("auth").getImmediate());return(s=>new rI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vi(B0,H0,sI(r)),Vi(B0,H0,"esm2020")}const oI=300,lI=Sb("authIdTokenMaxAge")||oI;let q0=null;const uI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>lI)return;const o=n?.token;q0!==o&&(q0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function cI(r=Vp()){const e=Jh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Bx(r,{popupRedirectResolver:iI,persistence:[mC,nC,Wb]}),s=Sb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=uI(u.toString());Jx(n,h,()=>h(n.currentUser)),Xx(n,m=>h(m))}}const o=bb("auth");return o&&qx(n,`http://${o}`),n}function hI(){return document.getElementsByTagName("head")?.[0]??document}Ux({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ai("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",hI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aI("Browser");var F0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fs,oT;(function(){var r;function e(x,R){function C(){}C.prototype=R.prototype,x.F=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(k,O,P){for(var I=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)I[rt-2]=arguments[rt];return R.prototype[O].apply(k,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,C){C||(C=0);const k=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)k[O]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(O=0;O<16;++O)k[O]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],O=x.g[2];let P=x.g[3],I;I=R+(P^C&(O^P))+k[0]+3614090360&4294967295,R=C+(I<<7&4294967295|I>>>25),I=P+(O^R&(C^O))+k[1]+3905402710&4294967295,P=R+(I<<12&4294967295|I>>>20),I=O+(C^P&(R^C))+k[2]+606105819&4294967295,O=P+(I<<17&4294967295|I>>>15),I=C+(R^O&(P^R))+k[3]+3250441966&4294967295,C=O+(I<<22&4294967295|I>>>10),I=R+(P^C&(O^P))+k[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=P+(O^R&(C^O))+k[5]+1200080426&4294967295,P=R+(I<<12&4294967295|I>>>20),I=O+(C^P&(R^C))+k[6]+2821735955&4294967295,O=P+(I<<17&4294967295|I>>>15),I=C+(R^O&(P^R))+k[7]+4249261313&4294967295,C=O+(I<<22&4294967295|I>>>10),I=R+(P^C&(O^P))+k[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=P+(O^R&(C^O))+k[9]+2336552879&4294967295,P=R+(I<<12&4294967295|I>>>20),I=O+(C^P&(R^C))+k[10]+4294925233&4294967295,O=P+(I<<17&4294967295|I>>>15),I=C+(R^O&(P^R))+k[11]+2304563134&4294967295,C=O+(I<<22&4294967295|I>>>10),I=R+(P^C&(O^P))+k[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=P+(O^R&(C^O))+k[13]+4254626195&4294967295,P=R+(I<<12&4294967295|I>>>20),I=O+(C^P&(R^C))+k[14]+2792965006&4294967295,O=P+(I<<17&4294967295|I>>>15),I=C+(R^O&(P^R))+k[15]+1236535329&4294967295,C=O+(I<<22&4294967295|I>>>10),I=R+(O^P&(C^O))+k[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=P+(C^O&(R^C))+k[6]+3225465664&4294967295,P=R+(I<<9&4294967295|I>>>23),I=O+(R^C&(P^R))+k[11]+643717713&4294967295,O=P+(I<<14&4294967295|I>>>18),I=C+(P^R&(O^P))+k[0]+3921069994&4294967295,C=O+(I<<20&4294967295|I>>>12),I=R+(O^P&(C^O))+k[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=P+(C^O&(R^C))+k[10]+38016083&4294967295,P=R+(I<<9&4294967295|I>>>23),I=O+(R^C&(P^R))+k[15]+3634488961&4294967295,O=P+(I<<14&4294967295|I>>>18),I=C+(P^R&(O^P))+k[4]+3889429448&4294967295,C=O+(I<<20&4294967295|I>>>12),I=R+(O^P&(C^O))+k[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=P+(C^O&(R^C))+k[14]+3275163606&4294967295,P=R+(I<<9&4294967295|I>>>23),I=O+(R^C&(P^R))+k[3]+4107603335&4294967295,O=P+(I<<14&4294967295|I>>>18),I=C+(P^R&(O^P))+k[8]+1163531501&4294967295,C=O+(I<<20&4294967295|I>>>12),I=R+(O^P&(C^O))+k[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=P+(C^O&(R^C))+k[2]+4243563512&4294967295,P=R+(I<<9&4294967295|I>>>23),I=O+(R^C&(P^R))+k[7]+1735328473&4294967295,O=P+(I<<14&4294967295|I>>>18),I=C+(P^R&(O^P))+k[12]+2368359562&4294967295,C=O+(I<<20&4294967295|I>>>12),I=R+(C^O^P)+k[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=P+(R^C^O)+k[8]+2272392833&4294967295,P=R+(I<<11&4294967295|I>>>21),I=O+(P^R^C)+k[11]+1839030562&4294967295,O=P+(I<<16&4294967295|I>>>16),I=C+(O^P^R)+k[14]+4259657740&4294967295,C=O+(I<<23&4294967295|I>>>9),I=R+(C^O^P)+k[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=P+(R^C^O)+k[4]+1272893353&4294967295,P=R+(I<<11&4294967295|I>>>21),I=O+(P^R^C)+k[7]+4139469664&4294967295,O=P+(I<<16&4294967295|I>>>16),I=C+(O^P^R)+k[10]+3200236656&4294967295,C=O+(I<<23&4294967295|I>>>9),I=R+(C^O^P)+k[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=P+(R^C^O)+k[0]+3936430074&4294967295,P=R+(I<<11&4294967295|I>>>21),I=O+(P^R^C)+k[3]+3572445317&4294967295,O=P+(I<<16&4294967295|I>>>16),I=C+(O^P^R)+k[6]+76029189&4294967295,C=O+(I<<23&4294967295|I>>>9),I=R+(C^O^P)+k[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=P+(R^C^O)+k[12]+3873151461&4294967295,P=R+(I<<11&4294967295|I>>>21),I=O+(P^R^C)+k[15]+530742520&4294967295,O=P+(I<<16&4294967295|I>>>16),I=C+(O^P^R)+k[2]+3299628645&4294967295,C=O+(I<<23&4294967295|I>>>9),I=R+(O^(C|~P))+k[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=P+(C^(R|~O))+k[7]+1126891415&4294967295,P=R+(I<<10&4294967295|I>>>22),I=O+(R^(P|~C))+k[14]+2878612391&4294967295,O=P+(I<<15&4294967295|I>>>17),I=C+(P^(O|~R))+k[5]+4237533241&4294967295,C=O+(I<<21&4294967295|I>>>11),I=R+(O^(C|~P))+k[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=P+(C^(R|~O))+k[3]+2399980690&4294967295,P=R+(I<<10&4294967295|I>>>22),I=O+(R^(P|~C))+k[10]+4293915773&4294967295,O=P+(I<<15&4294967295|I>>>17),I=C+(P^(O|~R))+k[1]+2240044497&4294967295,C=O+(I<<21&4294967295|I>>>11),I=R+(O^(C|~P))+k[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=P+(C^(R|~O))+k[15]+4264355552&4294967295,P=R+(I<<10&4294967295|I>>>22),I=O+(R^(P|~C))+k[6]+2734768916&4294967295,O=P+(I<<15&4294967295|I>>>17),I=C+(P^(O|~R))+k[13]+1309151649&4294967295,C=O+(I<<21&4294967295|I>>>11),I=R+(O^(C|~P))+k[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=P+(C^(R|~O))+k[11]+3174756917&4294967295,P=R+(I<<10&4294967295|I>>>22),I=O+(R^(P|~C))+k[2]+718787259&4294967295,O=P+(I<<15&4294967295|I>>>17),I=C+(P^(O|~R))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+P&4294967295}s.prototype.v=function(x,R){R===void 0&&(R=x.length);const C=R-this.blockSize,k=this.C;let O=this.h,P=0;for(;P<R;){if(O==0)for(;P<=C;)o(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<R;)if(k[O++]=x.charCodeAt(P++),O==this.blockSize){o(this,k),O=0;break}}else for(;P<R;)if(k[O++]=x[P++],O==this.blockSize){o(this,k),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;R=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=R&255,R/=256;for(this.v(x),x=Array(16),R=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)x[R++]=this.g[C]>>>k&255;return x};function u(x,R){var C=m;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function h(x,R){this.h=R;const C=[];let k=!0;for(let O=x.length-1;O>=0;O--){const P=x[O]|0;k&&P==R||(C[O]=P,k=!1)}this.g=C}var m={};function p(x){return-128<=x&&x<128?u(x,function(R){return new h([R|0],R<0?-1:0)}):new h([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return b;if(x<0)return F(g(-x));const R=[];let C=1;for(let k=0;x>=C;k++)R[k]=x/C|0,C*=4294967296;return new h(R,0)}function E(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return F(E(x.substring(1),R));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let k=b;for(let P=0;P<x.length;P+=8){var O=Math.min(8,x.length-P);const I=parseInt(x.substring(P,P+O),R);O<8?(O=g(Math.pow(R,O)),k=k.j(O).add(g(I))):(k=k.j(C),k=k.add(g(I)))}return k}var b=p(0),S=p(1),M=p(16777216);r=h.prototype,r.m=function(){if(Y(this))return-F(this).m();let x=0,R=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);x+=(k>=0?k:4294967296+k)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(K(this))return"0";if(Y(this))return"-"+F(this).toString(x);const R=g(Math.pow(x,6));var C=this;let k="";for(;;){const O=fe(C,R).g;C=ne(C,O.j(R));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=O,K(C))return P+k;for(;P.length<6;)P="0"+P;k=P+k}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function K(x){if(x.h!=0)return!1;for(let R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function Y(x){return x.h==-1}r.l=function(x){return x=ne(this,x),Y(x)?-1:K(x)?0:1};function F(x){const R=x.g.length,C=[];for(let k=0;k<R;k++)C[k]=~x.g[k];return new h(C,~x.h).add(S)}r.abs=function(){return Y(this)?F(this):this},r.add=function(x){const R=Math.max(this.g.length,x.g.length),C=[];let k=0;for(let O=0;O<=R;O++){let P=k+(this.i(O)&65535)+(x.i(O)&65535),I=(P>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);k=I>>>16,P&=65535,I&=65535,C[O]=I<<16|P}return new h(C,C[C.length-1]&-2147483648?-1:0)};function ne(x,R){return x.add(F(R))}r.j=function(x){if(K(this)||K(x))return b;if(Y(this))return Y(x)?F(this).j(F(x)):F(F(this).j(x));if(Y(x))return F(this.j(F(x)));if(this.l(M)<0&&x.l(M)<0)return g(this.m()*x.m());const R=this.g.length+x.g.length,C=[];for(var k=0;k<2*R;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<x.g.length;O++){const P=this.i(k)>>>16,I=this.i(k)&65535,rt=x.i(O)>>>16,Dt=x.i(O)&65535;C[2*k+2*O]+=I*Dt,te(C,2*k+2*O),C[2*k+2*O+1]+=P*Dt,te(C,2*k+2*O+1),C[2*k+2*O+1]+=I*rt,te(C,2*k+2*O+1),C[2*k+2*O+2]+=P*rt,te(C,2*k+2*O+2)}for(x=0;x<R;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=R;x<2*R;x++)C[x]=0;return new h(C,0)};function te(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function ie(x,R){this.g=x,this.h=R}function fe(x,R){if(K(R))throw Error("division by zero");if(K(x))return new ie(b,b);if(Y(x))return R=fe(F(x),R),new ie(F(R.g),F(R.h));if(Y(R))return R=fe(x,F(R)),new ie(F(R.g),R.h);if(x.g.length>30){if(Y(x)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var C=S,k=R;k.l(x)<=0;)C=Se(C),k=Se(k);var O=be(C,1),P=be(k,1);for(k=be(k,2),C=be(C,2);!K(k);){var I=P.add(k);I.l(x)<=0&&(O=O.add(C),P=I),k=be(k,1),C=be(C,1)}return R=ne(x,O.j(R)),new ie(O,R)}for(O=b;x.l(R)>=0;){for(C=Math.max(1,Math.floor(x.m()/R.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),P=g(C),I=P.j(R);Y(I)||I.l(x)>0;)C-=k,P=g(C),I=P.j(R);K(P)&&(P=S),O=O.add(P),x=ne(x,I)}return new ie(O,x)}r.B=function(x){return fe(this,x).h},r.and=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let k=0;k<R;k++)C[k]=this.i(k)&x.i(k);return new h(C,this.h&x.h)},r.or=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let k=0;k<R;k++)C[k]=this.i(k)|x.i(k);return new h(C,this.h|x.h)},r.xor=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let k=0;k<R;k++)C[k]=this.i(k)^x.i(k);return new h(C,this.h^x.h)};function Se(x){const R=x.g.length+1,C=[];for(let k=0;k<R;k++)C[k]=x.i(k)<<1|x.i(k-1)>>>31;return new h(C,x.h)}function be(x,R){const C=R>>5;R%=32;const k=x.g.length-C,O=[];for(let P=0;P<k;P++)O[P]=R>0?x.i(P+C)>>>R|x.i(P+C+1)<<32-R:x.i(P+C);return new h(O,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,oT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,fs=h}).apply(typeof F0<"u"?F0:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lT,Fl,uT,gh,ip,cT,hT,fT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,j,q){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return y.prototype[j].apply(A,re)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function M(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function K(c,y){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const q=j.length||0;c.length=v+q;for(let re=0;re<q;re++)c[v+re]=j[re]}else c.push(j)}}class Y{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(c){h.setTimeout(()=>{throw c},0)}function ne(){var c=x;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,v){const A=ie.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ie=new Y(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,be=!1,x=new te,R=()=>{const c=Promise.resolve(void 0);Se=()=>{c.then(C)}};function C(){for(var c;c=ne();){try{c.h.call(c.g)}catch(v){F(v)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}be=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function rt(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(rt,O),rt.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),$=0;function se(c,y,v,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=j,this.key=++$,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function Ge(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let q=0;q<W.length;q++)v=W[q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,v,A,j){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const re=xe(c,y,A,j);return re>-1?(y=c[re],v||(y.fa=!1)):(y=new se(y,this.src,q,!!A,j),y.fa=v,c.push(y)),y};function ve(c,y){const v=y.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,y,void 0),q;(q=j>=0)&&Array.prototype.splice.call(A,j,1),q&&(pe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function xe(c,y,v,A){for(let j=0;j<c.length;++j){const q=c[j];if(!q.da&&q.listener==y&&q.capture==!!v&&q.ha==A)return j}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Ot={};function st(c,y,v,A,j){if(Array.isArray(y)){for(let q=0;q<y.length;q++)st(c,y[q],v,A,j);return null}return v=Po(v),c&&c[Dt]?c.J(y,v,m(A)?!!A.capture:!1,j):ws(c,y,v,!1,A,j)}function ws(c,y,v,A,j,q){if(!y)throw Error("Invalid event type");const re=m(j)?!!j.capture:!!j;let we=Rs(c);if(we||(c[Ue]=we=new ue(c)),v=we.add(y,v,A,re,q),v.proxy)return v;if(A=Ea(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)P||(j=re),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(ci(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ea(){function c(v){return y.call(c.src,c.listener,v)}const y=Lo;return c}function ba(c,y,v,A,j){if(Array.isArray(y))for(var q=0;q<y.length;q++)ba(c,y[q],v,A,j);else A=m(A)?!!A.capture:!!A,v=Po(v),c&&c[Dt]?(c=c.i,q=String(y).toString(),q in c.g&&(y=c.g[q],v=xe(y,v,A,j),v>-1&&(pe(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[q],c.h--)))):c&&(c=Rs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=xe(y,v,A,j)),(v=c>-1?y[c]:null)&&Ta(v))}function Ta(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Dt])ve(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(ci(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Rs(y))?(ve(v,c),v.h==0&&(v.src=null,y[Ue]=null)):pe(c)}}}function ci(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function Lo(c,y){if(c.da)c=!0;else{y=new rt(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&Ta(c),c=v.call(A,y)}return c}function Rs(c){return c=c[Ue],c instanceof ue?c:null}var Uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Po(c){return typeof c=="function"?c:(c[Uo]||(c[Uo]=function(y){return c.handleEvent(y)}),c[Uo])}function vt(){k.call(this),this.i=new ue(this),this.M=this,this.G=null}b(vt,k),vt.prototype[Dt]=!0,vt.prototype.removeEventListener=function(c,y,v,A){ba(this,c,y,v,A)};function Mt(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var j=y;y=new O(A,c),ae(y,j)}j=!0;let q,re;if(v)for(re=v.length-1;re>=0;re--)q=y.g=v[re],j=wr(q,A,!0,y)&&j;if(q=y.g=c,j=wr(q,A,!0,y)&&j,j=wr(q,A,!1,y)&&j,v)for(re=0;re<v.length;re++)q=y.g=v[re],j=wr(q,A,!1,y)&&j}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)pe(v[A]);delete c.g[y],c.h--}}this.G=null},vt.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},vt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function wr(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let q=0;q<y.length;++q){const re=y[q];if(re&&!re.da&&re.capture==v){const we=re.listener,pt=re.ha||re.src;re.fa&&ve(c.i,re),j=we.call(pt,A)!==!1&&j}}return j&&!A.defaultPrevented}function Sf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function wu(c){c.g=Sf(()=>{c.g=null,c.i&&(c.i=!1,wu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nn extends k{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:wu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(c){k.call(this),this.h=c,this.g={}}b(xs,k);var jo=[];function zo(c){je(c.g,function(y,v){this.g.hasOwnProperty(v)&&Ta(y)},c),c.g={}}xs.prototype.N=function(){xs.Z.N.call(this),zo(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rr=h.JSON.stringify,wf=h.JSON.parse,Ru=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function xu(){}function Cu(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){O.call(this,"d")}b(Ht,O);function In(){O.call(this,"c")}b(In,O);var mt={},Iu=null;function Aa(){return Iu=Iu||new vt}mt.Ia="serverreachability";function Nu(c){O.call(this,mt.Ia,c)}b(Nu,O);function hi(c){const y=Aa();Mt(y,new Nu(y))}mt.STAT_EVENT="statevent";function Cs(c,y){O.call(this,mt.STAT_EVENT,c),this.stat=y}b(Cs,O);function Et(c){const y=Aa();Mt(y,new Cs(y,c))}mt.Ja="timingevent";function fi(c,y){O.call(this,mt.Ja,c),this.size=y}b(fi,O);function di(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Rf(c,y,v,A,j,q){c.info(function(){if(c.g)if(q){var re="",we=q.split("&");for(let He=0;He<we.length;He++){var pt=we[He].split("=");if(pt.length>1){const at=pt[0];pt=pt[1];const Mn=at.split("_");re=Mn.length>=2&&Mn[1]=="type"?re+(at+"="+pt+"&"):re+(at+"=redacted&")}}}else re=null;else re=q;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+v+`
`+re})}function Du(c,y,v,A,j,q,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+v+`
`+q+" "+re})}function mi(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+xf(c,v)+(A?" "+A:"")})}function Is(c,y){c.info(function(){return"TIMEOUT: "+y})}Yn.prototype.info=function(){};function xf(c,y){if(!c.g)return y;if(!y)return null;try{const q=JSON.parse(y);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return Rr(q)}catch{return y}}var Ns={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ho;function Ds(){}b(Ds,xu),Ds.prototype.g=function(){return new XMLHttpRequest},Ho=new Ds;function Fi(c){return encodeURIComponent(String(c))}function Ou(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Qn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new xs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var bt={},Pt={};function pi(c,y,v){c.M=1,c.A=Os(At(y)),c.u=v,c.R=!0,Sa(c,null)}function Sa(c,y){c.F=Date.now(),gi(c),c.B=At(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ca(v.i,"t",A),c.C=0,v=c.j.L,c.h=new $n,c.g=Yu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new nn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(jo[0]=j.toString()),j=jo);for(let q=0;q<j.length;q++){const re=st(v,j[q],A||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),hi(),Rf(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Zn(c)==3?y.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Zn(this.g),pt=this.g.ya(),He=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||we!=4||pt==7||(pt==8||He<=0?hi(3):hi(2)),yi(this);var y=this.g.ca();this.X=y;var v=Cf(this);if(this.o=y==200,Du(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var q=A;break t}}q=null}if(c=q)mi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,c);else{this.o=!1,this.m=3,Et(12),yn(this),Nn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=Vu(this,v),at==Pt){we==4&&(this.m=4,Et(14),c=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(at==bt){this.m=4,Et(15),mi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else mi(this.i,this.l,at,null),_i(this,at);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)mi(this.i,this.l,v,"[Invalid Chunked Response]"),yn(this),Nn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),il(re),re.P=!0,Et(11))}}else mi(this.i,this.l,v,null),_i(this,v);we==4&&yn(this),this.o&&!this.K&&(we==4?qu(this.j,this):(this.o=!1,gi(this)))}else Ki(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),yn(this),Nn(this)}}}catch{}};function Cf(c){if(!Mu(c))return c.g.la();const y=qt(c.g);if(y==="")return"";let v="";const A=y.length,j=Zn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return yn(c),Nn(c),"";c.h.i=new h.TextDecoder}for(let q=0;q<A;q++)c.h.h=!0,v+=c.h.i.decode(y[q],{stream:!(j&&q==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Mu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Vu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Pt:(v=Number(y.substring(v,A)),isNaN(v)?bt:(A+=1,A+v>y.length?Pt:(y=y.slice(A,A+v),c.C=A+v,y)))}Qn.prototype.cancel=function(){this.K=!0,yn(this)};function gi(c){c.T=Date.now()+c.H,wa(c,c.H)}function wa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=di(g(c.aa,c),y)}function yi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Is(this.i,this.B),this.M!=2&&(hi(),Et(17)),yn(this),this.m=2,Nn(this)):wa(this,this.T-c)};function Nn(c){c.j.I==0||c.K||qu(c.j,c)}function yn(c){yi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,zo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function _i(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Ei(v.h,c))){if(!c.L&&Ei(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ma(v),Vr(v);else break e;js(v),Et(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=di(g(v.Va,v),6e3));vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((c.L||v.g==c)&&Ma(v),!I(y))for(j=v.Ba.g.parse(y),y=0;y<j.length;y++){let He=j[y];const at=He[0];if(!(at<=v.K))if(v.K=at,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const Mn=He[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const xi=He[4];xi!=null&&(v.za=xi,v.j.info("SVER="+v.za));const Wn=He[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(A=1.5*Wn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ei=c.g;if(ei){const zs=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var q=A.h;q.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Go(q,q.h),q.h=null))}if(A.G){const Va=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Va&&(A.wa=Va,Ke(A.J,A.G,Va))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var re=c;if(A.na=Ku(A,A.L?A.ba:null,A.W),re.L){Ko(A.h,re);var we=re,pt=A.O;pt&&(we.H=pt),we.D&&(yi(we),gi(we)),A.g=re}else Bu(A);v.i.length>0&&wi(v)}else He[0]!="stop"&&He[0]!="close"||Ri(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ri(v,7):tl(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}hi(4)}catch{}}var Tt=class{constructor(c,y){this.g=c,this.map=y}};function qo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vi(c){return c.h?1:c.g?c.g.size:0}function Ei(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Go(c,y){c.g?c.g.add(y):c.h=y}function Ko(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}qo.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Yo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return M(c.i)}var ku=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let j,q=null;A>=0?(j=c[v].substring(0,A),q=c[v].substring(A+1)):j=c[v],y(j,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function _n(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof _n?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,xr(this,c.u),this.h=c.h,Qo(this,ju(c.i)),this.m=c.m):c&&(y=String(c).match(ku))?(this.l=!1,jt(this,y[1]||"",!0),this.o=bi(y[2]||""),this.g=bi(y[3]||"",!0),xr(this,y[4]),this.h=bi(y[5]||"",!0),Qo(this,y[6]||"",!0),this.m=bi(y[7]||"")):(this.l=!1,this.i=new Ir(null,this.l))}_n.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ms(y,xa,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ms(y,xa,!0),"@"),c.push(Fi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ms(v,v.charAt(0)=="/"?$o:Lu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ms(v,Uu)),c.join("")},_n.prototype.resolve=function(c){const y=At(this);let v=!!c.j;v?jt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)xr(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=y.h.lastIndexOf("/");j!=-1&&(A=y.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const q=[];for(let re=0;re<j.length;){const we=j[re++];we=="."?A&&re==j.length&&q.push(""):we==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&re==j.length&&q.push("")):(q.push(we),A=!0)}A=q.join("/")}else A=j}return v?y.h=A:v=c.i.toString()!=="",v?Qo(y,ju(c.i)):v=!!c.m,v&&(y.m=c.m),y};function At(c){return new _n(c)}function jt(c,y,v){c.j=v?bi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function xr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Qo(c,y,v){y instanceof Ir?(c.i=y,Ia(c.i,c.l)):(v||(y=Ms(y,Cr)),c.i=new Ir(y,c.l))}function Ke(c,y,v){c.i.set(y,v)}function Os(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function bi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ms(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xa=/[#\/\?@]/g,Lu=/[#\?:]/g,$o=/[#\?]/g,Cr=/[#\?@]/g,Uu=/#/g;function Ir(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&Ra(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Ir.prototype,r.add=function(c,y){ln(this),this.i=null,c=Nr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Pu(c,y){ln(c),y=Nr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Xo(c,y){return ln(c),y=Nr(c,y),c.g.has(y)}r.forEach=function(c,y){ln(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(y,j,A,this)},this)},this)};function Jo(c,y){ln(c);let v=[];if(typeof y=="string")Xo(c,y)&&(v=v.concat(c.g.get(Nr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return ln(this),this.i=null,c=Nr(this,c),Xo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Jo(this,c),c.length>0?String(c[0]):y):y};function Ca(c,y,v){Pu(c,y),v.length>0&&(c.i=null,c.g.set(Nr(c,y),M(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const j=Fi(v);v=Jo(this,v);for(let q=0;q<v.length;q++){let re=j;v[q]!==""&&(re+="="+Fi(v[q])),c.push(re)}}return this.i=c.join("&")};function ju(c){const y=new Ir;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Nr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ia(c,y){y&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(Pu(this,A),Ca(this,j,v))},c)),c.j=y}function Xn(c,y){const v=new Yn;if(h.Image){const A=new Image;A.onload=E(Dn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(Dn,v,"TestLoadImage: error",!1,y,A),A.onabort=E(Dn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(Dn,v,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Zo(c,y){const v=new Yn,A=new AbortController,j=setTimeout(()=>{A.abort(),Dn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(j),q.ok?Dn(v,"TestPingServer: ok",!0,y):Dn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Dn(v,"TestPingServer: error",!1,y)})}function Dn(c,y,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function Dr(){this.g=new Ru}function Ti(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Ti,xu),Ti.prototype.g=function(){return new Vs(this.i,this.h)};function Vs(c,y){vt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Vs,vt),r=Vs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Jn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Na(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Na(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Or(this):Jn(this),this.readyState==3&&Na(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Or(this))},r.Na=function(c){this.g&&(this.response=c,Or(this))},r.ga=function(){this.g&&Or(this)};function Or(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Jn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function On(c){let y="";return je(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function ks(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=On(v),typeof c=="string"?v!=null&&Fi(v):Ke(c,y,v))}function $e(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b($e,vt);var Ai=/^https?$/i,Wo=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ho.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(q){Ls(this,q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),j=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Wo,y,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of v)this.g.setRequestHeader(q,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Ls(this,q)}};function Ls(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,el(c),Gi(c)}function el(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Us(this):this.Xa())},r.Xa=function(){Us(this)};function Us(c){if(c.h&&typeof u<"u"){if(c.v&&Zn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Zn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=q===0){let re=String(c.D).match(ku)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),A=!Ai.test(re?re.toLowerCase():"")}v=A}if(v)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var j=Zn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",el(c)}}finally{Gi(c)}}}}function Gi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Mt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),wf(y)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(c){const y={};c=(c.g&&Zn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=Ou(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=y[j]||[];y[j]=q,q.push(v)}Ge(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Mr(c){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new qo(c&&c.concurrentRequestLimit),this.Ba=new Dr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Mr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,A){Et(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Ku(this,null,this.W),wi(this)};function tl(c){if(Da(c),c.I==3){var y=c.V++,v=At(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),Ps(c,v),y=new Qn(c,c.j,y),y.M=2,y.A=Os(At(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=Yu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),gi(y)}Gu(c)}function Vr(c){c.g&&(il(c),c.g.cancel(),c.g=null)}function Da(c){Vr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ma(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function wi(c){if(!Fo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Se||R(),be||(Se(),be=!0),x.add(y,c),c.D=0}}function Oa(c,y){return vi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=di(g(c.Ea,c,y),Fu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Qn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=V(q),ae(q,this.U)):q=this.U),this.u!==null||this.R||(j.J=q,q=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=zu(this,j,y),v=At(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Ps(this,v),q&&(this.R?y="headers="+Fi(On(q))+"&"+y:this.u&&ks(v,this.u,q)),Go(this.h,j),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),j.U=!0,pi(j,v,null)):pi(j,v,y),this.I=2}}else this.I==3&&(c?nl(this,c):this.i.length==0||Fo(this.h)||nl(this))};function nl(c,y){var v;y?v=y.l:v=c.V++;const A=At(c.J);Ke(A,"SID",c.M),Ke(A,"RID",v),Ke(A,"AID",c.K),Ps(c,A),c.u&&c.o&&ks(A,c.u,c.o),v=new Qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=zu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Go(c.h,v),pi(v,A,y)}function Ps(c,y){c.H&&je(c.H,function(v,A){Ke(y,A,v)}),c.l&&je({},function(v,A){Ke(y,A,v)})}function zu(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var j=c.i;let we=-1;for(;;){const pt=["count="+v];we==-1?v>0?(we=j[0].g,pt.push("ofs="+we)):we=0:pt.push("ofs="+we);let He=!0;for(let at=0;at<v;at++){var q=j[at].g;const Mn=j[at].map;if(q-=we,q<0)we=Math.max(0,j[at].g-100),He=!1;else try{q="req"+q+"_"||"";try{var re=Mn instanceof Map?Mn:Object.entries(Mn);for(const[xi,Wn]of re){let ei=Wn;m(Wn)&&(ei=Rr(Wn)),pt.push(q+xi+"="+encodeURIComponent(ei))}}catch(xi){throw pt.push(q+"type="+encodeURIComponent("_badmap")),xi}}catch{A&&A(Mn)}}if(He){re=pt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),y.G=c,re}function Bu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Se||R(),be||(Se(),be=!0),x.add(y,c),c.A=0}}function js(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=di(g(c.Da,c),Fu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=di(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Vr(this),Hu(this))};function il(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Hu(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),Ps(c,y),c.u&&c.o&&ks(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Os(At(y)),v.u=null,v.R=!0,Sa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Vr(this),js(this),Et(19))};function Ma(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function qu(c,y){var v=null;if(c.g==y){Ma(c),il(c),c.g=null;var A=2}else if(Ei(c.h,y))v=y.G,Ko(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var j=c.D;A=Aa(),Mt(A,new fi(A,v)),wi(c)}else Bu(c);else if(j=y.m,j==3||j==0&&y.X>0||!(A==1&&Oa(c,y)||A==2&&js(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),j){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function Fu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ri(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const j=!A;A=new _n(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||jt(A,"https"),Os(A),j?Xn(A.toString(),v):Zo(A.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(y),Gu(c),Da(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Gu(c){if(c.I=0,c.ja=[],c.l){const y=Yo(c.h);(y.length!=0||c.i.length!=0)&&(K(c.ja,y),K(c.ja,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.oa()}}function Ku(c,y,v){var A=v instanceof _n?At(v):new _n(v);if(A.g!="")y&&(A.g=y+"."+A.g),xr(A,A.u);else{var j=h.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const q=new _n(null);A&&jt(q,A),y&&(q.g=y),j&&xr(q,j),v&&(q.h=v),A=q}return v=c.G,y=c.wa,v&&y&&Ke(A,v,y),Ke(A,"VER",c.ka),Ps(c,A),A}function Yu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new Ti({ab:v})):new $e(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}r=Qu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function kr(){}kr.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){vt.call(this),this.g=new Mr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Yi(this)}b(rn,vt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){tl(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Rr(c),c=v);y.i.push(new Tt(y.Ya++,c)),y.I==3&&wi(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,rn.Z.N.call(this)};function $u(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b($u,Ht);function Xu(){In.call(this),this.status=1}b(Xu,In);function Yi(c){this.g=c}b(Yi,Qu),Yi.prototype.ra=function(){Mt(this.g,"a")},Yi.prototype.qa=function(c){Mt(this.g,new $u(c))},Yi.prototype.pa=function(c){Mt(this.g,new Xu)},Yi.prototype.oa=function(){Mt(this.g,"b")},kr.prototype.createWebChannel=kr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,fT=function(){return new kr},hT=function(){return Aa()},cT=mt,ip={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ns.NO_ERROR=0,Ns.TIMEOUT=8,Ns.HTTP_ERROR=6,gh=Ns,Bo.COMPLETE="complete",uT=Bo,Cu.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Fl=Cu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,lT=$e}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Do="12.8.0";function fI(r){Do=r}const ha=new Op("@firebase/firestore");function co(){return ha.logLevel}function le(r,...e){if(ha.logLevel<=Me.DEBUG){const n=e.map(Gp);ha.debug(`Firestore (${Do}): ${r}`,...n)}}function vr(r,...e){if(ha.logLevel<=Me.ERROR){const n=e.map(Gp);ha.error(`Firestore (${Do}): ${r}`,...n)}}function bo(r,...e){if(ha.logLevel<=Me.WARN){const n=e.map(Gp);ha.warn(`Firestore (${Do}): ${r}`,...n)}}function Gp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ye(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,dT(r,s,n)}function dT(r,e,n){let s=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw vr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||dT(e,o,s)}function Ae(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class mT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class mI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class pI{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new pr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new pr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new mT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class gI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class yI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new gI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class G0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _I{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new G0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new G0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Kp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=vI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function rp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Pm(o)===Pm(u)?Ve(o,u):Pm(o)?1:-1}return Ve(r.length,e.length)}const EI=55296,bI=57343;function Pm(r){const e=r.charCodeAt(0);return e>=EI&&e<=bI}function To(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const K0="__name__";class Oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Oi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Oi.isNumericId(e),o=Oi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):rp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fs.fromString(e.substring(4,e.length-2))}}class et extends Oi{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const TI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Oi{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return TI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K0}static keyField(){return new $t([K0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new oe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(et.fromString(e))}static fromName(e){return new me(et.fromString(e).popFirst(5))}static empty(){return new me(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new et(e.slice()))}}function pT(r,e,n){if(!n)throw new oe(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function AI(r,e,n,s){if(e===!0&&s===!0)throw new oe(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Y0(r){if(!me.isDocumentKey(r))throw new oe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Q0(r){if(me.isDocumentKey(r))throw new oe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function gT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function tf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function gn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tf(r);throw new oe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function _u(r,e){if(!gT(r))throw new oe(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(J.INVALID_ARGUMENT,n);return!0}const $0=-62135596800,X0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*X0);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$0)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_u(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Nt("string",it._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new it(0,0))}static max(){return new Ee(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const iu=-1;function SI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new ps(o,me.empty(),e)}function wI(r){return new ps(r.readTime,r.key,iu)}class ps{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ps(Ee.min(),me.empty(),iu)}static max(){return new ps(Ee.max(),me.empty(),iu)}}function RI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const xI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Oo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==xI)throw r;le("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function II(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(r){return r.name==="IndexedDbTransactionError"}class nf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nf.ce=-1;const Yp=-1;function rf(r){return r==null}function Mh(r){return r===0&&1/r==-1/0}function NI(r){return typeof r=="number"&&Number.isInteger(r)&&!Mh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const yT="";function DI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=J0(e)),e=OI(r.get(n),e);return J0(e)}function OI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case yT:n+="";break;default:n+=u}}return n}function J0(r){return r+yT+""}function Z0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function bs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function _T(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new W0(this.data.getIterator())}getIteratorFrom(e){return new W0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class W0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Lt($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class vT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vT("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const MI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=MI.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ys(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const ET="server_timestamp",bT="__type__",TT="__previous_value__",AT="__local_write_time__";function Qp(r){return(r?.mapValue?.fields||{})[bT]?.stringValue===ET}function sf(r){const e=r.mapValue.fields[TT];return Qp(e)?sf(e):e}function ru(r){const e=gs(r.mapValue.fields[AT].timestampValue);return new it(e.seconds,e.nanos)}class VI{constructor(e,n,s,o,u,h,m,p,g,E,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=b}}const Vh="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||Vh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===Vh}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}function kI(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new oe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(r.options.projectId,e)}const ST="__type__",LI="__max__",rh={mapValue:{}},wT="__vector__",kh="value";function _s(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Qp(r)?4:PI(r)?9007199254740991:UI(r)?10:11:ye(28295,{value:r})}function zi(r,e){if(r===e)return!0;const n=_s(r);if(n!==_s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ru(r).isEqual(ru(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=gs(o.timestampValue),m=gs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ys(o.bytesValue).isEqual(ys(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?Mh(h)===Mh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return To(r.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Z0(h)!==Z0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!zi(h[p],m[p])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function au(r,e){return(r.values||[]).find((n=>zi(n,e)))!==void 0}function Ao(r,e){if(r===e)return 0;const n=_s(r),s=_s(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=_t(u.integerValue||u.doubleValue),p=_t(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return eE(r.timestampValue,e.timestampValue);case 4:return eE(ru(r),ru(e));case 5:return rp(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=ys(u),p=ys(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ve(m[g],p[g]);if(E!==0)return E}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(_t(u.latitude),_t(h.latitude));return m!==0?m:Ve(_t(u.longitude),_t(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return tE(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[kh]?.arrayValue,E=p[kh]?.arrayValue,b=Ve(g?.values?.length||0,E?.values?.length||0);return b!==0?b:tE(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===rh.mapValue&&h===rh.mapValue)return 0;if(u===rh.mapValue)return 1;if(h===rh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const S=rp(p[b],E[b]);if(S!==0)return S;const M=Ao(m[p[b]],g[E[b]]);if(M!==0)return M}return Ve(p.length,E.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function eE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=gs(r),s=gs(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function tE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ao(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function So(r){return sp(r)}function sp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=gs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ys(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=sp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${sp(n.fields[h])}`;return o+"}"})(r.mapValue):ye(61005,{value:r})}function yh(r){switch(_s(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sf(r);return e?16+yh(e):16;case 5:return 2*r.stringValue.length;case 6:return ys(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+yh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return bs(s.fields,((u,h)=>{o+=u.length+yh(h)})),o})(r.mapValue);default:throw ye(13486,{value:r})}}function nE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ap(r){return!!r&&"integerValue"in r}function $p(r){return!!r&&"arrayValue"in r}function iE(r){return!!r&&"nullValue"in r}function rE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _h(r){return!!r&&"mapValue"in r}function UI(r){return(r?.mapValue?.fields||{})[ST]?.stringValue===wT}function Xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return bs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Xl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(r.arrayValue.values[n]);return e}return{...r}}function PI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===LI}class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=$t.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Xl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];_h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){bs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new pn(Xl(this.value))}}function RT(r){const e=[];return bs(r.fields,((n,s)=>{const o=new $t([n]);if(_h(s)){const u=RT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Rn(e)}class en{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Ee.min(),Ee.min(),Ee.min(),pn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,Ee.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,Ee.min(),Ee.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Ee.min(),Ee.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lh{constructor(e,n){this.position=e,this.inclusive=n}}function sE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),n.key):s=Ao(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function aE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!zi(r.position[n],e.position[n]))return!1;return!0}class ou{constructor(e,n="asc"){this.field=e,this.dir=n}}function jI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class xT{}class It extends xT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new BI(e,n,s):n==="array-contains"?new FI(e,s):n==="in"?new GI(e,s):n==="not-in"?new KI(e,s):n==="array-contains-any"?new YI(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new HI(e,s):new qI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ao(n,this.value)):n!==null&&_s(this.value)===_s(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends xT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new li(e,n)}matches(e){return CT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CT(r){return r.op==="and"}function IT(r){return zI(r)&&CT(r)}function zI(r){for(const e of r.filters)if(e instanceof li)return!1;return!0}function op(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+So(r.value);if(IT(r))return r.filters.map((e=>op(e))).join(",");{const e=r.filters.map((n=>op(n))).join(",");return`${r.op}(${e})`}}function NT(r,e){return r instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&zi(s.value,o.value)})(r,e):r instanceof li?(function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&NT(h,o.filters[m])),!0):!1})(r,e):void ye(19439)}function DT(r){return r instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${So(n.value)}`})(r):r instanceof li?(function(n){return n.op.toString()+" {"+n.getFilters().map(DT).join(" ,")+"}"})(r):"Filter"}class BI extends It{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class HI extends It{constructor(e,n){super(e,"in",n),this.keys=OT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class qI extends It{constructor(e,n){super(e,"not-in",n),this.keys=OT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function OT(r,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class FI extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $p(n)&&au(n.arrayValue,this.value)}}class GI extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class KI extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class YI extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$p(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>au(this.value.arrayValue,s)))}}class QI{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function oE(r,e=null,n=[],s=[],o=null,u=null,h=null){return new QI(r,e,n,s,o,u,h)}function Xp(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>op(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>So(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>So(s))).join(",")),e.Te=n}return e.Te}function Jp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!jI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!NT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!aE(r.startAt,e.startAt)&&aE(r.endAt,e.endAt)}function lp(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Vo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function $I(r,e,n,s,o,u,h,m){return new Vo(r,e,n,s,o,u,h,m)}function af(r){return new Vo(r)}function lE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function XI(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function MT(r){return r.collectionGroup!==null}function Jl(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Lt($t.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ou(u,s))})),n.has($t.keyField().canonicalString())||e.Ie.push(new ou($t.keyField(),s))}return e.Ie}function Li(r){const e=Ae(r);return e.Ee||(e.Ee=JI(e,Jl(r))),e.Ee}function JI(r,e){if(r.limitType==="F")return oE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ou(o.field,u)}));const n=r.endAt?new Lh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Lh(r.startAt.position,r.startAt.inclusive):null;return oE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function up(r,e){const n=r.filters.concat([e]);return new Vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ZI(r,e){const n=r.explicitOrderBy.concat([e]);return new Vo(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Uh(r,e,n){return new Vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function of(r,e){return Jp(Li(r),Li(e))&&r.limitType===e.limitType}function VT(r){return`${Xp(Li(r))}|lt:${r.limitType}`}function ho(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>DT(o))).join(", ")}]`),rf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>So(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>So(o))).join(",")),`Target(${s})`})(Li(r))}; limitType=${r.limitType})`}function lf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=sE(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,Jl(s),o)||s.endAt&&!(function(h,m,p){const g=sE(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,Jl(s),o))})(r,e)}function WI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function kT(r){return(e,n)=>{let s=!1;for(const o of Jl(r)){const u=eN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function eN(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Ao(p,g):ye(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}class _a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return _T(this.inner)}size(){return this.innerSize}}const tN=new ut(me.comparator);function Er(){return tN}const LT=new ut(me.comparator);function Gl(...r){let e=LT;for(const n of r)e=e.insert(n.key,n);return e}function UT(r){let e=LT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ra(){return Zl()}function PT(){return Zl()}function Zl(){return new _a((r=>r.toString()),((r,e)=>r.isEqual(e)))}const nN=new ut(me.comparator),iN=new Lt(me.comparator);function ke(...r){let e=iN;for(const n of r)e=e.add(n);return e}const rN=new Lt(Ve);function sN(){return rN}function Zp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function jT(r){return{integerValue:""+r}}function aN(r,e){return NI(e)?jT(e):Zp(r,e)}class uf{constructor(){this._=void 0}}function oN(r,e,n){return r instanceof lu?(function(o,u){const h={fields:{[bT]:{stringValue:ET},[AT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Qp(u)&&(u=sf(u)),u&&(h.fields[TT]=u),{mapValue:h}})(n,e):r instanceof uu?BT(r,e):r instanceof cu?HT(r,e):(function(o,u){const h=zT(o,u),m=uE(h)+uE(o.Ae);return ap(h)&&ap(o.Ae)?jT(m):Zp(o.serializer,m)})(r,e)}function lN(r,e,n){return r instanceof uu?BT(r,e):r instanceof cu?HT(r,e):n}function zT(r,e){return r instanceof Ph?(function(s){return ap(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class lu extends uf{}class uu extends uf{constructor(e){super(),this.elements=e}}function BT(r,e){const n=qT(e);for(const s of r.elements)n.some((o=>zi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class cu extends uf{constructor(e){super(),this.elements=e}}function HT(r,e){let n=qT(e);for(const s of r.elements)n=n.filter((o=>!zi(o,s)));return{arrayValue:{values:n}}}class Ph extends uf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function uE(r){return _t(r.integerValue||r.doubleValue)}function qT(r){return $p(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class uN{constructor(e,n){this.field=e,this.transform=n}}function cN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof uu&&o instanceof uu||s instanceof cu&&o instanceof cu?To(s.elements,o.elements,zi):s instanceof Ph&&o instanceof Ph?zi(s.Ae,o.Ae):s instanceof lu&&o instanceof lu})(r.transform,e.transform)}class hN{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class cf{}function FT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Wp(r.key,Fn.none()):new vu(r.key,r.data,Fn.none());{const n=r.data,s=pn.empty();let o=new Lt($t.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ts(r.key,s,new Rn(o.toArray()),Fn.none())}}function fN(r,e,n){r instanceof vu?(function(o,u,h){const m=o.value.clone(),p=hE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Ts?(function(o,u,h){if(!vh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=hE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(GT(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Wl(r,e,n,s){return r instanceof vu?(function(u,h,m,p){if(!vh(u.precondition,h))return m;const g=u.value.clone(),E=fE(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof Ts?(function(u,h,m,p){if(!vh(u.precondition,h))return m;const g=fE(u.fieldTransforms,p,h),E=h.data;return E.setAll(GT(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,h,m){return vh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function dN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=zT(s.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(s.field,u))}return n||null}function cE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&To(s,o,((u,h)=>cN(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class vu extends cf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends cf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function GT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function hE(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,lN(h,m,n[o]))}return s}function fE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,oN(u,h,e))}return s}class Wp extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mN extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&fN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=PT();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=FT(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,((n,s)=>cE(n,s)))&&To(this.baseMutations,e.baseMutations,((n,s)=>cE(n,s)))}}class eg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return nN})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new eg(e,n,s,o)}}class gN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class yN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,Pe;function _N(r){switch(r){case J.OK:return ye(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function KT(r){if(r===void 0)return vr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ct.OK:return J.OK;case Ct.CANCELLED:return J.CANCELLED;case Ct.UNKNOWN:return J.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return J.INTERNAL;case Ct.UNAVAILABLE:return J.UNAVAILABLE;case Ct.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ct.NOT_FOUND:return J.NOT_FOUND;case Ct.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ct.ABORTED:return J.ABORTED;case Ct.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ct.DATA_LOSS:return J.DATA_LOSS;default:return ye(39323,{code:r})}}(Pe=Ct||(Ct={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function vN(){return new TextEncoder}const EN=new fs([4294967295,4294967295],0);function dE(r){const e=vN().encode(r),n=new oT;return n.update(e),new Uint8Array(n.digest())}function mE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new fs([n,s],0),new fs([o,u],0)]}class tg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(fs.fromNumber(s)));return o.compare(EN)===1&&(o=new fs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=dE(e),[s,o]=mE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new tg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=dE(e),[s,o]=mE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new hf(Ee.min(),o,new ut(Ve),Er(),ke())}}class Eu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Eu(s,n,ke(),ke(),ke())}}class Eh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class YT{constructor(e,n){this.targetId=e,this.Ce=n}}class QT{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class pE{constructor(){this.ve=0,this.Fe=gE(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new Eu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=gE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class bN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Er(),this.He=sh(),this.Je=sh(),this.Ze=new ut(Ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(lp(u))if(s===0){const h=new me(u.path);this.et(n,h,en.newNoDocument(h,Ee.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ys(s).toUint8Array()}catch(p){if(p instanceof vT)return bo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new tg(h,o,u)}catch(p){return bo(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&lp(m.target)){const p=new me(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,en.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=ke();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new hf(e,n,this.Ze,this.je,s);return this.je=Er(),this.He=sh(),this.Je=sh(),this.Ze=new ut(Ve),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new pE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Lt(Ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Lt(Ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sh(){return new ut(me.comparator)}function gE(){return new ut(me.comparator)}const TN={asc:"ASCENDING",desc:"DESCENDING"},AN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SN={and:"AND",or:"OR"};class wN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cp(r,e){return r.useProto3Json||rf(e)?e:{value:e}}function jh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $T(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function RN(r,e){return jh(r,e.toTimestamp())}function Ui(r){return Fe(!!r,49232),Ee.fromTimestamp((function(n){const s=gs(n);return new it(s.seconds,s.nanos)})(r))}function ng(r,e){return hp(r,e).canonicalString()}function hp(r,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function XT(r){const e=et.fromString(r);return Fe(t1(e),10190,{key:e.toString()}),e}function fp(r,e){return ng(r.databaseId,e.path)}function jm(r,e){const n=XT(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(ZT(n))}function JT(r,e){return ng(r.databaseId,e)}function xN(r){const e=XT(r);return e.length===4?et.emptyPath():ZT(e)}function dp(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ZT(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function yE(r,e,n){return{name:fp(r,e),fields:n.value.mapValue.fields}}function CN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ye(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?J.UNKNOWN:KT(g.code);return new oe(E,g.message||"")})(h);n=new QT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=jm(r,s.document.name),u=Ui(s.document.updateTime),h=s.document.createTime?Ui(s.document.createTime):Ee.min(),m=new pn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Eh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=jm(r,s.document),u=s.readTime?Ui(s.readTime):Ee.min(),h=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Eh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=jm(r,s.document),u=s.removedTargetIds||[];n=new Eh([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new yN(o,u),m=s.targetId;n=new YT(m,h)}}return n}function IN(r,e){let n;if(e instanceof vu)n={update:yE(r,e.key,e.value)};else if(e instanceof Wp)n={delete:fp(r,e.key)};else if(e instanceof Ts)n={update:yE(r,e.key,e.data),updateMask:PN(e.fieldMask)};else{if(!(e instanceof mN))return ye(16599,{dt:e.type});n={verify:fp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof lu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof uu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof cu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ph)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:RN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(r,e.precondition)),n}function NN(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Ui(o.updateTime):Ui(u);return h.isEqual(Ee.min())&&(h=Ui(u)),new hN(h,o.transformResults||[])})(n,e)))):[]}function DN(r,e){return{documents:[JT(r,e.path)]}}function ON(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=JT(r,o);const u=(function(g){if(g.length!==0)return e1(li.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(S){return{field:fo(S.field),direction:kN(S.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=cp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function MN(r){let e=xN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const S=WT(b);return S instanceof li&&IT(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((S=>(function(K){return new ou(mo(K.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let S;return S=typeof b=="object"?b.value:b,rf(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(b){const S=!!b.before,M=b.values||[];return new Lh(M,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const S=!b.before,M=b.values||[];return new Lh(M,S)})(n.endAt)),$I(e,o,h,u,m,"F",p,g)}function VN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=mo(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=mo(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=mo(n.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(n){return It.create(mo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return li.create(n.compositeFilter.filters.map((s=>WT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(r):ye(30097,{filter:r})}function kN(r){return TN[r]}function LN(r){return AN[r]}function UN(r){return SN[r]}function fo(r){return{fieldPath:r.canonicalString()}}function mo(r){return $t.fromServerFormat(r.fieldPath)}function e1(r){return r instanceof It?(function(n){if(n.op==="=="){if(rE(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(iE(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rE(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(iE(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:LN(n.op),value:n.value}}})(r):r instanceof li?(function(n){const s=n.getFilters().map((o=>e1(o)));return s.length===1?s[0]:{compositeFilter:{op:UN(n.op),filters:s}}})(r):ye(54877,{filter:r})}function PN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function t1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function n1(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class us{constructor(e,n,s,o,u=Ee.min(),h=Ee.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class jN{constructor(e){this.yt=e}}function zN(r){const e=MN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Uh(e,e.limit,"L"):e}class BN{constructor(){this.Sn=new HN}addToCollectionParentIndex(e,n){return this.Sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ps.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class HN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(et.comparator)).toArray()}}const _E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i1=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(i1,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class wo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new wo(0)}static ar(){return new wo(-1)}}const vE="LruGarbageCollector",qN=1048576;function EE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class FN{constructor(e){this.Pr=e,this.buffer=new Lt(EE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();EE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class GN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(vE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?le(vE,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.Ar(3e5)}))}}class KN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(nf.ce);const s=new FN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(_E)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_E):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),co()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function YN(r,e){return new KN(r,e)}class QN{constructor(){this.changes=new _a((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $N{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class XN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Wl(s.mutation,o,Rn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=ra();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Gl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ra();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Er();const h=Zl(),m=(function(){return Zl()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ts)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Wl(E.mutation,g,E.mutation.getFieldMask(),it.now())):h.set(g.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new $N(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Zl();let o=new ut(((h,m)=>h-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Rn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const b=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,b=PT();E.forEach((S=>{if(!u.has(S)){const M=FT(n.get(S),s.get(S));M!==null&&b.set(S,M),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ee.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return XI(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(ra());let m=iu,p=u;return h.next((g=>ee.forEach(g,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{p=p.insert(E,S)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,ke()))).next((E=>({batchId:m,changes:UT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Gl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const g=(function(b,S){return new Vo(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((b,S)=>{h=h.insert(b,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,en.newInvalidDocument(E)))}));let m=Gl();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Wl(E.mutation,g,Rn.empty(),it.now()),lf(n,g)&&(m=m.insert(p,g))})),m}))}}class JN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ui(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:zN(o.bundledQuery),readTime:Ui(o.readTime)}})(n)),ee.resolve()}}class ZN{constructor(){this.overlays=new ut(me.comparator),this.Lr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ra();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=ra(),u=n.length+1,h=new me(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ra(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ra(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ee.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new gN(n,s));let u=this.Lr.get(n);u===void 0&&(u=ke(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class WN{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class ig{constructor(){this.kr=new Lt(Bt.Kr),this.qr=new Lt(Bt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Bt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new me(new et([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new me(new et([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=ke();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return me.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||me.comparator(e.key,n.key)}}class eD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Lt(Bt.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new pN(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Yp:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(Ve);return n.forEach((o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),ee.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new me(u),0);let m=new Lt(Ve);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),h),ee.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ee.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Jr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class tD{constructor(e){this.ti=e,this.docs=(function(){return new ut(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=Er();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Er();const h=n.path,m=new me(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||RI(wI(E),s)<=0||(o.has(E.key)||lf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ye(9500)}ni(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new nD(this)}getSize(e){return ee.resolve(this.size)}}class nD extends QN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class iD{constructor(e){this.persistence=e,this.ri=new _a((n=>Xp(n)),Jp),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new ig,this.targetCount=0,this.oi=wo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new wo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.lr(n),ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.si.containsKey(n))}}class r1{constructor(e,n){this._i={},this.overlays={},this.ai=new nf(0),this.ui=!1,this.ui=!0,this.ci=new WN,this.referenceDelegate=e(this),this.li=new iD(this),this.indexManager=new BN,this.remoteDocumentCache=(function(o){return new tD(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new jN(n),this.Pi=new JN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new eD(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new rD(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ee.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class rD extends CI{constructor(e){super(),this.currentSequenceNumber=e}}class rg{constructor(e){this.persistence=e,this.Ri=new ig,this.Ai=null}static Vi(e){return new rg(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(s=>{const o=me.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ee.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.fi=new _a((s=>DI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=YN(this,n)}static Vi(e,n){return new zh(e,n)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ee.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Ee.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yh(e.data.value)),n}wr(e,n,s){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new sg(e,n.fromCache,s,o)}}class sD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class aD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return GR()?8:II(tn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new sD;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(co()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(co()<=Me.DEBUG&&le("QueryEngine","Query:",ho(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(co()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(n))):ee.resolve())}gs(e,n){if(lE(n))return ee.resolve(null);let s=Li(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Uh(n,null,"F"),s=Li(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=ke(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ss(n,g,h,p.readTime)?this.gs(e,Uh(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,s,o){return lE(n)||o.isEqual(Ee.min())?ee.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?ee.resolve(null):(co()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(n)),this.Ds(e,h,n,SI(o,iu)).next((m=>m)))}))}bs(e,n){let s=new Lt(kT(e));return n.forEach(((o,u)=>{lf(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return co()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ho(n)),this.fs.getDocumentsMatchingQuery(e,n,ps.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const ag="LocalStore",oD=3e8;class lD{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ut(Ve),this.Fs=new _a((u=>Xp(u)),Jp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function uD(r,e,n,s){return new lD(r,e,n,s)}async function s1(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=ke();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function cD(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const b=g.batch,S=b.keys();let M=ee.resolve();return S.forEach((K=>{M=M.next((()=>E.getEntry(p,K))).next((Y=>{const F=g.docVersions.get(K);Fe(F!==null,48541),Y.version.compareTo(F)<0&&(b.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),E.addEntry(Y)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function a1(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function hD(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,b)=>{const S=o.get(b);if(!S)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,b))));let M=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?M=M.withResumeToken(Xt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(b,M),(function(Y,F,ne){return Y.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=oD?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(S,M,E)&&m.push(n.li.updateTargetData(u,M))}));let p=Er(),g=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(fD(u,h,e.documentUpdates).next((E=>{p=E.Bs,g=E.Ls}))),!s.isEqual(Ee.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ee.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.vs=o,u)))}function fD(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=Er();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ee.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):le(ag,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:h,Ls:o}}))}function dD(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Yp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function mD(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new us(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function mp(r,e,n){const s=Ae(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Mo(h))throw h;le(ag,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function bE(r,e,n){const s=Ae(r);let o=Ee.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const b=Ae(p),S=b.Fs.get(E);return S!==void 0?ee.resolve(b.vs.get(S)):b.li.getTargetData(g,E)})(s,h,Li(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Ee.min(),n?u:ke()))).next((m=>(pD(s,WI(e),m),{documents:m,ks:u})))))}function pD(r,e,n){let s=r.Ms.get(e)||Ee.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class TE{constructor(){this.activeTargetIds=sN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gD{constructor(){this.vo=new TE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new TE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yD{Mo(e){}shutdown(){}}const AE="ConnectivityMonitor";class SE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(AE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(AE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ah=null;function pp(){return ah===null?ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():ah++,"0x"+ah.toString(16)}const zm="RestConnection",_D={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class vD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Vh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=pp(),m=this.Qo(e,n.toUriEncodedString());le(zm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),E=ga(g);return this.zo(e,m,p,s,E).then((b=>(le(zm,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw bo(zm,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=_D[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class ED{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Zt="WebChannelConnection",ql=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class _o extends vD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!_o.c_){const e=hT();ql(e,cT.STAT_EVENT,(n=>{n.stat===ip.PROXY?le(Zt,"STAT_EVENT: detected buffering proxy"):n.stat===ip.NOPROXY&&le(Zt,"STAT_EVENT: detected no buffering proxy")})),_o.c_=!0}}zo(e,n,s,o,u){const h=pp();return new Promise(((m,p)=>{const g=new lT;g.setWithCredentials(!0),g.listenOnce(uT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case gh.NO_ERROR:const b=g.getResponseJson();le(Zt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case gh.TIMEOUT:le(Zt,`RPC '${e}' ${h} timed out`),p(new oe(J.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const S=g.getStatus();if(le(Zt,`RPC '${e}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const K=M?.error;if(K&&K.status&&K.message){const Y=(function(ne){const te=ne.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(te)>=0?te:J.UNKNOWN})(K.status);p(new oe(Y,K.message))}else p(new oe(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(J.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Zt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);le(Zt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=pp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const g=u.join("");le(Zt,`Creating RPC '${e}' stream ${o}: ${g}`,m);const E=h.createWebChannel(g,m);this.I_(E);let b=!1,S=!1;const M=new ED({Ho:K=>{S?le(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(b||(le(Zt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),le(Zt,`RPC '${e}' stream ${o} sending:`,K),E.send(K))},Jo:()=>E.close()});return ql(E,Fl.EventType.OPEN,(()=>{S||(le(Zt,`RPC '${e}' stream ${o} transport opened.`),M.i_())})),ql(E,Fl.EventType.CLOSE,(()=>{S||(S=!0,le(Zt,`RPC '${e}' stream ${o} transport closed`),M.o_(),this.E_(E))})),ql(E,Fl.EventType.ERROR,(K=>{S||(S=!0,bo(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),M.o_(new oe(J.UNAVAILABLE,"The operation could not be completed")))})),ql(E,Fl.EventType.MESSAGE,(K=>{if(!S){const Y=K.data[0];Fe(!!Y,16349);const F=Y,ne=F?.error||F[0]?.error;if(ne){le(Zt,`RPC '${e}' stream ${o} received error:`,ne);const te=ne.status;let ie=(function(be){const x=Ct[be];if(x!==void 0)return KT(x)})(te),fe=ne.message;ie===void 0&&(ie=J.INTERNAL,fe="Unknown error status: "+te+" with message "+ne.message),S=!0,M.o_(new oe(ie,fe)),E.close()}else le(Zt,`RPC '${e}' stream ${o} received:`,Y),M.__(Y)}})),_o.u_(),setTimeout((()=>{M.s_()}),0),M}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return fT()}}function bD(r){return new _o(r)}function Bm(){return typeof document<"u"?document:null}function ff(r){return new wN(r,!0)}_o.c_=!1;class o1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const wE="PersistentStream";class l1{constructor(e,n,s,o,u,h,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new o1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(wE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(wE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TD extends l1{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=CN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ee.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?Ui(h.readTime):Ee.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=dp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=lp(p)?{documents:DN(u,p)}:{query:ON(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=$T(u,h.resumeToken);const g=cp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ee.min())>0){m.readTime=jh(u,h.snapshotVersion.toTimestamp());const g=cp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=VN(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=dp(this.serializer),n.removeTarget=e,this.K_(n)}}class AD extends l1{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=NN(e.writeResults,e.commitTime),s=Ui(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=dp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>IN(this.serializer,s)))};this.K_(n)}}class SD{}class wD extends SD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,hp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(J.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,hp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function RD(r,e,n,s){return new wD(r,e,n,s)}class xD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const fa="RemoteStore";class CD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{va(this)&&(le(fa,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await bu(g),g.Va.set("Unknown"),g.Ea.delete(4),await df(g)})(this))}))})),this.Va=new xD(s,o)}}async function df(r){if(va(r))for(const e of r.Ra)await e(!0)}async function bu(r){for(const e of r.Ra)await e(!1)}function u1(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cg(n)?ug(n):ko(n).O_()&&lg(n,e))}function og(r,e){const n=Ae(r),s=ko(n);n.Ia.delete(e),s.O_()&&c1(n,e),n.Ia.size===0&&(s.O_()?s.L_():va(n)&&n.Va.set("Unknown"))}function lg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(r).Z_(e)}function c1(r,e){r.da.$e(e),ko(r).X_(e)}function ug(r){r.da=new bN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ko(r).start(),r.Va.ua()}function cg(r){return va(r)&&!ko(r).x_()&&r.Ia.size>0}function va(r){return Ae(r).Ea.size===0}function h1(r){r.da=void 0}async function ID(r){r.Va.set("Online")}async function ND(r){r.Ia.forEach(((e,n)=>{lg(r,e)}))}async function DD(r,e){h1(r),cg(r)?(r.Va.ha(e),ug(r)):r.Va.set("Unknown")}async function OD(r,e,n){if(r.Va.set("Online"),e instanceof QT&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){le(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bh(r,s)}else if(e instanceof Eh?r.da.Xe(e):e instanceof YT?r.da.st(e):r.da.tt(e),!n.isEqual(Ee.min()))try{const s=await a1(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),c1(u,p);const b=new us(E.target,p,g,E.sequenceNumber);lg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(fa,"Failed to raise snapshot:",s),await Bh(r,s)}}async function Bh(r,e,n){if(!Mo(e))throw e;r.Ea.add(1),await bu(r),r.Va.set("Offline"),n||(n=()=>a1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(fa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await df(r)}))}function f1(r,e){return e().catch((n=>Bh(r,n,e)))}async function mf(r){const e=Ae(r),n=vs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Yp;for(;MD(e);)try{const o=await dD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,VD(e,o)}catch(o){await Bh(e,o)}d1(e)&&m1(e)}function MD(r){return va(r)&&r.Ta.length<10}function VD(r,e){r.Ta.push(e);const n=vs(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function d1(r){return va(r)&&!vs(r).x_()&&r.Ta.length>0}function m1(r){vs(r).start()}async function kD(r){vs(r).ra()}async function LD(r){const e=vs(r);for(const n of r.Ta)e.ea(n.mutations)}async function UD(r,e,n){const s=r.Ta.shift(),o=eg.from(s,e,n);await f1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await mf(r)}async function PD(r,e){e&&vs(r).Y_&&await(async function(s,o){if((function(h){return _N(h)&&h!==J.ABORTED})(o.code)){const u=s.Ta.shift();vs(s).B_(),await f1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await mf(s)}})(r,e),d1(r)&&m1(r)}async function RE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),le(fa,"RemoteStore received new credentials");const s=va(n);n.Ea.add(3),await bu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await df(n)}async function jD(r,e){const n=Ae(r);e?(n.Ea.delete(2),await df(n)):e||(n.Ea.add(2),await bu(n),n.Va.set("Unknown"))}function ko(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new TD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:ID.bind(null,r),Yo:ND.bind(null,r),t_:DD.bind(null,r),J_:OD.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),cg(r)?ug(r):r.Va.set("Unknown")):(await r.ma.stop(),h1(r))}))),r.ma}function vs(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new AD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:kD.bind(null,r),t_:PD.bind(null,r),ta:LD.bind(null,r),na:UD.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await mf(r)):(await r.fa.stop(),r.Ta.length>0&&(le(fa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class hg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new hg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(r,e){if(vr("AsyncQueue",`${e}: ${r}`),Mo(r))return new oe(J.UNAVAILABLE,`${e}: ${r}`);throw r}class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Gl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class xE{constructor(){this.ga=new ut(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ro{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Ro(e,n,vo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class zD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class BD{constructor(){this.queries=CE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=CE(),u.forEach(((h,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new oe(J.ABORTED,"Firestore shutting down"))}}function CE(){return new _a((r=>VT(r)),of)}async function dg(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new zD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=fg(h,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&pg(n)}async function mg(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function HD(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&pg(n)}function qD(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function pg(r){r.Ca.forEach((e=>{e.next()}))}var gp,IE;(IE=gp||(gp={})).Ma="default",IE.Cache="cache";class gg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gp.Cache}}class p1{constructor(e){this.key=e}}class g1{constructor(e){this.key=e}}class FD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ke(),this.mutatedKeys=ke(),this.eu=kT(e),this.tu=new vo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new xE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const S=o.get(E),M=lf(this.query,b)?b:null,K=!!S&&this.mutatedKeys.has(S.key),Y=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let F=!1;S&&M?S.data.isEqual(M.data)?K!==Y&&(s.track({type:3,doc:M}),F=!0):this.su(S,M)||(s.track({type:2,doc:M}),F=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!S&&M?(s.track({type:0,doc:M}),F=!0):S&&!M&&(s.track({type:1,doc:S}),F=!0,(p||g)&&(m=!0)),F&&(M?(h=h.add(M),u=Y?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,b)=>(function(M,K){const Y=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:F})}};return Y(M)-Y(K)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,h.length!==0||g?{snapshot:new Ro(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new g1(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new p1(s))})),n}cu(e){this.Za=e.ks,this.Ya=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const yg="SyncEngine";class GD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class KD{constructor(e){this.key=e,this.hu=!1}}class YD{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new _a((m=>VT(m)),of),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(me.comparator),this.Au=new Map,this.Vu=new ig,this.du={},this.mu=new Map,this.fu=wo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QD(r,e,n=!0){const s=T1(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await y1(s,e,n,!0),o}async function $D(r,e){const n=T1(r);await y1(n,e,!0,!1)}async function y1(r,e,n,s){const o=await mD(r.localStore,Li(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await XD(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&u1(r.remoteStore,o),m}async function XD(r,e,n,s,o){r.pu=(b,S,M)=>(async function(Y,F,ne,te){let ie=F.view.ru(ne);ie.Ss&&(ie=await bE(Y.localStore,F.query,!1).then((({documents:x})=>F.view.ru(x,ie))));const fe=te&&te.targetChanges.get(F.targetId),Se=te&&te.targetMismatches.get(F.targetId)!=null,be=F.view.applyChanges(ie,Y.isPrimaryClient,fe,Se);return DE(Y,F.targetId,be.au),be.snapshot})(r,b,S,M);const u=await bE(r.localStore,e,!0),h=new FD(e,u.ks),m=h.ru(u.documents),p=Eu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);DE(r,n,g.au);const E=new GD(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function JD(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!of(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await mp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&og(s.remoteStore,o.targetId),yp(s,o.targetId)})).catch(Oo)):(yp(s,o.targetId),await mp(s.localStore,o.targetId,!0))}async function ZD(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),og(n.remoteStore,s.targetId))}async function WD(r,e,n){const s=aO(r);try{const o=await(function(h,m){const p=Ae(h),g=it.now(),E=m.reduce(((M,K)=>M.add(K.key)),ke());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let K=Er(),Y=ke();return p.xs.getEntries(M,E).next((F=>{K=F,K.forEach(((ne,te)=>{te.isValidDocument()||(Y=Y.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(M,K))).next((F=>{b=F;const ne=[];for(const te of m){const ie=dN(te,b.get(te.key).overlayedDocument);ie!=null&&ne.push(new Ts(te.key,ie,RT(ie.value.mapValue),Fn.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,ne,m)})).next((F=>{S=F;const ne=F.applyToLocalDocumentSet(b,Y);return p.documentOverlayCache.saveOverlays(M,F.batchId,ne)}))})).then((()=>({batchId:S.batchId,changes:UT(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.du[h.currentUser.toKey()];g||(g=new ut(Ve)),g=g.insert(m,p),h.du[h.currentUser.toKey()]=g})(s,o.batchId,n),await Tu(s,o.changes),await mf(s.remoteStore)}catch(o){const u=fg(o,"Failed to persist write");n.reject(u)}}async function _1(r,e){const n=Ae(r);try{const s=await hD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await Tu(n,s,e)}catch(s){await Oo(s)}}function NE(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,b)=>{for(const S of b.ba)S.va(m)&&(g=!0)})),g&&pg(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function eO(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ut(me.comparator);h=h.insert(u,en.newNoDocument(u,Ee.min()));const m=ke().add(u),p=new hf(Ee.min(),new Map,new ut(Ve),h,m);await _1(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),_g(s)}else await mp(s.localStore,e,!1).then((()=>yp(s,e,n))).catch(Oo)}async function tO(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await cD(n.localStore,e);E1(n,s,null),v1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Tu(n,o)}catch(o){await Oo(o)}}async function nO(r,e,n){const s=Ae(r);try{const o=await(function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(Fe(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);E1(s,e,n),v1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Tu(s,o)}catch(o){await Oo(o)}}function v1(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function E1(r,e,n){const s=Ae(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function yp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||b1(r,s)}))}function b1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(og(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),_g(r))}function DE(r,e,n){for(const s of n)s instanceof p1?(r.Vu.addReference(s.key,e),iO(r,s)):s instanceof g1?(le(yg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||b1(r,s.key)):ye(19791,{wu:s})}function iO(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(le(yg,"New document in limbo: "+n),r.Eu.add(s),_g(r))}function _g(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(et.fromString(e)),s=r.fu.next();r.Au.set(s,new KD(n)),r.Ru=r.Ru.insert(n,s),u1(r.remoteStore,new us(Li(af(n.path)),s,"TargetPurposeLimboResolution",nf.ce))}}async function Tu(r,e,n){const s=Ae(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=sg.Es(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ee.forEach(g,(S=>ee.forEach(S.Ts,(M=>E.persistence.referenceDelegate.addReference(b,S.targetId,M))).next((()=>ee.forEach(S.Is,(M=>E.persistence.referenceDelegate.removeReference(b,S.targetId,M)))))))))}catch(b){if(!Mo(b))throw b;le(ag,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const M=E.vs.get(S),K=M.snapshotVersion,Y=M.withLastLimboFreeSnapshotVersion(K);E.vs=E.vs.insert(S,Y)}}})(s.localStore,u))}async function rO(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){le(yg,"User change. New user:",e.toKey());const s=await s1(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(J.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Tu(n,s.Ns)}}function sO(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function T1(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=_1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eO.bind(null,e),e.Pu.J_=HD.bind(null,e.eventManager),e.Pu.yu=qD.bind(null,e.eventManager),e}function aO(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nO.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return uD(this.persistence,new aD,e.initialUser,this.serializer)}Cu(e){return new r1(rg.Vi,this.serializer)}Du(e){return new gD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class oO extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new GN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new r1((s=>zh.Vi(s,n)),this.serializer)}}class _p{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>NE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=rO.bind(null,this.syncEngine),await jD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new BD})()}createDatastore(e){const n=ff(e.databaseInfo.databaseId),s=bD(e.databaseInfo);return RD(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new CD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>NE(this.syncEngine,n,0)),(function(){return SE.v()?new SE:new yD})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const b=new YD(o,u,h,m,p,g);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);le(fa,"RemoteStore shutting down."),s.Ea.add(5),await bu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_p.provider={build:()=>new _p};class vg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Es="FirestoreClient";class lO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(Es,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(Es,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=fg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Hm(r,e){r.asyncQueue.verifyOperationInProgress(),le(Es,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await s1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function OE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await uO(r);le(Es,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>RE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>RE(e.remoteStore,o))),r._onlineComponents=e}async function uO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(Es,"Using user provided OfflineComponentProvider");try{await Hm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await Hm(r,new Hh)}}else le(Es,"Using default OfflineComponentProvider"),await Hm(r,new oO(void 0));return r._offlineComponents}async function A1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(Es,"Using user provided OnlineComponentProvider"),await OE(r,r._uninitializedComponentsProvider._online)):(le(Es,"Using default OnlineComponentProvider"),await OE(r,new _p))),r._onlineComponents}function cO(r){return A1(r).then((e=>e.syncEngine))}async function qh(r){const e=await A1(r),n=e.eventManager;return n.onListen=QD.bind(null,e.syncEngine),n.onUnlisten=JD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$D.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZD.bind(null,e.syncEngine),n}function hO(r,e,n,s){const o=new vg(s),u=new gg(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>dg(await qh(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>mg(await qh(r),u)))}}function fO(r,e,n={}){const s=new pr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new vg({next:S=>{E.Nu(),h.enqueueAndForget((()=>mg(u,b)));const M=S.docs.has(m);!M&&S.fromCache?g.reject(new oe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&S.fromCache&&p&&p.source==="server"?g.reject(new oe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new gg(af(m.path),E,{includeMetadataChanges:!0,Ka:!0});return dg(u,b)})(await qh(r),r.asyncQueue,e,n,s))),s.promise}function dO(r,e,n={}){const s=new pr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new vg({next:S=>{E.Nu(),h.enqueueAndForget((()=>mg(u,b))),S.fromCache&&p.source==="server"?g.reject(new oe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new gg(m,E,{includeMetadataChanges:!0,Ka:!0});return dg(u,b)})(await qh(r),r.asyncQueue,e,n,s))),s.promise}function mO(r,e){const n=new pr;return r.asyncQueue.enqueueAndForget((async()=>WD(await cO(r),e,n))),n.promise}function S1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const pO="ComponentProvider",ME=new Map;function gO(r,e,n,s,o){return new VI(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,S1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const w1="firestore.googleapis.com",VE=!0;class kE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=w1,this.ssl=VE}else this.host=e.host,this.ssl=e.ssl??VE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=i1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qN)throw new oe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new dI;switch(s.type){case"firstParty":return new yI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=ME.get(n);s&&(le(pO,"Removing Datastore"),ME.delete(n),s.terminate())})(this),Promise.resolve()}}function yO(r,e,n,s={}){r=gn(r,pf);const o=ga(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Np(`https://${m}`),Dp("Firestore",!0)),u.host!==w1&&u.host!==m&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!la(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Wt.MOCK_USER;else{g=wb(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new oe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(b)}r._authCredentials=new mI(new mT(g,E))}}class Sr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Sr(this.firestore,e,this._query)}}class ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(_u(n,ft._jsonSchema))return new ft(e,s||null,new me(et.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:Nt("string",ft._jsonSchemaVersion),referencePath:Nt("string")};class ds extends Sr{constructor(e,n,s){super(e,n,af(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new me(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function xo(r,e,...n){if(r=Ut(r),pT("collection","path",e),r instanceof pf){const s=et.fromString(e,...n);return Q0(s),new ds(r,null,s)}{if(!(r instanceof ft||r instanceof ds))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return Q0(s),new ds(r.firestore,null,s)}}function da(r,e,...n){if(r=Ut(r),arguments.length===1&&(e=Kp.newId()),pT("doc","path",e),r instanceof pf){const s=et.fromString(e,...n);return Y0(s),new ft(r,null,new me(s))}{if(!(r instanceof ft||r instanceof ds))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return Y0(s),new ft(r.firestore,r instanceof ds?r.converter:null,new me(s))}}const LE="AsyncQueue";class UE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new o1(this,"async_queue_retry"),this._c=()=>{const s=Bm();s&&le(LE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new pr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;le(LE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,vr("INTERNAL UNHANDLED ERROR: ",PE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=hg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:PE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function PE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class br extends pf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new UE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UE(e),this._firestoreClient=void 0,await e}}}function _O(r,e){const n=typeof r=="object"?r:Vp(),s=typeof r=="string"?r:Vh,o=Jh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Tb("firestore");u&&yO(o,...u)}return o}function gf(r){if(r._terminated)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vO(r),r._firestoreClient}function vO(r){const e=r._freezeSettings(),n=gO(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new lO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Xt.fromBase64String(e))}catch(n){throw new oe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_u(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Nt("string",qn._jsonSchemaVersion),bytes:Nt("string")};class Eg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yf{constructor(e){this._methodName=e}}class Pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(_u(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Nt("string",Pi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class oi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_u(e,oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new oi(e.vectorValues);throw new oe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Nt("string",oi._jsonSchemaVersion),vectorValues:Nt("object")};const EO=/^__.*__$/;class bO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}class R1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function x1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:r})}}class bg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new bg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Fh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(x1(this.dataSource)&&EO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class TO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ff(e)}createContext(e,n,s,o=!1){return new bg({dataSource:e,methodName:n,targetDoc:s,path:$t.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _f(r){const e=r._freezeSettings(),n=ff(r._databaseId);return new TO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function C1(r,e,n,s,o,u={}){const h=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);Ag("Data must be an object, but it was:",h,s);const m=I1(s,h);let p,g;if(u.merge)p=new Rn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const S=ma(e,b,n);if(!h.contains(S))throw new oe(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);O1(E,S)||E.push(S)}p=new Rn(E),g=h.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=h.fieldTransforms;return new bO(new pn(m),p,g)}class vf extends yf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vf}}class Tg extends yf{_toFieldTransform(e){return new uN(e.path,new lu)}isEqual(e){return e instanceof Tg}}function AO(r,e,n,s){const o=r.createContext(1,e,n);Ag("Data must be an object, but it was:",o,s);const u=[],h=pn.empty();bs(s,((p,g)=>{const E=D1(e,p,n);g=Ut(g);const b=o.childContextForFieldPath(E);if(g instanceof vf)u.push(E);else{const S=Au(g,b);S!=null&&(u.push(E),h.set(E,S))}}));const m=new Rn(u);return new R1(h,m,o.fieldTransforms)}function SO(r,e,n,s,o,u){const h=r.createContext(1,e,n),m=[ma(e,s,n)],p=[o];if(u.length%2!=0)throw new oe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(ma(e,u[S])),p.push(u[S+1]);const g=[],E=pn.empty();for(let S=m.length-1;S>=0;--S)if(!O1(g,m[S])){const M=m[S];let K=p[S];K=Ut(K);const Y=h.childContextForFieldPath(M);if(K instanceof vf)g.push(M);else{const F=Au(K,Y);F!=null&&(g.push(M),E.set(M,F))}}const b=new Rn(g);return new R1(E,b,h.fieldTransforms)}function wO(r,e,n,s=!1){return Au(n,r.createContext(s?4:3,e))}function Au(r,e){if(N1(r=Ut(r)))return Ag("Unsupported field value:",e,r),I1(r,e);if(r instanceof yf)return(function(s,o){if(!x1(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Au(m,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return aN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:jh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jh(o.serializer,u)}}if(s instanceof Pi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:$T(o.serializer,s._byteString)};if(s instanceof ft){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ng(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof oi)return(function(h,m){const p=h instanceof oi?h.toArray():h;return{mapValue:{fields:{[ST]:{stringValue:wT},[kh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Zp(m.serializer,E)}))}}}}}})(s,o);if(n1(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${tf(s)}`)})(r,e)}function I1(r,e){const n={};return _T(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(r,((s,o)=>{const u=Au(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function N1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Pi||r instanceof qn||r instanceof ft||r instanceof yf||r instanceof oi||n1(r))}function Ag(r,e,n){if(!N1(n)||!gT(n)){const s=tf(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function ma(r,e,n){if((e=Ut(e))instanceof Eg)return e._internalPath;if(typeof e=="string")return D1(r,e);throw Fh("Field path arguments must be of type string or ",r,!1,void 0,n)}const RO=new RegExp("[~\\*/\\[\\]]");function D1(r,e,n){if(e.search(RO)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Eg(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Fh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new oe(J.INVALID_ARGUMENT,m+r+p)}function O1(r,e){return r.some((n=>n.isEqual(e)))}class xO{convertValue(e,n="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return bs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[kh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new oi(n)}convertGeoPoint(e){return new Pi(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=sf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const n=gs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(t1(s),9688,{name:e});const o=new su(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||vr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Sg extends xO{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function CO(){return new Tg("serverTimestamp")}const jE="@firebase/firestore",zE="4.10.0";function BE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class M1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ma("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IO extends M1{data(){return super.data()}}function V1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wg{}class Rg extends wg{}function xg(r,e,...n){let s=[];e instanceof wg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Cg)).length,m=u.filter((p=>p instanceof Ef)).length;if(h>1||h>0&&m>0)throw new oe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Ef extends Rg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ef(e,n,s)}_apply(e){const n=this._parse(e);return L1(e._query,n),new Sr(e.firestore,e.converter,up(e._query,n))}_parse(e){const n=_f(e.firestore);return(function(u,h,m,p,g,E,b){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){qE(b,E);const K=[];for(const Y of b)K.push(HE(p,u,Y));S={arrayValue:{values:K}}}else S=HE(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||qE(b,E),S=wO(m,h,b,E==="in"||E==="not-in");return It.create(g,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function k1(r,e,n){const s=e,o=ma("where",r);return Ef._create(o,s,n)}class Cg extends wg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)L1(h,p),h=up(h,p)})(e._query,n),new Sr(e.firestore,e.converter,up(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ig extends Rg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ig(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ou(u,h)})(e._query,this._field,this._direction);return new Sr(e.firestore,e.converter,ZI(e._query,n))}}function Ng(r,e="asc"){const n=e,s=ma("orderBy",r);return Ig._create(s,n)}class Dg extends Rg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Dg(e,n,s)}_apply(e){return new Sr(e.firestore,e.converter,Uh(e._query,this._limit,this._limitType))}}function NO(r){return Dg._create("limit",r,"F")}function HE(r,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new oe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MT(e)&&n.indexOf("/")!==-1)throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!me.isDocumentKey(s))throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return nE(r,new me(s))}if(n instanceof ft)return nE(r,n._key);throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(n)}.`)}function qE(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function L1(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function U1(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends M1{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ma("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Nt("string",aa._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class bh extends aa{data(e={}){return super.data(e)}}class oa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new bh(this._firestore,this._userDataWriter,s.key,s,new Yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:DO(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}oa._jsonSchemaVersion="firestore/querySnapshot/1.0",oa._jsonSchema={type:Nt("string",oa._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};function vp(r){r=gn(r,ft);const e=gn(r.firestore,br),n=gf(e);return fO(n,r._key).then((s=>H1(e,r,s)))}function P1(r){r=gn(r,Sr);const e=gn(r.firestore,br),n=gf(e),s=new Sg(e);return V1(r._query),dO(n,r._query).then((o=>new oa(e,s,r,o)))}function OO(r,e,n){r=gn(r,ft);const s=gn(r.firestore,br),o=U1(r.converter,e),u=_f(s);return bf(s,[C1(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Fn.none())])}function MO(r,e,n,...s){r=gn(r,ft);const o=gn(r.firestore,br),u=_f(o);let h;return h=typeof(e=Ut(e))=="string"||e instanceof Eg?SO(u,"updateDoc",r._key,e,n,s):AO(u,"updateDoc",r._key,e),bf(o,[h.toMutation(r._key,Fn.exists(!0))])}function j1(r){return bf(gn(r.firestore,br),[new Wp(r._key,Fn.none())])}function z1(r,e){const n=gn(r.firestore,br),s=da(r),o=U1(r.converter,e),u=_f(r.firestore);return bf(n,[C1(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Fn.exists(!1))]).then((()=>s))}function B1(r,...e){r=Ut(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||BE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(BE(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,h,m;if(r instanceof ft)h=gn(r.firestore,br),m=af(r._key.path),u={next:g=>{e[s]&&e[s](H1(h,r,g))},error:e[s+1],complete:e[s+2]};else{const g=gn(r,Sr);h=gn(g.firestore,br),m=g._query;const E=new Sg(h);u={next:b=>{e[s]&&e[s](new oa(h,E,g,b))},error:e[s+1],complete:e[s+2]},V1(r._query)}const p=gf(h);return hO(p,m,o,u)}function bf(r,e){const n=gf(r);return mO(n,e)}function H1(r,e,n){const s=n.docs.get(e._key),o=new Sg(r);return new aa(r,o,e._key,s,new Yl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){fI(ya),ua(new ms("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new br(new pI(s.getProvider("auth-internal")),new _I(h,s.getProvider("app-check-internal")),kI(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Vi(jE,zE,e),Vi(jE,zE,"esm2020")})();const q1="firebasestorage.googleapis.com",VO="storageBucket",kO=120*1e3,LO=600*1e3;class qi extends Hi{constructor(e,n,s=0){super(qm(e),`Firebase Storage: ${n} (${qm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Bi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Bi||(Bi={}));function qm(r){return"storage/"+r}function UO(){const r="An unknown error occurred, please check the error payload for server response.";return new qi(Bi.UNKNOWN,r)}function PO(){return new qi(Bi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jO(){return new qi(Bi.CANCELED,"User canceled the upload/download.")}function zO(r){return new qi(Bi.INVALID_URL,"Invalid URL '"+r+"'.")}function BO(r){return new qi(Bi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function FE(r){return new qi(Bi.INVALID_ARGUMENT,r)}function F1(){return new qi(Bi.APP_DELETED,"The Firebase app was deleted.")}function HO(r){return new qi(Bi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class si{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=si.makeFromUrl(e,n)}catch{return new si(e,"")}if(s.path==="")return s;throw BO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(fe){fe.path.charAt(fe.path.length-1)==="/"&&(fe.path_=fe.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(fe){fe.path_=decodeURIComponent(fe.path)}const E="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",M=new RegExp(`^https?://${b}/${E}/b/${o}/o${S}`,"i"),K={bucket:1,path:3},Y=n===q1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,F="([^?#]*)",ne=new RegExp(`^https?://${Y}/${o}/${F}`,"i"),ie=[{regex:m,indices:p,postModify:u},{regex:M,indices:K,postModify:g},{regex:ne,indices:{bucket:1,path:2},postModify:g}];for(let fe=0;fe<ie.length;fe++){const Se=ie[fe],be=Se.regex.exec(e);if(be){const x=be[Se.indices.bucket];let R=be[Se.indices.path];R||(R=""),s=new si(x,R),Se.postModify(s);break}}if(s==null)throw zO(e);return s}}class qO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function FO(r,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...F){g||(g=!0,e.apply(null,F))}function b(F){o=setTimeout(()=>{o=null,r(M,p())},F)}function S(){u&&clearTimeout(u)}function M(F,...ne){if(g){S();return}if(F){S(),E.call(null,F,...ne);return}if(p()||h){S(),E.call(null,F,...ne);return}s<64&&(s*=2);let ie;m===1?(m=2,ie=0):ie=(s+Math.random())*1e3,b(ie)}let K=!1;function Y(F){K||(K=!0,S(),!g&&(o!==null?(F||(m=2),clearTimeout(o),b(0)):F||(m=1)))}return b(0),u=setTimeout(()=>{h=!0,Y(!0)},n),Y}function GO(r){r(!1)}function KO(r){return r!==void 0}function GE(r,e,n,s){if(s<e)throw FE(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw FE(`Invalid value for '${r}'. Expected ${n} or less.`)}function YO(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Gh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Gh||(Gh={}));function QO(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class $O{constructor(e,n,s,o,u,h,m,p,g,E,b,S=!0,M=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=b,this.retry=S,this.isUsingEmulator=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((K,Y)=>{this.resolve_=K,this.reject_=Y,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new oh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Gh.NO_ERROR,p=u.getStatus();if(!m||QO(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Gh.ABORT;s(!1,new oh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new oh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());KO(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=UO();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?F1():jO();h(p)}else{const p=PO();h(p)}};this.canceled_?n(!1,new oh(!1,null,!0)):this.backoffId_=FO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class oh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function XO(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function JO(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ZO(r,e){e&&(r["X-Firebase-GMPID"]=e)}function WO(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function e4(r,e,n,s,o,u,h=!0,m=!1){const p=YO(r.urlParams),g=r.url+p,E=Object.assign({},r.headers);return ZO(E,e),XO(E,n),JO(E,u),WO(E,s),new $O(g,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}function t4(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function n4(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}class Kh{constructor(e,n){this._service=e,n instanceof si?this._location=n:this._location=si.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Kh(e,n)}get root(){const e=new si(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return n4(this._location.path)}get storage(){return this._service}get parent(){const e=t4(this._location.path);if(e===null)return null;const n=new si(this._location.bucket,e);return new Kh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw HO(e)}}function KE(r,e){const n=e?.[VO];return n==null?null:si.makeFromBucketSpec(n,r)}function i4(r,e,n,s={}){r.host=`${e}:${n}`;const o=ga(e);o&&(Np(`https://${r.host}/b`),Dp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:wb(u,r.app.options.projectId))}class r4{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=q1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kO,this._maxUploadRetryTime=LO,this._requests=new Set,o!=null?this._bucket=si.makeFromBucketSpec(o,this._host):this._bucket=KE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=si.makeFromBucketSpec(this._url,e):this._bucket=KE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){GE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){GE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new qO(F1());{const h=e4(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const YE="@firebase/storage",QE="0.14.0";const G1="storage";function s4(r=Vp(),e){r=Ut(r);const s=Jh(r,G1).getImmediate({identifier:e}),o=Tb("storage");return o&&a4(s,...o),s}function a4(r,e,n,s={}){i4(r,e,n,s)}function o4(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new r4(n,s,o,e,ya)}function l4(){ua(new ms(G1,o4,"PUBLIC").setMultipleInstances(!0)),Vi(YE,QE,""),Vi(YE,QE,"esm2020")}l4();const u4={apiKey:"AIzaSyBlW-nhvlaKqrDTSDIT0yN0IY8oqBFhOOY",authDomain:"mjhs-esports.firebaseapp.com",projectId:"mjhs-esports",storageBucket:"mjhs-esports.firebasestorage.app",messagingSenderId:"586504727075",appId:"1:586504727075:web:ec5707639e2dd654e9df96",measurementId:"G-4S7RNXD108"},Og=Cb(u4),Fm=cI(Og),Gn=_O(Og);s4(Og);const c4=new hr,h4=r=>r.endsWith("@madisonstudent.org")?"student":r.endsWith("@madison.k12.in.us")?"staff":"guest",K1=L.createContext(),As=()=>L.useContext(K1),f4=({children:r})=>{const[e,n]=L.useState(null),[s,o]=L.useState(null),[u,h]=L.useState(!0),m=async()=>{try{const b=(await vC(Fm,c4)).user,S=h4(b.email),M=da(Gn,"users",b.uid),K=await vp(M);K.exists()?o(K.data().role):(await OO(M,{email:b.email,displayName:b.displayName,photoURL:b.photoURL,role:S,createdAt:new Date,stats:{}}),o(S))}catch(E){console.error("Login Error:",E),alert(E.message)}},p=()=>(o(null),Wx(Fm));L.useEffect(()=>Zx(Fm,async b=>{if(b){const S=da(Gn,"users",b.uid),M=await vp(S);M.exists()&&o(M.data().role)}else o(null);n(b),h(!1)}),[]);const g={currentUser:e,userRole:s,loginWithGoogle:m,logout:p};return w.jsx(K1.Provider,{value:g,children:!u&&r})};let d4={data:""},m4=r=>{if(typeof window=="object"){let e=(r?r.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(r||document.head).appendChild(e),e.firstChild}return r||d4},p4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,g4=/\/\*[^]*?\*\/|  +/g,$E=/\n+/g,ls=(r,e)=>{let n="",s="",o="";for(let u in r){let h=r[u];u[0]=="@"?u[1]=="i"?n=u+" "+h+";":s+=u[1]=="f"?ls(h,u):u+"{"+ls(h,u[1]=="k"?"":e)+"}":typeof h=="object"?s+=ls(h,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):h!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=ls.p?ls.p(u,h):u+":"+h+";")}return n+(e&&o?e+"{"+o+"}":o)+s},ur={},Y1=r=>{if(typeof r=="object"){let e="";for(let n in r)e+=n+Y1(r[n]);return e}return r},y4=(r,e,n,s,o)=>{let u=Y1(r),h=ur[u]||(ur[u]=(p=>{let g=0,E=11;for(;g<p.length;)E=101*E+p.charCodeAt(g++)>>>0;return"go"+E})(u));if(!ur[h]){let p=u!==r?r:(g=>{let E,b,S=[{}];for(;E=p4.exec(g.replace(g4,""));)E[4]?S.shift():E[3]?(b=E[3].replace($E," ").trim(),S.unshift(S[0][b]=S[0][b]||{})):S[0][E[1]]=E[2].replace($E," ").trim();return S[0]})(r);ur[h]=ls(o?{["@keyframes "+h]:p}:p,n?"":"."+h)}let m=n&&ur.g?ur.g:null;return n&&(ur.g=ur[h]),((p,g,E,b)=>{b?g.data=g.data.replace(b,p):g.data.indexOf(p)===-1&&(g.data=E?p+g.data:g.data+p)})(ur[h],e,s,m),h},_4=(r,e,n)=>r.reduce((s,o,u)=>{let h=e[u];if(h&&h.call){let m=h(n),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;h=p?"."+p:m&&typeof m=="object"?m.props?"":ls(m,""):m===!1?"":m}return s+o+(h??"")},"");function Tf(r){let e=this||{},n=r.call?r(e.p):r;return y4(n.unshift?n.raw?_4(n,[].slice.call(arguments,1),e.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):n,m4(e.target),e.g,e.o,e.k)}let Q1,Ep,bp;Tf.bind({g:1});let Tr=Tf.bind({k:1});function v4(r,e,n,s){ls.p=e,Q1=r,Ep=n,bp=s}function Ss(r,e){let n=this||{};return function(){let s=arguments;function o(u,h){let m=Object.assign({},u),p=m.className||o.className;n.p=Object.assign({theme:Ep&&Ep()},m),n.o=/ *go\d+/.test(p),m.className=Tf.apply(n,s)+(p?" "+p:"");let g=r;return r[0]&&(g=m.as||r,delete m.as),bp&&g[0]&&bp(m),Q1(g,m)}return o}}var E4=r=>typeof r=="function",Yh=(r,e)=>E4(r)?r(e):r,b4=(()=>{let r=0;return()=>(++r).toString()})(),$1=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),T4=20,Mg="default",X1=(r,e)=>{let{toastLimit:n}=r.settings;switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,n)};case 1:return{...r,toasts:r.toasts.map(h=>h.id===e.toast.id?{...h,...e.toast}:h)};case 2:let{toast:s}=e;return X1(r,{type:r.toasts.find(h=>h.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...r,toasts:r.toasts.map(h=>h.id===o||o===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(h=>h.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let u=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+u}))}}},Th=[],J1={toasts:[],pausedAt:void 0,settings:{toastLimit:T4}},Mi={},Z1=(r,e=Mg)=>{Mi[e]=X1(Mi[e]||J1,r),Th.forEach(([n,s])=>{n===e&&s(Mi[e])})},W1=r=>Object.keys(Mi).forEach(e=>Z1(r,e)),A4=r=>Object.keys(Mi).find(e=>Mi[e].toasts.some(n=>n.id===r)),Af=(r=Mg)=>e=>{Z1(e,r)},S4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},w4=(r={},e=Mg)=>{let[n,s]=L.useState(Mi[e]||J1),o=L.useRef(Mi[e]);L.useEffect(()=>(o.current!==Mi[e]&&s(Mi[e]),Th.push([e,s]),()=>{let h=Th.findIndex(([m])=>m===e);h>-1&&Th.splice(h,1)}),[e]);let u=n.toasts.map(h=>{var m,p,g;return{...r,...r[h.type],...h,removeDelay:h.removeDelay||((m=r[h.type])==null?void 0:m.removeDelay)||r?.removeDelay,duration:h.duration||((p=r[h.type])==null?void 0:p.duration)||r?.duration||S4[h.type],style:{...r.style,...(g=r[h.type])==null?void 0:g.style,...h.style}}});return{...n,toasts:u}},R4=(r,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...n,id:n?.id||b4()}),Su=r=>(e,n)=>{let s=R4(e,r,n);return Af(s.toasterId||A4(s.id))({type:2,toast:s}),s.id},kt=(r,e)=>Su("blank")(r,e);kt.error=Su("error");kt.success=Su("success");kt.loading=Su("loading");kt.custom=Su("custom");kt.dismiss=(r,e)=>{let n={type:3,toastId:r};e?Af(e)(n):W1(n)};kt.dismissAll=r=>kt.dismiss(void 0,r);kt.remove=(r,e)=>{let n={type:4,toastId:r};e?Af(e)(n):W1(n)};kt.removeAll=r=>kt.remove(void 0,r);kt.promise=(r,e,n)=>{let s=kt.loading(e.loading,{...n,...n?.loading});return typeof r=="function"&&(r=r()),r.then(o=>{let u=e.success?Yh(e.success,o):void 0;return u?kt.success(u,{id:s,...n,...n?.success}):kt.dismiss(s),o}).catch(o=>{let u=e.error?Yh(e.error,o):void 0;u?kt.error(u,{id:s,...n,...n?.error}):kt.dismiss(s)}),r};var x4=1e3,C4=(r,e="default")=>{let{toasts:n,pausedAt:s}=w4(r,e),o=L.useRef(new Map).current,u=L.useCallback((b,S=x4)=>{if(o.has(b))return;let M=setTimeout(()=>{o.delete(b),h({type:4,toastId:b})},S);o.set(b,M)},[]);L.useEffect(()=>{if(s)return;let b=Date.now(),S=n.map(M=>{if(M.duration===1/0)return;let K=(M.duration||0)+M.pauseDuration-(b-M.createdAt);if(K<0){M.visible&&kt.dismiss(M.id);return}return setTimeout(()=>kt.dismiss(M.id,e),K)});return()=>{S.forEach(M=>M&&clearTimeout(M))}},[n,s,e]);let h=L.useCallback(Af(e),[e]),m=L.useCallback(()=>{h({type:5,time:Date.now()})},[h]),p=L.useCallback((b,S)=>{h({type:1,toast:{id:b,height:S}})},[h]),g=L.useCallback(()=>{s&&h({type:6,time:Date.now()})},[s,h]),E=L.useCallback((b,S)=>{let{reverseOrder:M=!1,gutter:K=8,defaultPosition:Y}=S||{},F=n.filter(ie=>(ie.position||Y)===(b.position||Y)&&ie.height),ne=F.findIndex(ie=>ie.id===b.id),te=F.filter((ie,fe)=>fe<ne&&ie.visible).length;return F.filter(ie=>ie.visible).slice(...M?[te+1]:[0,te]).reduce((ie,fe)=>ie+(fe.height||0)+K,0)},[n]);return L.useEffect(()=>{n.forEach(b=>{if(b.dismissed)u(b.id,b.removeDelay);else{let S=o.get(b.id);S&&(clearTimeout(S),o.delete(b.id))}})},[n,u]),{toasts:n,handlers:{updateHeight:p,startPause:m,endPause:g,calculateOffset:E}}},I4=Tr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,N4=Tr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,D4=Tr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,O4=Ss("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${I4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${N4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${D4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,M4=Tr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,V4=Ss("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${M4} 1s linear infinite;
`,k4=Tr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,L4=Tr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,U4=Ss("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${k4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${L4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,P4=Ss("div")`
  position: absolute;
`,j4=Ss("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,z4=Tr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,B4=Ss("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${z4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,H4=({toast:r})=>{let{icon:e,type:n,iconTheme:s}=r;return e!==void 0?typeof e=="string"?L.createElement(B4,null,e):e:n==="blank"?null:L.createElement(j4,null,L.createElement(V4,{...s}),n!=="loading"&&L.createElement(P4,null,n==="error"?L.createElement(O4,{...s}):L.createElement(U4,{...s})))},q4=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,F4=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,G4="0%{opacity:0;} 100%{opacity:1;}",K4="0%{opacity:1;} 100%{opacity:0;}",Y4=Ss("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Q4=Ss("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$4=(r,e)=>{let n=r.includes("top")?1:-1,[s,o]=$1()?[G4,K4]:[q4(n),F4(n)];return{animation:e?`${Tr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Tr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},X4=L.memo(({toast:r,position:e,style:n,children:s})=>{let o=r.height?$4(r.position||e||"top-center",r.visible):{opacity:0},u=L.createElement(H4,{toast:r}),h=L.createElement(Q4,{...r.ariaProps},Yh(r.message,r));return L.createElement(Y4,{className:r.className,style:{...o,...n,...r.style}},typeof s=="function"?s({icon:u,message:h}):L.createElement(L.Fragment,null,u,h))});v4(L.createElement);var J4=({id:r,className:e,style:n,onHeightUpdate:s,children:o})=>{let u=L.useCallback(h=>{if(h){let m=()=>{let p=h.getBoundingClientRect().height;s(r,p)};m(),new MutationObserver(m).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[r,s]);return L.createElement("div",{ref:u,className:e,style:n},o)},Z4=(r,e)=>{let n=r.includes("top"),s=n?{top:0}:{bottom:0},o=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:$1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...o}},W4=Tf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,lh=16,eM=({reverseOrder:r,position:e="top-center",toastOptions:n,gutter:s,children:o,toasterId:u,containerStyle:h,containerClassName:m})=>{let{toasts:p,handlers:g}=C4(n,u);return L.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:lh,left:lh,right:lh,bottom:lh,pointerEvents:"none",...h},className:m,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(E=>{let b=E.position||e,S=g.calculateOffset(E,{reverseOrder:r,gutter:s,defaultPosition:e}),M=Z4(b,S);return L.createElement(J4,{id:E.id,key:E.id,onHeightUpdate:g.updateHeight,className:E.visible?W4:"",style:M},E.type==="custom"?Yh(E.message,E):o?o(E):L.createElement(X4,{toast:E,position:b}))}))},tM=kt;const nM="/mjhs-esports-portal/assets/logo-6ixeAFF8.png",iM=()=>{const{currentUser:r,logout:e}=As();return w.jsx("nav",{className:"bg-brand-black/90 backdrop-blur-md border-b border-brand-red/30 fixed w-full z-50 top-0",children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"flex items-center justify-between h-20",children:[w.jsxs(an,{to:"/",className:"flex items-center gap-3 group",children:[w.jsx("img",{src:nM,alt:"MJHS Logo",className:"h-12 w-auto group-hover:scale-105 transition duration-300"}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"font-titles text-brand-white text-xl tracking-wider leading-none",children:"MJHS ESPORTS"}),w.jsx("span",{className:"font-body text-brand-red text-xs tracking-widest font-bold",children:"PORTAL"})]})]}),w.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[w.jsx(uh,{to:"/",children:"HOME"}),w.jsx(uh,{to:"/roster",children:"MEET THE PLAYERS"}),w.jsx(uh,{to:"/matches",children:"MATCHES"}),w.jsx(uh,{to:"/store",children:"MERCH"}),r?w.jsx(an,{to:"/dashboard",className:"bg-brand-red text-white px-5 py-2 rounded font-titles tracking-wide hover:bg-brand-darkRed transition",children:"DASHBOARD"}):w.jsx(an,{to:"/login",className:"border border-brand-red text-brand-red px-5 py-2 rounded font-titles tracking-wide hover:bg-brand-red hover:text-white transition",children:"LOGIN"})]})]})})})},uh=({to:r,children:e})=>w.jsx(an,{to:r,className:"font-titles text-gray-300 hover:text-brand-yellow transition tracking-wide text-sm",children:e}),rM=()=>w.jsxs("div",{className:"min-h-screen bg-brand-black text-brand-white font-body selection:bg-brand-red selection:text-white",children:[w.jsx(iM,{}),w.jsxs("section",{className:"relative h-screen flex items-center justify-center overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-brand-black via-transparent to-brand-black z-10"}),w.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-brand-red/20 blur-[120px] rounded-full"}),w.jsxs("div",{className:"relative z-20 text-center max-w-4xl px-4",children:[w.jsx("h2",{className:"text-brand-yellow font-titles tracking-[0.2em] text-lg mb-4 animate-pulse",children:"MADISON JUNIOR HIGH SCHOOL"}),w.jsxs("h1",{className:"font-titles text-7xl md:text-9xl text-white mb-2 leading-tight",children:["#LEVEL",w.jsx("span",{className:"text-brand-red",children:"UP"})]}),w.jsx("p",{className:"font-body text-gray-400 text-lg md:text-xl max-w-2xl mx-auto mb-10",children:"The official home of the Esports Cubs. Competing in Rocket League, Super Smash Bros, Minecraft, and more."}),w.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[w.jsx(an,{to:"/matches",className:"bg-brand-red text-white px-8 py-4 rounded font-titles text-xl hover:bg-brand-darkRed transition shadow-[0_0_20px_rgba(176,12,26,0.4)] hover:shadow-[0_0_30px_rgba(176,12,26,0.6)]",children:"WATCH LIVE"}),w.jsx(an,{to:"/roster",className:"border border-brand-grey text-white px-8 py-4 rounded font-titles text-xl hover:bg-brand-white hover:text-brand-black transition",children:"MEET THE TEAM"}),w.jsx(an,{to:"/login",children:w.jsx("button",{className:"bg-brand-red text-white font-titles text-xl px-8 py-4 skew-x-[-10deg] hover:bg-brand-darkRed hover:scale-105 transition-all duration-300 border-2 border-brand-red shadow-[0_0_20px_rgba(176,12,26,0.5)]",children:w.jsx("span",{className:"skew-x-[10deg] block",children:"JOIN THE TEAM"})})})]})]})]}),w.jsx("div",{className:"bg-brand-red py-4 overflow-hidden whitespace-nowrap border-y-4 border-brand-darkRed",children:w.jsx("div",{className:"inline-block animate-marquee font-titles text-2xl text-brand-black font-bold tracking-wider",children:"ROCKET LEAGUE  //  SUPER SMASH BROS  //  MINECRAFT  //  MARIO KART  //  FORTNITE  //  MARVEL RIVALS  //  CHESS  //  TETRIS  // ROCKET LEAGUE  //  SUPER SMASH BROS  //  MINECRAFT  //  MARIO KART  //  FORTNITE  //  MARVEL RIVALS  //  CHESS  //  TETRIS"})})]});const sM=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aM=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),XE=r=>{const e=aM(r);return e.charAt(0).toUpperCase()+e.slice(1)},eA=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),oM=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var lM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uM=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>L.createElement("svg",{ref:p,...lM,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:eA("lucide",o),...!u&&!oM(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,E])=>L.createElement(g,E)),...Array.isArray(u)?u:[u]]));const dt=(r,e)=>{const n=L.forwardRef(({className:s,...o},u)=>L.createElement(uM,{ref:u,iconNode:e,className:eA(`lucide-${sM(XE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=XE(r),n};const cM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Gm=dt("arrow-right",cM);const hM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ah=dt("calendar",hM);const fM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tA=dt("clock",fM);const dM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],mM=dt("funnel",dM);const pM=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],nA=dt("gamepad-2",pM);const gM=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],JE=dt("hash",gM);const yM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],_M=dt("layout-dashboard",yM);const vM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],EM=dt("log-out",vM);const bM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],TM=dt("mail",bM);const AM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],iA=dt("map-pin",AM);const SM=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],wM=dt("menu",SM);const RM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],rA=dt("message-square",RM);const xM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],CM=dt("plus",xM);const IM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],NM=dt("save",IM);const DM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],OM=dt("search",DM);const MM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],VM=dt("send",MM);const kM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],LM=dt("shield",kM);const UM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sA=dt("trash-2",UM);const PM=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],aA=dt("trophy",PM);const jM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],oA=dt("user",jM);const zM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],BM=dt("users",zM);const HM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qM=dt("x",HM),FM=({isOpen:r,toggleSidebar:e})=>{const{logout:n,userRole:s}=As(),o=Ar(),h=[{label:"Dashboard",path:"/dashboard",icon:w.jsx(_M,{size:20}),roles:["all"]},{label:"Comms",path:"/dashboard/comms",icon:w.jsx(rA,{size:20}),roles:["all"]},{label:"Calendar",path:"/dashboard/calendar",icon:w.jsx(Ah,{size:20}),roles:["all"]},{label:"My Stats",path:"/dashboard/stats",icon:w.jsx(aA,{size:20}),roles:["all"]},{label:"Roster & Teams",path:"/dashboard/roster",icon:w.jsx(BM,{size:20}),roles:["admin","coach"]}].filter(m=>m.roles.includes("all")||m.roles.includes(s));return w.jsxs(w.Fragment,{children:[r&&w.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:e}),w.jsxs("div",{className:`
        fixed md:static inset-y-0 left-0 z-50
        w-64 bg-brand-black border-r border-brand-grey/20 flex flex-col
        transform transition-transform duration-300 ease-in-out
        ${r?"translate-x-0":"-translate-x-full"} 
        md:translate-x-0
      `,children:[w.jsxs("div",{className:"h-20 flex items-center justify-between px-6 border-b border-brand-grey/20",children:[w.jsxs("h1",{className:"font-titles text-2xl text-brand-red tracking-wider",children:["MJHS",w.jsx("span",{className:"text-white",children:"PORTAL"})]}),w.jsx("button",{onClick:e,className:"md:hidden text-brand-grey hover:text-white",children:w.jsx(qM,{size:24})})]}),w.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:h.map(m=>{const p=o.pathname===m.path;return w.jsxs(an,{to:m.path,onClick:()=>window.innerWidth<768&&e(),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group ${p?"bg-brand-red text-white shadow-[0_0_10px_rgba(176,12,26,0.4)]":"text-brand-grey hover:bg-white/5 hover:text-white"}`,children:[w.jsx("span",{className:p?"text-white":"text-brand-grey group-hover:text-white",children:m.icon}),w.jsx("span",{className:"font-titles tracking-wide text-sm",children:m.label.toUpperCase()})]},m.path)})}),w.jsx("div",{className:"p-4 border-t border-brand-grey/20",children:w.jsxs("button",{onClick:n,className:"flex items-center gap-3 px-4 py-3 w-full rounded-lg text-brand-grey hover:bg-brand-red/10 hover:text-brand-red transition-all duration-200",children:[w.jsx(EM,{size:20}),w.jsx("span",{className:"font-titles tracking-wide text-sm",children:"LOG OUT"})]})})]})]})},GM=()=>{const[r,e]=L.useState(!1),n=()=>e(!r);return w.jsxs("div",{className:"flex min-h-screen bg-[#0a0a0a]",children:[w.jsx(FM,{isOpen:r,toggleSidebar:n}),w.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[w.jsxs("div",{className:"md:hidden h-16 flex items-center justify-between px-4 border-b border-brand-grey/20 bg-brand-black",children:[w.jsx("h1",{className:"font-titles text-xl text-brand-white",children:"MJHS ESPORTS"}),w.jsx("button",{onClick:n,className:"text-brand-white p-2",children:w.jsx(wM,{size:24})})]}),w.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto overflow-x-hidden",children:w.jsx("div",{className:"max-w-7xl mx-auto",children:w.jsx(Kw,{})})})]})]})},KM=()=>{const{currentUser:r,userRole:e}=As(),[n,s]=L.useState(null),[o,u]=L.useState(!0);L.useEffect(()=>{(async()=>{try{const p=new Date().toISOString().split("T")[0],g=xg(xo(Gn,"events"),k1("date",">=",p),Ng("date","asc"),NO(1)),E=await P1(g);if(E.empty)s(null);else{const b=E.docs[0].data();s({id:E.docs[0].id,...b})}}catch(p){console.error("Error fetching next event:",p)}finally{u(!1)}})()},[]);const h=m=>{if(!m)return"";const p={weekday:"short",month:"short",day:"numeric"};return new Date(m).toLocaleDateString("en-US",p)};return w.jsxs("div",{className:"space-y-8 animate-fade-in",children:[w.jsxs("div",{children:[w.jsxs("h1",{className:"font-titles text-4xl md:text-5xl text-brand-white mb-2",children:["WELCOME BACK, ",w.jsx("span",{className:"text-brand-red",children:r.displayName||"PLAYER"})]}),w.jsxs("p",{className:"font-body text-brand-grey text-lg",children:["System Status: ",w.jsx("span",{className:"text-brand-green font-bold",children:"ONLINE"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[w.jsxs("div",{className:"lg:col-span-2 bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden relative group",children:[w.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition",children:w.jsx(Ah,{size:120})}),w.jsxs("div",{className:"p-8 relative z-10",children:[w.jsxs("h2",{className:"font-titles text-2xl text-brand-yellow mb-6 flex items-center gap-2",children:[w.jsx(Ah,{className:"text-brand-red"})," UPCOMING EVENT"]}),o?w.jsx("div",{className:"h-24 flex items-center text-brand-grey animate-pulse",children:"Loading schedule..."}):n?w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-brand-grey text-sm font-bold tracking-widest mb-1",children:"EVENT TITLE"}),w.jsx("div",{className:"font-titles text-4xl md:text-5xl text-brand-white tracking-wide",children:n.title.toUpperCase()})]}),w.jsxs("div",{className:"flex flex-wrap gap-6 mt-4",children:[w.jsxs("div",{className:"flex items-center gap-2 text-brand-grey",children:[w.jsx("div",{className:"bg-brand-red p-2 rounded text-white",children:w.jsx(Ah,{size:18})}),w.jsx("span",{className:"text-lg text-white",children:h(n.date)})]}),w.jsxs("div",{className:"flex items-center gap-2 text-brand-grey",children:[w.jsx("div",{className:"bg-brand-yellow p-2 rounded text-brand-black",children:w.jsx(tA,{size:18})}),w.jsx("span",{className:"text-lg text-white",children:n.time})]}),w.jsxs("div",{className:"flex items-center gap-2 text-brand-grey",children:[w.jsx("div",{className:"bg-brand-grey p-2 rounded text-white",children:w.jsx(iA,{size:18})}),w.jsx("span",{className:"text-lg text-white",children:n.location})]})]}),w.jsx("div",{className:"mt-6 pt-6 border-t border-brand-grey/10",children:w.jsx("span",{className:`px-3 py-1 rounded text-sm font-bold border ${n.type==="Match"?"bg-brand-red text-white border-brand-red":n.type==="Practice"?"bg-brand-yellow text-brand-black border-brand-yellow":"bg-brand-grey text-white border-brand-grey"}`,children:n.type.toUpperCase()})})]}):w.jsxs("div",{className:"py-8",children:[w.jsx("h3",{className:"text-2xl text-brand-white font-titles",children:"NO UPCOMING EVENTS"}),w.jsx("p",{className:"text-brand-grey mt-2",children:"The calendar is currently clear."}),w.jsx(an,{to:"/dashboard/calendar",className:"inline-block mt-4 text-brand-red hover:text-white transition",children:"View Full Schedule "})]})]})]}),w.jsx("div",{className:"bg-brand-black border border-brand-grey/20 rounded-xl p-6 flex flex-col justify-between",children:w.jsxs("div",{children:[w.jsx("h2",{className:"font-titles text-xl text-brand-white mb-4",children:"QUICK ACTIONS"}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs(an,{to:"/dashboard/comms",className:"flex items-center justify-between bg-brand-red text-white p-4 rounded hover:bg-brand-darkRed group transition border border-brand-red",children:[w.jsx("span",{className:"font-bold",children:"TEAM CHAT"}),w.jsx(Gm,{size:18,className:"text-white/70 group-hover:text-white"})]}),w.jsxs(an,{to:"/dashboard/stats",className:"flex items-center justify-between bg-brand-yellow text-brand-black p-4 rounded hover:bg-yellow-400 group transition border border-brand-yellow",children:[w.jsx("span",{className:"font-bold",children:"UPDATE PROFILE"}),w.jsx(Gm,{size:18,className:"text-brand-black/50 group-hover:text-brand-black"})]}),(e==="admin"||e==="coach")&&w.jsxs(an,{to:"/dashboard/roster",className:"flex items-center justify-between bg-brand-white text-brand-black p-4 rounded hover:bg-gray-200 group transition border border-brand-white",children:[w.jsx("span",{className:"font-bold",children:"MANAGE ROSTER"}),w.jsx(Gm,{size:18,className:"text-brand-black/50 group-hover:text-brand-black"})]})]})]})}),w.jsxs("div",{className:"md:col-span-3 bg-brand-red text-white rounded-xl p-8 flex flex-col md:flex-row items-center justify-between relative overflow-hidden",children:[w.jsxs("div",{className:"relative z-10",children:[w.jsx("h2",{className:"font-titles text-3xl mb-2",children:"ARE YOU GAME READY?"}),w.jsx("p",{className:"opacity-90 max-w-xl",children:"Ensure your profile is up to date with your current rank and active games. Coaches use this data for roster selection."})]}),w.jsx("div",{className:"relative z-10 mt-6 md:mt-0",children:w.jsx(an,{to:"/dashboard/stats",children:w.jsx("button",{className:"bg-brand-black text-white px-6 py-3 rounded font-titles font-bold hover:bg-brand-yellow hover:text-brand-black transition border-2 border-brand-black",children:"UPDATE MY STATS"})})}),w.jsx(aA,{className:"absolute -right-10 -bottom-10 text-brand-darkRed opacity-50 rotate-12",size:200})]})]})]})},YM=["Rocket League","Super Smash Bros Ultimate","Minecraft (Bed Wars)","Mario Kart","Fortnite (Zone Wars)","Marvel Rivals","Chess","Tetris"],QM=()=>{const{currentUser:r}=As(),[e,n]=L.useState(!1),[s,o]=L.useState({gamertag:"",discord:"",grade:"",bio:"",games:[]});L.useEffect(()=>{(async()=>{if(r){const g=da(Gn,"users",r.uid),E=await vp(g);if(E.exists()){const b=E.data();o({gamertag:b.gamertag||"",discord:b.discord||"",grade:b.grade||"",bio:b.bio||"",games:b.games||[]})}}})()},[r]);const u=p=>{o({...s,[p.target.name]:p.target.value})},h=p=>{o(g=>g.games.includes(p)?{...g,games:g.games.filter(b=>b!==p)}:{...g,games:[...g.games,p]})},m=async p=>{p.preventDefault(),n(!0);const g=da(Gn,"users",r.uid),E=MO(g,{gamertag:s.gamertag,discord:s.discord,grade:s.grade,bio:s.bio,games:s.games,updatedAt:new Date});try{await tM.promise(E,{loading:"Saving Profile...",success:"Profile Updated Successfully!",error:"Failed to update profile."})}catch(b){console.error("Error updating profile:",b)}n(!1)};return w.jsxs("div",{className:"max-w-4xl",children:[w.jsx("h2",{className:"font-titles text-3xl text-brand-white mb-6 border-b border-brand-grey/20 pb-4",children:"PLAYER PROFILE"}),w.jsxs("form",{onSubmit:m,className:"space-y-8",children:[w.jsxs("div",{className:"bg-brand-black border border-brand-grey/20 p-6 rounded-xl",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-6 text-brand-red",children:[w.jsx(oA,{size:24}),w.jsx("h3",{className:"font-titles text-xl",children:"IDENTITY"})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-brand-grey text-sm mb-2",children:"Gamertag"}),w.jsx("input",{type:"text",name:"gamertag",value:s.gamertag,onChange:u,placeholder:"Ex: NinjaCuber99",className:"w-full bg-[#111] border border-brand-grey/30 rounded p-3 text-white focus:border-brand-red focus:outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-brand-grey text-sm mb-2",children:"Discord Username"}),w.jsx("input",{type:"text",name:"discord",value:s.discord,onChange:u,placeholder:"username#0000",className:"w-full bg-[#111] border border-brand-grey/30 rounded p-3 text-white focus:border-brand-red focus:outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-brand-grey text-sm mb-2",children:"Grade Level"}),w.jsxs("select",{name:"grade",value:s.grade,onChange:u,className:"w-full bg-[#111] border border-brand-grey/30 rounded p-3 text-white focus:border-brand-red focus:outline-none",children:[w.jsx("option",{value:"",children:"Select Grade"}),w.jsx("option",{value:"6",children:"6th Grade"}),w.jsx("option",{value:"7",children:"7th Grade"}),w.jsx("option",{value:"8",children:"8th Grade"}),w.jsx("option",{value:"Staff",children:"Staff / Coach"})]})]})]})]}),w.jsxs("div",{className:"bg-brand-black border border-brand-grey/20 p-6 rounded-xl",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-6 text-brand-red",children:[w.jsx(nA,{size:24}),w.jsx("h3",{className:"font-titles text-xl",children:"ACTIVE GAMES"})]}),w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:YM.map(p=>w.jsx("button",{type:"button",onClick:()=>h(p),className:`p-4 rounded-lg text-sm font-bold transition-all duration-200 border ${s.games.includes(p)?"bg-brand-red text-white border-brand-red shadow-[0_0_10px_rgba(176,12,26,0.4)]":"bg-[#111] text-brand-grey border-brand-grey/20 hover:border-brand-white"}`,children:p},p))})]}),w.jsx("div",{className:"flex justify-end",children:w.jsxs("button",{type:"submit",disabled:e,className:"flex items-center gap-2 bg-brand-yellow text-brand-black px-8 py-3 rounded font-titles font-bold hover:bg-white transition",children:[w.jsx(NM,{size:20}),e?"SAVING...":"SAVE PROFILE"]})})]})]})},lA=()=>w.jsx("div",{className:"flex justify-center items-center py-20",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-brand-red"})}),$M=["All","Rocket League","Super Smash Bros Ultimate","Minecraft (Bed Wars)","Mario Kart","Fortnite (Zone Wars)","Marvel Rivals","Chess","Tetris"],XM=()=>{const[r,e]=L.useState([]),[n,s]=L.useState(!0),[o,u]=L.useState("All"),[h,m]=L.useState("");L.useEffect(()=>{(async()=>{try{const b=(await P1(xo(Gn,"users"))).docs.map(S=>({id:S.id,...S.data()}));e(b)}catch(E){console.error("Error fetching roster:",E)}finally{s(!1)}})()},[]);const p=r.filter(g=>{const E=o==="All"?!0:g.games&&g.games.includes(o),b=g.gamertag?.toLowerCase().includes(h.toLowerCase())||g.email?.toLowerCase().includes(h.toLowerCase());return E&&b});return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end border-b border-brand-grey/20 pb-4 gap-4",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"TEAM ROSTER"}),w.jsx("p",{className:"text-brand-grey text-sm",children:"Manage players and view game assignments"})]}),w.jsxs("div",{className:"bg-brand-red px-4 py-1 rounded text-white font-titles text-sm",children:["TOTAL PLAYERS: ",p.length]})]}),w.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-brand-black border border-brand-grey/20 p-4 rounded-xl",children:[w.jsxs("div",{className:"relative flex-1",children:[w.jsx(OM,{className:"absolute left-3 top-3 text-brand-grey",size:20}),w.jsx("input",{type:"text",placeholder:"Search Gamertag or Email...",className:"w-full bg-[#111] border border-brand-grey/30 rounded pl-10 pr-4 py-2 text-white focus:border-brand-red focus:outline-none",value:h,onChange:g=>m(g.target.value)})]}),w.jsxs("div",{className:"relative w-full md:w-64",children:[w.jsx(mM,{className:"absolute left-3 top-3 text-brand-grey",size:20}),w.jsx("select",{className:"w-full bg-[#111] border border-brand-grey/30 rounded pl-10 pr-4 py-2 text-white focus:border-brand-red focus:outline-none appearance-none",value:o,onChange:g=>u(g.target.value),children:$M.map(g=>w.jsx("option",{value:g,children:g},g))})]})]}),n?w.jsx(lA,{}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(g=>w.jsxs("div",{className:"bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden hover:border-brand-red/50 transition group",children:[w.jsxs("div",{className:"bg-[#111] p-4 border-b border-brand-grey/10 flex justify-between items-start",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"font-titles text-xl text-brand-white group-hover:text-brand-yellow truncate",children:g.gamertag||"No Gamertag"}),w.jsxs("div",{className:"flex items-center gap-2 text-brand-grey text-xs mt-1",children:[w.jsx(TM,{size:12}),w.jsx("span",{className:"truncate max-w-[150px]",children:g.email})]})]}),w.jsx("span",{className:"px-2 py-1 bg-brand-grey/10 rounded text-xs text-brand-grey font-bold uppercase border border-brand-grey/20",children:g.role||"Student"})]}),w.jsxs("div",{className:"p-4 space-y-4",children:[w.jsxs("div",{className:"flex items-center gap-3 text-sm text-brand-grey",children:[w.jsx(rA,{size:16,className:"text-brand-purple"}),w.jsx("span",{children:g.discord||"No Discord linked"})]}),w.jsxs("div",{className:"flex items-center gap-3 text-sm text-brand-grey",children:[w.jsx(oA,{size:16,className:"text-brand-red"}),w.jsx("span",{children:g.grade?`${g.grade}th Grade`:"Grade not set"})]}),w.jsxs("div",{className:"pt-2 border-t border-brand-grey/10",children:[w.jsxs("p",{className:"text-xs text-brand-grey mb-2 flex items-center gap-1",children:[w.jsx(nA,{size:12})," ACTIVE GAMES"]}),w.jsx("div",{className:"flex flex-wrap gap-2",children:g.games&&g.games.length>0?g.games.map(E=>w.jsx("span",{className:"text-[10px] px-2 py-1 bg-brand-red/10 text-brand-red border border-brand-red/30 rounded",children:E},E)):w.jsx("span",{className:"text-[10px] text-brand-grey italic",children:"No games selected"})})]})]})]},g.id))})]})},JM=[{id:"general",name:"general",locked:!1},{id:"announcements",name:"announcements",locked:!0},{id:"rocket-league",name:"rocket-league",locked:!1},{id:"smash-bros",name:"smash-bros",locked:!1},{id:"minecraft",name:"minecraft",locked:!1}],ZM=()=>{const{currentUser:r,userRole:e}=As(),[n,s]=L.useState("general"),[o,u]=L.useState([]),[h,m]=L.useState(""),p=L.useRef();L.useEffect(()=>{const b=xg(xo(Gn,"messages"),k1("channel","==",n),Ng("createdAt","asc")),S=B1(b,M=>{const K=M.docs.map(Y=>({id:Y.id,...Y.data()}));u(K),p.current?.scrollIntoView({behavior:"smooth"})});return()=>S()},[n]);const g=async b=>{if(b.preventDefault(),!!h.trim()){if(n==="announcements"&&e==="student"){alert("Only Staff can post in Announcements.");return}try{await z1(xo(Gn,"messages"),{text:h,createdAt:CO(),uid:r.uid,displayName:r.displayName||r.email.split("@")[0],photoURL:r.photoURL,role:e,channel:n}),m("")}catch(S){console.error("Error sending message:",S)}}},E=async b=>{window.confirm("Delete this message?")&&await j1(da(Gn,"messages",b))};return w.jsxs("div",{className:"flex h-[calc(100vh-140px)] bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden",children:[w.jsxs("div",{className:"w-64 bg-[#111] border-r border-brand-grey/20 flex flex-col",children:[w.jsx("div",{className:"p-4 border-b border-brand-grey/20",children:w.jsx("h3",{className:"font-titles text-brand-white tracking-wider",children:"CHANNELS"})}),w.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:JM.map(b=>w.jsxs("button",{onClick:()=>s(b.id),className:`w-full flex items-center gap-2 px-3 py-2 rounded text-sm font-bold transition ${n===b.id?"bg-brand-red/20 text-brand-white border-l-2 border-brand-red":"text-brand-grey hover:bg-brand-grey/10 hover:text-brand-white"}`,children:[w.jsx(JE,{size:16}),b.name,b.locked&&w.jsx(LM,{size:12,className:"ml-auto text-brand-yellow"})]},b.id))})]}),w.jsxs("div",{className:"flex-1 flex flex-col bg-brand-black relative",children:[w.jsxs("div",{className:"h-14 border-b border-brand-grey/20 flex items-center px-6 bg-[#0a0a0a]",children:[w.jsx(JE,{className:"text-brand-grey mr-2",size:20}),w.jsx("span",{className:"font-titles text-lg text-white",children:n}),n==="announcements"&&w.jsx("span",{className:"ml-4 text-xs text-brand-yellow border border-brand-yellow/30 px-2 py-1 rounded",children:"READ ONLY"})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[o.map(b=>{const S=b.uid===r.uid;return w.jsxs("div",{className:`flex gap-3 group ${S?"flex-row-reverse":""}`,children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-grey/30 flex items-center justify-center overflow-hidden flex-shrink-0 border border-brand-grey/20",children:b.photoURL?w.jsx("img",{src:b.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):w.jsx("span",{className:"text-xs font-bold text-white",children:b.displayName?.[0]?.toUpperCase()})}),w.jsxs("div",{className:`flex flex-col ${S?"items-end":"items-start"} max-w-[70%]`,children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsx("span",{className:"text-xs font-bold text-brand-grey",children:b.displayName}),b.role==="admin"&&w.jsx("span",{className:"text-[10px] bg-brand-red text-white px-1 rounded",children:"ADMIN"})]}),w.jsx("div",{className:`px-4 py-2 rounded-lg text-sm ${S?"bg-brand-red text-white rounded-tr-none":"bg-[#222] text-gray-200 border border-brand-grey/20 rounded-tl-none"}`,children:b.text}),(e==="admin"||e==="coach")&&w.jsx("button",{onClick:()=>E(b.id),className:"opacity-0 group-hover:opacity-100 absolute -right-8 top-2 text-brand-grey hover:text-brand-red transition",children:w.jsx(sA,{size:14})})]})]},b.id)}),w.jsx("div",{ref:p})]}),w.jsx("div",{className:"p-4 bg-[#111] border-t border-brand-grey/20",children:w.jsxs("form",{onSubmit:g,className:"flex gap-2",children:[w.jsx("input",{type:"text",value:h,onChange:b=>m(b.target.value),disabled:n==="announcements"&&e==="student",placeholder:n==="announcements"&&e==="student"?"Read Only Channel":`Message #${n}`,className:"flex-1 bg-brand-black border border-brand-grey/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-brand-red disabled:opacity-50 disabled:cursor-not-allowed"}),w.jsx("button",{type:"submit",disabled:!h.trim()||n==="announcements"&&e==="student",className:"bg-brand-red text-white p-3 rounded-lg hover:bg-brand-darkRed transition disabled:opacity-50 disabled:cursor-not-allowed",children:w.jsx(VM,{size:20})})]})})]})]})},Km=[{label:"Match",color:"bg-brand-red text-white border-brand-red"},{label:"Practice",color:"bg-brand-yellow text-brand-black border-brand-yellow"},{label:"Meeting",color:"bg-brand-grey text-white border-brand-grey"}],WM=()=>{const{userRole:r}=As(),[e,n]=L.useState([]),[s,o]=L.useState(!0),[u,h]=L.useState(!1),[m,p]=L.useState({title:"",date:"",time:"",location:"Esports Lab",type:"Practice"});L.useEffect(()=>{const b=xg(xo(Gn,"events"),Ng("date","asc")),S=B1(b,M=>{const K=M.docs.map(Y=>({id:Y.id,...Y.data()}));n(K),o(!1)});return()=>S()},[]);const g=async b=>{if(b.preventDefault(),!(!m.title||!m.date))try{await z1(xo(Gn,"events"),{...m,createdAt:new Date}),h(!1),p({title:"",date:"",time:"",location:"Esports Lab",type:"Practice"})}catch(S){console.error("Error adding event:",S)}},E=async b=>{window.confirm("Remove this event?")&&await j1(da(Gn,"events",b))};return w.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[w.jsxs("div",{className:"flex justify-between items-end border-b border-brand-grey/20 pb-4",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"TEAM SCHEDULE"}),w.jsx("p",{className:"text-brand-grey text-sm",children:"Upcoming matches and practices"})]}),(r==="admin"||r==="coach")&&w.jsxs("button",{onClick:()=>h(!u),className:"flex items-center gap-2 bg-brand-red text-white px-4 py-2 rounded font-bold hover:bg-brand-darkRed transition",children:[u?"CLOSE":"ADD EVENT"," ",w.jsx(CM,{size:20})]})]}),u&&w.jsxs("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/30 animate-fade-in",children:[w.jsx("h3",{className:"font-titles text-xl mb-4 text-brand-yellow",children:"NEW EVENT DETAILS"}),w.jsxs("form",{onSubmit:g,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsx("input",{type:"text",placeholder:"Event Title (e.g., VS Floyd Central)",className:"md:col-span-2 bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.title,onChange:b=>p({...m,title:b.target.value})}),w.jsx("input",{type:"date",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.date,onChange:b=>p({...m,date:b.target.value})}),w.jsx("input",{type:"time",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.time,onChange:b=>p({...m,time:b.target.value})}),w.jsx("select",{className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.type,onChange:b=>p({...m,type:b.target.value}),children:Km.map(b=>w.jsx("option",{value:b.label,children:b.label},b.label))}),w.jsx("input",{type:"text",placeholder:"Location",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.location,onChange:b=>p({...m,location:b.target.value})}),w.jsx("button",{className:"md:col-span-2 bg-brand-white text-brand-black font-bold p-3 rounded hover:bg-gray-200",children:"PUBLISH TO SCHEDULE"})]})]}),w.jsxs("div",{className:"space-y-4",children:[s&&w.jsx(lA,{}),e.length===0&&!s&&w.jsx("div",{className:"text-center text-brand-grey py-10",children:"No upcoming events scheduled."}),e.map(b=>{const S=Km.find(M=>M.label===b.type)||Km[0];return w.jsxs("div",{className:"flex flex-col md:flex-row bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden group hover:border-brand-grey/50 transition",children:[w.jsxs("div",{className:"bg-[#111] p-6 flex flex-col items-center justify-center min-w-[120px] border-b md:border-b-0 md:border-r border-brand-grey/20",children:[w.jsx("span",{className:"font-titles text-3xl text-brand-white",children:new Date(b.date).getDate()}),w.jsx("span",{className:"text-brand-red font-bold uppercase text-sm",children:new Date(b.date).toLocaleString("default",{month:"short"})}),w.jsx("span",{className:"text-brand-grey text-xs mt-1",children:new Date(b.date).toLocaleString("default",{weekday:"long"})})]}),w.jsxs("div",{className:"p-6 flex-1 flex flex-col justify-center",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[w.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold border ${S.color}`,children:b.type.toUpperCase()}),w.jsxs("div",{className:"flex items-center gap-1 text-brand-grey text-sm",children:[w.jsx(tA,{size:14})," ",b.time]})]}),w.jsx("h3",{className:"font-titles text-2xl text-white group-hover:text-brand-yellow transition",children:b.title}),w.jsxs("div",{className:"flex items-center gap-2 text-brand-grey text-sm mt-2",children:[w.jsx(iA,{size:16,className:"text-brand-red"}),b.location]})]}),(r==="admin"||r==="coach")&&w.jsx("button",{onClick:()=>E(b.id),className:"bg-brand-red/10 text-brand-red p-4 flex items-center justify-center opacity-0 group-hover:opacity-100 hover:bg-brand-red hover:text-white transition w-16",children:w.jsx(sA,{size:24})})]},b.id)})]})]})},eV=()=>{const{loginWithGoogle:r,currentUser:e}=As();return e?w.jsx(db,{to:"/dashboard"}):w.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-brand-black text-brand-white space-y-8",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"font-titles text-6xl text-brand-red tracking-wider",children:"MJHS ESPORTS"}),w.jsx("p",{className:"font-body text-brand-grey mt-2 text-xl",children:"PORTAL LOGIN"})]}),w.jsxs("div",{className:"flex gap-6",children:[w.jsx("button",{onClick:()=>r(),className:"bg-brand-red px-8 py-4 rounded-lg font-bold hover:bg-brand-darkRed transition border-2 border-brand-red text-white",children:"LOGIN WITH SCHOOL EMAIL"}),w.jsx("button",{onClick:()=>r(),className:"bg-transparent border-2 border-brand-grey px-8 py-4 rounded-lg font-bold hover:bg-brand-grey/20 transition text-brand-grey",children:"GUEST / PARENT"})]})]})},tV=({children:r})=>{const{currentUser:e}=As();return e?r:w.jsx(db,{to:"/login"})};function nV(){return w.jsxs(f4,{children:[w.jsx(eM,{position:"bottom-right",toastOptions:{style:{background:"#333",color:"#fff",border:"1px solid #B00C1A"}}}),w.jsx(_R,{children:w.jsxs(Qw,{children:[w.jsx(cr,{path:"/",element:w.jsx(rM,{})}),w.jsx(cr,{path:"/login",element:w.jsx(eV,{})}),w.jsxs(cr,{path:"/dashboard",element:w.jsx(tV,{children:w.jsx(GM,{})}),children:[w.jsx(cr,{index:!0,element:w.jsx(KM,{})}),w.jsx(cr,{path:"stats",element:w.jsx(QM,{})}),w.jsx(cr,{path:"roster",element:w.jsx(XM,{})}),w.jsx(cr,{path:"comms",element:w.jsx(ZM,{})}),w.jsx(cr,{path:"calendar",element:w.jsx(WM,{})})]})]})})]})}QS.createRoot(document.getElementById("root")).render(w.jsx(L.StrictMode,{children:w.jsx(nV,{})}));
