(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Cm={exports:{}},zl={};var ub;function qA(){if(ub)return zl;ub=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var cb;function FA(){return cb||(cb=1,Cm.exports=qA()),Cm.exports}var v=FA(),Nm={exports:{}},Te={};var hb;function GA(){if(hb)return Te;hb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),A=Symbol.iterator;function O(L){return L===null||typeof L!="object"?null:(L=A&&L[A]||L["@@iterator"],typeof L=="function"?L:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,G={};function ne(L,Z,ae){this.props=L,this.context=Z,this.refs=G,this.updater=ae||D}ne.prototype.isReactComponent={},ne.prototype.setState=function(L,Z){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Z,"setState")},ne.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function te(){}te.prototype=ne.prototype;function re(L,Z,ae){this.props=L,this.context=Z,this.refs=G,this.updater=ae||D}var de=re.prototype=new te;de.constructor=re,q(de,ne.prototype),de.isPureReactComponent=!0;var Ae=Array.isArray;function Ee(){}var R={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(L,Z,ae){var ue=ae.ref;return{$$typeof:i,type:L,key:Z,ref:ue!==void 0?ue:null,props:ae}}function j(L,Z){return C(L.type,Z,L.props)}function k(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function P(L){var Z={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ae){return Z[ae]})}var N=/\/+/g;function st(L,Z){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):Z.toString(36)}function Ot(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(Ee,Ee):(L.status="pending",L.then(function(Z){L.status==="pending"&&(L.status="fulfilled",L.value=Z)},function(Z){L.status==="pending"&&(L.status="rejected",L.reason=Z)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Q(L,Z,ae,ue,ve){var Re=typeof L;(Re==="undefined"||Re==="boolean")&&(L=null);var je=!1;if(L===null)je=!0;else switch(Re){case"bigint":case"string":case"number":je=!0;break;case"object":switch(L.$$typeof){case i:case e:je=!0;break;case T:return je=L._init,Q(je(L._payload),Z,ae,ue,ve)}}if(je)return ve=ve(L),je=ue===""?"."+st(L,0):ue,Ae(ve)?(ae="",je!=null&&(ae=je.replace(N,"$&/")+"/"),Q(ve,Z,ae,"",function(Rs){return Rs})):ve!=null&&(k(ve)&&(ve=j(ve,ae+(ve.key==null||L&&L.key===ve.key?"":(""+ve.key).replace(N,"$&/")+"/")+je)),Z.push(ve)),1;je=0;var Mt=ue===""?".":ue+":";if(Ae(L))for(var at=0;at<L.length;at++)ue=L[at],Re=Mt+st(ue,at),je+=Q(ue,Z,ae,Re,ve);else if(at=O(L),typeof at=="function")for(L=at.call(L),at=0;!(ue=L.next()).done;)ue=ue.value,Re=Mt+st(ue,at++),je+=Q(ue,Z,ae,Re,ve);else if(Re==="object"){if(typeof L.then=="function")return Q(Ot(L),Z,ae,ue,ve);throw Z=String(L),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return je}function se(L,Z,ae){if(L==null)return L;var ue=[],ve=0;return Q(L,ue,"","",function(Re){return Z.call(ae,Re,ve++)}),ue}function pe(L){if(L._status===-1){var Z=L._result;Z=Z(),Z.then(function(ae){(L._status===0||L._status===-1)&&(L._status=1,L._result=ae)},function(ae){(L._status===0||L._status===-1)&&(L._status=2,L._result=ae)}),L._status===-1&&(L._status=0,L._result=Z)}if(L._status===1)return L._result.default;throw L._result}var Pe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ye={map:se,forEach:function(L,Z,ae){se(L,function(){Z.apply(this,arguments)},ae)},count:function(L){var Z=0;return se(L,function(){Z++}),Z},toArray:function(L){return se(L,function(Z){return Z})||[]},only:function(L){if(!k(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Te.Activity=b,Te.Children=Ye,Te.Component=ne,Te.Fragment=n,Te.Profiler=o,Te.PureComponent=re,Te.StrictMode=s,Te.Suspense=p,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Te.__COMPILER_RUNTIME={__proto__:null,c:function(L){return R.H.useMemoCache(L)}},Te.cache=function(L){return function(){return L.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(L,Z,ae){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ue=q({},L.props),ve=L.key;if(Z!=null)for(Re in Z.key!==void 0&&(ve=""+Z.key),Z)!x.call(Z,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Z.ref===void 0||(ue[Re]=Z[Re]);var Re=arguments.length-2;if(Re===1)ue.children=ae;else if(1<Re){for(var je=Array(Re),Mt=0;Mt<Re;Mt++)je[Mt]=arguments[Mt+2];ue.children=je}return C(L.type,ve,ue)},Te.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},Te.createElement=function(L,Z,ae){var ue,ve={},Re=null;if(Z!=null)for(ue in Z.key!==void 0&&(Re=""+Z.key),Z)x.call(Z,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=Z[ue]);var je=arguments.length-2;if(je===1)ve.children=ae;else if(1<je){for(var Mt=Array(je),at=0;at<je;at++)Mt[at]=arguments[at+2];ve.children=Mt}if(L&&L.defaultProps)for(ue in je=L.defaultProps,je)ve[ue]===void 0&&(ve[ue]=je[ue]);return C(L,Re,ve)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(L){return{$$typeof:m,render:L}},Te.isValidElement=k,Te.lazy=function(L){return{$$typeof:T,_payload:{_status:-1,_result:L},_init:pe}},Te.memo=function(L,Z){return{$$typeof:g,type:L,compare:Z===void 0?null:Z}},Te.startTransition=function(L){var Z=R.T,ae={};R.T=ae;try{var ue=L(),ve=R.S;ve!==null&&ve(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ee,Pe)}catch(Re){Pe(Re)}finally{Z!==null&&ae.types!==null&&(Z.types=ae.types),R.T=Z}},Te.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Te.use=function(L){return R.H.use(L)},Te.useActionState=function(L,Z,ae){return R.H.useActionState(L,Z,ae)},Te.useCallback=function(L,Z){return R.H.useCallback(L,Z)},Te.useContext=function(L){return R.H.useContext(L)},Te.useDebugValue=function(){},Te.useDeferredValue=function(L,Z){return R.H.useDeferredValue(L,Z)},Te.useEffect=function(L,Z){return R.H.useEffect(L,Z)},Te.useEffectEvent=function(L){return R.H.useEffectEvent(L)},Te.useId=function(){return R.H.useId()},Te.useImperativeHandle=function(L,Z,ae){return R.H.useImperativeHandle(L,Z,ae)},Te.useInsertionEffect=function(L,Z){return R.H.useInsertionEffect(L,Z)},Te.useLayoutEffect=function(L,Z){return R.H.useLayoutEffect(L,Z)},Te.useMemo=function(L,Z){return R.H.useMemo(L,Z)},Te.useOptimistic=function(L,Z){return R.H.useOptimistic(L,Z)},Te.useReducer=function(L,Z,ae){return R.H.useReducer(L,Z,ae)},Te.useRef=function(L){return R.H.useRef(L)},Te.useState=function(L){return R.H.useState(L)},Te.useSyncExternalStore=function(L,Z,ae){return R.H.useSyncExternalStore(L,Z,ae)},Te.useTransition=function(){return R.H.useTransition()},Te.version="19.2.3",Te}var db;function Cp(){return db||(db=1,Nm.exports=GA()),Nm.exports}var V=Cp(),Im={exports:{}},Bl={},Dm={exports:{}},Om={};var fb;function YA(){return fb||(fb=1,(function(i){function e(Q,se){var pe=Q.length;Q.push(se);e:for(;0<pe;){var Pe=pe-1>>>1,Ye=Q[Pe];if(0<o(Ye,se))Q[Pe]=se,Q[pe]=Ye,pe=Pe;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var se=Q[0],pe=Q.pop();if(pe!==se){Q[0]=pe;e:for(var Pe=0,Ye=Q.length,L=Ye>>>1;Pe<L;){var Z=2*(Pe+1)-1,ae=Q[Z],ue=Z+1,ve=Q[ue];if(0>o(ae,pe))ue<Ye&&0>o(ve,ae)?(Q[Pe]=ve,Q[ue]=pe,Pe=ue):(Q[Pe]=ae,Q[Z]=pe,Pe=Z);else if(ue<Ye&&0>o(ve,pe))Q[Pe]=ve,Q[ue]=pe,Pe=ue;else break e}}return se}function o(Q,se){var pe=Q.sortIndex-se.sortIndex;return pe!==0?pe:Q.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],T=1,b=null,A=3,O=!1,D=!1,q=!1,G=!1,ne=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function de(Q){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=Q)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function Ae(Q){if(q=!1,de(Q),!D)if(n(p)!==null)D=!0,Ee||(Ee=!0,P());else{var se=n(g);se!==null&&Ot(Ae,se.startTime-Q)}}var Ee=!1,R=-1,x=5,C=-1;function j(){return G?!0:!(i.unstable_now()-C<x)}function k(){if(G=!1,Ee){var Q=i.unstable_now();C=Q;var se=!0;try{e:{D=!1,q&&(q=!1,te(R),R=-1),O=!0;var pe=A;try{t:{for(de(Q),b=n(p);b!==null&&!(b.expirationTime>Q&&j());){var Pe=b.callback;if(typeof Pe=="function"){b.callback=null,A=b.priorityLevel;var Ye=Pe(b.expirationTime<=Q);if(Q=i.unstable_now(),typeof Ye=="function"){b.callback=Ye,de(Q),se=!0;break t}b===n(p)&&s(p),de(Q)}else s(p);b=n(p)}if(b!==null)se=!0;else{var L=n(g);L!==null&&Ot(Ae,L.startTime-Q),se=!1}}break e}finally{b=null,A=pe,O=!1}se=void 0}}finally{se?P():Ee=!1}}}var P;if(typeof re=="function")P=function(){re(k)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,st=N.port2;N.port1.onmessage=k,P=function(){st.postMessage(null)}}else P=function(){ne(k,0)};function Ot(Q,se){R=ne(function(){Q(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var pe=A;A=se;try{return Q()}finally{A=pe}},i.unstable_requestPaint=function(){G=!0},i.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pe=A;A=Q;try{return se()}finally{A=pe}},i.unstable_scheduleCallback=function(Q,se,pe){var Pe=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Pe+pe:Pe):pe=Pe,Q){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=pe+Ye,Q={id:T++,callback:se,priorityLevel:Q,startTime:pe,expirationTime:Ye,sortIndex:-1},pe>Pe?(Q.sortIndex=pe,e(g,Q),n(p)===null&&Q===n(g)&&(q?(te(R),R=-1):q=!0,Ot(Ae,pe-Pe))):(Q.sortIndex=Ye,e(p,Q),D||O||(D=!0,Ee||(Ee=!0,P()))),Q},i.unstable_shouldYield=j,i.unstable_wrapCallback=function(Q){var se=A;return function(){var pe=A;A=se;try{return Q.apply(this,arguments)}finally{A=pe}}}})(Om)),Om}var mb;function KA(){return mb||(mb=1,Dm.exports=YA()),Dm.exports}var Mm={exports:{}},Wt={};var pb;function $A(){if(pb)return Wt;pb=1;var i=Cp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:T}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},Wt.flushSync=function(p){var g=h.T,T=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=T,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:O}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:A,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,T){return h.H.useFormState(p,g,T)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.2.3",Wt}var gb;function QA(){if(gb)return Mm.exports;gb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Mm.exports=$A(),Mm.exports}var yb;function XA(){if(yb)return Bl;yb=1;var i=KA(),e=Cp(),n=QA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return p(d),t;if(f===l)return p(d),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var _=!1,S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_){for(S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function T(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=T(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),re=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case ne:return"Profiler";case G:return"StrictMode";case Ae:return"Suspense";case Ee:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case re:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case de:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return r=t.displayName||null,r!==null?r:st(t.type)||"Memo";case x:r=t._payload,t=t._init;try{return st(t(r))}catch{}}return null}var Ot=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Pe=[],Ye=-1;function L(t){return{current:t}}function Z(t){0>Ye||(t.current=Pe[Ye],Pe[Ye]=null,Ye--)}function ae(t,r){Ye++,Pe[Ye]=t.current,t.current=r}var ue=L(null),ve=L(null),Re=L(null),je=L(null);function Mt(t,r){switch(ae(Re,r),ae(ve,t),ae(ue,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Ov(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Ov(r),t=Mv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ue),ae(ue,t)}function at(){Z(ue),Z(ve),Z(Re)}function Rs(t){t.memoizedState!==null&&ae(je,t);var r=ue.current,a=Mv(r,t.type);r!==a&&(ae(ve,t),ae(ue,a))}function Ea(t){ve.current===t&&(Z(ue),Z(ve)),je.current===t&&(Z(je),Ll._currentValue=pe)}var Ta,Sa;function fr(t){if(Ta===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ta=r&&r[1]||"",Sa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ta+t+Sa}var Lo=!1;function Cs(t,r){if(!t||Lo)return"";Lo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(K){var F=K}Reflect.construct(t,[],W)}else{try{W.call()}catch(K){F=K}t.call(W.prototype)}}else{try{throw Error()}catch(K){F=K}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],S=f[1];if(_&&S){var I=_.split(`
`),H=S.split(`
`);for(d=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(l===I.length||d===H.length)for(l=I.length-1,d=H.length-1;1<=l&&0<=d&&I[l]!==H[d];)d--;for(;1<=l&&0<=d;l--,d--)if(I[l]!==H[d]){if(l!==1||d!==1)do if(l--,d--,0>d||I[l]!==H[d]){var $=`
`+I[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=d);break}}}finally{Lo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?fr(a):""}function jo(t,r){switch(t.tag){case 26:case 27:case 5:return fr(t.type);case 16:return fr("Lazy");case 13:return t.child!==r&&r!==null?fr("Suspense Fallback"):fr("Suspense");case 19:return fr("SuspenseList");case 0:case 15:return Cs(t.type,!1);case 11:return Cs(t.type.render,!1);case 1:return Cs(t.type,!0);case 31:return fr("Activity");default:return""}}function Uo(t){try{var r="",a=null;do r+=jo(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,kt=i.unstable_scheduleCallback,Ci=i.unstable_cancelCallback,Nd=i.unstable_shouldYield,Ru=i.unstable_requestPaint,rn=i.unstable_now,Ns=i.unstable_getCurrentPriorityLevel,Po=i.unstable_ImmediatePriority,zo=i.unstable_UserBlockingPriority,Ni=i.unstable_NormalPriority,Id=i.unstable_LowPriority,Cu=i.unstable_IdlePriority,Nu=i.log,Iu=i.unstable_setDisableYieldValue,$n=null,qt=null;function Dn(t){if(typeof Nu=="function"&&Iu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode($n,t)}catch{}}var mt=Math.clz32?Math.clz32:Ou,Du=Math.log,Aa=Math.LN2;function Ou(t){return t>>>=0,t===0?32:31-(Du(t)/Aa|0)|0}var mr=256,Is=262144,Et=4194304;function pr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gr(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~f,l!==0?d=pr(l):(_&=S,_!==0?d=pr(_):a||(a=S&~t,a!==0&&(d=pr(a))))):(S=l&~f,S!==0?d=pr(S):_!==0?d=pr(_):a||(a=l&~t,a!==0&&(d=pr(a)))),d===0?0:r!==0&&r!==d&&(r&f)===0&&(f=d&-d,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:d}function Qn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Dd(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function yr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ds(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Od(t,r,a,l,d,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,I=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-mt(a),W=1<<$;S[$]=0,I[$]=-1;var F=H[$];if(F!==null)for(H[$]=null,$=0;$<F.length;$++){var K=F[$];K!==null&&(K.lane&=-536870913)}a&=~W}l!==0&&Os(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~r))}function Os(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-mt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Bo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-mt(a),d=1<<l;d&r|t[l]&r&&(t[l]|=r),a&=~d}}function Ho(t,r){var a=r&-r;return a=(a&42)!==0?1:Ms(a),(a&(t.suspendedLanes|r))!==0?0:a}function Ms(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Kr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ku(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:nb(t.type))}function Xn(t,r){var a=se.p;try{return se.p=t,r()}finally{se.p=a}}var Jn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Jn,Pt="__reactProps$"+Jn,_r="__reactContainer$"+Jn,wa="__reactEvents$"+Jn,Md="__reactListeners$"+Jn,Vu="__reactHandles$"+Jn,Lu="__reactResources$"+Jn,vr="__reactMarker$"+Jn;function xa(t){delete t[Tt],delete t[Pt],delete t[wa],delete t[Md],delete t[Vu]}function br(t){var r=t[Tt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[_r]||a[Tt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=zv(t);t!==null;){if(a=t[Tt])return a;t=zv(t)}return r}t=a,a=t.parentNode}return null}function On(t){if(t=t[Tt]||t[_r]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function _n(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Er(t){var r=t[Lu];return r||(r=t[Lu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function St(t){t[vr]=!0}var qo=new Set,Fo={};function Tr(t,r){Sr(t,r),Sr(t+"Capture",r)}function Sr(t,r){for(Fo[t]=r,t=0;t<r.length;t++)qo.add(r[t])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yo={},Ko={};function ju(t){return bt.call(Ko,t)?!0:bt.call(Yo,t)?!1:Go.test(t)?Ko[t]=!0:(Yo[t]=!0,!1)}function Ra(t,r,a){if(ju(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function vn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function At(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ii(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $o(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ke(t){if(!t._valueTracker){var r=Ii(t)?"checked":"value";t._valueTracker=$o(t,r,""+t[r])}}function ks(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Ii(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ar(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vs=/[\n"\\]/g;function ln(t){return t.replace(Vs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ca(t,r,a,l,d,f,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+zt(r)):t.value!==""+zt(r)&&(t.value=""+zt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Qo(t,_,zt(r)):a!=null?Qo(t,_,zt(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+zt(S):t.removeAttribute("name")}function Uu(t,r,a,l,d,f,_,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){Ke(t);return}a=a!=null?""+zt(a):"",r=r!=null?""+zt(r):a,S||r===t.value||(t.value=r),t.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Qo(t,r,a){r==="number"&&Ar(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Di(t,r,a,l){if(t=t.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=r.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),r=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function Pu(t,r,a){if(r!=null&&(r=""+zt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+zt(a):""}function Oi(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=zt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function un(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||zu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Jo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&Xo(t,d,l)}else for(var f in r)r.hasOwnProperty(f)&&Xo(t,f,r[f])}function Na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return Mi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Wn(){}var Wo=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ki=null,wr=null;function Ls(t){var r=On(t);if(r&&(t=r.stateNode)){var a=t[Pt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var d=l[Pt]||null;if(!d)throw Error(s(90));Ca(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&ks(l)}break e;case"textarea":Pu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Di(t,!!a.multiple,r,!1)}}}var Da=!1;function Vi(t,r,a){if(Da)return t(r,a);Da=!0;try{var l=t(r);return l}finally{if(Da=!1,(ki!==null||wr!==null)&&(kc(),ki&&(r=ki,t=wr,wr=ki=null,Ls(r),t)))for(r=0;r<t.length;r++)Ls(t[r])}}function Zn(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),js=!1;if(kn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){js=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{js=!1}var xr=null,Zo=null,Us=null;function el(){if(Us)return Us;var t,r=Zo,a=r.length,l,d="value"in xr?xr.value:xr.textContent,f=d.length;for(t=0;t<a&&r[t]===d[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===d[f-l];l++);return Us=d.slice(t,1<l?1-l:void 0)}function Ps(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function $r(){return!0}function er(){return!1}function Ft(t){function r(a,l,d,f,_){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$r:er,this.isPropagationStopped=er,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),r}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rr=Ft(Qr),Li=b({},Qr,{view:0,detail:0}),tl=Ft(Li),ji,Oa,Cr,Ma=b({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ui,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cr&&(Cr&&t.type==="mousemove"?(ji=t.screenX-Cr.screenX,Oa=t.screenY-Cr.screenY):Oa=ji=0,Cr=t),ji)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),nl=Ft(Ma),zs=b({},Ma,{dataTransfer:0}),Hu=Ft(zs),qu=b({},Li,{relatedTarget:0}),Bs=Ft(qu),rl=b({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Fu=Ft(rl),ka=b({},Qr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gu=Ft(ka),Yu=b({},Qr,{data:0}),Nr=Ft(Yu),Ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Qu[t])?!!r[t]:!1}function Ui(){return Xu}var sn=b({},Li,{key:function(t){if(t.key){var r=Ku[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ui,charCode:function(t){return t.type==="keypress"?Ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ju=Ft(sn),Wu=b({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xr=Ft(Wu),c=b({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ui}),y=Ft(c),E=b({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ft(E),z=b({},Ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Ft(z),ie=b({},Qr,{newState:0,oldState:0}),we=Ft(ie),pt=[9,13,27,32],He=kn&&"CompositionEvent"in window,ot=null;kn&&"documentMode"in document&&(ot=document.documentMode);var Vn=kn&&"TextEvent"in window&&!ot,Ir=kn&&(!He||ot&&8<ot&&11>=ot),tr=" ",nr=!1;function Hs(t,r){switch(t){case"keyup":return pt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Va(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function fS(t,r){switch(t){case"compositionend":return Va(r);case"keypress":return r.which!==32?null:(nr=!0,tr);case"textInput":return t=r.data,t===tr&&nr?null:t;default:return null}}function mS(t,r){if(La)return t==="compositionend"||!He&&Hs(t,r)?(t=el(),Us=Zo=xr=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ir&&r.locale!=="ko"?null:r.data;default:return null}}var pS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!pS[t.type]:r==="textarea"}function Fg(t,r,a,l){ki?wr?wr.push(l):wr=[l]:ki=l,r=Bc(r,"onChange"),0<r.length&&(a=new Rr("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var il=null,sl=null;function gS(t){xv(t,0)}function Zu(t){var r=_n(t);if(ks(r))return t}function Gg(t,r){if(t==="change")return r}var Yg=!1;if(kn){var kd;if(kn){var Vd="oninput"in document;if(!Vd){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),Vd=typeof Kg.oninput=="function"}kd=Vd}else kd=!1;Yg=kd&&(!document.documentMode||9<document.documentMode)}function $g(){il&&(il.detachEvent("onpropertychange",Qg),sl=il=null)}function Qg(t){if(t.propertyName==="value"&&Zu(sl)){var r=[];Fg(r,sl,t,Mn(t)),Vi(gS,r)}}function yS(t,r,a){t==="focusin"?($g(),il=r,sl=a,il.attachEvent("onpropertychange",Qg)):t==="focusout"&&$g()}function _S(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zu(sl)}function vS(t,r){if(t==="click")return Zu(r)}function bS(t,r){if(t==="input"||t==="change")return Zu(r)}function ES(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var bn=typeof Object.is=="function"?Object.is:ES;function al(t,r){if(bn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!bt.call(r,d)||!bn(t[d],r[d]))return!1}return!0}function Xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jg(t,r){var a=Xg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xg(a)}}function Wg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Wg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Zg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ar(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ar(t.document)}return r}function Ld(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var TS=kn&&"documentMode"in document&&11>=document.documentMode,ja=null,jd=null,ol=null,Ud=!1;function ey(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ud||ja==null||ja!==Ar(l)||(l=ja,"selectionStart"in l&&Ld(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=Bc(jd,"onSelect"),0<l.length&&(r=new Rr("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=ja)))}function qs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ua={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},Pd={},ty={};kn&&(ty=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Fs(t){if(Pd[t])return Pd[t];if(!Ua[t])return t;var r=Ua[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in ty)return Pd[t]=r[a];return t}var ny=Fs("animationend"),ry=Fs("animationiteration"),iy=Fs("animationstart"),SS=Fs("transitionrun"),AS=Fs("transitionstart"),wS=Fs("transitioncancel"),sy=Fs("transitionend"),ay=new Map,zd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zd.push("scrollEnd");function rr(t,r){ay.set(t,r),Tr(r,[t])}var ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ln=[],Pa=0,Bd=0;function tc(){for(var t=Pa,r=Bd=Pa=0;r<t;){var a=Ln[r];Ln[r++]=null;var l=Ln[r];Ln[r++]=null;var d=Ln[r];Ln[r++]=null;var f=Ln[r];if(Ln[r++]=null,l!==null&&d!==null){var _=l.pending;_===null?d.next=d:(d.next=_.next,_.next=d),l.pending=d}f!==0&&oy(a,d,f)}}function nc(t,r,a,l){Ln[Pa++]=t,Ln[Pa++]=r,Ln[Pa++]=a,Ln[Pa++]=l,Bd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Hd(t,r,a,l){return nc(t,r,a,l),rc(t)}function Gs(t,r){return nc(t,null,null,r),rc(t)}function oy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&r!==null&&(d=31-mt(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[r]:l.push(r),r.lane=a|536870912),f):null}function rc(t){if(50<Nl)throw Nl=0,Wf=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var za={};function xS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,r,a,l){return new xS(t,r,a,l)}function qd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jr(t,r){var a=t.alternate;return a===null?(a=En(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ly(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ic(t,r,a,l,d,f){var _=0;if(l=t,typeof t=="function")qd(t)&&(_=1);else if(typeof t=="string")_=DA(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=En(31,a,r,d),t.elementType=C,t.lanes=f,t;case q:return Ys(a.children,d,f,r);case G:_=8,d|=24;break;case ne:return t=En(12,a,r,d|2),t.elementType=ne,t.lanes=f,t;case Ae:return t=En(13,a,r,d),t.elementType=Ae,t.lanes=f,t;case Ee:return t=En(19,a,r,d),t.elementType=Ee,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case te:_=9;break e;case de:_=11;break e;case R:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=En(_,a,r,d),r.elementType=t,r.type=l,r.lanes=f,r}function Ys(t,r,a,l){return t=En(7,t,l,r),t.lanes=a,t}function Fd(t,r,a){return t=En(6,t,null,r),t.lanes=a,t}function uy(t){var r=En(18,null,null,0);return r.stateNode=t,r}function Gd(t,r,a){return r=En(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var cy=new WeakMap;function jn(t,r){if(typeof t=="object"&&t!==null){var a=cy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Uo(r)},cy.set(t,r),r)}return{value:t,source:r,stack:Uo(r)}}var Ba=[],Ha=0,sc=null,ll=0,Un=[],Pn=0,Pi=null,Dr=1,Or="";function Wr(t,r){Ba[Ha++]=ll,Ba[Ha++]=sc,sc=t,ll=r}function hy(t,r,a){Un[Pn++]=Dr,Un[Pn++]=Or,Un[Pn++]=Pi,Pi=t;var l=Dr;t=Or;var d=32-mt(l)-1;l&=~(1<<d),a+=1;var f=32-mt(r)+d;if(30<f){var _=d-d%5;f=(l&(1<<_)-1).toString(32),l>>=_,d-=_,Dr=1<<32-mt(r)+d|a<<d|l,Or=f+t}else Dr=1<<f|a<<d|l,Or=t}function Yd(t){t.return!==null&&(Wr(t,1),hy(t,1,0))}function Kd(t){for(;t===sc;)sc=Ba[--Ha],Ba[Ha]=null,ll=Ba[--Ha],Ba[Ha]=null;for(;t===Pi;)Pi=Un[--Pn],Un[Pn]=null,Or=Un[--Pn],Un[Pn]=null,Dr=Un[--Pn],Un[Pn]=null}function dy(t,r){Un[Pn++]=Dr,Un[Pn++]=Or,Un[Pn++]=Pi,Dr=r.id,Or=r.overflow,Pi=t}var Gt=null,nt=null,Le=!1,zi=null,zn=!1,$d=Error(s(519));function Bi(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(jn(r,t)),$d}function fy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Tt]=t,r[Pt]=l,a){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(a=0;a<Dl.length;a++)Ie(Dl[a],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Ie("invalid",r),Uu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ie("invalid",r);break;case"textarea":Ie("invalid",r),Oi(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Iv(r.textContent,a)?(l.popover!=null&&(Ie("beforetoggle",r),Ie("toggle",r)),l.onScroll!=null&&Ie("scroll",r),l.onScrollEnd!=null&&Ie("scrollend",r),l.onClick!=null&&(r.onclick=Wn),r=!0):r=!1,r||Bi(t,!0)}function my(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Gt=Gt.return}}function qa(t){if(t!==Gt)return!1;if(!Le)return my(t),Le=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||fm(t.type,t.memoizedProps)),a=!a),a&&nt&&Bi(t),my(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=Pv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=Pv(t)}else r===27?(r=nt,ts(t.type)?(t=_m,_m=null,nt=t):nt=r):nt=Gt?Hn(t.stateNode.nextSibling):null;return!0}function Ks(){nt=Gt=null,Le=!1}function Qd(){var t=zi;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),zi=null),t}function ul(t){zi===null?zi=[t]:zi.push(t)}var Xd=L(null),$s=null,Zr=null;function Hi(t,r,a){ae(Xd,r._currentValue),r._currentValue=a}function ei(t){t._currentValue=Xd.current,Z(Xd)}function Jd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Wd(t,r,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var _=d.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=d;for(var I=0;I<r.length;I++)if(S.context===r[I]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),Jd(f.return,a,t),l||(_=null);break e}f=S.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),Jd(_,a,t),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===t){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function Fa(t,r,a,l){t=null;for(var d=r,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=d.type;bn(d.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(d===je.current){if(_=d.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}d=d.return}t!==null&&Wd(r,t,a,l),r.flags|=262144}function ac(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qs(t){$s=t,Zr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return py($s,t)}function oc(t,r){return $s===null&&Qs(t),py(t,r)}function py(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Zr===null){if(t===null)throw Error(s(308));Zr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Zr=Zr.next=r;return a}var RS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},CS=i.unstable_scheduleCallback,NS=i.unstable_NormalPriority,wt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zd(){return{controller:new RS,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&CS(NS,function(){t.controller.abort()})}var hl=null,ef=0,Ga=0,Ya=null;function IS(t,r){if(hl===null){var a=hl=[];ef=0,Ga=im(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ef++,r.then(gy,gy),r}function gy(){if(--ef===0&&hl!==null){Ya!==null&&(Ya.status="fulfilled");var t=hl;hl=null,Ga=0,Ya=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function DS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var yy=Q.S;Q.S=function(t,r){ev=rn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&IS(t,r),yy!==null&&yy(t,r)};var Xs=L(null);function tf(){var t=Xs.current;return t!==null?t:et.pooledCache}function lc(t,r){r===null?ae(Xs,Xs.current):ae(Xs,r.pool)}function _y(){var t=tf();return t===null?null:{parent:wt._currentValue,pool:t}}var Ka=Error(s(460)),nf=Error(s(474)),uc=Error(s(542)),cc={then:function(){}};function vy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function by(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Wn,Wn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ty(t),t;default:if(typeof r.status=="string")r.then(Wn,Wn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ty(t),t}throw Ws=r,Ka}}function Js(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ws=a,Ka):a}}var Ws=null;function Ey(){if(Ws===null)throw Error(s(459));var t=Ws;return Ws=null,t}function Ty(t){if(t===Ka||t===uc)throw Error(s(483))}var $a=null,dl=0;function hc(t){var r=dl;return dl+=1,$a===null&&($a=[]),by($a,t,r)}function fl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function dc(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Sy(t){function r(U,M){if(t){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)r(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function d(U,M){return U=Jr(U,M),U.index=0,U.sibling=null,U}function f(U,M,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=67108866,M):B):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function S(U,M,B,X){return M===null||M.tag!==6?(M=Fd(B,U.mode,X),M.return=U,M):(M=d(M,B),M.return=U,M)}function I(U,M,B,X){var fe=B.type;return fe===q?$(U,M,B.props.children,X,B.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===x&&Js(fe)===M.type)?(M=d(M,B.props),fl(M,B),M.return=U,M):(M=ic(B.type,B.key,B.props,null,U.mode,X),fl(M,B),M.return=U,M)}function H(U,M,B,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Gd(B,U.mode,X),M.return=U,M):(M=d(M,B.children||[]),M.return=U,M)}function $(U,M,B,X,fe){return M===null||M.tag!==7?(M=Ys(B,U.mode,X,fe),M.return=U,M):(M=d(M,B),M.return=U,M)}function W(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Fd(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case O:return B=ic(M.type,M.key,M.props,null,U.mode,B),fl(B,M),B.return=U,B;case D:return M=Gd(M,U.mode,B),M.return=U,M;case x:return M=Js(M),W(U,M,B)}if(Ot(M)||P(M))return M=Ys(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return W(U,hc(M),B);if(M.$$typeof===re)return W(U,oc(U,M),B);dc(U,M)}return null}function F(U,M,B,X){var fe=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:S(U,M,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case O:return B.key===fe?I(U,M,B,X):null;case D:return B.key===fe?H(U,M,B,X):null;case x:return B=Js(B),F(U,M,B,X)}if(Ot(B)||P(B))return fe!==null?null:$(U,M,B,X,null);if(typeof B.then=="function")return F(U,M,hc(B),X);if(B.$$typeof===re)return F(U,M,oc(U,B),X);dc(U,B)}return null}function K(U,M,B,X,fe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(B)||null,S(M,U,""+X,fe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case O:return U=U.get(X.key===null?B:X.key)||null,I(M,U,X,fe);case D:return U=U.get(X.key===null?B:X.key)||null,H(M,U,X,fe);case x:return X=Js(X),K(U,M,B,X,fe)}if(Ot(X)||P(X))return U=U.get(B)||null,$(M,U,X,fe,null);if(typeof X.then=="function")return K(U,M,B,hc(X),fe);if(X.$$typeof===re)return K(U,M,B,oc(M,X),fe);dc(M,X)}return null}function ce(U,M,B,X){for(var fe=null,ze=null,he=M,Ce=M=0,Oe=null;he!==null&&Ce<B.length;Ce++){he.index>Ce?(Oe=he,he=null):Oe=he.sibling;var Be=F(U,he,B[Ce],X);if(Be===null){he===null&&(he=Oe);break}t&&he&&Be.alternate===null&&r(U,he),M=f(Be,M,Ce),ze===null?fe=Be:ze.sibling=Be,ze=Be,he=Oe}if(Ce===B.length)return a(U,he),Le&&Wr(U,Ce),fe;if(he===null){for(;Ce<B.length;Ce++)he=W(U,B[Ce],X),he!==null&&(M=f(he,M,Ce),ze===null?fe=he:ze.sibling=he,ze=he);return Le&&Wr(U,Ce),fe}for(he=l(he);Ce<B.length;Ce++)Oe=K(he,U,Ce,B[Ce],X),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?Ce:Oe.key),M=f(Oe,M,Ce),ze===null?fe=Oe:ze.sibling=Oe,ze=Oe);return t&&he.forEach(function(as){return r(U,as)}),Le&&Wr(U,Ce),fe}function ge(U,M,B,X){if(B==null)throw Error(s(151));for(var fe=null,ze=null,he=M,Ce=M=0,Oe=null,Be=B.next();he!==null&&!Be.done;Ce++,Be=B.next()){he.index>Ce?(Oe=he,he=null):Oe=he.sibling;var as=F(U,he,Be.value,X);if(as===null){he===null&&(he=Oe);break}t&&he&&as.alternate===null&&r(U,he),M=f(as,M,Ce),ze===null?fe=as:ze.sibling=as,ze=as,he=Oe}if(Be.done)return a(U,he),Le&&Wr(U,Ce),fe;if(he===null){for(;!Be.done;Ce++,Be=B.next())Be=W(U,Be.value,X),Be!==null&&(M=f(Be,M,Ce),ze===null?fe=Be:ze.sibling=Be,ze=Be);return Le&&Wr(U,Ce),fe}for(he=l(he);!Be.done;Ce++,Be=B.next())Be=K(he,U,Ce,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?Ce:Be.key),M=f(Be,M,Ce),ze===null?fe=Be:ze.sibling=Be,ze=Be);return t&&he.forEach(function(HA){return r(U,HA)}),Le&&Wr(U,Ce),fe}function Ze(U,M,B,X){if(typeof B=="object"&&B!==null&&B.type===q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case O:e:{for(var fe=B.key;M!==null;){if(M.key===fe){if(fe=B.type,fe===q){if(M.tag===7){a(U,M.sibling),X=d(M,B.props.children),X.return=U,U=X;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===x&&Js(fe)===M.type){a(U,M.sibling),X=d(M,B.props),fl(X,B),X.return=U,U=X;break e}a(U,M);break}else r(U,M);M=M.sibling}B.type===q?(X=Ys(B.props.children,U.mode,X,B.key),X.return=U,U=X):(X=ic(B.type,B.key,B.props,null,U.mode,X),fl(X,B),X.return=U,U=X)}return _(U);case D:e:{for(fe=B.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(U,M.sibling),X=d(M,B.children||[]),X.return=U,U=X;break e}else{a(U,M);break}else r(U,M);M=M.sibling}X=Gd(B,U.mode,X),X.return=U,U=X}return _(U);case x:return B=Js(B),Ze(U,M,B,X)}if(Ot(B))return ce(U,M,B,X);if(P(B)){if(fe=P(B),typeof fe!="function")throw Error(s(150));return B=fe.call(B),ge(U,M,B,X)}if(typeof B.then=="function")return Ze(U,M,hc(B),X);if(B.$$typeof===re)return Ze(U,M,oc(U,B),X);dc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(U,M.sibling),X=d(M,B),X.return=U,U=X):(a(U,M),X=Fd(B,U.mode,X),X.return=U,U=X),_(U)):a(U,M)}return function(U,M,B,X){try{dl=0;var fe=Ze(U,M,B,X);return $a=null,fe}catch(he){if(he===Ka||he===uc)throw he;var ze=En(29,he,null,U.mode);return ze.lanes=X,ze.return=U,ze}}}var Zs=Sy(!0),Ay=Sy(!1),qi=!1;function rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=rc(t),oy(t,null,a),r}return nc(t,l,r,a),rc(t)}function ml(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Bo(t,a)}}function af(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?d=f=r:f=f.next=r}else d=f=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var of=!1;function pl(){if(of){var t=Ya;if(t!==null)throw t}}function gl(t,r,a,l){of=!1;var d=t.updateQueue;qi=!1;var f=d.firstBaseUpdate,_=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var I=S,H=I.next;I.next=null,_===null?f=H:_.next=H,_=I;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=H:S.next=H,$.lastBaseUpdate=I))}if(f!==null){var W=d.baseState;_=0,$=H=I=null,S=f;do{var F=S.lane&-536870913,K=F!==S.lane;if(K?(De&F)===F:(l&F)===F){F!==0&&F===Ga&&(of=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ce=t,ge=S;F=r;var Ze=a;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){W=ce.call(Ze,W,F);break e}W=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,F=typeof ce=="function"?ce.call(Ze,W,F):ce,F==null)break e;W=b({},W,F);break e;case 2:qi=!0}}F=S.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=d.callbacks,K===null?d.callbacks=[F]:K.push(F))}else K={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(H=$=K,I=W):$=$.next=K,_|=F;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;K=S,S=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);$===null&&(I=W),d.baseState=I,d.firstBaseUpdate=H,d.lastBaseUpdate=$,f===null&&(d.shared.lanes=0),Xi|=_,t.lanes=_,t.memoizedState=W}}function wy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function xy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)wy(a[t],r)}var Qa=L(null),fc=L(0);function Ry(t,r){t=ui,ae(fc,t),ae(Qa,r),ui=t|r.baseLanes}function lf(){ae(fc,ui),ae(Qa,Qa.current)}function uf(){ui=fc.current,Z(Qa),Z(fc)}var Tn=L(null),Bn=null;function Yi(t){var r=t.alternate;ae(gt,gt.current&1),ae(Tn,t),Bn===null&&(r===null||Qa.current!==null||r.memoizedState!==null)&&(Bn=t)}function cf(t){ae(gt,gt.current),ae(Tn,t),Bn===null&&(Bn=t)}function Cy(t){t.tag===22?(ae(gt,gt.current),ae(Tn,t),Bn===null&&(Bn=t)):Ki()}function Ki(){ae(gt,gt.current),ae(Tn,Tn.current)}function Sn(t){Z(Tn),Bn===t&&(Bn=null),Z(gt)}var gt=L(0);function mc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||gm(a)||ym(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ti=0,xe=null,Je=null,xt=null,pc=!1,Xa=!1,ea=!1,gc=0,yl=0,Ja=null,OS=0;function ht(){throw Error(s(321))}function hf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!bn(t[a],r[a]))return!1;return!0}function df(t,r,a,l,d,f){return ti=f,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?h_:Rf,ea=!1,f=a(l,d),ea=!1,Xa&&(f=Iy(r,a,l,d)),Ny(t),f}function Ny(t){Q.H=bl;var r=Je!==null&&Je.next!==null;if(ti=0,xt=Je=xe=null,pc=!1,yl=0,Ja=null,r)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&ac(t)&&(Rt=!0))}function Iy(t,r,a,l){xe=t;var d=0;do{if(Xa&&(Ja=null),yl=0,Xa=!1,25<=d)throw Error(s(301));if(d+=1,xt=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=d_,f=r(a,l)}while(Xa);return f}function MS(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?_l(r):r,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(xe.flags|=1024),r}function ff(){var t=gc!==0;return gc=0,t}function mf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function pf(t){if(pc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}pc=!1}ti=0,xt=Je=xe=null,Xa=!1,yl=gc=0,Ja=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?xe.memoizedState=xt=t:xt=xt.next=t,xt}function yt(){if(Je===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var r=xt===null?xe.memoizedState:xt.next;if(r!==null)xt=r,Je=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},xt===null?xe.memoizedState=xt=t:xt=xt.next=t}return xt}function yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var r=yl;return yl+=1,Ja===null&&(Ja=[]),t=by(Ja,t,r),r=xe,(xt===null?r.memoizedState:xt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?h_:Rf),t}function _c(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===re)return Yt(t)}throw Error(s(438,String(t)))}function gf(t){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=yc(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=j;return r.index++,a}function ni(t,r){return typeof r=="function"?r(t):r}function vc(t){var r=yt();return yf(r,Je,t)}function yf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var _=d.next;d.next=f.next,f.next=_}r.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{r=d.next;var S=_=null,I=null,H=r,$=!1;do{var W=H.lane&-536870913;if(W!==H.lane?(De&W)===W:(ti&W)===W){var F=H.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),W===Ga&&($=!0);else if((ti&F)===F){H=H.next,F===Ga&&($=!0);continue}else W={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(S=I=W,_=f):I=I.next=W,xe.lanes|=F,Xi|=F;W=H.action,ea&&a(f,W),f=H.hasEagerState?H.eagerState:a(f,W)}else F={lane:W,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(S=I=F,_=f):I=I.next=F,xe.lanes|=W,Xi|=W;H=H.next}while(H!==null&&H!==r);if(I===null?_=f:I.next=S,!bn(f,t.memoizedState)&&(Rt=!0,$&&(a=Ya,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=I,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _f(t){var r=yt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=r.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do f=t(f,_.action),_=_.next;while(_!==d);bn(f,r.memoizedState)||(Rt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function Dy(t,r,a){var l=xe,d=yt(),f=Le;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!bn((Je||d).memoizedState,a);if(_&&(d.memoizedState=a,Rt=!0),d=d.queue,Ef(ky.bind(null,l,d,t),[t]),d.getSnapshot!==r||_||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,Wa(9,{destroy:void 0},My.bind(null,l,d,a,r),null),et===null)throw Error(s(349));f||(ti&127)!==0||Oy(l,r,a)}return a}function Oy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=yc(),xe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function My(t,r,a,l){r.value=a,r.getSnapshot=l,Vy(r)&&Ly(t)}function ky(t,r,a){return a(function(){Vy(r)&&Ly(t)})}function Vy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!bn(t,a)}catch{return!0}}function Ly(t){var r=Gs(t,2);r!==null&&mn(r,t,2)}function vf(t){var r=an();if(typeof t=="function"){var a=t;if(t=a(),ea){Dn(!0);try{a()}finally{Dn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:t},r}function jy(t,r,a,l){return t.baseState=a,yf(t,Je,typeof l=="function"?l:ni)}function kS(t,r,a,l,d){if(Tc(t))throw Error(s(485));if(t=r.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,Uy(r,f)):(f.next=a.next,r.pending=a.next=f)}}function Uy(t,r){var a=r.action,l=r.payload,d=t.state;if(r.isTransition){var f=Q.T,_={};Q.T=_;try{var S=a(d,l),I=Q.S;I!==null&&I(_,S),Py(t,r,S)}catch(H){bf(t,r,H)}finally{f!==null&&_.types!==null&&(f.types=_.types),Q.T=f}}else try{f=a(d,l),Py(t,r,f)}catch(H){bf(t,r,H)}}function Py(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zy(t,r,l)},function(l){return bf(t,r,l)}):zy(t,r,a)}function zy(t,r,a){r.status="fulfilled",r.value=a,By(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Uy(t,a)))}function bf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,By(r),r=r.next;while(r!==l)}t.action=null}function By(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Hy(t,r){return r}function qy(t,r){if(Le){var a=et.formState;if(a!==null){e:{var l=xe;if(Le){if(nt){t:{for(var d=nt,f=zn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Hn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){nt=Hn(d.nextSibling),l=d.data==="F!";break e}}Bi(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hy,lastRenderedState:r},a.queue=l,a=l_.bind(null,xe,l),l.dispatch=a,l=vf(!1),f=xf.bind(null,xe,!1,l.queue),l=an(),d={state:r,dispatch:null,action:t,pending:null},l.queue=d,a=kS.bind(null,xe,d,f,a),d.dispatch=a,l.memoizedState=t,[r,a,!1]}function Fy(t){var r=yt();return Gy(r,Je,t)}function Gy(t,r,a){if(r=yf(t,r,Hy)[0],t=vc(ni)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=_l(r)}catch(_){throw _===Ka?uc:_}else l=r;r=yt();var d=r.queue,f=d.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,Wa(9,{destroy:void 0},VS.bind(null,d,a),null)),[l,f,t]}function VS(t,r){t.action=r}function Yy(t){var r=yt(),a=Je;if(a!==null)return Gy(r,a,t);yt(),r=r.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Wa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=xe.updateQueue,r===null&&(r=yc(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Ky(){return yt().memoizedState}function bc(t,r,a,l){var d=an();xe.flags|=t,d.memoizedState=Wa(1|r,{destroy:void 0},a,l===void 0?null:l)}function Ec(t,r,a,l){var d=yt();l=l===void 0?null:l;var f=d.memoizedState.inst;Je!==null&&l!==null&&hf(l,Je.memoizedState.deps)?d.memoizedState=Wa(r,f,a,l):(xe.flags|=t,d.memoizedState=Wa(1|r,f,a,l))}function $y(t,r){bc(8390656,8,t,r)}function Ef(t,r){Ec(2048,8,t,r)}function LS(t){xe.flags|=4;var r=xe.updateQueue;if(r===null)r=yc(),xe.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Qy(t){var r=yt().memoizedState;return LS({ref:r,nextImpl:t}),function(){if((qe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Xy(t,r){return Ec(4,2,t,r)}function Jy(t,r){return Ec(4,4,t,r)}function Wy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Zy(t,r,a){a=a!=null?a.concat([t]):null,Ec(4,4,Wy.bind(null,r,t),a)}function Tf(){}function e_(t,r){var a=yt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&hf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function t_(t,r){var a=yt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&hf(r,l[1]))return l[0];if(l=t(),ea){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,r],l}function Sf(t,r,a){return a===void 0||(ti&1073741824)!==0&&(De&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=nv(),xe.lanes|=t,Xi|=t,a)}function n_(t,r,a,l){return bn(a,r)?a:Qa.current!==null?(t=Sf(t,a,l),bn(t,r)||(Rt=!0),t):(ti&42)===0||(ti&1073741824)!==0&&(De&261930)===0?(Rt=!0,t.memoizedState=a):(t=nv(),xe.lanes|=t,Xi|=t,r)}function r_(t,r,a,l,d){var f=se.p;se.p=f!==0&&8>f?f:8;var _=Q.T,S={};Q.T=S,xf(t,!1,r,a);try{var I=d(),H=Q.S;if(H!==null&&H(S,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=DS(I,l);vl(t,r,$,xn(t))}else vl(t,r,l,xn(t))}catch(W){vl(t,r,{then:function(){},status:"rejected",reason:W},xn())}finally{se.p=f,_!==null&&S.types!==null&&(_.types=S.types),Q.T=_}}function jS(){}function Af(t,r,a,l){if(t.tag!==5)throw Error(s(476));var d=i_(t).queue;r_(t,d,r,pe,a===null?jS:function(){return s_(t),a(l)})}function i_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function s_(t){var r=i_(t);r.next===null&&(r=t.alternate.memoizedState),vl(t,r.next.queue,{},xn())}function wf(){return Yt(Ll)}function a_(){return yt().memoizedState}function o_(){return yt().memoizedState}function US(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=xn();t=Fi(a);var l=Gi(r,t,a);l!==null&&(mn(l,r,a),ml(l,r,a)),r={cache:Zd()},t.payload=r;return}r=r.return}}function PS(t,r,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Tc(t)?u_(r,a):(a=Hd(t,r,a,l),a!==null&&(mn(a,t,l),c_(a,r,l)))}function l_(t,r,a){var l=xn();vl(t,r,a,l)}function vl(t,r,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tc(t))u_(r,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var _=r.lastRenderedState,S=f(_,a);if(d.hasEagerState=!0,d.eagerState=S,bn(S,_))return nc(t,r,d,0),et===null&&tc(),!1}catch{}if(a=Hd(t,r,d,l),a!==null)return mn(a,t,l),c_(a,r,l),!0}return!1}function xf(t,r,a,l){if(l={lane:2,revertLane:im(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Tc(t)){if(r)throw Error(s(479))}else r=Hd(t,a,l,2),r!==null&&mn(r,t,2)}function Tc(t){var r=t.alternate;return t===xe||r!==null&&r===xe}function u_(t,r){Xa=pc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function c_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Bo(t,a)}}var bl={readContext:Yt,use:_c,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};bl.useEffectEvent=ht;var h_={readContext:Yt,use:_c,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:Yt,useEffect:$y,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,bc(4194308,4,Wy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return bc(4194308,4,t,r)},useInsertionEffect:function(t,r){bc(4,2,t,r)},useMemo:function(t,r){var a=an();r=r===void 0?null:r;var l=t();if(ea){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=an();if(a!==void 0){var d=a(r);if(ea){Dn(!0);try{a(r)}finally{Dn(!1)}}}else d=r;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=PS.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=vf(t);var r=t.queue,a=l_.bind(null,xe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Tf,useDeferredValue:function(t,r){var a=an();return Sf(a,t,r)},useTransition:function(){var t=vf(!1);return t=r_.bind(null,xe,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=xe,d=an();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(De&127)!==0||Oy(l,r,a)}d.memoizedState=a;var f={value:a,getSnapshot:r};return d.queue=f,$y(ky.bind(null,l,f,t),[t]),l.flags|=2048,Wa(9,{destroy:void 0},My.bind(null,l,f,a,r),null),a},useId:function(){var t=an(),r=et.identifierPrefix;if(Le){var a=Or,l=Dr;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=gc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=OS++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:wf,useFormState:qy,useActionState:qy,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=xf.bind(null,xe,!0,a),a.dispatch=r,[t,r]},useMemoCache:gf,useCacheRefresh:function(){return an().memoizedState=US.bind(null,xe)},useEffectEvent:function(t){var r=an(),a={impl:t};return r.memoizedState=a,function(){if((qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Rf={readContext:Yt,use:_c,useCallback:e_,useContext:Yt,useEffect:Ef,useImperativeHandle:Zy,useInsertionEffect:Xy,useLayoutEffect:Jy,useMemo:t_,useReducer:vc,useRef:Ky,useState:function(){return vc(ni)},useDebugValue:Tf,useDeferredValue:function(t,r){var a=yt();return n_(a,Je.memoizedState,t,r)},useTransition:function(){var t=vc(ni)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:_l(t),r]},useSyncExternalStore:Dy,useId:a_,useHostTransitionStatus:wf,useFormState:Fy,useActionState:Fy,useOptimistic:function(t,r){var a=yt();return jy(a,Je,t,r)},useMemoCache:gf,useCacheRefresh:o_};Rf.useEffectEvent=Qy;var d_={readContext:Yt,use:_c,useCallback:e_,useContext:Yt,useEffect:Ef,useImperativeHandle:Zy,useInsertionEffect:Xy,useLayoutEffect:Jy,useMemo:t_,useReducer:_f,useRef:Ky,useState:function(){return _f(ni)},useDebugValue:Tf,useDeferredValue:function(t,r){var a=yt();return Je===null?Sf(a,t,r):n_(a,Je.memoizedState,t,r)},useTransition:function(){var t=_f(ni)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:_l(t),r]},useSyncExternalStore:Dy,useId:a_,useHostTransitionStatus:wf,useFormState:Yy,useActionState:Yy,useOptimistic:function(t,r){var a=yt();return Je!==null?jy(a,Je,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:gf,useCacheRefresh:o_};d_.useEffectEvent=Qy;function Cf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Nf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=xn(),d=Fi(l);d.payload=r,a!=null&&(d.callback=a),r=Gi(t,d,l),r!==null&&(mn(r,t,l),ml(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=xn(),d=Fi(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=Gi(t,d,l),r!==null&&(mn(r,t,l),ml(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=xn(),l=Fi(a);l.tag=2,r!=null&&(l.callback=r),r=Gi(t,l,a),r!==null&&(mn(r,t,a),ml(r,t,a))}};function f_(t,r,a,l,d,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):r.prototype&&r.prototype.isPureReactComponent?!al(a,l)||!al(d,f):!0}function m_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Nf.enqueueReplaceState(r,r.state,null)}function ta(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=b({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function p_(t){ec(t)}function g_(t){console.error(t)}function y_(t){ec(t)}function Sc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function __(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function If(t,r,a){return a=Fi(a),a.tag=3,a.payload={element:null},a.callback=function(){Sc(t,r)},a}function v_(t){return t=Fi(t),t.tag=3,t}function b_(t,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){__(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){__(r,a,l),typeof d!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function zS(t,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Fa(r,a,d,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Bn===null?Vc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===cc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),tm(t,l,d)),!1;case 22:return a.flags|=65536,l===cc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),tm(t,l,d)),!1}throw Error(s(435,a.tag))}return tm(t,l,d),Vc(),!1}if(Le)return r=Tn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==$d&&(t=Error(s(422),{cause:l}),ul(jn(t,a)))):(l!==$d&&(r=Error(s(423),{cause:l}),ul(jn(r,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=jn(l,a),d=If(t.stateNode,l,d),af(t,d),dt!==4&&(dt=2)),!1;var f=Error(s(520),{cause:l});if(f=jn(f,a),Cl===null?Cl=[f]:Cl.push(f),dt!==4&&(dt=2),r===null)return!0;l=jn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=If(a.stateNode,l,t),af(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ji===null||!Ji.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=v_(d),b_(d,t,a,l),af(a,d),!1}a=a.return}while(a!==null);return!1}var Df=Error(s(461)),Rt=!1;function Kt(t,r,a,l){r.child=t===null?Ay(r,null,a,l):Zs(r,t.child,a,l)}function E_(t,r,a,l,d){a=a.render;var f=r.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Qs(r),l=df(t,r,a,_,f,d),S=ff(),t!==null&&!Rt?(mf(t,r,d),ri(t,r,d)):(Le&&S&&Yd(r),r.flags|=1,Kt(t,r,l,d),r.child)}function T_(t,r,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!qd(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,S_(t,r,f,l,d)):(t=ic(a.type,null,l,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!Pf(t,d)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(_,l)&&t.ref===r.ref)return ri(t,r,d)}return r.flags|=1,t=Jr(f,l),t.ref=r.ref,t.return=r,r.child=t}function S_(t,r,a,l,d){if(t!==null){var f=t.memoizedProps;if(al(f,l)&&t.ref===r.ref)if(Rt=!1,r.pendingProps=l=f,Pf(t,d))(t.flags&131072)!==0&&(Rt=!0);else return r.lanes=t.lanes,ri(t,r,d)}return Of(t,r,a,l,d)}function A_(t,r,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=r.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,r.child=null;return w_(t,r,f,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&lc(r,f!==null?f.cachePool:null),f!==null?Ry(r,f):lf(),Cy(r);else return l=r.lanes=536870912,w_(t,r,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(lc(r,f.cachePool),Ry(r,f),Ki(),r.memoizedState=null):(t!==null&&lc(r,null),lf(),Ki());return Kt(t,r,d,a),r.child}function El(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function w_(t,r,a,l,d){var f=tf();return f=f===null?null:{parent:wt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&lc(r,null),lf(),Cy(r),t!==null&&Fa(t,r,l,!0),r.childLanes=d,null}function Ac(t,r){return r=xc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function x_(t,r,a){return Zs(r,t.child,null,a),t=Ac(r,r.pendingProps),t.flags|=2,Sn(r),r.memoizedState=null,t}function BS(t,r,a){var l=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Ac(r,l),r.lanes=536870912,El(null,t);if(cf(r),(t=nt)?(t=Uv(t,zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Pi!==null?{id:Dr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},a=uy(t),a.return=r,r.child=a,Gt=r,nt=null)):t=null,t===null)throw Bi(r);return r.lanes=536870912,null}return Ac(r,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(cf(r),d)if(r.flags&256)r.flags&=-257,r=x_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Rt||Fa(t,r,a,!1),d=(a&t.childLanes)!==0,Rt||d){if(l=et,l!==null&&(_=Ho(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Gs(t,_),mn(l,t,_),Df;Vc(),r=x_(t,r,a)}else t=f.treeContext,nt=Hn(_.nextSibling),Gt=r,Le=!0,zi=null,zn=!1,t!==null&&dy(r,t),r=Ac(r,l),r.flags|=4096;return r}return t=Jr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function wc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Of(t,r,a,l,d){return Qs(r),a=df(t,r,a,l,void 0,d),l=ff(),t!==null&&!Rt?(mf(t,r,d),ri(t,r,d)):(Le&&l&&Yd(r),r.flags|=1,Kt(t,r,a,d),r.child)}function R_(t,r,a,l,d,f){return Qs(r),r.updateQueue=null,a=Iy(r,l,a,d),Ny(t),l=ff(),t!==null&&!Rt?(mf(t,r,f),ri(t,r,f)):(Le&&l&&Yd(r),r.flags|=1,Kt(t,r,a,f),r.child)}function C_(t,r,a,l,d){if(Qs(r),r.stateNode===null){var f=za,_=a.contextType;typeof _=="object"&&_!==null&&(f=Yt(_)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},rf(r),_=a.contextType,f.context=typeof _=="object"&&_!==null?Yt(_):za,f.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Cf(r,a,_,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Nf.enqueueReplaceState(f,f.state,null),gl(r,l,f,d),pl(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var S=r.memoizedProps,I=ta(a,S);f.props=I;var H=f.context,$=a.contextType;_=za,typeof $=="object"&&$!==null&&(_=Yt($));var W=a.getDerivedStateFromProps;$=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||H!==_)&&m_(r,f,l,_),qi=!1;var F=r.memoizedState;f.state=F,gl(r,l,f,d),pl(),H=r.memoizedState,S||F!==H||qi?(typeof W=="function"&&(Cf(r,a,W,l),H=r.memoizedState),(I=qi||f_(r,a,I,l,F,H,_))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),f.props=l,f.state=H,f.context=_,l=I):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,sf(t,r),_=r.memoizedProps,$=ta(a,_),f.props=$,W=r.pendingProps,F=f.context,H=a.contextType,I=za,typeof H=="object"&&H!==null&&(I=Yt(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==W||F!==I)&&m_(r,f,l,I),qi=!1,F=r.memoizedState,f.state=F,gl(r,l,f,d),pl();var K=r.memoizedState;_!==W||F!==K||qi||t!==null&&t.dependencies!==null&&ac(t.dependencies)?(typeof S=="function"&&(Cf(r,a,S,l),K=r.memoizedState),($=qi||f_(r,a,$,l,F,K,I)||t!==null&&t.dependencies!==null&&ac(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,I)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),f.props=l,f.state=K,f.context=I,l=$):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,wc(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=Zs(r,t.child,null,d),r.child=Zs(r,null,a,d)):Kt(t,r,a,d),r.memoizedState=f.state,t=r.child):t=ri(t,r,d),t}function N_(t,r,a,l){return Ks(),r.flags|=256,Kt(t,r,a,l),r.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(t){return{baseLanes:t,cachePool:_y()}}function Vf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=wn),t}function I_(t,r,a){var l=r.pendingProps,d=!1,f=(r.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(d=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Le){if(d?Yi(r):Ki(),(t=nt)?(t=Uv(t,zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Pi!==null?{id:Dr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},a=uy(t),a.return=r,r.child=a,Gt=r,nt=null)):t=null,t===null)throw Bi(r);return ym(t)?r.lanes=32:r.lanes=536870912,null}var S=l.children;return l=l.fallback,d?(Ki(),d=r.mode,S=xc({mode:"hidden",children:S},d),l=Ys(l,d,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,l=r.child,l.memoizedState=kf(a),l.childLanes=Vf(t,_,a),r.memoizedState=Mf,El(null,l)):(Yi(r),Lf(r,S))}var I=t.memoizedState;if(I!==null&&(S=I.dehydrated,S!==null)){if(f)r.flags&256?(Yi(r),r.flags&=-257,r=jf(t,r,a)):r.memoizedState!==null?(Ki(),r.child=t.child,r.flags|=128,r=null):(Ki(),S=l.fallback,d=r.mode,l=xc({mode:"visible",children:l.children},d),S=Ys(S,d,a,null),S.flags|=2,l.return=r,S.return=r,l.sibling=S,r.child=l,Zs(r,t.child,null,a),l=r.child,l.memoizedState=kf(a),l.childLanes=Vf(t,_,a),r.memoizedState=Mf,r=El(null,l));else if(Yi(r),ym(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,ul({value:l,source:null,stack:null}),r=jf(t,r,a)}else if(Rt||Fa(t,r,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=et,_!==null&&(l=Ho(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Gs(t,l),mn(_,t,l),Df;gm(S)||Vc(),r=jf(t,r,a)}else gm(S)?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,nt=Hn(S.nextSibling),Gt=r,Le=!0,zi=null,zn=!1,t!==null&&dy(r,t),r=Lf(r,l.children),r.flags|=4096);return r}return d?(Ki(),S=l.fallback,d=r.mode,I=t.child,H=I.sibling,l=Jr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?S=Jr(H,S):(S=Ys(S,d,a,null),S.flags|=2),S.return=r,l.return=r,l.sibling=S,r.child=l,El(null,l),l=r.child,S=t.child.memoizedState,S===null?S=kf(a):(d=S.cachePool,d!==null?(I=wt._currentValue,d=d.parent!==I?{parent:I,pool:I}:d):d=_y(),S={baseLanes:S.baseLanes|a,cachePool:d}),l.memoizedState=S,l.childLanes=Vf(t,_,a),r.memoizedState=Mf,El(t.child,l)):(Yi(r),a=t.child,t=a.sibling,a=Jr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function Lf(t,r){return r=xc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function xc(t,r){return t=En(22,t,null,r),t.lanes=0,t}function jf(t,r,a){return Zs(r,t.child,null,a),t=Lf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function D_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Jd(t.return,r,a)}function Uf(t,r,a,l,d,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=d,_.treeForkCount=f)}function O_(t,r,a){var l=r.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var _=gt.current,S=(_&2)!==0;if(S?(_=_&1|2,r.flags|=128):_&=1,ae(gt,_),Kt(t,r,l,a),l=Le?ll:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D_(t,a,r);else if(t.tag===19)D_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=r.child,d=null;a!==null;)t=a.alternate,t!==null&&mc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),Uf(r,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&mc(t)===null){r.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Uf(r,!0,a,null,f,l);break;case"together":Uf(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ri(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Xi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Fa(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Jr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Jr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Pf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ac(t)))}function HS(t,r,a){switch(r.tag){case 3:Mt(r,r.stateNode.containerInfo),Hi(r,wt,t.memoizedState.cache),Ks();break;case 27:case 5:Rs(r);break;case 4:Mt(r,r.stateNode.containerInfo);break;case 10:Hi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,cf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Yi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?I_(t,r,a):(Yi(r),t=ri(t,r,a),t!==null?t.sibling:null);Yi(r);break;case 19:var d=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Fa(t,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return O_(t,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ae(gt,gt.current),l)break;return null;case 22:return r.lanes=0,A_(t,r,a,r.pendingProps);case 24:Hi(r,wt,t.memoizedState.cache)}return ri(t,r,a)}function M_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Rt=!0;else{if(!Pf(t,a)&&(r.flags&128)===0)return Rt=!1,HS(t,r,a);Rt=(t.flags&131072)!==0}else Rt=!1,Le&&(r.flags&1048576)!==0&&hy(r,ll,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Js(r.elementType),r.type=t,typeof t=="function")qd(t)?(l=ta(t,l),r.tag=1,r=C_(null,r,t,l,a)):(r.tag=0,r=Of(null,r,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===de){r.tag=11,r=E_(null,r,t,l,a);break e}else if(d===R){r.tag=14,r=T_(null,r,t,l,a);break e}}throw r=st(t)||t,Error(s(306,r,""))}}return r;case 0:return Of(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=ta(l,r.pendingProps),C_(t,r,l,d,a);case 3:e:{if(Mt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;d=f.element,sf(t,r),gl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Hi(r,wt,l),l!==f.cache&&Wd(r,[wt],a,!0),pl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=N_(t,r,l,a);break e}else if(l!==d){d=jn(Error(s(424)),r),ul(d),r=N_(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,nt=Hn(t.firstChild),Gt=r,Le=!0,zi=null,zn=!0,a=Ay(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ks(),l===d){r=ri(t,r,a);break e}Kt(t,r,l,a)}r=r.child}return r;case 26:return wc(t,r),t===null?(a=Fv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Le||(a=r.type,t=r.pendingProps,l=Hc(Re.current).createElement(a),l[Tt]=r,l[Pt]=t,$t(l,a,t),St(l),r.stateNode=l):r.memoizedState=Fv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Rs(r),t===null&&Le&&(l=r.stateNode=Bv(r.type,r.pendingProps,Re.current),Gt=r,zn=!0,d=nt,ts(r.type)?(_m=d,nt=Hn(l.firstChild)):nt=d),Kt(t,r,r.pendingProps.children,a),wc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Le&&((d=l=nt)&&(l=_A(l,r.type,r.pendingProps,zn),l!==null?(r.stateNode=l,Gt=r,nt=Hn(l.firstChild),zn=!1,d=!0):d=!1),d||Bi(r)),Rs(r),d=r.type,f=r.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,fm(d,f)?l=null:_!==null&&fm(d,_)&&(r.flags|=32),r.memoizedState!==null&&(d=df(t,r,MS,null,null,a),Ll._currentValue=d),wc(t,r),Kt(t,r,l,a),r.child;case 6:return t===null&&Le&&((t=a=nt)&&(a=vA(a,r.pendingProps,zn),a!==null?(r.stateNode=a,Gt=r,nt=null,t=!0):t=!1),t||Bi(r)),null;case 13:return I_(t,r,a);case 4:return Mt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Zs(r,null,l,a):Kt(t,r,l,a),r.child;case 11:return E_(t,r,r.type,r.pendingProps,a);case 7:return Kt(t,r,r.pendingProps,a),r.child;case 8:return Kt(t,r,r.pendingProps.children,a),r.child;case 12:return Kt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Hi(r,r.type,l.value),Kt(t,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,Qs(r),d=Yt(d),l=l(d),r.flags|=1,Kt(t,r,l,a),r.child;case 14:return T_(t,r,r.type,r.pendingProps,a);case 15:return S_(t,r,r.type,r.pendingProps,a);case 19:return O_(t,r,a);case 31:return BS(t,r,a);case 22:return A_(t,r,a,r.pendingProps);case 24:return Qs(r),l=Yt(wt),t===null?(d=tf(),d===null&&(d=et,f=Zd(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),r.memoizedState={parent:l,cache:d},rf(r),Hi(r,wt,d)):((t.lanes&a)!==0&&(sf(t,r),gl(r,null,null,a),pl()),d=t.memoizedState,f=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Hi(r,wt,l)):(l=f.cache,Hi(r,wt,l),l!==d.cache&&Wd(r,[wt],a,!0))),Kt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ii(t){t.flags|=4}function zf(t,r,a,l,d){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(av())t.flags|=8192;else throw Ws=cc,nf}else t.flags&=-16777217}function k_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Qv(r))if(av())t.flags|=8192;else throw Ws=cc,nf}function Rc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Mu():536870912,t.lanes|=r,no|=r)}function Tl(t,r){if(!Le)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function qS(t,r,a){var l=r.pendingProps;switch(Kd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ei(wt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(qa(r)?ii(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Qd())),rt(r),null;case 26:var d=r.type,f=r.memoizedState;return t===null?(ii(r),f!==null?(rt(r),k_(r,f)):(rt(r),zf(r,d,null,l,a))):f?f!==t.memoizedState?(ii(r),rt(r),k_(r,f)):(rt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&ii(r),rt(r),zf(r,d,t,l,a)),null;case 27:if(Ea(r),a=Re.current,d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ii(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}t=ue.current,qa(r)?fy(r):(t=Bv(d,l,a),r.stateNode=t,ii(r))}return rt(r),null;case 5:if(Ea(r),d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ii(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(f=ue.current,qa(r))fy(r);else{var _=Hc(Re.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(d,{is:l.is}):_.createElement(d)}}f[Tt]=r,f[Pt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=f;e:switch($t(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ii(r)}}return rt(r),zf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&ii(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Re.current,qa(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,d=Gt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Tt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Iv(t.nodeValue,a)),t||Bi(r,!0)}else t=Hc(t).createTextNode(l),t[Tt]=r,r.stateNode=t}return rt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=qa(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=r}else Ks(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),t=!1}else a=Qd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Sn(r),r):(Sn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return rt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=qa(r),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Tt]=r}else Ks(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),d=!1}else d=Qd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Sn(r),r):(Sn(r),null)}return Sn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Rc(r,r.updateQueue),rt(r),null);case 4:return at(),t===null&&lm(r.stateNode.containerInfo),rt(r),null;case 10:return ei(r.type),rt(r),null;case 19:if(Z(gt),l=r.memoizedState,l===null)return rt(r),null;if(d=(r.flags&128)!==0,f=l.rendering,f===null)if(d)Tl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=mc(t),f!==null){for(r.flags|=128,Tl(l,!1),t=f.updateQueue,r.updateQueue=t,Rc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)ly(a,t),a=a.sibling;return ae(gt,gt.current&1|2),Le&&Wr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&rn()>Oc&&(r.flags|=128,d=!0,Tl(l,!1),r.lanes=4194304)}else{if(!d)if(t=mc(f),t!==null){if(r.flags|=128,d=!0,t=t.updateQueue,r.updateQueue=t,Rc(r,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Le)return rt(r),null}else 2*rn()-l.renderingStartTime>Oc&&a!==536870912&&(r.flags|=128,d=!0,Tl(l,!1),r.lanes=4194304);l.isBackwards?(f.sibling=r.child,r.child=f):(t=l.last,t!==null?t.sibling=f:r.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=gt.current,ae(gt,d?a&1|2:a&1),Le&&Wr(r,l.treeForkCount),t):(rt(r),null);case 22:case 23:return Sn(r),uf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),a=r.updateQueue,a!==null&&Rc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&Z(Xs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ei(wt),rt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function FS(t,r){switch(Kd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ei(wt),at(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Ea(r),null;case 31:if(r.memoizedState!==null){if(Sn(r),r.alternate===null)throw Error(s(340));Ks()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Sn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ks()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Z(gt),null;case 4:return at(),null;case 10:return ei(r.type),null;case 22:case 23:return Sn(r),uf(),t!==null&&Z(Xs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ei(wt),null;case 25:return null;default:return null}}function V_(t,r){switch(Kd(r),r.tag){case 3:ei(wt),at();break;case 26:case 27:case 5:Ea(r);break;case 4:at();break;case 31:r.memoizedState!==null&&Sn(r);break;case 13:Sn(r);break;case 19:Z(gt);break;case 10:ei(r.type);break;case 22:case 23:Sn(r),uf(),t!==null&&Z(Xs);break;case 24:ei(wt)}}function Sl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==d)}}catch(S){Qe(r,r.return,S)}}function $i(t,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,d=r;var I=a,H=S;try{H()}catch($){Qe(d,I,$)}}}l=l.next}while(l!==f)}}catch($){Qe(r,r.return,$)}}function L_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{xy(r,a)}catch(l){Qe(t,t.return,l)}}}function j_(t,r,a){a.props=ta(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(t,r,l)}}function Al(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){Qe(t,r,d)}}function Mr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Qe(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Qe(t,r,d)}else a.current=null}function U_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Qe(t,t.return,d)}}function Bf(t,r,a){try{var l=t.stateNode;dA(l,t.type,a,r),l[Pt]=r}catch(d){Qe(t,t.return,d)}}function P_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ts(t.type)||t.tag===4}function Hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||P_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ts(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Wn));else if(l!==4&&(l===27&&ts(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(qf(t,r,a),t=t.sibling;t!==null;)qf(t,r,a),t=t.sibling}function Cc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&ts(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Cc(t,r,a),t=t.sibling;t!==null;)Cc(t,r,a),t=t.sibling}function z_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);$t(r,l,a),r[Tt]=t,r[Pt]=a}catch(f){Qe(t,t.return,f)}}var si=!1,Ct=!1,Ff=!1,B_=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function GS(t,r){if(t=t.containerInfo,hm=Qc,t=Zg(t),Ld(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,S=-1,I=-1,H=0,$=0,W=t,F=null;t:for(;;){for(var K;W!==a||d!==0&&W.nodeType!==3||(S=_+d),W!==f||l!==0&&W.nodeType!==3||(I=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(K=W.firstChild)!==null;)F=W,W=K;for(;;){if(W===t)break t;if(F===a&&++H===d&&(S=_),F===f&&++$===l&&(I=_),(K=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=K}a=S===-1||I===-1?null:{start:S,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(dm={focusedElem:t,selectionRange:a},Qc=!1,Bt=r;Bt!==null;)if(r=Bt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Bt=t;else for(;Bt!==null;){switch(r=Bt,f=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ce=ta(a.type,d);t=l.getSnapshotBeforeUpdate(ce,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Qe(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)pm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Bt=t;break}Bt=r.return}}function H_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:oi(t,a),l&4&&Sl(5,a);break;case 1:if(oi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){Qe(a,a.return,_)}else{var d=ta(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Qe(a,a.return,_)}}l&64&&L_(a),l&512&&Al(a,a.return);break;case 3:if(oi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{xy(t,r)}catch(_){Qe(a,a.return,_)}}break;case 27:r===null&&l&4&&z_(a);case 26:case 5:oi(t,a),r===null&&l&4&&U_(a),l&512&&Al(a,a.return);break;case 12:oi(t,a);break;case 31:oi(t,a),l&4&&G_(t,a);break;case 13:oi(t,a),l&4&&Y_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=eA.bind(null,a),bA(t,a))));break;case 22:if(l=a.memoizedState!==null||si,!l){r=r!==null&&r.memoizedState!==null||Ct,d=si;var f=Ct;si=l,(Ct=r)&&!f?li(t,a,(a.subtreeFlags&8772)!==0):oi(t,a),si=d,Ct=f}break;case 30:break;default:oi(t,a)}}function q_(t){var r=t.alternate;r!==null&&(t.alternate=null,q_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&xa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,cn=!1;function ai(t,r,a){for(a=a.child;a!==null;)F_(t,r,a),a=a.sibling}function F_(t,r,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:Ct||Mr(a,r),ai(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Mr(a,r);var l=lt,d=cn;ts(a.type)&&(lt=a.stateNode,cn=!1),ai(t,r,a),Ml(a.stateNode),lt=l,cn=d;break;case 5:Ct||Mr(a,r);case 6:if(l=lt,d=cn,lt=null,ai(t,r,a),lt=l,cn=d,lt!==null)if(cn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){Qe(a,r,f)}else try{lt.removeChild(a.stateNode)}catch(f){Qe(a,r,f)}break;case 18:lt!==null&&(cn?(t=lt,Lv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),co(t)):Lv(lt,a.stateNode));break;case 4:l=lt,d=cn,lt=a.stateNode.containerInfo,cn=!0,ai(t,r,a),lt=l,cn=d;break;case 0:case 11:case 14:case 15:$i(2,a,r),Ct||$i(4,a,r),ai(t,r,a);break;case 1:Ct||(Mr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&j_(a,r,l)),ai(t,r,a);break;case 21:ai(t,r,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,ai(t,r,a),Ct=l;break;default:ai(t,r,a)}}function G_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{co(t)}catch(a){Qe(r,r.return,a)}}}function Y_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{co(t)}catch(a){Qe(r,r.return,a)}}function YS(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new B_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new B_),r;default:throw Error(s(435,t.tag))}}function Nc(t,r){var a=YS(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var d=tA.bind(null,t,l);l.then(d,d)}})}function hn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(ts(S.type)){lt=S.stateNode,cn=!1;break e}break;case 5:lt=S.stateNode,cn=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,cn=!0;break e}S=S.return}if(lt===null)throw Error(s(160));F_(f,_,d),lt=null,cn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)K_(r,t),r=r.sibling}var ir=null;function K_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(r,t),dn(t),l&4&&($i(3,t,t.return),Sl(3,t),$i(5,t,t.return));break;case 1:hn(r,t),dn(t),l&512&&(Ct||a===null||Mr(a,a.return)),l&64&&si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ir;if(hn(r,t),dn(t),l&512&&(Ct||a===null||Mr(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[vr]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),$t(f,l,a),f[Tt]=t,St(f),l=f;break e;case"link":var _=Kv("link","href",d).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(f=_[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}f=d.createElement(l),$t(f,l,a),d.head.appendChild(f);break;case"meta":if(_=Kv("meta","content",d).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(f=_[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}f=d.createElement(l),$t(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[Tt]=t,St(f),l=f}t.stateNode=l}else $v(d,t.type,t.stateNode);else t.stateNode=Yv(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?$v(d,t.type,t.stateNode):Yv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Bf(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(r,t),dn(t),l&512&&(Ct||a===null||Mr(a,a.return)),a!==null&&l&4&&Bf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(r,t),dn(t),l&512&&(Ct||a===null||Mr(a,a.return)),t.flags&32){d=t.stateNode;try{un(d,"")}catch(ce){Qe(t,t.return,ce)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Bf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Ff=!0);break;case 6:if(hn(r,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Qe(t,t.return,ce)}}break;case 3:if(Gc=null,d=ir,ir=qc(r.containerInfo),hn(r,t),ir=d,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{co(r.containerInfo)}catch(ce){Qe(t,t.return,ce)}Ff&&(Ff=!1,$_(t));break;case 4:l=ir,ir=qc(t.stateNode.containerInfo),hn(r,t),dn(t),ir=l;break;case 12:hn(r,t),dn(t);break;case 31:hn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 13:hn(r,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dc=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 22:d=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=si,$=Ct;if(si=H||d,Ct=$||I,hn(r,t),Ct=$,si=H,dn(t),l&8192)e:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(a===null||I||si||Ct||na(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(f=I.stateNode,d)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=I.stateNode;var W=I.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ce){Qe(I,I.return,ce)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch(ce){Qe(I,I.return,ce)}}}else if(r.tag===18){if(a===null){I=r;try{var K=I.stateNode;d?jv(K,!0):jv(I.stateNode,!1)}catch(ce){Qe(I,I.return,ce)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nc(t,a))));break;case 19:hn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 30:break;case 21:break;default:hn(r,t),dn(t)}}function dn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(P_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=Hf(t);Cc(t,f,d);break;case 5:var _=a.stateNode;a.flags&32&&(un(_,""),a.flags&=-33);var S=Hf(t);Cc(t,S,_);break;case 3:case 4:var I=a.stateNode.containerInfo,H=Hf(t);qf(t,H,I);break;default:throw Error(s(161))}}catch($){Qe(t,t.return,$)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function $_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;$_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function oi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)H_(t,r.alternate,r),r=r.sibling}function na(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:$i(4,r,r.return),na(r);break;case 1:Mr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&j_(r,r.return,a),na(r);break;case 27:Ml(r.stateNode);case 26:case 5:Mr(r,r.return),na(r);break;case 22:r.memoizedState===null&&na(r);break;case 30:na(r);break;default:na(r)}t=t.sibling}}function li(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=t,f=r,_=f.flags;switch(f.tag){case 0:case 11:case 15:li(d,f,a),Sl(4,f);break;case 1:if(li(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){Qe(l,l.return,H)}if(l=f,d=l.updateQueue,d!==null){var S=l.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)wy(I[d],S)}catch(H){Qe(l,l.return,H)}}a&&_&64&&L_(f),Al(f,f.return);break;case 27:z_(f);case 26:case 5:li(d,f,a),a&&l===null&&_&4&&U_(f),Al(f,f.return);break;case 12:li(d,f,a);break;case 31:li(d,f,a),a&&_&4&&G_(d,f);break;case 13:li(d,f,a),a&&_&4&&Y_(d,f);break;case 22:f.memoizedState===null&&li(d,f,a),Al(f,f.return);break;case 30:break;default:li(d,f,a)}r=r.sibling}}function Gf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function Yf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&cl(t))}function sr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Q_(t,r,a,l),r=r.sibling}function Q_(t,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:sr(t,r,a,l),d&2048&&Sl(9,r);break;case 1:sr(t,r,a,l);break;case 3:sr(t,r,a,l),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&cl(t)));break;case 12:if(d&2048){sr(t,r,a,l),t=r.stateNode;try{var f=r.memoizedProps,_=f.id,S=f.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Qe(r,r.return,I)}}else sr(t,r,a,l);break;case 31:sr(t,r,a,l);break;case 13:sr(t,r,a,l);break;case 23:break;case 22:f=r.stateNode,_=r.alternate,r.memoizedState!==null?f._visibility&2?sr(t,r,a,l):wl(t,r):f._visibility&2?sr(t,r,a,l):(f._visibility|=2,Za(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Gf(_,r);break;case 24:sr(t,r,a,l),d&2048&&Yf(r.alternate,r);break;default:sr(t,r,a,l)}}function Za(t,r,a,l,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=t,_=r,S=a,I=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Za(f,_,S,I,d),Sl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Za(f,_,S,I,d):wl(f,_):($._visibility|=2,Za(f,_,S,I,d)),d&&H&2048&&Gf(_.alternate,_);break;case 24:Za(f,_,S,I,d),d&&H&2048&&Yf(_.alternate,_);break;default:Za(f,_,S,I,d)}r=r.sibling}}function wl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,d=l.flags;switch(l.tag){case 22:wl(a,l),d&2048&&Gf(l.alternate,l);break;case 24:wl(a,l),d&2048&&Yf(l.alternate,l);break;default:wl(a,l)}r=r.sibling}}var xl=8192;function eo(t,r,a){if(t.subtreeFlags&xl)for(t=t.child;t!==null;)X_(t,r,a),t=t.sibling}function X_(t,r,a){switch(t.tag){case 26:eo(t,r,a),t.flags&xl&&t.memoizedState!==null&&OA(a,ir,t.memoizedState,t.memoizedProps);break;case 5:eo(t,r,a);break;case 3:case 4:var l=ir;ir=qc(t.stateNode.containerInfo),eo(t,r,a),ir=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=xl,xl=16777216,eo(t,r,a),xl=l):eo(t,r,a));break;default:eo(t,r,a)}}function J_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Rl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,Z_(l,t)}J_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)W_(t),t=t.sibling}function W_(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&$i(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Ic(t)):Rl(t);break;default:Rl(t)}}function Ic(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,Z_(l,t)}J_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:$i(8,r,r.return),Ic(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Ic(r));break;default:Ic(r)}t=t.sibling}}function Z_(t,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:$i(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var d=l.sibling,f=l.return;if(q_(l),l===a){Bt=null;break e}if(d!==null){d.return=f,Bt=d;break e}Bt=f}}}var KS={getCacheForType:function(t){var r=Yt(wt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Yt(wt).controller.signal}},$S=typeof WeakMap=="function"?WeakMap:Map,qe=0,et=null,Ne=null,De=0,$e=0,An=null,Qi=!1,to=!1,Kf=!1,ui=0,dt=0,Xi=0,ra=0,$f=0,wn=0,no=0,Cl=null,fn=null,Qf=!1,Dc=0,ev=0,Oc=1/0,Mc=null,Ji=null,Vt=0,Wi=null,ro=null,ci=0,Xf=0,Jf=null,tv=null,Nl=0,Wf=null;function xn(){return(qe&2)!==0&&De!==0?De&-De:Q.T!==null?im():ku()}function nv(){if(wn===0)if((De&536870912)===0||Le){var t=Is;Is<<=1,(Is&3932160)===0&&(Is=262144),wn=t}else wn=536870912;return t=Tn.current,t!==null&&(t.flags|=32),wn}function mn(t,r,a){(t===et&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(io(t,0),Zi(t,De,wn,!1)),Ds(t,a),((qe&2)===0||t!==et)&&(t===et&&((qe&2)===0&&(ra|=a),dt===4&&Zi(t,De,wn,!1)),kr(t))}function rv(t,r,a){if((qe&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Qn(t,r),d=l?JS(t,r):em(t,r,!0),f=l;do{if(d===0){to&&!l&&Zi(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!QS(a)){d=em(t,r,!1),f=!1;continue}if(d===2){if(f=r,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=t;d=Cl;var I=S.current.memoizedState.isDehydrated;if(I&&(io(S,_).flags|=256),_=em(S,_,!1),_!==2){if(Kf&&!I){S.errorRecoveryDisabledLanes|=f,ra|=f,d=4;break e}f=fn,fn=d,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}d=_}if(f=!1,d!==2)continue}}if(d===1){io(t,0),Zi(t,r,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Zi(l,r,wn,!Qi);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Dc+300-rn(),10<d)){if(Zi(l,r,wn,!Qi),gr(l,0,!0)!==0)break e;ci=r,l.timeoutHandle=kv(iv.bind(null,l,a,fn,Mc,Qf,r,wn,ra,no,Qi,f,"Throttled",-0,0),d);break e}iv(l,a,fn,Mc,Qf,r,wn,ra,no,Qi,f,null,-0,0)}}break}while(!0);kr(t)}function iv(t,r,a,l,d,f,_,S,I,H,$,W,F,K){if(t.timeoutHandle=-1,W=r.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},X_(r,f,W);var ce=(f&62914560)===f?Dc-rn():(f&4194048)===f?ev-rn():0;if(ce=MA(W,ce),ce!==null){ci=f,t.cancelPendingCommit=ce(dv.bind(null,t,r,f,a,l,d,_,S,I,$,W,null,F,K)),Zi(t,f,_,!H);return}}dv(t,r,f,a,l,d,_,S,I)}function QS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!bn(f(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zi(t,r,a,l){r&=~$f,r&=~ra,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var d=r;0<d;){var f=31-mt(d),_=1<<f;l[f]=-1,d&=~_}a!==0&&Os(t,a,r)}function kc(){return(qe&6)===0?(Il(0),!1):!0}function Zf(){if(Ne!==null){if($e===0)var t=Ne.return;else t=Ne,Zr=$s=null,pf(t),$a=null,dl=0,t=Ne;for(;t!==null;)V_(t.alternate,t),t=t.return;Ne=null}}function io(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,pA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ci=0,Zf(),et=t,Ne=a=Jr(t.current,null),De=r,$e=0,An=null,Qi=!1,to=Qn(t,r),Kf=!1,no=wn=$f=ra=Xi=dt=0,fn=Cl=null,Qf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var d=31-mt(l),f=1<<d;r|=t[d],l&=~f}return ui=r,tc(),a}function sv(t,r){xe=null,Q.H=bl,r===Ka||r===uc?(r=Ey(),$e=3):r===nf?(r=Ey(),$e=4):$e=r===Df?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,An=r,Ne===null&&(dt=1,Sc(t,jn(r,t.current)))}function av(){var t=Tn.current;return t===null?!0:(De&4194048)===De?Bn===null:(De&62914560)===De||(De&536870912)!==0?t===Bn:!1}function ov(){var t=Q.H;return Q.H=bl,t===null?bl:t}function lv(){var t=Q.A;return Q.A=KS,t}function Vc(){dt=4,Qi||(De&4194048)!==De&&Tn.current!==null||(to=!0),(Xi&134217727)===0&&(ra&134217727)===0||et===null||Zi(et,De,wn,!1)}function em(t,r,a){var l=qe;qe|=2;var d=ov(),f=lv();(et!==t||De!==r)&&(Mc=null,io(t,r)),r=!1;var _=dt;e:do try{if($e!==0&&Ne!==null){var S=Ne,I=An;switch($e){case 8:Zf(),_=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(r=!0);var H=$e;if($e=0,An=null,so(t,S,I,H),a&&to){_=0;break e}break;default:H=$e,$e=0,An=null,so(t,S,I,H)}}XS(),_=dt;break}catch($){sv(t,$)}while(!0);return r&&t.shellSuspendCounter++,Zr=$s=null,qe=l,Q.H=d,Q.A=f,Ne===null&&(et=null,De=0,tc()),_}function XS(){for(;Ne!==null;)uv(Ne)}function JS(t,r){var a=qe;qe|=2;var l=ov(),d=lv();et!==t||De!==r?(Mc=null,Oc=rn()+500,io(t,r)):to=Qn(t,r);e:do try{if($e!==0&&Ne!==null){r=Ne;var f=An;t:switch($e){case 1:$e=0,An=null,so(t,r,f,1);break;case 2:case 9:if(vy(f)){$e=0,An=null,cv(r);break}r=function(){$e!==2&&$e!==9||et!==t||($e=7),kr(t)},f.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:vy(f)?($e=0,An=null,cv(r)):($e=0,An=null,so(t,r,f,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var S=Ne;if(_?Qv(_):S.stateNode.complete){$e=0,An=null;var I=S.sibling;if(I!==null)Ne=I;else{var H=S.return;H!==null?(Ne=H,Lc(H)):Ne=null}break t}}$e=0,An=null,so(t,r,f,5);break;case 6:$e=0,An=null,so(t,r,f,6);break;case 8:Zf(),dt=6;break e;default:throw Error(s(462))}}WS();break}catch($){sv(t,$)}while(!0);return Zr=$s=null,Q.H=l,Q.A=d,qe=a,Ne!==null?0:(et=null,De=0,tc(),dt)}function WS(){for(;Ne!==null&&!Nd();)uv(Ne)}function uv(t){var r=M_(t.alternate,t,ui);t.memoizedProps=t.pendingProps,r===null?Lc(t):Ne=r}function cv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=R_(a,r,r.pendingProps,r.type,void 0,De);break;case 11:r=R_(a,r,r.pendingProps,r.type.render,r.ref,De);break;case 5:pf(r);default:V_(a,r),r=Ne=ly(r,ui),r=M_(a,r,ui)}t.memoizedProps=t.pendingProps,r===null?Lc(t):Ne=r}function so(t,r,a,l){Zr=$s=null,pf(r),$a=null,dl=0;var d=r.return;try{if(zS(t,d,r,a,De)){dt=1,Sc(t,jn(a,t.current)),Ne=null;return}}catch(f){if(d!==null)throw Ne=d,f;dt=1,Sc(t,jn(a,t.current)),Ne=null;return}r.flags&32768?(Le||l===1?t=!0:to||(De&536870912)!==0?t=!1:(Qi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),hv(r,t)):Lc(r)}function Lc(t){var r=t;do{if((r.flags&32768)!==0){hv(r,Qi);return}t=r.return;var a=qS(r.alternate,r,ui);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=t}while(r!==null);dt===0&&(dt=5)}function hv(t,r){do{var a=FS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);dt=6,Ne=null}function dv(t,r,a,l,d,f,_,S,I){t.cancelPendingCommit=null;do jc();while(Vt!==0);if((qe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=Bd,Od(t,a,f,_,S,I),t===et&&(Ne=et=null,De=0),ro=r,Wi=t,ci=a,Xf=f,Jf=d,tv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,nA(Ni,function(){return yv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,d=se.p,se.p=2,_=qe,qe|=4;try{GS(t,r,a)}finally{qe=_,se.p=d,Q.T=l}}Vt=1,fv(),mv(),pv()}}function fv(){if(Vt===1){Vt=0;var t=Wi,r=ro,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var d=qe;qe|=4;try{K_(r,t);var f=dm,_=Zg(t.containerInfo),S=f.focusedElem,I=f.selectionRange;if(_!==S&&S&&S.ownerDocument&&Wg(S.ownerDocument.documentElement,S)){if(I!==null&&Ld(S)){var H=I.start,$=I.end;if($===void 0&&($=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min($,S.value.length);else{var W=S.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var K=F.getSelection(),ce=S.textContent.length,ge=Math.min(I.start,ce),Ze=I.end===void 0?ge:Math.min(I.end,ce);!K.extend&&ge>Ze&&(_=Ze,Ze=ge,ge=_);var U=Jg(S,ge),M=Jg(S,Ze);if(U&&M&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var B=W.createRange();B.setStart(U.node,U.offset),K.removeAllRanges(),ge>Ze?(K.addRange(B),K.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),K.addRange(B))}}}}for(W=[],K=S;K=K.parentNode;)K.nodeType===1&&W.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<W.length;S++){var X=W[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Qc=!!hm,dm=hm=null}finally{qe=d,se.p=l,Q.T=a}}t.current=r,Vt=2}}function mv(){if(Vt===2){Vt=0;var t=Wi,r=ro,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var d=qe;qe|=4;try{H_(t,r.alternate,r)}finally{qe=d,se.p=l,Q.T=a}}Vt=3}}function pv(){if(Vt===4||Vt===3){Vt=0,Ru();var t=Wi,r=ro,a=ci,l=tv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Vt=5:(Vt=0,ro=Wi=null,gv(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Ji=null),Kr(a),r=r.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot($n,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,d=se.p,se.p=2,Q.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];f(S.value,{componentStack:S.stack})}}finally{Q.T=r,se.p=d}}(ci&3)!==0&&jc(),kr(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===Wf?Nl++:(Nl=0,Wf=t):Nl=0,Il(0)}}function gv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,cl(r)))}function jc(){return fv(),mv(),pv(),yv()}function yv(){if(Vt!==5)return!1;var t=Wi,r=Xf;Xf=0;var a=Kr(ci),l=Q.T,d=se.p;try{se.p=32>a?32:a,Q.T=null,a=Jf,Jf=null;var f=Wi,_=ci;if(Vt=0,ro=Wi=null,ci=0,(qe&6)!==0)throw Error(s(331));var S=qe;if(qe|=4,W_(f.current),Q_(f,f.current,_,a),qe=S,Il(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot($n,f)}catch{}return!0}finally{se.p=d,Q.T=l,gv(t,r)}}function _v(t,r,a){r=jn(a,r),r=If(t.stateNode,r,2),t=Gi(t,r,2),t!==null&&(Ds(t,2),kr(t))}function Qe(t,r,a){if(t.tag===3)_v(t,t,a);else for(;r!==null;){if(r.tag===3){_v(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ji===null||!Ji.has(l))){t=jn(a,t),a=v_(2),l=Gi(r,a,2),l!==null&&(b_(a,l,r,t),Ds(l,2),kr(l));break}}r=r.return}}function tm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new $S;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(Kf=!0,d.add(a),t=ZS.bind(null,t,r,a),r.then(t,t))}function ZS(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(De&a)===a&&(dt===4||dt===3&&(De&62914560)===De&&300>rn()-Dc?(qe&2)===0&&io(t,0):$f|=a,no===De&&(no=0)),kr(t)}function vv(t,r){r===0&&(r=Mu()),t=Gs(t,r),t!==null&&(Ds(t,r),kr(t))}function eA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),vv(t,a)}function tA(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),vv(t,a)}function nA(t,r){return kt(t,r)}var Uc=null,ao=null,nm=!1,Pc=!1,rm=!1,es=0;function kr(t){t!==ao&&t.next===null&&(ao===null?Uc=ao=t:ao=ao.next=t),Pc=!0,nm||(nm=!0,iA())}function Il(t,r){if(!rm&&Pc){rm=!0;do for(var a=!1,l=Uc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var _=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-mt(42|t)+1)-1,f&=d&~(_&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Sv(l,f))}else f=De,f=gr(l,l===et?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Qn(l,f)||(a=!0,Sv(l,f));l=l.next}while(a);rm=!1}}function rA(){bv()}function bv(){Pc=nm=!1;var t=0;es!==0&&mA()&&(t=es);for(var r=rn(),a=null,l=Uc;l!==null;){var d=l.next,f=Ev(l,r);f===0?(l.next=null,a===null?Uc=d:a.next=d,d===null&&(ao=a)):(a=l,(t!==0||(f&3)!==0)&&(Pc=!0)),l=d}Vt!==0&&Vt!==5||Il(t),es!==0&&(es=0)}function Ev(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-mt(f),S=1<<_,I=d[_];I===-1?((S&a)===0||(S&l)!==0)&&(d[_]=Dd(S,r)):I<=r&&(t.expiredLanes|=S),f&=~S}if(r=et,a=De,a=gr(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ci(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Qn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Ci(l),Kr(a)){case 2:case 8:a=zo;break;case 32:a=Ni;break;case 268435456:a=Cu;break;default:a=Ni}return l=Tv.bind(null,t),a=kt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Ci(l),t.callbackPriority=2,t.callbackNode=null,2}function Tv(t,r){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(jc()&&t.callbackNode!==a)return null;var l=De;return l=gr(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(rv(t,l,r),Ev(t,rn()),t.callbackNode!=null&&t.callbackNode===a?Tv.bind(null,t):null)}function Sv(t,r){if(jc())return null;rv(t,r,!0)}function iA(){gA(function(){(qe&6)!==0?kt(Po,rA):bv()})}function im(){if(es===0){var t=Ga;t===0&&(t=mr,mr<<=1,(mr&261888)===0&&(mr=256)),es=t}return es}function Av(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function wv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function sA(t,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var f=Av((d[Pt]||null).action),_=l.submitter;_&&(r=(r=_[Pt]||null)?Av(r.formAction):_.getAttribute("formAction"),r!==null&&(f=r,_=null));var S=new Rr("action","action",null,l,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(es!==0){var I=_?wv(d,_):new FormData(d);Af(a,{pending:!0,data:I,method:d.method,action:f},null,I)}}else typeof f=="function"&&(S.preventDefault(),I=_?wv(d,_):new FormData(d),Af(a,{pending:!0,data:I,method:d.method,action:f},f,I))},currentTarget:d}]})}}for(var sm=0;sm<zd.length;sm++){var am=zd[sm],aA=am.toLowerCase(),oA=am[0].toUpperCase()+am.slice(1);rr(aA,"on"+oA)}rr(ny,"onAnimationEnd"),rr(ry,"onAnimationIteration"),rr(iy,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(SS,"onTransitionRun"),rr(AS,"onTransitionStart"),rr(wS,"onTransitionCancel"),rr(sy,"onTransitionEnd"),Sr("onMouseEnter",["mouseout","mouseover"]),Sr("onMouseLeave",["mouseout","mouseover"]),Sr("onPointerEnter",["pointerout","pointerover"]),Sr("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function xv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var _=l.length-1;0<=_;_--){var S=l[_],I=S.instance,H=S.currentTarget;if(S=S.listener,I!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=H;try{f(d)}catch($){ec($)}d.currentTarget=null,f=I}else for(_=0;_<l.length;_++){if(S=l[_],I=S.instance,H=S.currentTarget,S=S.listener,I!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=H;try{f(d)}catch($){ec($)}d.currentTarget=null,f=I}}}}function Ie(t,r){var a=r[wa];a===void 0&&(a=r[wa]=new Set);var l=t+"__bubble";a.has(l)||(Rv(r,t,2,!1),a.add(l))}function om(t,r,a){var l=0;r&&(l|=4),Rv(a,t,l,r)}var zc="_reactListening"+Math.random().toString(36).slice(2);function lm(t){if(!t[zc]){t[zc]=!0,qo.forEach(function(a){a!=="selectionchange"&&(lA.has(a)||om(a,!1,t),om(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[zc]||(r[zc]=!0,om("selectionchange",!1,r))}}function Rv(t,r,a,l){switch(nb(r)){case 2:var d=LA;break;case 8:d=jA;break;default:d=Sm}a=d.bind(null,r,a,t),d=void 0,!js||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(r,a,{capture:!0,passive:d}):t.addEventListener(r,a,!0):d!==void 0?t.addEventListener(r,a,{passive:d}):t.addEventListener(r,a,!1)}function um(t,r,a,l,d){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===d)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;S!==null;){if(_=br(S),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=f=_;continue e}S=S.parentNode}}l=l.return}Vi(function(){var H=f,$=Mn(a),W=[];e:{var F=ay.get(t);if(F!==void 0){var K=Rr,ce=t;switch(t){case"keypress":if(Ps(a)===0)break e;case"keydown":case"keyup":K=Ju;break;case"focusin":ce="focus",K=Bs;break;case"focusout":ce="blur",K=Bs;break;case"beforeblur":case"afterblur":K=Bs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case ny:case ry:case iy:K=Fu;break;case sy:K=w;break;case"scroll":case"scrollend":K=tl;break;case"wheel":K=Y;break;case"copy":case"cut":case"paste":K=Gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Xr;break;case"toggle":case"beforetoggle":K=we}var ge=(r&4)!==0,Ze=!ge&&(t==="scroll"||t==="scrollend"),U=ge?F!==null?F+"Capture":null:F;ge=[];for(var M=H,B;M!==null;){var X=M;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||U===null||(X=Zn(M,U),X!=null&&ge.push(Ol(M,X,B))),Ze)break;M=M.return}0<ge.length&&(F=new K(F,ce,null,a,$),W.push({event:F,listeners:ge}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&a!==Wo&&(ce=a.relatedTarget||a.fromElement)&&(br(ce)||ce[_r]))break e;if((K||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,K?(ce=a.relatedTarget||a.toElement,K=H,ce=ce?br(ce):null,ce!==null&&(Ze=u(ce),ge=ce.tag,ce!==Ze||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(K=null,ce=H),K!==ce)){if(ge=nl,X="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Xr,X="onPointerLeave",U="onPointerEnter",M="pointer"),Ze=K==null?F:_n(K),B=ce==null?F:_n(ce),F=new ge(X,M+"leave",K,a,$),F.target=Ze,F.relatedTarget=B,X=null,br($)===H&&(ge=new ge(U,M+"enter",ce,a,$),ge.target=B,ge.relatedTarget=Ze,X=ge),Ze=X,K&&ce)t:{for(ge=uA,U=K,M=ce,B=0,X=U;X;X=ge(X))B++;X=0;for(var fe=M;fe;fe=ge(fe))X++;for(;0<B-X;)U=ge(U),B--;for(;0<X-B;)M=ge(M),X--;for(;B--;){if(U===M||M!==null&&U===M.alternate){ge=U;break t}U=ge(U),M=ge(M)}ge=null}else ge=null;K!==null&&Cv(W,F,K,ge,!1),ce!==null&&Ze!==null&&Cv(W,Ze,ce,ge,!0)}}e:{if(F=H?_n(H):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var ze=Gg;else if(qg(F))if(Yg)ze=bS;else{ze=_S;var he=yS}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Na(H.elementType)&&(ze=Gg):ze=vS;if(ze&&(ze=ze(t,H))){Fg(W,ze,a,$);break e}he&&he(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Qo(F,"number",F.value)}switch(he=H?_n(H):window,t){case"focusin":(qg(he)||he.contentEditable==="true")&&(ja=he,jd=H,ol=null);break;case"focusout":ol=jd=ja=null;break;case"mousedown":Ud=!0;break;case"contextmenu":case"mouseup":case"dragend":Ud=!1,ey(W,a,$);break;case"selectionchange":if(TS)break;case"keydown":case"keyup":ey(W,a,$)}var Ce;if(He)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else La?Hs(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ir&&a.locale!=="ko"&&(La||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&La&&(Ce=el()):(xr=$,Zo="value"in xr?xr.value:xr.textContent,La=!0)),he=Bc(H,Oe),0<he.length&&(Oe=new Nr(Oe,t,null,a,$),W.push({event:Oe,listeners:he}),Ce?Oe.data=Ce:(Ce=Va(a),Ce!==null&&(Oe.data=Ce)))),(Ce=Vn?fS(t,a):mS(t,a))&&(Oe=Bc(H,"onBeforeInput"),0<Oe.length&&(he=new Nr("onBeforeInput","beforeinput",null,a,$),W.push({event:he,listeners:Oe}),he.data=Ce)),sA(W,t,H,a,$)}xv(W,r)})}function Ol(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Bc(t,r){for(var a=r+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Zn(t,a),d!=null&&l.unshift(Ol(t,d,f)),d=Zn(t,r),d!=null&&l.push(Ol(t,d,f))),t.tag===3)return l;t=t.return}return[]}function uA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Cv(t,r,a,l,d){for(var f=r._reactName,_=[];a!==null&&a!==l;){var S=a,I=S.alternate,H=S.stateNode;if(S=S.tag,I!==null&&I===l)break;S!==5&&S!==26&&S!==27||H===null||(I=H,d?(H=Zn(a,f),H!=null&&_.unshift(Ol(a,H,I))):d||(H=Zn(a,f),H!=null&&_.push(Ol(a,H,I)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var cA=/\r\n?/g,hA=/\u0000|\uFFFD/g;function Nv(t){return(typeof t=="string"?t:""+t).replace(cA,`
`).replace(hA,"")}function Iv(t,r){return r=Nv(r),Nv(t)===r}function We(t,r,a,l,d,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||un(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&un(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":Jo(t,l,f);break;case"data":if(r!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&We(t,r,"name",d.name,d,null),We(t,r,"formEncType",d.formEncType,d,null),We(t,r,"formMethod",d.formMethod,d,null),We(t,r,"formTarget",d.formTarget,d,null)):(We(t,r,"encType",d.encType,d,null),We(t,r,"method",d.method,d,null),We(t,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),Ra(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ra(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bu.get(a)||a,Ra(t,a,l))}}function cm(t,r,a,l,d,f){switch(a){case"style":Jo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?un(t,l):(typeof l=="number"||typeof l=="bigint")&&un(t,""+l);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),f=t[Pt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ra(t,a,l)}}}function $t(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,f,_,a,null)}}d&&We(t,r,"srcSet",a.srcSet,a,null),l&&We(t,r,"src",a.src,a,null);return;case"input":Ie("invalid",t);var S=f=_=d=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":d=$;break;case"type":_=$;break;case"checked":I=$;break;case"defaultChecked":H=$;break;case"value":f=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:We(t,r,l,$,a,null)}}Uu(t,f,S,I,H,_,d,!1);return;case"select":Ie("invalid",t),l=_=f=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":f=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:We(t,r,d,S,a,null)}r=f,a=_,t.multiple=!!l,r!=null?Di(t,!!l,r,!1):a!=null&&Di(t,!!l,a,!0);return;case"textarea":Ie("invalid",t),f=d=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":d=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:We(t,r,_,S,a,null)}Oi(t,l,d,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":We(t,r,I,l,a,null));return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Ie(Dl[l],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,H,l,a,null)}return;default:if(Na(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&cm(t,r,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&We(t,r,S,l,a,null))}function dA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,_=null,S=null,I=null,H=null,$=null;for(K in a){var W=a[K];if(a.hasOwnProperty(K)&&W!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=W;default:l.hasOwnProperty(K)||We(t,r,K,null,l,W)}}for(var F in l){var K=l[F];if(W=a[F],l.hasOwnProperty(F)&&(K!=null||W!=null))switch(F){case"type":f=K;break;case"name":d=K;break;case"checked":H=K;break;case"defaultChecked":$=K;break;case"value":_=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==W&&We(t,r,F,K,l,W)}}Ca(t,_,S,I,H,$,f,d);return;case"select":K=_=S=F=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":K=I;default:l.hasOwnProperty(f)||We(t,r,f,null,l,I)}for(d in l)if(f=l[d],I=a[d],l.hasOwnProperty(d)&&(f!=null||I!=null))switch(d){case"value":F=f;break;case"defaultValue":S=f;break;case"multiple":_=f;default:f!==I&&We(t,r,d,f,l,I)}r=S,a=_,l=K,F!=null?Di(t,!!a,F,!1):!!l!=!!a&&(r!=null?Di(t,!!a,r,!0):Di(t,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:We(t,r,S,null,l,d)}for(_ in l)if(d=l[_],f=a[_],l.hasOwnProperty(_)&&(d!=null||f!=null))switch(_){case"value":F=d;break;case"defaultValue":K=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&We(t,r,_,d,l,f)}Pu(t,F,K);return;case"option":for(var ce in a)F=a[ce],a.hasOwnProperty(ce)&&F!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:We(t,r,ce,null,l,F));for(I in l)F=l[I],K=a[I],l.hasOwnProperty(I)&&F!==K&&(F!=null||K!=null)&&(I==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":We(t,r,I,F,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)F=a[ge],a.hasOwnProperty(ge)&&F!=null&&!l.hasOwnProperty(ge)&&We(t,r,ge,null,l,F);for(H in l)if(F=l[H],K=a[H],l.hasOwnProperty(H)&&F!==K&&(F!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:We(t,r,H,F,l,K)}return;default:if(Na(r)){for(var Ze in a)F=a[Ze],a.hasOwnProperty(Ze)&&F!==void 0&&!l.hasOwnProperty(Ze)&&cm(t,r,Ze,void 0,l,F);for($ in l)F=l[$],K=a[$],!l.hasOwnProperty($)||F===K||F===void 0&&K===void 0||cm(t,r,$,F,l,K);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&We(t,r,U,null,l,F);for(W in l)F=l[W],K=a[W],!l.hasOwnProperty(W)||F===K||F==null&&K==null||We(t,r,W,F,l,K)}function Dv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,_=d.initiatorType,S=d.duration;if(f&&S&&Dv(_)){for(_=0,S=d.responseEnd,l+=1;l<a.length;l++){var I=a[l],H=I.startTime;if(H>S)break;var $=I.transferSize,W=I.initiatorType;$&&Dv(W)&&(I=I.responseEnd,_+=$*(I<S?1:(S-H)/(I-H)))}if(--l,r+=8*(f+_)/(d.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var hm=null,dm=null;function Hc(t){return t.nodeType===9?t:t.ownerDocument}function Ov(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function fm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var mm=null;function mA(){var t=window.event;return t&&t.type==="popstate"?t===mm?!1:(mm=t,!0):(mm=null,!1)}var kv=typeof setTimeout=="function"?setTimeout:void 0,pA=typeof clearTimeout=="function"?clearTimeout:void 0,Vv=typeof Promise=="function"?Promise:void 0,gA=typeof queueMicrotask=="function"?queueMicrotask:typeof Vv<"u"?function(t){return Vv.resolve(null).then(t).catch(yA)}:kv;function yA(t){setTimeout(function(){throw t})}function ts(t){return t==="head"}function Lv(t,r){var a=r,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),co(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ml(a);for(var f=a.firstChild;f;){var _=f.nextSibling,S=f.nodeName;f[vr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Ml(t.ownerDocument.body);a=d}while(a);co(r)}function jv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function pm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pm(a),xa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function _A(t,r,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function vA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function Uv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Hn(t.nextSibling),t===null))return null;return t}function gm(t){return t.data==="$?"||t.data==="$~"}function ym(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function bA(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var _m=null;function Pv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Hn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function zv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Bv(t,r,a){switch(r=Hc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);xa(t)}var qn=new Map,Hv=new Set;function qc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hi=se.d;se.d={f:EA,r:TA,D:SA,C:AA,L:wA,m:xA,X:CA,S:RA,M:NA};function EA(){var t=hi.f(),r=kc();return t||r}function TA(t){var r=On(t);r!==null&&r.tag===5&&r.type==="form"?s_(r):hi.r(t)}var oo=typeof document>"u"?null:document;function qv(t,r,a){var l=oo;if(l&&typeof r=="string"&&r){var d=ln(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Hv.has(d)||(Hv.add(d),t={rel:t,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),$t(r,"link",t),St(r),l.head.appendChild(r)))}}function SA(t){hi.D(t),qv("dns-prefetch",t,null)}function AA(t,r){hi.C(t,r),qv("preconnect",t,r)}function wA(t,r,a){hi.L(t,r,a);var l=oo;if(l&&t&&r){var d='link[rel="preload"][as="'+ln(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+ln(a.imageSizes)+'"]')):d+='[href="'+ln(t)+'"]';var f=d;switch(r){case"style":f=lo(t);break;case"script":f=uo(t)}qn.has(f)||(t=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),qn.set(f,t),l.querySelector(d)!==null||r==="style"&&l.querySelector(kl(f))||r==="script"&&l.querySelector(Vl(f))||(r=l.createElement("link"),$t(r,"link",t),St(r),l.head.appendChild(r)))}}function xA(t,r){hi.m(t,r);var a=oo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=uo(t)}if(!qn.has(f)&&(t=b({rel:"modulepreload",href:t},r),qn.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(f)))return}l=a.createElement("link"),$t(l,"link",t),St(l),a.head.appendChild(l)}}}function RA(t,r,a){hi.S(t,r,a);var l=oo;if(l&&t){var d=Er(l).hoistableStyles,f=lo(t);r=r||"default";var _=d.get(f);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(kl(f)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},a),(a=qn.get(f))&&vm(t,a);var I=_=l.createElement("link");St(I),$t(I,"link",t),I._p=new Promise(function(H,$){I.onload=H,I.onerror=$}),I.addEventListener("load",function(){S.loading|=1}),I.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Fc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:S},d.set(f,_)}}}function CA(t,r){hi.X(t,r);var a=oo;if(a&&t){var l=Er(a).hoistableScripts,d=uo(t),f=l.get(d);f||(f=a.querySelector(Vl(d)),f||(t=b({src:t,async:!0},r),(r=qn.get(d))&&bm(t,r),f=a.createElement("script"),St(f),$t(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function NA(t,r){hi.M(t,r);var a=oo;if(a&&t){var l=Er(a).hoistableScripts,d=uo(t),f=l.get(d);f||(f=a.querySelector(Vl(d)),f||(t=b({src:t,async:!0,type:"module"},r),(r=qn.get(d))&&bm(t,r),f=a.createElement("script"),St(f),$t(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Fv(t,r,a,l){var d=(d=Re.current)?qc(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=lo(a.href),a=Er(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=lo(a.href);var f=Er(d).hoistableStyles,_=f.get(t);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=d.querySelector(kl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),f||IA(d,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=uo(a),a=Er(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function lo(t){return'href="'+ln(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function Gv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function IA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),$t(r,"link",a),St(r),t.head.appendChild(r))}function uo(t){return'[src="'+ln(t)+'"]'}function Vl(t){return"script[async]"+t}function Yv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return r.instance=l,St(l),l;var d=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),$t(l,"style",d),Fc(l,a.precedence,t),r.instance=l;case"stylesheet":d=lo(a.href);var f=t.querySelector(kl(d));if(f)return r.state.loading|=4,r.instance=f,St(f),f;l=Gv(a),(d=qn.get(d))&&vm(l,d),f=(t.ownerDocument||t).createElement("link"),St(f);var _=f;return _._p=new Promise(function(S,I){_.onload=S,_.onerror=I}),$t(f,"link",l),r.state.loading|=4,Fc(f,a.precedence,t),r.instance=f;case"script":return f=uo(a.src),(d=t.querySelector(Vl(f)))?(r.instance=d,St(d),d):(l=a,(d=qn.get(f))&&(l=b({},a),bm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),St(d),$t(d,"link",l),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Fc(l,a.precedence,t));return r.instance}function Fc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===r)f=S;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function vm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function bm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Gc=null;function Kv(t,r,a){if(Gc===null){var l=new Map,d=Gc=new Map;d.set(a,l)}else d=Gc,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[vr]||f[Tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(r)||"";_=t+_;var S=l.get(_);S?S.push(f):l.set(_,[f])}}return l}function $v(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function DA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Qv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function OA(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=lo(l.href),f=r.querySelector(kl(d));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Yc.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=f,St(f);return}f=r.ownerDocument||r,l=Gv(l),(d=qn.get(d))&&vm(l,d),f=f.createElement("link"),St(f);var _=f;_._p=new Promise(function(S,I){_.onload=S,_.onerror=I}),$t(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Yc.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Em=0;function MA(t,r){return t.stylesheets&&t.count===0&&$c(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&$c(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+r);0<t.imgBytes&&Em===0&&(Em=62500*fA());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&$c(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Em?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$c(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Kc=null;function $c(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Kc=new Map,r.forEach(kA,t),Kc=null,Yc.call(t))}function kA(t,r){if(!(r.state.loading&4)){var a=Kc.get(t);if(a)var l=a.get(null);else{a=new Map,Kc.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var _=d[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}d=r.instance,_=d.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,d),a.set(_,d),this.count++,l=Yc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var Ll={$$typeof:re,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function VA(t,r,a,l,d,f,_,S,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yr(0),this.hiddenUpdates=yr(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Xv(t,r,a,l,d,f,_,S,I,H,$,W){return t=new VA(t,r,a,_,I,H,$,W,S),r=1,f===!0&&(r|=24),f=En(3,null,null,r),t.current=f,f.stateNode=t,r=Zd(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},rf(f),t}function Jv(t){return t?(t=za,t):za}function Wv(t,r,a,l,d,f){d=Jv(d),l.context===null?l.context=d:l.pendingContext=d,l=Fi(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Gi(t,l,r),a!==null&&(mn(a,t,r),ml(a,t,r))}function Zv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Tm(t,r){Zv(t,r),(t=t.alternate)&&Zv(t,r)}function eb(t){if(t.tag===13||t.tag===31){var r=Gs(t,67108864);r!==null&&mn(r,t,67108864),Tm(t,67108864)}}function tb(t){if(t.tag===13||t.tag===31){var r=xn();r=Ms(r);var a=Gs(t,r);a!==null&&mn(a,t,r),Tm(t,r)}}var Qc=!0;function LA(t,r,a,l){var d=Q.T;Q.T=null;var f=se.p;try{se.p=2,Sm(t,r,a,l)}finally{se.p=f,Q.T=d}}function jA(t,r,a,l){var d=Q.T;Q.T=null;var f=se.p;try{se.p=8,Sm(t,r,a,l)}finally{se.p=f,Q.T=d}}function Sm(t,r,a,l){if(Qc){var d=Am(l);if(d===null)um(t,r,l,Xc,a),rb(t,l);else if(PA(d,t,r,a,l))l.stopPropagation();else if(rb(t,l),r&4&&-1<UA.indexOf(t)){for(;d!==null;){var f=On(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=pr(f.pendingLanes);if(_!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var I=1<<31-mt(_);S.entanglements[1]|=I,_&=~I}kr(f),(qe&6)===0&&(Oc=rn()+500,Il(0))}}break;case 31:case 13:S=Gs(f,2),S!==null&&mn(S,f,2),kc(),Tm(f,2)}if(f=Am(l),f===null&&um(t,r,l,Xc,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else um(t,r,l,null,a)}}function Am(t){return t=Mn(t),wm(t)}var Xc=null;function wm(t){if(Xc=null,t=br(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Xc=t,null}function nb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ns()){case Po:return 2;case zo:return 8;case Ni:case Id:return 32;case Cu:return 268435456;default:return 32}default:return 32}}var xm=!1,ns=null,rs=null,is=null,jl=new Map,Ul=new Map,ss=[],UA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rb(t,r){switch(t){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":jl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(r.pointerId)}}function Pl(t,r,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},r!==null&&(r=On(r),r!==null&&eb(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function PA(t,r,a,l,d){switch(r){case"focusin":return ns=Pl(ns,t,r,a,l,d),!0;case"dragenter":return rs=Pl(rs,t,r,a,l,d),!0;case"mouseover":return is=Pl(is,t,r,a,l,d),!0;case"pointerover":var f=d.pointerId;return jl.set(f,Pl(jl.get(f)||null,t,r,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Ul.set(f,Pl(Ul.get(f)||null,t,r,a,l,d)),!0}return!1}function ib(t){var r=br(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Xn(t.priority,function(){tb(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Xn(t.priority,function(){tb(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Am(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Wo=l,a.target.dispatchEvent(l),Wo=null}else return r=On(a),r!==null&&eb(r),t.blockedOn=a,!1;r.shift()}return!0}function sb(t,r,a){Jc(t)&&a.delete(r)}function zA(){xm=!1,ns!==null&&Jc(ns)&&(ns=null),rs!==null&&Jc(rs)&&(rs=null),is!==null&&Jc(is)&&(is=null),jl.forEach(sb),Ul.forEach(sb)}function Wc(t,r){t.blockedOn===r&&(t.blockedOn=null,xm||(xm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zA)))}var Zc=null;function ab(t){Zc!==t&&(Zc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Zc===t&&(Zc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],d=t[r+2];if(typeof l!="function"){if(wm(l||a)===null)continue;break}var f=On(a);f!==null&&(t.splice(r,3),r-=3,Af(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function co(t){function r(I){return Wc(I,t)}ns!==null&&Wc(ns,t),rs!==null&&Wc(rs,t),is!==null&&Wc(is,t),jl.forEach(r),Ul.forEach(r);for(var a=0;a<ss.length;a++){var l=ss[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ss.length&&(a=ss[0],a.blockedOn===null);)ib(a),a.blockedOn===null&&ss.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],_=d[Pt]||null;if(typeof f=="function")_||ab(a);else if(_){var S=null;if(f&&f.hasAttribute("formAction")){if(d=f,_=f[Pt]||null)S=_.formAction;else if(wm(d)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),ab(a)}}}function ob(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Rm(t){this._internalRoot=t}eh.prototype.render=Rm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=xn();Wv(a,l,t,r,null,null)},eh.prototype.unmount=Rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Wv(t.current,2,null,t,null,null),kc(),r[_r]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var r=ku();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ss.length&&r!==0&&r<ss[a].priority;a++);ss.splice(a,0,t),a===0&&ib(t)}};var lb=e.version;if(lb!=="19.2.3")throw Error(s(527,lb,"19.2.3"));se.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var BA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{$n=th.inject(BA),qt=th}catch{}}return Bl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",d=p_,f=g_,_=y_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=Xv(t,1,!1,null,null,a,l,null,d,f,_,ob),t[_r]=r.current,lm(t),new Rm(r)},Bl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,d="",f=p_,_=g_,S=y_,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),r=Xv(t,1,!0,r,a??null,l,d,I,f,_,S,ob),r.context=Jv(null),a=r.current,l=xn(),l=Ms(l),d=Fi(l),d.callback=null,Gi(a,d,l),a=l,r.current.lanes=a,Ds(r,a),kr(r),t[_r]=r.current,lm(t),new eh(r)},Bl.version="19.2.3",Bl}var _b;function JA(){if(_b)return Im.exports;_b=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Im.exports=XA(),Im.exports}var WA=JA();var vb="popstate";function ZA(i={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=ga(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Zm("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:eu(u))}function s(o,u){Cn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return tw(e,n,s,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Cn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ew(){return Math.random().toString(36).substring(2,10)}function bb(i,e){return{usr:i.state,key:i.key,idx:e}}function Zm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ga(e):e,state:n,key:e&&e.key||s||ew()}}function eu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ga(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function tw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=T();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function T(){return(h.state||{idx:null}).idx}function b(){m="POP";let G=T(),ne=G==null?null:G-g;g=G,p&&p({action:m,location:q.location,delta:ne})}function A(G,ne){m="PUSH";let te=Zm(q.location,G,ne);n&&n(te,G),g=T()+1;let re=bb(te,g),de=q.createHref(te);try{h.pushState(re,"",de)}catch(Ae){if(Ae instanceof DOMException&&Ae.name==="DataCloneError")throw Ae;o.location.assign(de)}u&&p&&p({action:m,location:q.location,delta:1})}function O(G,ne){m="REPLACE";let te=Zm(q.location,G,ne);n&&n(te,G),g=T();let re=bb(te,g),de=q.createHref(te);h.replaceState(re,"",de),u&&p&&p({action:m,location:q.location,delta:0})}function D(G){return nw(G)}let q={get action(){return m},get location(){return i(o,h)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(vb,b),p=G,()=>{o.removeEventListener(vb,b),p=null}},createHref(G){return e(o,G)},createURL:D,encodeLocation(G){let ne=D(G);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:A,replace:O,go(G){return h.go(G)}};return q}function nw(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:eu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function oE(i,e,n="/"){return rw(i,e,n,!1)}function rw(i,e,n,s){let o=typeof e=="string"?ga(e):e,u=_i(o.pathname||"/",n);if(u==null)return null;let h=lE(i);iw(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=pw(u);m=fw(h[p],g,s)}return m}function lE(i,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let T={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&p)return;ut(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let b=gi([s,T.relativePath]),A=n.concat(T);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),lE(h.children,e,A,b,p)),!(h.path==null&&!h.index)&&e.push({path:b,score:hw(b,h.index),routesMeta:A})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of uE(h.path))u(h,m,!0,p)}),e}function uE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=uE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function iw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:dw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var sw=/^:[\w-]+$/,aw=3,ow=2,lw=1,uw=10,cw=-2,Eb=i=>i==="*";function hw(i,e){let n=i.split("/"),s=n.length;return n.some(Eb)&&(s+=cw),e&&(s+=ow),n.filter(o=>!Eb(o)).reduce((o,u)=>o+(sw.test(u)?aw:u===""?lw:uw),s)}function dw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function fw(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=xh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),A=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=xh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:gi([u,b.pathname]),pathnameBase:vw(gi([u,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(u=gi([u,b.pathnameBase]))}return h}function xh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=mw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:b},A)=>{if(T==="*"){let D=m[A]||"";h=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const O=m[A];return b&&!O?g[T]=void 0:g[T]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function mw(i,e=!1,n=!0){Cn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function pw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function _i(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var cE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gw=i=>cE.test(i);function yw(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ga(i):i,u;if(n)if(gw(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Cn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=Tb(n.substring(1),"/"):u=Tb(n,e)}else u=e;return{pathname:u,search:bw(s),hash:Ew(o)}}function Tb(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function km(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _w(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Np(i){let e=_w(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Ip(i,e,n,s=!1){let o;typeof i=="string"?o=ga(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),km("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),km("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),km("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}m=b>=0?e[b]:"/"}let p=yw(o,m),g=h&&h!=="/"&&h.endsWith("/"),T=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var gi=i=>i.join("/").replace(/\/\/+/g,"/"),vw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),bw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Ew=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Tw=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Sw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function Aw(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var hE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function dE(i,e){let n=i;if(typeof n!="string"||!cE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(hE)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=_i(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Cn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fE=["POST","PUT","PATCH","DELETE"];new Set(fE);var ww=["GET",...fE];new Set(ww);var Co=V.createContext(null);Co.displayName="DataRouter";var Xh=V.createContext(null);Xh.displayName="DataRouterState";var xw=V.createContext(!1),mE=V.createContext({isTransitioning:!1});mE.displayName="ViewTransition";var Rw=V.createContext(new Map);Rw.displayName="Fetchers";var Cw=V.createContext(null);Cw.displayName="Await";var In=V.createContext(null);In.displayName="Navigation";var du=V.createContext(null);du.displayName="Location";var hr=V.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var Dp=V.createContext(null);Dp.displayName="RouteError";var pE="REACT_ROUTER_ERROR",Nw="REDIRECT",Iw="ROUTE_ERROR_RESPONSE";function Dw(i){if(i.startsWith(`${pE}:${Nw}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Ow(i){if(i.startsWith(`${pE}:${Iw}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Tw(e.status,e.statusText,e.data)}catch{}}function Mw(i,{relative:e}={}){ut(No(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=V.useContext(In),{hash:o,pathname:u,search:h}=fu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:gi([n,u])),s.createHref({pathname:m,search:h,hash:o})}function No(){return V.useContext(du)!=null}function xi(){return ut(No(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(du).location}var gE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yE(i){V.useContext(In).static||V.useLayoutEffect(i)}function _E(){let{isDataRoute:i}=V.useContext(hr);return i?$w():kw()}function kw(){ut(No(),"useNavigate() may be used only in the context of a <Router> component.");let i=V.useContext(Co),{basename:e,navigator:n}=V.useContext(In),{matches:s}=V.useContext(hr),{pathname:o}=xi(),u=JSON.stringify(Np(s)),h=V.useRef(!1);return yE(()=>{h.current=!0}),V.useCallback((p,g={})=>{if(Cn(h.current,gE),!h.current)return;if(typeof p=="number"){n.go(p);return}let T=Ip(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:gi([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,i])}var Vw=V.createContext(null);function Lw(i){let e=V.useContext(hr).outlet;return V.useMemo(()=>e&&V.createElement(Vw.Provider,{value:i},e),[e,i])}function fu(i,{relative:e}={}){let{matches:n}=V.useContext(hr),{pathname:s}=xi(),o=JSON.stringify(Np(n));return V.useMemo(()=>Ip(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function jw(i,e){return vE(i,e)}function vE(i,e,n,s,o){ut(No(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=V.useContext(In),{matches:h}=V.useContext(hr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let te=b&&b.path||"";EE(g,!b||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let A=xi(),O;if(e){let te=typeof e=="string"?ga(e):e;ut(T==="/"||te.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${te.pathname}" was given in the \`location\` prop.`),O=te}else O=A;let D=O.pathname||"/",q=D;if(T!=="/"){let te=T.replace(/^\//,"").split("/");q="/"+D.replace(/^\//,"").split("/").slice(te.length).join("/")}let G=oE(i,{pathname:q});Cn(b||G!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Cn(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=Hw(G&&G.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:gi([T,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?T:gi([T,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),h,n,s,o);return e&&ne?V.createElement(du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},ne):ne}function Uw(){let i=Kw(),e=Sw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:u},"ErrorBoundary")," or"," ",V.createElement("code",{style:u},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:o},n):null,h)}var Pw=V.createElement(Uw,null),bE=class extends V.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=Ow(i.digest);n&&(i=n)}let e=i!==void 0?V.createElement(hr.Provider,{value:this.props.routeContext},V.createElement(Dp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?V.createElement(zw,{error:i},e):e}};bE.contextType=xw;var Vm=new WeakMap;function zw({children:i,error:e}){let{basename:n}=V.useContext(In);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Dw(e.digest);if(s){let o=Vm.get(e);if(o)throw o;let u=dE(s.location,n);if(hE&&!Vm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Vm.set(e,h),h}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function Bw({routeContext:i,match:e,children:n}){let s=V.useContext(Co);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(hr.Provider,{value:i},n)}function Hw(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let T=u.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);ut(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let m=!1,p=-1;if(n)for(let T=0;T<u.length;T++){let b=u[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=T),b.route.id){let{loaderData:A,errors:O}=n,D=b.route.loader&&!A.hasOwnProperty(b.route.id)&&(!O||O[b.route.id]===void 0);if(b.route.lazy||D){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(T,b)=>{s(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Aw(n.matches),errorInfo:b})}:void 0;return u.reduceRight((T,b,A)=>{let O,D=!1,q=null,G=null;n&&(O=h&&b.route.id?h[b.route.id]:void 0,q=b.route.errorElement||Pw,m&&(p<0&&A===0?(EE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,G=null):p===A&&(D=!0,G=b.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,A+1)),te=()=>{let re;return O?re=q:D?re=G:b.route.Component?re=V.createElement(b.route.Component,null):b.route.element?re=b.route.element:re=T,V.createElement(Bw,{match:b,routeContext:{outlet:T,matches:ne,isDataRoute:n!=null},children:re})};return n&&(b.route.ErrorBoundary||b.route.errorElement||A===0)?V.createElement(bE,{location:n.location,revalidation:n.revalidation,component:q,error:O,children:te(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:g}):te()},null)}function Op(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qw(i){let e=V.useContext(Co);return ut(e,Op(i)),e}function Fw(i){let e=V.useContext(Xh);return ut(e,Op(i)),e}function Gw(i){let e=V.useContext(hr);return ut(e,Op(i)),e}function Mp(i){let e=Gw(i),n=e.matches[e.matches.length-1];return ut(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Yw(){return Mp("useRouteId")}function Kw(){let i=V.useContext(Dp),e=Fw("useRouteError"),n=Mp("useRouteError");return i!==void 0?i:e.errors?.[n]}function $w(){let{router:i}=qw("useNavigate"),e=Mp("useNavigate"),n=V.useRef(!1);return yE(()=>{n.current=!0}),V.useCallback(async(o,u={})=>{Cn(n.current,gE),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Sb={};function EE(i,e,n){!e&&!Sb[i]&&(Sb[i]=!0,Cn(!1,n))}V.memo(Qw);function Qw({routes:i,future:e,state:n,onError:s}){return vE(i,void 0,n,s,e)}function TE({to:i,replace:e,state:n,relative:s}){ut(No(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=V.useContext(In);Cn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=V.useContext(hr),{pathname:h}=xi(),m=_E(),p=Ip(i,Np(u),h,s==="path"),g=JSON.stringify(p);return V.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Xw(i){return Lw(i.context)}function Fn(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jw({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ut(!No(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=ga(n));let{pathname:g="/",search:T="",hash:b="",state:A=null,key:O="default"}=n,D=V.useMemo(()=>{let q=_i(g,m);return q==null?null:{location:{pathname:q,search:T,hash:b,state:A,key:O},navigationType:s}},[m,g,T,b,A,O,s]);return Cn(D!=null,`<Router basename="${m}"> is not able to match the URL "${g}${T}${b}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:V.createElement(In.Provider,{value:p},V.createElement(du.Provider,{children:e,value:D}))}function Ww({children:i,location:e}){return jw(ep(i),e)}function ep(i,e=[]){let n=[];return V.Children.forEach(i,(s,o)=>{if(!V.isValidElement(s))return;let u=[...e,o];if(s.type===V.Fragment){n.push.apply(n,ep(s.props.children,u));return}ut(s.type===Fn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ep(s.props.children,u)),n.push(h)}),n}var dh="get",fh="application/x-www-form-urlencoded";function Jh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function Zw(i){return Jh(i)&&i.tagName.toLowerCase()==="button"}function ex(i){return Jh(i)&&i.tagName.toLowerCase()==="form"}function tx(i){return Jh(i)&&i.tagName.toLowerCase()==="input"}function nx(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function rx(i,e){return i.button===0&&(!e||e==="_self")&&!nx(i)}var nh=null;function ix(){if(nh===null)try{new FormData(document.createElement("form"),0),nh=!1}catch{nh=!0}return nh}var sx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lm(i){return i!=null&&!sx.has(i)?(Cn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):i}function ax(i,e){let n,s,o,u,h;if(ex(i)){let m=i.getAttribute("action");s=m?_i(m,e):null,n=i.getAttribute("method")||dh,o=Lm(i.getAttribute("enctype"))||fh,u=new FormData(i)}else if(Zw(i)||tx(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?_i(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||dh,o=Lm(i.getAttribute("formenctype"))||Lm(m.getAttribute("enctype"))||fh,u=new FormData(m,i),!ix()){let{name:g,type:T,value:b}=i;if(T==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,b)}}else{if(Jh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,s=null,o=fh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ox(i,e,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&_i(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function lx(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ux(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function cx(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await lx(u,n);return h.links?h.links():[]}return[]}));return mx(s.flat(1).filter(ux).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ab(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function hx(i,e,{includeHydrateFallback:n}={}){return dx(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function dx(i){return[...new Set(i)]}function fx(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function mx(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(fx(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function SE(){let i=V.useContext(Co);return kp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function px(){let i=V.useContext(Xh);return kp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Vp=V.createContext(void 0);Vp.displayName="FrameworkContext";function AE(){let i=V.useContext(Vp);return kp(i,"You must render this element inside a <HydratedRouter> element"),i}function gx(i,e){let n=V.useContext(Vp),[s,o]=V.useState(!1),[u,h]=V.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:b}=e,A=V.useRef(null);V.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let q=ne=>{ne.forEach(te=>{h(te.isIntersecting)})},G=new IntersectionObserver(q,{threshold:.5});return A.current&&G.observe(A.current),()=>{G.disconnect()}}},[i]),V.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let O=()=>{o(!0)},D=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Hl(m,O),onBlur:Hl(p,D),onMouseEnter:Hl(g,O),onMouseLeave:Hl(T,D),onTouchStart:Hl(b,O)}]:[!1,A,{}]}function Hl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function yx({page:i,...e}){let{router:n}=SE(),s=V.useMemo(()=>oE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?V.createElement(vx,{page:i,matches:s,...e}):null}function _x(i){let{manifest:e,routeModules:n}=AE(),[s,o]=V.useState([]);return V.useEffect(()=>{let u=!1;return cx(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function vx({page:i,matches:e,...n}){let s=xi(),{future:o,manifest:u,routeModules:h}=AE(),{basename:m}=SE(),{loaderData:p,matches:g}=px(),T=V.useMemo(()=>Ab(i,e,g,u,s,"data"),[i,e,g,u,s]),b=V.useMemo(()=>Ab(i,e,g,u,s,"assets"),[i,e,g,u,s]),A=V.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let q=new Set,G=!1;if(e.forEach(te=>{let re=u.routes[te.route.id];!re||!re.hasLoader||(!T.some(de=>de.route.id===te.route.id)&&te.route.id in p&&h[te.route.id]?.shouldRevalidate||re.hasClientLoader?G=!0:q.add(te.route.id))}),q.size===0)return[];let ne=ox(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return G&&q.size>0&&ne.searchParams.set("_routes",e.filter(te=>q.has(te.route.id)).map(te=>te.route.id).join(",")),[ne.pathname+ne.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,T,e,i,h]),O=V.useMemo(()=>hx(b,u),[b,u]),D=_x(b);return V.createElement(V.Fragment,null,A.map(q=>V.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...n})),O.map(q=>V.createElement("link",{key:q,rel:"modulepreload",href:q,...n})),D.map(({key:q,link:G})=>V.createElement("link",{key:q,nonce:n.nonce,...G})))}function bx(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Ex=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ex&&(window.__reactRouterVersion="7.12.0")}catch{}function Tx({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=V.useRef();o.current==null&&(o.current=ZA({window:s,v5Compat:!0}));let u=o.current,[h,m]=V.useState({action:u.action,location:u.location}),p=V.useCallback(g=>{n===!1?m(g):V.startTransition(()=>m(g))},[n]);return V.useLayoutEffect(()=>u.listen(p),[u,p]),V.createElement(Jw,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var wE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,on=V.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:A,...O},D){let{basename:q,unstable_useTransitions:G}=V.useContext(In),ne=typeof g=="string"&&wE.test(g),te=dE(g,q);g=te.to;let re=Mw(g,{relative:o}),[de,Ae,Ee]=gx(s,O),R=xx(g,{replace:h,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:A,unstable_useTransitions:G});function x(j){e&&e(j),j.defaultPrevented||R(j)}let C=V.createElement("a",{...O,...Ee,href:te.absoluteURL||re,onClick:te.isExternal||u?e:x,ref:bx(D,Ae),target:p,"data-discover":!ne&&n==="render"?"true":void 0});return de&&!ne?V.createElement(V.Fragment,null,C,V.createElement(yx,{page:re})):C});on.displayName="Link";var Sx=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},T){let b=fu(h,{relative:g.relative}),A=xi(),O=V.useContext(Xh),{navigator:D,basename:q}=V.useContext(In),G=O!=null&&Dx(b)&&m===!0,ne=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,te=A.pathname,re=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(te=te.toLowerCase(),re=re?re.toLowerCase():null,ne=ne.toLowerCase()),re&&q&&(re=_i(re,q)||re);const de=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let Ae=te===ne||!o&&te.startsWith(ne)&&te.charAt(de)==="/",Ee=re!=null&&(re===ne||!o&&re.startsWith(ne)&&re.charAt(ne.length)==="/"),R={isActive:Ae,isPending:Ee,isTransitioning:G},x=Ae?e:void 0,C;typeof s=="function"?C=s(R):C=[s,Ae?"active":null,Ee?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let j=typeof u=="function"?u(R):u;return V.createElement(on,{...g,"aria-current":x,className:C,ref:T,style:j,to:h,viewTransition:m},typeof p=="function"?p(R):p)});Sx.displayName="NavLink";var Ax=V.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=dh,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:A,...O},D)=>{let{unstable_useTransitions:q}=V.useContext(In),G=Nx(),ne=Ix(m,{relative:g}),te=h.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&wE.test(m),de=Ae=>{if(p&&p(Ae),Ae.defaultPrevented)return;Ae.preventDefault();let Ee=Ae.nativeEvent.submitter,R=Ee?.getAttribute("formmethod")||h,x=()=>G(Ee||Ae.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:A});q&&n!==!1?V.startTransition(()=>x()):x()};return V.createElement("form",{ref:D,method:te,action:ne,onSubmit:s?p:de,...O,"data-discover":!re&&i==="render"?"true":void 0})});Ax.displayName="Form";function wx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xE(i){let e=V.useContext(Co);return ut(e,wx(i)),e}function xx(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=_E(),T=xi(),b=fu(i,{relative:u});return V.useCallback(A=>{if(rx(A,e)){A.preventDefault();let O=n!==void 0?n:eu(T)===eu(b),D=()=>g(i,{replace:O,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?V.startTransition(()=>D()):D()}},[T,g,b,n,s,e,i,o,u,h,m,p])}var Rx=0,Cx=()=>`__${String(++Rx)}__`;function Nx(){let{router:i}=xE("useSubmit"),{basename:e}=V.useContext(In),n=Yw(),s=i.fetch,o=i.navigate;return V.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:T,body:b}=ax(u,e);if(h.navigate===!1){let A=h.fetcherKey||Cx();await s(A,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:b,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:b,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function Ix(i,{relative:e}={}){let{basename:n}=V.useContext(In),s=V.useContext(hr);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...fu(i||".",{relative:e})},h=xi();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:gi([n,u.pathname])),eu(u)}function Dx(i,{relative:e}={}){let n=V.useContext(mE);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=xE("useViewTransitionState"),o=fu(i,{relative:e});if(!n.isTransitioning)return!1;let u=_i(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=_i(n.nextLocation.pathname,s)||n.nextLocation.pathname;return xh(o.pathname,h)!=null||xh(o.pathname,u)!=null}const Ox=()=>{};var wb={};const RE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Mx=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},CE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,O=g&63;p||(O=64,h||(A=64)),s.push(n[T],n[b],n[A],n[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(RE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Mx(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new kx;const A=u<<2|m>>4;if(s.push(A),g!==64){const O=m<<4&240|g>>2;if(s.push(O),b!==64){const D=g<<6&192|b;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class kx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vx=function(i){const e=RE(i);return CE.encodeByteArray(e,!0)},Rh=function(i){return Vx(i).replace(/\./g,"")},NE=function(i){try{return CE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Lx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jx=()=>Lx().__FIREBASE_DEFAULTS__,Ux=()=>{if(typeof process>"u"||typeof wb>"u")return;const i=wb.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Px=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&NE(i[1]);return e&&JSON.parse(e)},Wh=()=>{try{return Ox()||jx()||Ux()||Px()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},IE=i=>Wh()?.emulatorHosts?.[i],DE=i=>{const e=IE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},OE=()=>Wh()?.config,ME=i=>Wh()?.[`_${i}`];class zx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ya(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lp(i){return(await fetch(i,{credentials:"include"})).ok}function kE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Rh(JSON.stringify(n)),Rh(JSON.stringify(h)),""].join(".")}const $l={};function Bx(){const i={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?i.emulator.push(e):i.prod.push(e);return i}function Hx(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let xb=!1;function jp(i,e){if(typeof window>"u"||typeof document>"u"||!ya(window.location.host)||$l[i]===e||$l[i]||xb)return;$l[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=Bx().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,O){A.setAttribute("width","24"),A.setAttribute("id",O),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{xb=!0,h()},A}function T(A,O){A.setAttribute("id",O),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=Hx(s),O=n("text"),D=document.getElementById(O)||document.createElement("span"),q=n("learnmore"),G=document.getElementById(q)||document.createElement("a"),ne=n("preprendIcon"),te=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const re=A.element;m(re),T(G,q);const de=g();p(te,ne),re.append(te,D,G,de),document.body.appendChild(re)}u?(D.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function Fx(){const i=Wh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Gx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Yx(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Kx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $x(){const i=nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Qx(){return!Fx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xx(){try{return typeof indexedDB=="object"}catch{return!1}}function Jx(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Wx="FirebaseError";class Gr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Wx,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Zx(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Gr(o,m,s)}}function Zx(i,e){return i.replace(eR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const eR=/\{\$([^}]+)}/g;function tR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ca(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(Rb(u)&&Rb(h)){if(!ca(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Rb(i){return i!==null&&typeof i=="object"}function pu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function nR(i,e){const n=new rR(i,e);return n.subscribe.bind(n)}class rR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");iR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=jm),o.error===void 0&&(o.error=jm),o.complete===void 0&&(o.complete=jm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function jm(){}function Ut(i){return i&&i._delegate?i._delegate:i}class ys{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ia="[DEFAULT]";class sR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new zx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oR(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:aR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aR(i){return i===ia?void 0:i}function oR(i){return i.instantiationMode==="EAGER"}class lR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const uR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},cR=Me.INFO,hR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},dR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=hR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Up{constructor(e){this.name=e,this._logLevel=cR,this._logHandler=dR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const fR=(i,e)=>e.some(n=>i instanceof n);let Cb,Nb;function mR(){return Cb||(Cb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pR(){return Nb||(Nb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VE=new WeakMap,tp=new WeakMap,LE=new WeakMap,Um=new WeakMap,Pp=new WeakMap;function gR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(fs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&VE.set(n,i)}).catch(()=>{}),Pp.set(e,i),e}function yR(i){if(tp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});tp.set(i,e)}let np={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return tp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||LE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function _R(i){np=i(np)}function vR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Pm(this),e,...n);return LE.set(s,e.sort?e.sort():[e]),fs(s)}:pR().includes(i)?function(...e){return i.apply(Pm(this),e),fs(VE.get(this))}:function(...e){return fs(i.apply(Pm(this),e))}}function bR(i){return typeof i=="function"?vR(i):(i instanceof IDBTransaction&&yR(i),fR(i,mR())?new Proxy(i,np):i)}function fs(i){if(i instanceof IDBRequest)return gR(i);if(Um.has(i))return Um.get(i);const e=bR(i);return e!==i&&(Um.set(i,e),Pp.set(e,i)),e}const Pm=i=>Pp.get(i);function ER(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=fs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(fs(h.result),p.oldVersion,p.newVersion,fs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const TR=["get","getKey","getAll","getAllKeys","count"],SR=["put","add","delete","clear"],zm=new Map;function Ib(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(zm.get(e))return zm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=SR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||TR.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return zm.set(e,u),u}_R(i=>({...i,get:(e,n,s)=>Ib(e,n)||i.get(e,n,s),has:(e,n)=>!!Ib(e,n)||i.has(e,n)}));class AR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function wR(i){return i.getComponent()?.type==="VERSION"}const rp="@firebase/app",Db="0.14.7";const vi=new Up("@firebase/app"),xR="@firebase/app-compat",RR="@firebase/analytics-compat",CR="@firebase/analytics",NR="@firebase/app-check-compat",IR="@firebase/app-check",DR="@firebase/auth",OR="@firebase/auth-compat",MR="@firebase/database",kR="@firebase/data-connect",VR="@firebase/database-compat",LR="@firebase/functions",jR="@firebase/functions-compat",UR="@firebase/installations",PR="@firebase/installations-compat",zR="@firebase/messaging",BR="@firebase/messaging-compat",HR="@firebase/performance",qR="@firebase/performance-compat",FR="@firebase/remote-config",GR="@firebase/remote-config-compat",YR="@firebase/storage",KR="@firebase/storage-compat",$R="@firebase/firestore",QR="@firebase/ai",XR="@firebase/firestore-compat",JR="firebase",WR="12.8.0";const ip="[DEFAULT]",ZR={[rp]:"fire-core",[xR]:"fire-core-compat",[CR]:"fire-analytics",[RR]:"fire-analytics-compat",[IR]:"fire-app-check",[NR]:"fire-app-check-compat",[DR]:"fire-auth",[OR]:"fire-auth-compat",[MR]:"fire-rtdb",[kR]:"fire-data-connect",[VR]:"fire-rtdb-compat",[LR]:"fire-fn",[jR]:"fire-fn-compat",[UR]:"fire-iid",[PR]:"fire-iid-compat",[zR]:"fire-fcm",[BR]:"fire-fcm-compat",[HR]:"fire-perf",[qR]:"fire-perf-compat",[FR]:"fire-rc",[GR]:"fire-rc-compat",[YR]:"fire-gcs",[KR]:"fire-gcs-compat",[$R]:"fire-fst",[XR]:"fire-fst-compat",[QR]:"fire-vertex","fire-js":"fire-js",[JR]:"fire-js-all"};const Ch=new Map,e2=new Map,sp=new Map;function Ob(i,e){try{i.container.addComponent(e)}catch(n){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ha(i){const e=i.name;if(sp.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;sp.set(e,i);for(const n of Ch.values())Ob(n,i);for(const n of e2.values())Ob(n,i);return!0}function Zh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Gn(i){return i==null?!1:i.settings!==void 0}const t2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new mu("app","Firebase",t2);class n2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}const _a=WR;function jE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:ip,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ms.create("bad-app-name",{appName:String(o)});if(n||(n=OE()),!n)throw ms.create("no-options");const u=Ch.get(o);if(u){if(ca(n,u.options)&&ca(s,u.config))return u;throw ms.create("duplicate-app",{appName:o})}const h=new lR(o);for(const p of sp.values())h.addComponent(p);const m=new n2(n,s,h);return Ch.set(o,m),m}function zp(i=ip){const e=Ch.get(i);if(!e&&i===ip&&OE())return jE();if(!e)throw ms.create("no-app",{appName:i});return e}function jr(i,e,n){let s=ZR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(h.join(" "));return}ha(new ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const r2="firebase-heartbeat-database",i2=1,tu="firebase-heartbeat-store";let Bm=null;function UE(){return Bm||(Bm=ER(r2,i2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ms.create("idb-open",{originalErrorMessage:i.message})})),Bm}async function s2(i){try{const n=(await UE()).transaction(tu),s=await n.objectStore(tu).get(PE(i));return await n.done,s}catch(e){if(e instanceof Gr)vi.warn(e.message);else{const n=ms.create("idb-get",{originalErrorMessage:e?.message});vi.warn(n.message)}}}async function Mb(i,e){try{const s=(await UE()).transaction(tu,"readwrite");await s.objectStore(tu).put(e,PE(i)),await s.done}catch(n){if(n instanceof Gr)vi.warn(n.message);else{const s=ms.create("idb-set",{originalErrorMessage:n?.message});vi.warn(s.message)}}}function PE(i){return`${i.name}!${i.options.appId}`}const a2=1024,o2=30;class l2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new c2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>o2){const o=h2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kb(),{heartbeatsToSend:n,unsentEntries:s}=u2(this._heartbeatsCache.heartbeats),o=Rh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vi.warn(e),""}}}function kb(){return new Date().toISOString().substring(0,10)}function u2(i,e=a2){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Vb(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Vb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class c2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xx()?Jx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await s2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Mb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Mb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Vb(i){return Rh(JSON.stringify({version:2,heartbeats:i})).length}function h2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function d2(i){ha(new ys("platform-logger",e=>new AR(e),"PRIVATE")),ha(new ys("heartbeat",e=>new l2(e),"PRIVATE")),jr(rp,Db,i),jr(rp,Db,"esm2020"),jr("fire-js","")}d2("");var f2="firebase",m2="12.8.0";jr(f2,m2,"app");function zE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p2=zE,BE=new mu("auth","Firebase",zE());const Nh=new Up("@firebase/auth");function g2(i,...e){Nh.logLevel<=Me.WARN&&Nh.warn(`Auth (${_a}): ${i}`,...e)}function mh(i,...e){Nh.logLevel<=Me.ERROR&&Nh.error(`Auth (${_a}): ${i}`,...e)}function Hr(i,...e){throw Hp(i,...e)}function lr(i,...e){return Hp(i,...e)}function Bp(i,e,n){const s={...p2(),[e]:n};return new mu("auth","Firebase",s).create(e,{appName:i.name})}function oa(i){return Bp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y2(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Hr(i,"argument-error"),Bp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return BE.create(i,...e)}function _e(i,e,...n){if(!i)throw Hp(e,...n)}function mi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw mh(e),new Error(e)}function bi(i,e){i||mi(e)}function ap(){return typeof self<"u"&&self.location?.href||""}function _2(){return Lb()==="http:"||Lb()==="https:"}function Lb(){return typeof self<"u"&&self.location?.protocol||null}function v2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_2()||Yx()||"connection"in navigator)?navigator.onLine:!0}function b2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,bi(n>e,"Short delay should be less than long delay!"),this.isMobile=qx()||Kx()}get(){return v2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qp(i,e){bi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class HE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const E2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const T2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],S2=new gu(3e4,6e4);function Fp(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Io(i,e,n,s,o={}){return qE(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=pu({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return Gx()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&ya(i.emulatorConfig.host)&&(g.credentials="include"),HE.fetch()(await FE(i,i.config.apiHost,n,m),g)})}async function qE(i,e,n){i._canInitEmulator=!1;const s={...E2,...e};try{const o=new w2(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw rh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw rh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw rh(i,"user-disabled",h);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Bp(i,T,g);Hr(i,T)}}catch(o){if(o instanceof Gr)throw o;Hr(i,"network-request-failed",{message:String(o)})}}async function A2(i,e,n,s,o={}){const u=await Io(i,e,n,s,o);return"mfaPendingCredential"in u&&Hr(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function FE(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?qp(i.config,o):`${i.config.apiScheme}://${o}`;return T2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class w2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(lr(this.auth,"network-request-failed")),S2.get())})}}function rh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=lr(i,e,s);return o.customData._tokenResponse=n,o}async function x2(i,e){return Io(i,"POST","/v1/accounts:delete",e)}async function Ih(i,e){return Io(i,"POST","/v1/accounts:lookup",e)}function Ql(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function R2(i,e=!1){const n=Ut(i),s=await n.getIdToken(e),o=Gp(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Ql(Hm(o.auth_time)),issuedAtTime:Ql(Hm(o.iat)),expirationTime:Ql(Hm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Hm(i){return Number(i)*1e3}function Gp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=NE(n);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function jb(i){const e=Gp(i);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function nu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Gr&&C2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function C2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class N2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class op{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Dh(i){const e=i.auth,n=await i.getIdToken(),s=await nu(i,Ih(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?GE(o.providerUserInfo):[],h=D2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new op(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,T)}async function I2(i){const e=Ut(i);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function D2(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function GE(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function O2(i,e){const n=await qE(i,{},async()=>{const s=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await FE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&ya(i.emulatorConfig.host)&&(p.credentials="include"),HE.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function M2(i,e){return Io(i,"POST","/v2/accounts:revokeToken",Fp(i,e))}class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=jb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await O2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new go;return s&&(_e(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return mi("not implemented")}}function os(i,e){_e(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ar{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new N2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new op(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await nu(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return R2(this,e)}reload(){return I2(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ar({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(oa(this.auth));const e=await this.getIdToken();return await nu(this,x2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:A,isAnonymous:O,providerData:D,stsTokenManager:q}=n;_e(b&&q,e,"internal-error");const G=go.fromJSON(this.name,q);_e(typeof b=="string",e,"internal-error"),os(s,e.name),os(o,e.name),_e(typeof A=="boolean",e,"internal-error"),_e(typeof O=="boolean",e,"internal-error"),os(u,e.name),os(h,e.name),os(m,e.name),os(p,e.name),os(g,e.name),os(T,e.name);const ne=new ar({uid:b,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:O,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:g,lastLoginAt:T});return D&&Array.isArray(D)&&(ne.providerData=D.map(te=>({...te}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new go;o.updateFromServerResponse(n);const u=new ar({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Dh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?GE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new go;m.updateFromIdToken(s);const p=new ar({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new op(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const Ub=new Map;function pi(i){bi(i instanceof Function,"Expected a class definition");let e=Ub.get(i);return e?(bi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Ub.set(i,e),e)}class YE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YE.type="NONE";const Pb=YE;function ph(i,e,n){return`firebase:${i}:${e}:${n}`}class yo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ih(this.auth,{idToken:e}).catch(()=>{});return n?ar._fromGetAccountInfoResponse(this.auth,n,e):null}return ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new yo(pi(Pb),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||pi(Pb);const h=ph(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(h);if(T){let b;if(typeof T=="string"){const A=await Ih(e,{idToken:T}).catch(()=>{});if(!A)break;b=await ar._fromGetAccountInfoResponse(e,A,T)}else b=ar._fromJSON(e,T);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new yo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new yo(u,e,s))}}function zb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WE(e))return"Blackberry";if(ZE(e))return"Webos";if($E(e))return"Safari";if((e.includes("chrome/")||QE(e))&&!e.includes("edge/"))return"Chrome";if(JE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function KE(i=nn()){return/firefox\//i.test(i)}function $E(i=nn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QE(i=nn()){return/crios\//i.test(i)}function XE(i=nn()){return/iemobile/i.test(i)}function JE(i=nn()){return/android/i.test(i)}function WE(i=nn()){return/blackberry/i.test(i)}function ZE(i=nn()){return/webos/i.test(i)}function Yp(i=nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function k2(i=nn()){return Yp(i)&&!!window.navigator?.standalone}function V2(){return $x()&&document.documentMode===10}function eT(i=nn()){return Yp(i)||JE(i)||ZE(i)||WE(i)||/windows phone/i.test(i)||XE(i)}function tT(i,e=[]){let n;switch(i){case"Browser":n=zb(nn());break;case"Worker":n=`${zb(nn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_a}/${s}`}class L2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function j2(i,e={}){return Io(i,"GET","/v2/passwordPolicy",Fp(i,e))}const U2=6;class P2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??U2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class z2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bb(this),this.idTokenSubscription=new Bb(this),this.beforeStateQueue=new L2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ih(this,{idToken:e}),s=await ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=b2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(oa(this));const n=e?Ut(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await j2(this),n=new P2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await M2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&g2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ed(i){return Ut(i)}class Bb{constructor(e){this.auth=e,this.observer=null,this.addObserver=nR(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Kp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B2(i){Kp=i}function H2(i){return Kp.loadJS(i)}function q2(){return Kp.gapiScript}function F2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function G2(i,e){const n=Zh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ca(u,e??{}))return o;Hr(o,"already-initialized")}return n.initialize({options:e})}function Y2(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(pi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function K2(i,e,n){const s=ed(i);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=nT(e),{host:h,port:m}=$2(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},T=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(ca(g,s.config.emulator)&&ca(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,ya(h)?(Lp(`${u}//${h}${p}`),jp("Auth",!0)):Q2()}function nT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function $2(i){const e=nT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Hb(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Hb(h)}}}function Hb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Q2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class rT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,n){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}async function _o(i,e){return A2(i,"POST","/v1/accounts:signInWithIdp",Fp(i,e))}const X2="http://localhost";class da extends rT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new da(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_o(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:X2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pu(n)}return e}}class $p{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yu extends $p{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ls extends yu{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";class fi extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return da._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return fi.credential(n,s)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";class us extends yu{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";class cs extends yu{constructor(){super("twitter.com")}static credential(e,n){return da._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return cs.credential(n,s)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ar._fromIdTokenResponse(e,s,o),h=qb(s);return new Eo({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=qb(s);return new Eo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function qb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Oh extends Gr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Oh(e,n,s,o)}}function iT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(i,u,e,s):u})}async function J2(i,e,n=!1){const s=await nu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Eo._forOperation(i,"link",s)}async function W2(i,e,n=!1){const{auth:s}=i;if(Gn(s.app))return Promise.reject(oa(s));const o="reauthenticate";try{const u=await nu(i,iT(s,o,e,i),n);_e(u.idToken,s,"internal-error");const h=Gp(u.idToken);_e(h,s,"internal-error");const{sub:m}=h;return _e(i.uid===m,s,"user-mismatch"),Eo._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Hr(s,"user-mismatch"),u}}async function Z2(i,e,n=!1){if(Gn(i.app))return Promise.reject(oa(i));const s="signIn",o=await iT(i,s,e),u=await Eo._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function eC(i,e,n,s){return Ut(i).onIdTokenChanged(e,n,s)}function tC(i,e,n){return Ut(i).beforeAuthStateChanged(e,n)}function nC(i,e,n,s){return Ut(i).onAuthStateChanged(e,n,s)}function rC(i){return Ut(i).signOut()}const Mh="__sak";class sT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const iC=1e3,sC=10;class aT extends sT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);V2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,sC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},iC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}aT.type="LOCAL";const aC=aT;class oT extends sT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oT.type="SESSION";const lT=oT;function oC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class td{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new td(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await oC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}td.receivers=[];function Qp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class lC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Qp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Ur(){return window}function uC(i){Ur().location.href=i}function uT(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function cC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hC(){return navigator?.serviceWorker?.controller||null}function dC(){return uT()?self:null}const cT="firebaseLocalStorageDb",fC=1,kh="firebaseLocalStorage",hT="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nd(i,e){return i.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function mC(){const i=indexedDB.deleteDatabase(cT);return new _u(i).toPromise()}function lp(){const i=indexedDB.open(cT,fC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(kh,{keyPath:hT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(kh)?e(s):(s.close(),await mC(),e(await lp()))})})}async function Fb(i,e,n){const s=nd(i,!0).put({[hT]:e,value:n});return new _u(s).toPromise()}async function pC(i,e){const n=nd(i,!1).get(e),s=await new _u(n).toPromise();return s===void 0?null:s.value}function Gb(i,e){const n=nd(i,!0).delete(e);return new _u(n).toPromise()}const gC=800,yC=3;class dT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>yC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=td._getInstance(dC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cC(),!this.activeServiceWorker)return;this.sender=new lC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lp();return await Fb(e,Mh,"1"),await Gb(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Fb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>pC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=nd(o,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dT.type="LOCAL";const _C=dT;new gu(3e4,6e4);function fT(i,e){return e?pi(e):(_e(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Xp extends rT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vC(i){return Z2(i.auth,new Xp(i),i.bypassAuthState)}function bC(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),W2(n,new Xp(i),i.bypassAuthState)}async function EC(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),J2(n,new Xp(i),i.bypassAuthState)}class mT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vC;case"linkViaPopup":case"linkViaRedirect":return EC;case"reauthViaPopup":case"reauthViaRedirect":return bC;default:Hr(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const TC=new gu(2e3,1e4);async function SC(i,e,n){if(Gn(i.app))return Promise.reject(lr(i,"operation-not-supported-in-this-environment"));const s=ed(i);y2(i,e,$p);const o=fT(s,n);return new sa(s,"signInViaPopup",e,o).executeNotNull()}class sa extends mT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){bi(this.filter.length===1,"Popup operations only handle one event");const e=Qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TC.get())};e()}}sa.currentPopupAction=null;const AC="pendingRedirect",gh=new Map;class wC extends mT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await xC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xC(i,e){const n=NC(e),s=CC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function RC(i,e){gh.set(i._key(),e)}function CC(i){return pi(i._redirectPersistence)}function NC(i){return ph(AC,i.config.apiKey,i.name)}async function IC(i,e,n=!1){if(Gn(i.app))return Promise.reject(oa(i));const s=ed(i),o=fT(s,e),h=await new wC(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const DC=600*1e3;class OC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!pT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(lr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yb(e))}saveEventToCache(e){this.cachedEventUids.add(Yb(e)),this.lastProcessedEventTime=Date.now()}}function Yb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function pT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function MC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pT(i);default:return!1}}async function kC(i,e={}){return Io(i,"GET","/v1/projects",e)}const VC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LC=/^https?/;async function jC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await kC(i);for(const n of e)try{if(UC(n))return}catch{}Hr(i,"unauthorized-domain")}function UC(i){const e=ap(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!LC.test(n))return!1;if(VC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const PC=new gu(3e4,6e4);function Kb(){const i=Ur().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function zC(i){return new Promise((e,n)=>{function s(){Kb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kb(),n(lr(i,"network-request-failed"))},timeout:PC.get()})}if(Ur().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ur().gapi?.load)s();else{const o=F2("iframefcb");return Ur()[o]=()=>{gapi.load?s():n(lr(i,"network-request-failed"))},H2(`${q2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw yh=null,e})}let yh=null;function BC(i){return yh=yh||zC(i),yh}const HC=new gu(5e3,15e3),qC="__/auth/iframe",FC="emulator/auth/iframe",GC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KC(i){const e=i.config;_e(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?qp(e,FC):`https://${i.config.authDomain}/${qC}`,s={apiKey:e.apiKey,appName:i.name,v:_a},o=YC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${pu(s).slice(1)}`}async function $C(i){const e=await BC(i),n=Ur().gapi;return _e(n,i,"internal-error"),e.open({where:document.body,url:KC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=lr(i,"network-request-failed"),m=Ur().setTimeout(()=>{u(h)},HC.get());function p(){Ur().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const QC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XC=500,JC=600,WC="_blank",ZC="http://localhost";class $b{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eN(i,e,n,s=XC,o=JC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...QC,width:s.toString(),height:o.toString(),top:u,left:h},g=nn().toLowerCase();n&&(m=QE(g)?WC:n),KE(g)&&(e=e||ZC,p.scrollbars="yes");const T=Object.entries(p).reduce((A,[O,D])=>`${A}${O}=${D},`,"");if(k2(g)&&m!=="_self")return tN(e||"",m),new $b(null);const b=window.open(e||"",m,T);_e(b,i,"popup-blocked");try{b.focus()}catch{}return new $b(b)}function tN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const nN="__/auth/handler",rN="emulator/auth/handler",iN=encodeURIComponent("fac");async function Qb(i,e,n,s,o,u){_e(i.config.authDomain,i,"auth-domain-config-required"),_e(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:_a,eventId:o};if(e instanceof $p){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",tR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))h[T]=b}if(e instanceof yu){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(h.scopes=T.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await i._getAppCheckToken(),g=p?`#${iN}=${encodeURIComponent(p)}`:"";return`${sN(i)}?${pu(m).slice(1)}${g}`}function sN({config:i}){return i.emulator?qp(i,rN):`https://${i.authDomain}/${nN}`}const qm="webStorageSupport";class aN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lT,this._completeRedirectFn=IC,this._overrideRedirectResult=RC}async _openPopup(e,n,s,o){bi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Qb(e,n,s,ap(),o);return eN(e,u,Qp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Qb(e,n,s,ap(),o);return uC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(bi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await $C(e),s=new OC(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qm,{type:qm},o=>{const u=o?.[0]?.[qm];u!==void 0&&n(!!u),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eT()||$E()||Yp()}}const oN=aN;var Xb="@firebase/auth",Jb="1.12.0";class lN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cN(i){ha(new ys("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;_e(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tT(i)},g=new z2(s,o,u,p);return Y2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ha(new ys("auth-internal",e=>{const n=ed(e.getProvider("auth").getImmediate());return(s=>new lN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(Xb,Jb,uN(i)),jr(Xb,Jb,"esm2020")}const hN=300,dN=ME("authIdTokenMaxAge")||hN;let Wb=null;const fN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>dN)return;const o=n?.token;Wb!==o&&(Wb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function mN(i=zp()){const e=Zh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=G2(i,{popupRedirectResolver:oN,persistence:[_C,aC,lT]}),s=ME("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=fN(u.toString());tC(n,h,()=>h(n.currentUser)),eC(n,m=>h(m))}}const o=IE("auth");return o&&K2(n,`http://${o}`),n}function pN(){return document.getElementsByTagName("head")?.[0]??document}B2({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=lr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",pN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cN("Browser");var Zb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ps,gT;(function(){var i;function e(R,x){function C(){}C.prototype=x.prototype,R.F=x.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(j,k,P){for(var N=Array(arguments.length-2),st=2;st<arguments.length;st++)N[st-2]=arguments[st];return x.prototype[k].apply(j,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,x,C){C||(C=0);const j=Array(16);if(typeof x=="string")for(var k=0;k<16;++k)j[k]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(k=0;k<16;++k)j[k]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=R.g[0],C=R.g[1],k=R.g[2];let P=R.g[3],N;N=x+(P^C&(k^P))+j[0]+3614090360&4294967295,x=C+(N<<7&4294967295|N>>>25),N=P+(k^x&(C^k))+j[1]+3905402710&4294967295,P=x+(N<<12&4294967295|N>>>20),N=k+(C^P&(x^C))+j[2]+606105819&4294967295,k=P+(N<<17&4294967295|N>>>15),N=C+(x^k&(P^x))+j[3]+3250441966&4294967295,C=k+(N<<22&4294967295|N>>>10),N=x+(P^C&(k^P))+j[4]+4118548399&4294967295,x=C+(N<<7&4294967295|N>>>25),N=P+(k^x&(C^k))+j[5]+1200080426&4294967295,P=x+(N<<12&4294967295|N>>>20),N=k+(C^P&(x^C))+j[6]+2821735955&4294967295,k=P+(N<<17&4294967295|N>>>15),N=C+(x^k&(P^x))+j[7]+4249261313&4294967295,C=k+(N<<22&4294967295|N>>>10),N=x+(P^C&(k^P))+j[8]+1770035416&4294967295,x=C+(N<<7&4294967295|N>>>25),N=P+(k^x&(C^k))+j[9]+2336552879&4294967295,P=x+(N<<12&4294967295|N>>>20),N=k+(C^P&(x^C))+j[10]+4294925233&4294967295,k=P+(N<<17&4294967295|N>>>15),N=C+(x^k&(P^x))+j[11]+2304563134&4294967295,C=k+(N<<22&4294967295|N>>>10),N=x+(P^C&(k^P))+j[12]+1804603682&4294967295,x=C+(N<<7&4294967295|N>>>25),N=P+(k^x&(C^k))+j[13]+4254626195&4294967295,P=x+(N<<12&4294967295|N>>>20),N=k+(C^P&(x^C))+j[14]+2792965006&4294967295,k=P+(N<<17&4294967295|N>>>15),N=C+(x^k&(P^x))+j[15]+1236535329&4294967295,C=k+(N<<22&4294967295|N>>>10),N=x+(k^P&(C^k))+j[1]+4129170786&4294967295,x=C+(N<<5&4294967295|N>>>27),N=P+(C^k&(x^C))+j[6]+3225465664&4294967295,P=x+(N<<9&4294967295|N>>>23),N=k+(x^C&(P^x))+j[11]+643717713&4294967295,k=P+(N<<14&4294967295|N>>>18),N=C+(P^x&(k^P))+j[0]+3921069994&4294967295,C=k+(N<<20&4294967295|N>>>12),N=x+(k^P&(C^k))+j[5]+3593408605&4294967295,x=C+(N<<5&4294967295|N>>>27),N=P+(C^k&(x^C))+j[10]+38016083&4294967295,P=x+(N<<9&4294967295|N>>>23),N=k+(x^C&(P^x))+j[15]+3634488961&4294967295,k=P+(N<<14&4294967295|N>>>18),N=C+(P^x&(k^P))+j[4]+3889429448&4294967295,C=k+(N<<20&4294967295|N>>>12),N=x+(k^P&(C^k))+j[9]+568446438&4294967295,x=C+(N<<5&4294967295|N>>>27),N=P+(C^k&(x^C))+j[14]+3275163606&4294967295,P=x+(N<<9&4294967295|N>>>23),N=k+(x^C&(P^x))+j[3]+4107603335&4294967295,k=P+(N<<14&4294967295|N>>>18),N=C+(P^x&(k^P))+j[8]+1163531501&4294967295,C=k+(N<<20&4294967295|N>>>12),N=x+(k^P&(C^k))+j[13]+2850285829&4294967295,x=C+(N<<5&4294967295|N>>>27),N=P+(C^k&(x^C))+j[2]+4243563512&4294967295,P=x+(N<<9&4294967295|N>>>23),N=k+(x^C&(P^x))+j[7]+1735328473&4294967295,k=P+(N<<14&4294967295|N>>>18),N=C+(P^x&(k^P))+j[12]+2368359562&4294967295,C=k+(N<<20&4294967295|N>>>12),N=x+(C^k^P)+j[5]+4294588738&4294967295,x=C+(N<<4&4294967295|N>>>28),N=P+(x^C^k)+j[8]+2272392833&4294967295,P=x+(N<<11&4294967295|N>>>21),N=k+(P^x^C)+j[11]+1839030562&4294967295,k=P+(N<<16&4294967295|N>>>16),N=C+(k^P^x)+j[14]+4259657740&4294967295,C=k+(N<<23&4294967295|N>>>9),N=x+(C^k^P)+j[1]+2763975236&4294967295,x=C+(N<<4&4294967295|N>>>28),N=P+(x^C^k)+j[4]+1272893353&4294967295,P=x+(N<<11&4294967295|N>>>21),N=k+(P^x^C)+j[7]+4139469664&4294967295,k=P+(N<<16&4294967295|N>>>16),N=C+(k^P^x)+j[10]+3200236656&4294967295,C=k+(N<<23&4294967295|N>>>9),N=x+(C^k^P)+j[13]+681279174&4294967295,x=C+(N<<4&4294967295|N>>>28),N=P+(x^C^k)+j[0]+3936430074&4294967295,P=x+(N<<11&4294967295|N>>>21),N=k+(P^x^C)+j[3]+3572445317&4294967295,k=P+(N<<16&4294967295|N>>>16),N=C+(k^P^x)+j[6]+76029189&4294967295,C=k+(N<<23&4294967295|N>>>9),N=x+(C^k^P)+j[9]+3654602809&4294967295,x=C+(N<<4&4294967295|N>>>28),N=P+(x^C^k)+j[12]+3873151461&4294967295,P=x+(N<<11&4294967295|N>>>21),N=k+(P^x^C)+j[15]+530742520&4294967295,k=P+(N<<16&4294967295|N>>>16),N=C+(k^P^x)+j[2]+3299628645&4294967295,C=k+(N<<23&4294967295|N>>>9),N=x+(k^(C|~P))+j[0]+4096336452&4294967295,x=C+(N<<6&4294967295|N>>>26),N=P+(C^(x|~k))+j[7]+1126891415&4294967295,P=x+(N<<10&4294967295|N>>>22),N=k+(x^(P|~C))+j[14]+2878612391&4294967295,k=P+(N<<15&4294967295|N>>>17),N=C+(P^(k|~x))+j[5]+4237533241&4294967295,C=k+(N<<21&4294967295|N>>>11),N=x+(k^(C|~P))+j[12]+1700485571&4294967295,x=C+(N<<6&4294967295|N>>>26),N=P+(C^(x|~k))+j[3]+2399980690&4294967295,P=x+(N<<10&4294967295|N>>>22),N=k+(x^(P|~C))+j[10]+4293915773&4294967295,k=P+(N<<15&4294967295|N>>>17),N=C+(P^(k|~x))+j[1]+2240044497&4294967295,C=k+(N<<21&4294967295|N>>>11),N=x+(k^(C|~P))+j[8]+1873313359&4294967295,x=C+(N<<6&4294967295|N>>>26),N=P+(C^(x|~k))+j[15]+4264355552&4294967295,P=x+(N<<10&4294967295|N>>>22),N=k+(x^(P|~C))+j[6]+2734768916&4294967295,k=P+(N<<15&4294967295|N>>>17),N=C+(P^(k|~x))+j[13]+1309151649&4294967295,C=k+(N<<21&4294967295|N>>>11),N=x+(k^(C|~P))+j[4]+4149444226&4294967295,x=C+(N<<6&4294967295|N>>>26),N=P+(C^(x|~k))+j[11]+3174756917&4294967295,P=x+(N<<10&4294967295|N>>>22),N=k+(x^(P|~C))+j[2]+718787259&4294967295,k=P+(N<<15&4294967295|N>>>17),N=C+(P^(k|~x))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+k&4294967295,R.g[3]=R.g[3]+P&4294967295}s.prototype.v=function(R,x){x===void 0&&(x=R.length);const C=x-this.blockSize,j=this.C;let k=this.h,P=0;for(;P<x;){if(k==0)for(;P<=C;)o(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<x;)if(j[k++]=R.charCodeAt(P++),k==this.blockSize){o(this,j),k=0;break}}else for(;P<x;)if(j[k++]=R[P++],k==this.blockSize){o(this,j),k=0;break}}this.h=k,this.o+=x},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;x=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=x&255,x/=256;for(this.v(R),R=Array(16),x=0,C=0;C<4;++C)for(let j=0;j<32;j+=8)R[x++]=this.g[C]>>>j&255;return R};function u(R,x){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=x(R)}function h(R,x){this.h=x;const C=[];let j=!0;for(let k=R.length-1;k>=0;k--){const P=R[k]|0;j&&P==x||(C[k]=P,j=!1)}this.g=C}var m={};function p(R){return-128<=R&&R<128?u(R,function(x){return new h([x|0],x<0?-1:0)}):new h([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return G(g(-R));const x=[];let C=1;for(let j=0;R>=C;j++)x[j]=R/C|0,C*=4294967296;return new h(x,0)}function T(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return G(T(R.substring(1),x));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(x,8));let j=b;for(let P=0;P<R.length;P+=8){var k=Math.min(8,R.length-P);const N=parseInt(R.substring(P,P+k),x);k<8?(k=g(Math.pow(x,k)),j=j.j(k).add(g(N))):(j=j.j(C),j=j.add(g(N)))}return j}var b=p(0),A=p(1),O=p(16777216);i=h.prototype,i.m=function(){if(q(this))return-G(this).m();let R=0,x=1;for(let C=0;C<this.g.length;C++){const j=this.i(C);R+=(j>=0?j:4294967296+j)*x,x*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D(this))return"0";if(q(this))return"-"+G(this).toString(R);const x=g(Math.pow(R,6));var C=this;let j="";for(;;){const k=de(C,x).g;C=ne(C,k.j(x));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=k,D(C))return P+j;for(;P.length<6;)P="0"+P;j=P+j}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function D(R){if(R.h!=0)return!1;for(let x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function q(R){return R.h==-1}i.l=function(R){return R=ne(this,R),q(R)?-1:D(R)?0:1};function G(R){const x=R.g.length,C=[];for(let j=0;j<x;j++)C[j]=~R.g[j];return new h(C,~R.h).add(A)}i.abs=function(){return q(this)?G(this):this},i.add=function(R){const x=Math.max(this.g.length,R.g.length),C=[];let j=0;for(let k=0;k<=x;k++){let P=j+(this.i(k)&65535)+(R.i(k)&65535),N=(P>>>16)+(this.i(k)>>>16)+(R.i(k)>>>16);j=N>>>16,P&=65535,N&=65535,C[k]=N<<16|P}return new h(C,C[C.length-1]&-2147483648?-1:0)};function ne(R,x){return R.add(G(x))}i.j=function(R){if(D(this)||D(R))return b;if(q(this))return q(R)?G(this).j(G(R)):G(G(this).j(R));if(q(R))return G(this.j(G(R)));if(this.l(O)<0&&R.l(O)<0)return g(this.m()*R.m());const x=this.g.length+R.g.length,C=[];for(var j=0;j<2*x;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(let k=0;k<R.g.length;k++){const P=this.i(j)>>>16,N=this.i(j)&65535,st=R.i(k)>>>16,Ot=R.i(k)&65535;C[2*j+2*k]+=N*Ot,te(C,2*j+2*k),C[2*j+2*k+1]+=P*Ot,te(C,2*j+2*k+1),C[2*j+2*k+1]+=N*st,te(C,2*j+2*k+1),C[2*j+2*k+2]+=P*st,te(C,2*j+2*k+2)}for(R=0;R<x;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=x;R<2*x;R++)C[R]=0;return new h(C,0)};function te(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function re(R,x){this.g=R,this.h=x}function de(R,x){if(D(x))throw Error("division by zero");if(D(R))return new re(b,b);if(q(R))return x=de(G(R),x),new re(G(x.g),G(x.h));if(q(x))return x=de(R,G(x)),new re(G(x.g),x.h);if(R.g.length>30){if(q(R)||q(x))throw Error("slowDivide_ only works with positive integers.");for(var C=A,j=x;j.l(R)<=0;)C=Ae(C),j=Ae(j);var k=Ee(C,1),P=Ee(j,1);for(j=Ee(j,2),C=Ee(C,2);!D(j);){var N=P.add(j);N.l(R)<=0&&(k=k.add(C),P=N),j=Ee(j,1),C=Ee(C,1)}return x=ne(R,k.j(x)),new re(k,x)}for(k=b;R.l(x)>=0;){for(C=Math.max(1,Math.floor(R.m()/x.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),P=g(C),N=P.j(x);q(N)||N.l(R)>0;)C-=j,P=g(C),N=P.j(x);D(P)&&(P=A),k=k.add(P),R=ne(R,N)}return new re(k,R)}i.B=function(R){return de(this,R).h},i.and=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let j=0;j<x;j++)C[j]=this.i(j)&R.i(j);return new h(C,this.h&R.h)},i.or=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let j=0;j<x;j++)C[j]=this.i(j)|R.i(j);return new h(C,this.h|R.h)},i.xor=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let j=0;j<x;j++)C[j]=this.i(j)^R.i(j);return new h(C,this.h^R.h)};function Ae(R){const x=R.g.length+1,C=[];for(let j=0;j<x;j++)C[j]=R.i(j)<<1|R.i(j-1)>>>31;return new h(C,R.h)}function Ee(R,x){const C=x>>5;x%=32;const j=R.g.length-C,k=[];for(let P=0;P<j;P++)k[P]=x>0?R.i(P+C)>>>x|R.i(P+C+1)<<32-x:R.i(P+C);return new h(k,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,gT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=T,ps=h}).apply(typeof Zb<"u"?Zb:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yT,Fl,_T,_h,up,vT,bT,ET;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in E))break e;E=E[z]}c=c[c.length-1],w=E[c],y=y(w),y!=w&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&E.push([w,y[w]]);return E}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function T(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function b(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(w,z,Y){for(var ie=Array(arguments.length-2),we=2;we<arguments.length;we++)ie[we-2]=arguments[we];return y.prototype[z].apply(w,ie)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const y=c.length;if(y>0){const E=Array(y);for(let w=0;w<y;w++)E[w]=c[w];return E}return[]}function D(c,y){for(let w=1;w<arguments.length;w++){const z=arguments[w];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=c.length||0;const Y=z.length||0;c.length=E+Y;for(let ie=0;ie<Y;ie++)c[E+ie]=z[ie]}else c.push(z)}}class q{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(c){h.setTimeout(()=>{throw c},0)}function ne(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,E){const w=re.get();w.set(y,E),this.h?this.h.next=w:this.g=w,this.h=w}}var re=new q(()=>new de,c=>c.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,Ee=!1,R=new te,x=()=>{const c=Promise.resolve(void 0);Ae=()=>{c.then(C)}};function C(){for(var c;c=ne();){try{c.h.call(c.g)}catch(E){G(E)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Ee=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function st(c,y){k.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(st,k),st.prototype.init=function(c,y){const E=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ot="closure_listenable_"+(Math.random()*1e6|0),Q=0;function se(c,y,E,w,z){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!w,this.ha=z,this.key=++Q,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pe(c,y,E){for(const w in c)y.call(E,c[w],w,c)}function Ye(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function L(c){const y={};for(const E in c)y[E]=c[E];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let E,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(E in w)c[E]=w[E];for(let Y=0;Y<Z.length;Y++)E=Z[Y],Object.prototype.hasOwnProperty.call(w,E)&&(c[E]=w[E])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,E,w,z){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const ie=Re(c,y,w,z);return ie>-1?(y=c[ie],E||(y.fa=!1)):(y=new se(y,this.src,Y,!!w,z),y.fa=E,c.push(y)),y};function ve(c,y){const E=y.type;if(E in c.g){var w=c.g[E],z=Array.prototype.indexOf.call(w,y,void 0),Y;(Y=z>=0)&&Array.prototype.splice.call(w,z,1),Y&&(pe(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Re(c,y,E,w){for(let z=0;z<c.length;++z){const Y=c[z];if(!Y.da&&Y.listener==y&&Y.capture==!!E&&Y.ha==w)return z}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Mt={};function at(c,y,E,w,z){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)at(c,y[Y],E,w,z);return null}return E=Uo(E),c&&c[Ot]?c.J(y,E,m(w)?!!w.capture:!1,z):Rs(c,y,E,!1,w,z)}function Rs(c,y,E,w,z,Y){if(!y)throw Error("Invalid event type");const ie=m(z)?!!z.capture:!!z;let we=Cs(c);if(we||(c[je]=we=new ue(c)),E=we.add(y,E,w,ie,Y),E.proxy)return E;if(w=Ea(),E.proxy=w,w.src=c,w.listener=E,c.addEventListener)P||(z=ie),z===void 0&&(z=!1),c.addEventListener(y.toString(),w,z);else if(c.attachEvent)c.attachEvent(fr(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ea(){function c(E){return y.call(c.src,c.listener,E)}const y=Lo;return c}function Ta(c,y,E,w,z){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Ta(c,y[Y],E,w,z);else w=m(w)?!!w.capture:!!w,E=Uo(E),c&&c[Ot]?(c=c.i,Y=String(y).toString(),Y in c.g&&(y=c.g[Y],E=Re(y,E,w,z),E>-1&&(pe(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[Y],c.h--)))):c&&(c=Cs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Re(y,E,w,z)),(E=c>-1?y[c]:null)&&Sa(E))}function Sa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ot])ve(y.i,c);else{var E=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(E,w,c.capture):y.detachEvent?y.detachEvent(fr(E),w):y.addListener&&y.removeListener&&y.removeListener(w),(E=Cs(y))?(ve(E,c),E.h==0&&(E.src=null,y[je]=null)):pe(c)}}}function fr(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function Lo(c,y){if(c.da)c=!0;else{y=new st(y,this);const E=c.listener,w=c.ha||c.src;c.fa&&Sa(c),c=E.call(w,y)}return c}function Cs(c){return c=c[je],c instanceof ue?c:null}var jo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Uo(c){return typeof c=="function"?c:(c[jo]||(c[jo]=function(y){return c.handleEvent(y)}),c[jo])}function bt(){j.call(this),this.i=new ue(this),this.M=this,this.G=null}b(bt,j),bt.prototype[Ot]=!0,bt.prototype.removeEventListener=function(c,y,E,w){Ta(this,c,y,E,w)};function kt(c,y){var E,w=c.G;if(w)for(E=[];w;w=w.G)E.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new k(y,c);else if(y instanceof k)y.target=y.target||c;else{var z=y;y=new k(w,c),ae(y,z)}z=!0;let Y,ie;if(E)for(ie=E.length-1;ie>=0;ie--)Y=y.g=E[ie],z=Ci(Y,w,!0,y)&&z;if(Y=y.g=c,z=Ci(Y,w,!0,y)&&z,z=Ci(Y,w,!1,y)&&z,E)for(ie=0;ie<E.length;ie++)Y=y.g=E[ie],z=Ci(Y,w,!1,y)&&z}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let w=0;w<E.length;w++)pe(E[w]);delete c.g[y],c.h--}}this.G=null},bt.prototype.J=function(c,y,E,w){return this.i.add(String(c),y,!1,E,w)},bt.prototype.K=function(c,y,E,w){return this.i.add(String(c),y,!0,E,w)};function Ci(c,y,E,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let Y=0;Y<y.length;++Y){const ie=y[Y];if(ie&&!ie.da&&ie.capture==E){const we=ie.listener,pt=ie.ha||ie.src;ie.fa&&ve(c.i,ie),z=we.call(pt,w)!==!1&&z}}return z&&!w.defaultPrevented}function Nd(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Ru(c){c.g=Nd(()=>{c.g=null,c.i&&(c.i=!1,Ru(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class rn extends j{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ru(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(c){j.call(this),this.h=c,this.g={}}b(Ns,j);var Po=[];function zo(c){Pe(c.g,function(y,E){this.g.hasOwnProperty(E)&&Sa(y)},c),c.g={}}Ns.prototype.N=function(){Ns.Z.N.call(this),zo(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ni=h.JSON.stringify,Id=h.JSON.parse,Cu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Nu(){}function Iu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){k.call(this,"d")}b(qt,k);function Dn(){k.call(this,"c")}b(Dn,k);var mt={},Du=null;function Aa(){return Du=Du||new bt}mt.Ia="serverreachability";function Ou(c){k.call(this,mt.Ia,c)}b(Ou,k);function mr(c){const y=Aa();kt(y,new Ou(y))}mt.STAT_EVENT="statevent";function Is(c,y){k.call(this,mt.STAT_EVENT,c),this.stat=y}b(Is,k);function Et(c){const y=Aa();kt(y,new Is(y,c))}mt.Ja="timingevent";function pr(c,y){k.call(this,mt.Ja,c),this.size=y}b(pr,k);function gr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Dd(c,y,E,w,z,Y){c.info(function(){if(c.g)if(Y){var ie="",we=Y.split("&");for(let He=0;He<we.length;He++){var pt=we[He].split("=");if(pt.length>1){const ot=pt[0];pt=pt[1];const Vn=ot.split("_");ie=Vn.length>=2&&Vn[1]=="type"?ie+(ot+"="+pt+"&"):ie+(ot+"=redacted&")}}}else ie=null;else ie=Y;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+E+`
`+ie})}function Mu(c,y,E,w,z,Y,ie){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+E+`
`+Y+" "+ie})}function yr(c,y,E,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Od(c,E)+(w?" "+w:"")})}function Ds(c,y){c.info(function(){return"TIMEOUT: "+y})}Qn.prototype.info=function(){};function Od(c,y){if(!c.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var E=Y[c];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var z=w[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ie=1;ie<w.length;ie++)w[ie]=""}}}}return Ni(Y)}catch{return y}}var Os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ho;function Ms(){}b(Ms,Nu),Ms.prototype.g=function(){return new XMLHttpRequest},Ho=new Ms;function Kr(c){return encodeURIComponent(String(c))}function ku(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Xn(c,y,E,w){this.j=c,this.i=y,this.l=E,this.S=w||1,this.V=new Ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var Tt={},Pt={};function _r(c,y,E){c.M=1,c.A=ks(At(y)),c.u=E,c.R=!0,wa(c,null)}function wa(c,y){c.F=Date.now(),vr(c),c.B=At(c.A);var E=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Na(E.i,"t",w),c.C=0,E=c.j.L,c.h=new Jn,c.g=Qu(c.j,E?y:null,!c.u),c.P>0&&(c.O=new rn(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,w=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Po[0]=z.toString()),z=Po);for(let Y=0;Y<z.length;Y++){const ie=at(E,z[Y],w||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=c.J?L(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),mr(),Dd(c.i,c.v,c.B,c.l,c.S,c.u)}Xn.prototype.ba=function(c){c=c.target;const y=this.O;y&&er(c)==3?y.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{const we=er(this.g),pt=this.g.ya(),He=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||we!=4||pt==7||(pt==8||He<=0?mr(3):mr(2)),br(this);var y=this.g.ca();this.X=y;var E=Md(this);if(this.o=y==200,Mu(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,z=this.g;if((w=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var Y=w;break t}}Y=null}if(c=Y)yr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Er(this,c);else{this.o=!1,this.m=3,Et(12),_n(this),On(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<E.length;)if(ot=Lu(this,E),ot==Pt){we==4&&(this.m=4,Et(14),c=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,Et(15),yr(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else yr(this.i,this.l,ot,null),Er(this,ot);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||E.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)yr(this.i,this.l,E,"[Invalid Chunked Response]"),_n(this),On(this);else if(E.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),rl(ie),ie.P=!0,Et(11))}}else yr(this.i,this.l,E,null),Er(this,E);we==4&&_n(this),this.o&&!this.K&&(we==4?Gu(this.j,this):(this.o=!1,vr(this)))}else Qr(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),_n(this),On(this)}}}catch{}};function Md(c){if(!Vu(c))return c.g.la();const y=Ft(c.g);if(y==="")return"";let E="";const w=y.length,z=er(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),On(c),"";c.h.i=new h.TextDecoder}for(let Y=0;Y<w;Y++)c.h.h=!0,E+=c.h.i.decode(y[Y],{stream:!(z&&Y==w-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Vu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Lu(c,y){var E=c.C,w=y.indexOf(`
`,E);return w==-1?Pt:(E=Number(y.substring(E,w)),isNaN(E)?Tt:(w+=1,w+E>y.length?Pt:(y=y.slice(w,w+E),c.C=w+E,y)))}Xn.prototype.cancel=function(){this.K=!0,_n(this)};function vr(c){c.T=Date.now()+c.H,xa(c,c.H)}function xa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=gr(g(c.aa,c),y)}function br(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ds(this.i,this.B),this.M!=2&&(mr(),Et(17)),_n(this),this.m=2,On(this)):xa(this,this.T-c)};function On(c){c.j.I==0||c.K||Gu(c.j,c)}function _n(c){br(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,zo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Er(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||Sr(E.h,c))){if(!c.L&&Sr(E.h,c)&&E.I==3){try{var w=E.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)ka(E),ji(E);else break e;Bs(E),Et(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=gr(g(E.Va,E),6e3));Tr(E.h)<=1&&E.ta&&(E.ta=void 0)}else Nr(E,11)}else if((c.L||E.g==c)&&ka(E),!N(y))for(z=E.Ba.g.parse(y),y=0;y<z.length;y++){let He=z[y];const ot=He[0];if(!(ot<=E.K))if(E.K=ot,He=He[1],E.I==2)if(He[0]=="c"){E.M=He[1],E.ba=He[2];const Vn=He[3];Vn!=null&&(E.ka=Vn,E.j.info("VER="+E.ka));const Ir=He[4];Ir!=null&&(E.za=Ir,E.j.info("SVER="+E.za));const tr=He[5];tr!=null&&typeof tr=="number"&&tr>0&&(w=1.5*tr,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const nr=c.g;if(nr){const Hs=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hs){var Y=w.h;Y.g||Hs.indexOf("spdy")==-1&&Hs.indexOf("quic")==-1&&Hs.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Go(Y,Y.h),Y.h=null))}if(w.G){const Va=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;Va&&(w.wa=Va,Ke(w.J,w.G,Va))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var ie=c;if(w.na=$u(w,w.L?w.ba:null,w.W),ie.L){Yo(w.h,ie);var we=ie,pt=w.O;pt&&(we.H=pt),we.D&&(br(we),vr(we)),w.g=ie}else qu(w);E.i.length>0&&Cr(E)}else He[0]!="stop"&&He[0]!="close"||Nr(E,7);else E.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Nr(E,7):tl(E):He[0]!="noop"&&E.l&&E.l.qa(He),E.A=0)}}mr(4)}catch{}}var St=class{constructor(c,y){this.g=c,this.map=y}};function qo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tr(c){return c.h?1:c.g?c.g.size:0}function Sr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Go(c,y){c.g?c.g.add(y):c.h=y}function Yo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}qo.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ko(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return O(c.i)}var ju=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const w=c[E].indexOf("=");let z,Y=null;w>=0?(z=c[E].substring(0,w),Y=c[E].substring(w+1)):z=c[E],y(z,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof vn?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,Ii(this,c.u),this.h=c.h,$o(this,Bu(c.i)),this.m=c.m):c&&(y=String(c).match(ju))?(this.l=!1,zt(this,y[1]||"",!0),this.o=Ar(y[2]||""),this.g=Ar(y[3]||"",!0),Ii(this,y[4]),this.h=Ar(y[5]||"",!0),$o(this,y[6]||"",!0),this.m=Ar(y[7]||"")):(this.l=!1,this.i=new Oi(null,this.l))}vn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Vs(y,Ca,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Vs(y,Ca,!0),"@"),c.push(Kr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Vs(E,E.charAt(0)=="/"?Qo:Uu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Vs(E,Pu)),c.join("")},vn.prototype.resolve=function(c){const y=At(this);let E=!!c.j;E?zt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var w=c.h;if(E)Ii(y,c.u);else if(E=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var z=y.h.lastIndexOf("/");z!=-1&&(w=y.h.slice(0,z+1)+w)}if(z=w,z==".."||z==".")w="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){w=z.lastIndexOf("/",0)==0,z=z.split("/");const Y=[];for(let ie=0;ie<z.length;){const we=z[ie++];we=="."?w&&ie==z.length&&Y.push(""):we==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),w&&ie==z.length&&Y.push("")):(Y.push(we),w=!0)}w=Y.join("/")}else w=z}return E?y.h=w:E=c.i.toString()!=="",E?$o(y,Bu(c.i)):E=!!c.m,E&&(y.m=c.m),y};function At(c){return new vn(c)}function zt(c,y,E){c.j=E?Ar(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ii(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function $o(c,y,E){y instanceof Oi?(c.i=y,Ia(c.i,c.l)):(E||(y=Vs(y,Di)),c.i=new Oi(y,c.l))}function Ke(c,y,E){c.i.set(y,E)}function ks(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ar(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vs(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,ln),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ca=/[#\/\?@]/g,Uu=/[#\?:]/g,Qo=/[#\?]/g,Di=/[#\?@]/g,Pu=/#/g;function Oi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&Ra(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Oi.prototype,i.add=function(c,y){un(this),this.i=null,c=Mi(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function zu(c,y){un(c),y=Mi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Xo(c,y){return un(c),y=Mi(c,y),c.g.has(y)}i.forEach=function(c,y){un(this),this.g.forEach(function(E,w){E.forEach(function(z){c.call(y,z,w,this)},this)},this)};function Jo(c,y){un(c);let E=[];if(typeof y=="string")Xo(c,y)&&(E=E.concat(c.g.get(Mi(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}i.set=function(c,y){return un(this),this.i=null,c=Mi(this,c),Xo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=Jo(this,c),c.length>0?String(c[0]):y):y};function Na(c,y,E){zu(c,y),E.length>0&&(c.i=null,c.g.set(Mi(c,y),O(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var E=y[w];const z=Kr(E);E=Jo(this,E);for(let Y=0;Y<E.length;Y++){let ie=z;E[Y]!==""&&(ie+="="+Kr(E[Y])),c.push(ie)}}return this.i=c.join("&")};function Bu(c){const y=new Oi;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Mi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ia(c,y){y&&!c.j&&(un(c),c.i=null,c.g.forEach(function(E,w){const z=w.toLowerCase();w!=z&&(zu(this,w),Na(this,z,E))},c)),c.j=y}function Wn(c,y){const E=new Qn;if(h.Image){const w=new Image;w.onload=T(Mn,E,"TestLoadImage: loaded",!0,y,w),w.onerror=T(Mn,E,"TestLoadImage: error",!1,y,w),w.onabort=T(Mn,E,"TestLoadImage: abort",!1,y,w),w.ontimeout=T(Mn,E,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Wo(c,y){const E=new Qn,w=new AbortController,z=setTimeout(()=>{w.abort(),Mn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(Y=>{clearTimeout(z),Y.ok?Mn(E,"TestPingServer: ok",!0,y):Mn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Mn(E,"TestPingServer: error",!1,y)})}function Mn(c,y,E,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(E)}catch{}}function ki(){this.g=new Cu}function wr(c){this.i=c.Sb||null,this.h=c.ab||!1}b(wr,Nu),wr.prototype.g=function(){return new Ls(this.i,this.h)};function Ls(c,y){bt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ls,bt),i=Ls.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Zn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vi(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Vi(this):Zn(this),this.readyState==3&&Da(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Vi(this))},i.Na=function(c){this.g&&(this.response=c,Vi(this))},i.ga=function(){this.g&&Vi(this)};function Vi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Zn(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kn(c){let y="";return Pe(c,function(E,w){y+=w,y+=":",y+=E,y+=`\r
`}),y}function js(c,y,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=kn(E),typeof c=="string"?E!=null&&Kr(E):Ke(c,y,E))}function Xe(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xe,bt);var xr=/^https?$/i,Zo=["POST","PUT"];i=Xe.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ho.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Us(this,Y);return}if(c=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)E.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())E.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Zo,y,void 0)>=0)||w||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ie]of E)this.g.setRequestHeader(Y,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){Us(this,Y)}};function Us(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,el(c),$r(c)}function el(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,kt(this,"complete"),kt(this,"abort"),$r(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$r(this,!0)),Xe.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ps(this):this.Xa())},i.Xa=function(){Ps(this)};function Ps(c){if(c.h&&typeof u<"u"){if(c.v&&er(c)==4)setTimeout(c.Ca.bind(c),0);else if(kt(c,"readystatechange"),er(c)==4){c.h=!1;try{const Y=c.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var w;if(w=Y===0){let ie=String(c.D).match(ju)[1]||null;!ie&&h.self&&h.self.location&&(ie=h.self.location.protocol.slice(0,-1)),w=!xr.test(ie?ie.toLowerCase():"")}E=w}if(E)kt(c,"complete"),kt(c,"success");else{c.o=6;try{var z=er(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",el(c)}}finally{$r(c)}}}}function $r(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||kt(c,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function er(c){return c.g?c.g.readyState:0}i.ca=function(){try{return er(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Id(y)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qr(c){const y={};c=(c.g&&er(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(N(c[w]))continue;var E=ku(c[w]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=y[z]||[];y[z]=Y,Y.push(E)}Ye(y,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rr(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Li(c){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Rr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Rr("baseRetryDelayMs",5e3,c),this.Za=Rr("retryDelaySeedMs",1e4,c),this.Ta=Rr("forwardChannelMaxRetries",2,c),this.va=Rr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new qo(c&&c.concurrentRequestLimit),this.Ba=new ki,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Li.prototype,i.ka=8,i.I=1,i.connect=function(c,y,E,w){Et(0),this.W=c,this.H=y||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=$u(this,null,this.W),Cr(this)};function tl(c){if(Oa(c),c.I==3){var y=c.V++,E=At(c.J);if(Ke(E,"SID",c.M),Ke(E,"RID",y),Ke(E,"TYPE","terminate"),zs(c,E),y=new Xn(c,c.j,y),y.M=2,y.A=ks(At(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=Qu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),vr(y)}Ku(c)}function ji(c){c.g&&(rl(c),c.g.cancel(),c.g=null)}function Oa(c){ji(c),c.v&&(h.clearTimeout(c.v),c.v=null),ka(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Cr(c){if(!Fo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Ae||x(),Ee||(Ae(),Ee=!0),R.add(y,c),c.D=0}}function Ma(c,y){return Tr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=gr(g(c.Ea,c,y),Yu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Xn(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=L(Y),ae(Y,this.U)):Y=this.U),this.u!==null||this.R||(z.J=Y,Y=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Hu(this,z,y),E=At(this.J),Ke(E,"RID",c),Ke(E,"CVER",22),this.G&&Ke(E,"X-HTTP-Session-Id",this.G),zs(this,E),Y&&(this.R?y="headers="+Kr(kn(Y))+"&"+y:this.u&&js(E,this.u,Y)),Go(this.h,z),this.Ra&&Ke(E,"TYPE","init"),this.S?(Ke(E,"$req",y),Ke(E,"SID","null"),z.U=!0,_r(z,E,null)):_r(z,E,y),this.I=2}}else this.I==3&&(c?nl(this,c):this.i.length==0||Fo(this.h)||nl(this))};function nl(c,y){var E;y?E=y.l:E=c.V++;const w=At(c.J);Ke(w,"SID",c.M),Ke(w,"RID",E),Ke(w,"AID",c.K),zs(c,w),c.u&&c.o&&js(w,c.u,c.o),E=new Xn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Hu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Go(c.h,E),_r(E,w,y)}function zs(c,y){c.H&&Pe(c.H,function(E,w){Ke(y,w,E)}),c.l&&Pe({},function(E,w){Ke(y,w,E)})}function Hu(c,y,E){E=Math.min(c.i.length,E);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let we=-1;for(;;){const pt=["count="+E];we==-1?E>0?(we=z[0].g,pt.push("ofs="+we)):we=0:pt.push("ofs="+we);let He=!0;for(let ot=0;ot<E;ot++){var Y=z[ot].g;const Vn=z[ot].map;if(Y-=we,Y<0)we=Math.max(0,z[ot].g-100),He=!1;else try{Y="req"+Y+"_"||"";try{var ie=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ir,tr]of ie){let nr=tr;m(tr)&&(nr=Ni(tr)),pt.push(Y+Ir+"="+encodeURIComponent(nr))}}catch(Ir){throw pt.push(Y+"type="+encodeURIComponent("_badmap")),Ir}}catch{w&&w(Vn)}}if(He){ie=pt.join("&");break e}}ie=void 0}return c=c.i.splice(0,E),y.G=c,ie}function qu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Ae||x(),Ee||(Ae(),Ee=!0),R.add(y,c),c.A=0}}function Bs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=gr(g(c.Da,c),Yu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=gr(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),ji(this),Fu(this))};function rl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Fu(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),zs(c,y),c.u&&c.o&&js(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=ks(At(y)),E.u=null,E.R=!0,wa(E,c)}i.Va=function(){this.C!=null&&(this.C=null,ji(this),Bs(this),Et(19))};function ka(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Gu(c,y){var E=null;if(c.g==y){ka(c),rl(c),c.g=null;var w=2}else if(Sr(c.h,y))E=y.G,Yo(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;w=Aa(),kt(w,new pr(w,E)),Cr(c)}else qu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(w==1&&Ma(c,y)||w==2&&Bs(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),z){case 1:Nr(c,5);break;case 4:Nr(c,10);break;case 3:Nr(c,6);break;default:Nr(c,2)}}}function Yu(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Nr(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),w=c.Ua;const z=!w;w=new vn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zt(w,"https"),ks(w),z?Wn(w.toString(),E):Wo(w.toString(),E)}else Et(2);c.I=0,c.l&&c.l.pa(y),Ku(c),Oa(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Ku(c){if(c.I=0,c.ja=[],c.l){const y=Ko(c.h);(y.length!=0||c.i.length!=0)&&(D(c.ja,y),D(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function $u(c,y,E){var w=E instanceof vn?At(E):new vn(E);if(w.g!="")y&&(w.g=y+"."+w.g),Ii(w,w.u);else{var z=h.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const Y=new vn(null);w&&zt(Y,w),y&&(Y.g=y),z&&Ii(Y,z),E&&(Y.h=E),w=Y}return E=c.G,y=c.wa,E&&y&&Ke(w,E,y),Ke(w,"VER",c.ka),zs(c,w),w}function Qu(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new wr({ab:E})):new Xe(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}i=Xu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ui(){}Ui.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){bt.call(this),this.g=new Li(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Xr(this)}b(sn,bt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){tl(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Ni(c),c=E);y.i.push(new St(y.Ya++,c)),y.I==3&&Cr(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,sn.Z.N.call(this)};function Ju(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Ju,qt);function Wu(){Dn.call(this),this.status=1}b(Wu,Dn);function Xr(c){this.g=c}b(Xr,Xu),Xr.prototype.ra=function(){kt(this.g,"a")},Xr.prototype.qa=function(c){kt(this.g,new Ju(c))},Xr.prototype.pa=function(c){kt(this.g,new Wu)},Xr.prototype.oa=function(){kt(this.g,"b")},Ui.prototype.createWebChannel=Ui.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,ET=function(){return new Ui},bT=function(){return Aa()},vT=mt,up={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,_h=Os,Bo.COMPLETE="complete",_T=Bo,Iu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Fl=Iu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,yT=Xe}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});let en=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let Do="12.8.0";function gN(i){Do=i}const fa=new Up("@firebase/firestore");function ho(){return fa.logLevel}function le(i,...e){if(fa.logLevel<=Me.DEBUG){const n=e.map(Jp);fa.debug(`Firestore (${Do}): ${i}`,...n)}}function Ei(i,...e){if(fa.logLevel<=Me.ERROR){const n=e.map(Jp);fa.error(`Firestore (${Do}): ${i}`,...n)}}function To(i,...e){if(fa.logLevel<=Me.WARN){const n=e.map(Jp);fa.warn(`Firestore (${Do}): ${i}`,...n)}}function Jp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function ye(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,TT(i,s,n)}function TT(i,e,n){let s=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ei(s),new Error(s)}function Ge(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||TT(e,o,s)}function Se(i,e){return i}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class ST{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class _N{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vN{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new ST(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class bN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class EN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new bN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class e0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new e0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new e0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function SN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Wp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=SN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function cp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Fm(o)===Fm(u)?ke(o,u):Fm(o)?1:-1}return ke(i.length,e.length)}const AN=55296,wN=57343;function Fm(i){const e=i.charCodeAt(0);return e>=AN&&e<=wN}function So(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const t0="__name__";class Vr{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Vr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=Vr.isNumericId(e),o=Vr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vr.extractNumericId(e).compare(Vr.extractNumericId(n)):cp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ps.fromString(e.substring(4,e.length-2))}}class tt extends Vr{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const xN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Vr{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return xN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===t0}static keyField(){return new Xt([t0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new oe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}function AT(i,e,n){if(!n)throw new oe(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function RN(i,e,n,s){if(e===!0&&s===!0)throw new oe(J.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function n0(i){if(!me.isDocumentKey(i))throw new oe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function r0(i){if(me.isDocumentKey(i))throw new oe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function wT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function rd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ye(12329,{type:typeof i})}function yn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new oe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rd(i);throw new oe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Dt(i,e){const n={typeString:i};return e&&(n.value=e),n}function vu(i,e){if(!wT(i))throw new oe(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(J.INVALID_ARGUMENT,n);return!0}const i0=-62135596800,s0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*s0);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<i0)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/s0}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-i0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Dt("string",it._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new it(0,0))}static max(){return new be(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ru=-1;function CN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new _s(o,me.empty(),e)}function NN(i){return new _s(i.readTime,i.key,ru)}class _s{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new _s(be.min(),me.empty(),ru)}static max(){return new _s(be.max(),me.empty(),ru)}}function IN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}const DN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ON{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Oo(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==DN)throw i;le("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((T=>{h[g]=T,++m,m===u&&s(h)}),(T=>o(T)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function MN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(i){return i.name==="IndexedDbTransactionError"}class id{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}id.ce=-1;const Zp=-1;function sd(i){return i==null}function Vh(i){return i===0&&1/i==-1/0}function kN(i){return typeof i=="number"&&Number.isInteger(i)&&!Vh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const xT="";function VN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=a0(e)),e=LN(i.get(n),e);return a0(e)}function LN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case xT:n+="";break;default:n+=u}}return n}function a0(i){return i+xT+""}function o0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function As(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function RT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sh(this.root,e,this.comparator,!0)}}class sh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new l0(this.data.getIterator())}getIteratorFrom(e){return new l0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class l0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new jt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class CT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new CT("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const jN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const n=jN.exec(i);if(Ge(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function bs(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}const NT="server_timestamp",IT="__type__",DT="__previous_value__",OT="__local_write_time__";function eg(i){return(i?.mapValue?.fields||{})[IT]?.stringValue===NT}function ad(i){const e=i.mapValue.fields[DT];return eg(e)?ad(e):e}function iu(i){const e=vs(i.mapValue.fields[OT].timestampValue);return new it(e.seconds,e.nanos)}class UN{constructor(e,n,s,o,u,h,m,p,g,T,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T,this.apiKey=b}}const Lh="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||Lh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}function PN(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new oe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(i.options.projectId,e)}const MT="__type__",zN="__max__",ah={mapValue:{}},kT="__vector__",jh="value";function Es(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?eg(i)?4:HN(i)?9007199254740991:BN(i)?10:11:ye(28295,{value:i})}function qr(i,e){if(i===e)return!0;const n=Es(i);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return iu(i).isEqual(iu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=vs(o.timestampValue),m=vs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return bs(o.bytesValue).isEqual(bs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?Vh(h)===Vh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return So(i.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(o0(h)!==o0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!qr(h[p],m[p])))return!1;return!0})(i,e);default:return ye(52216,{left:i})}}function au(i,e){return(i.values||[]).find((n=>qr(n,e)))!==void 0}function Ao(i,e){if(i===e)return 0;const n=Es(i),s=Es(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=_t(u.integerValue||u.doubleValue),p=_t(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return u0(i.timestampValue,e.timestampValue);case 4:return u0(iu(i),iu(e));case 5:return cp(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=bs(u),p=bs(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=ke(m[g],p[g]);if(T!==0)return T}return ke(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=ke(_t(u.latitude),_t(h.latitude));return m!==0?m:ke(_t(u.longitude),_t(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return c0(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[jh]?.arrayValue,T=p[jh]?.arrayValue,b=ke(g?.values?.length||0,T?.values?.length||0);return b!==0?b:c0(g,T)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===ah.mapValue&&h===ah.mapValue)return 0;if(u===ah.mapValue)return 1;if(h===ah.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const A=cp(p[b],T[b]);if(A!==0)return A;const O=Ao(m[p[b]],g[T[b]]);if(O!==0)return O}return ke(p.length,T.length)})(i.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function u0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=vs(i),s=vs(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function c0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ao(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function wo(i){return hp(i)}function hp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=vs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return bs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return me.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=hp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${hp(n.fields[h])}`;return o+"}"})(i.mapValue):ye(61005,{value:i})}function vh(i){switch(Es(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ad(i);return e?16+vh(e):16;case 5:return 2*i.stringValue.length;case 6:return bs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+vh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return As(s.fields,((u,h)=>{o+=u.length+vh(h)})),o})(i.mapValue);default:throw ye(13486,{value:i})}}function h0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function dp(i){return!!i&&"integerValue"in i}function tg(i){return!!i&&"arrayValue"in i}function d0(i){return!!i&&"nullValue"in i}function f0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function bh(i){return!!i&&"mapValue"in i}function BN(i){return(i?.mapValue?.fields||{})[MT]?.stringValue===kT}function Xl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return As(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Xl(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(i.arrayValue.values[n]);return e}return{...i}}function HN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===zN}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Xl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];bh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){As(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new gn(Xl(this.value))}}function VT(i){const e=[];return As(i.fields,((n,s)=>{const o=new Xt([n]);if(bh(s)){const u=VT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Rn(e)}class tn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,be.min(),be.min(),be.min(),gn.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,be.min(),be.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,be.min(),be.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Uh{constructor(e,n){this.position=e,this.inclusive=n}}function m0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),n.key):s=Ao(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function p0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!qr(i.position[n],e.position[n]))return!1;return!0}class ou{constructor(e,n="asc"){this.field=e,this.dir=n}}function qN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class LT{}class It extends LT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new GN(e,n,s):n==="array-contains"?new $N(e,s):n==="in"?new QN(e,s):n==="not-in"?new XN(e,s):n==="array-contains-any"?new JN(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new YN(e,s):new KN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ao(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends LT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cr(e,n)}matches(e){return jT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jT(i){return i.op==="and"}function UT(i){return FN(i)&&jT(i)}function FN(i){for(const e of i.filters)if(e instanceof cr)return!1;return!0}function fp(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+wo(i.value);if(UT(i))return i.filters.map((e=>fp(e))).join(",");{const e=i.filters.map((n=>fp(n))).join(",");return`${i.op}(${e})`}}function PT(i,e){return i instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&qr(s.value,o.value)})(i,e):i instanceof cr?(function(s,o){return o instanceof cr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&PT(h,o.filters[m])),!0):!1})(i,e):void ye(19439)}function zT(i){return i instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`})(i):i instanceof cr?(function(n){return n.op.toString()+" {"+n.getFilters().map(zT).join(" ,")+"}"})(i):"Filter"}class GN extends It{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class YN extends It{constructor(e,n){super(e,"in",n),this.keys=BT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class KN extends It{constructor(e,n){super(e,"not-in",n),this.keys=BT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function BT(i,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class $N extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tg(n)&&au(n.arrayValue,this.value)}}class QN extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class XN extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class JN extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>au(this.value.arrayValue,s)))}}class WN{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function g0(i,e=null,n=[],s=[],o=null,u=null,h=null){return new WN(i,e,n,s,o,u,h)}function ng(i){const e=Se(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>fp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),sd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>wo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>wo(s))).join(",")),e.Te=n}return e.Te}function rg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!qN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!PT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!p0(i.startAt,e.startAt)&&p0(i.endAt,e.endAt)}function mp(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class ko{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ZN(i,e,n,s,o,u,h,m){return new ko(i,e,n,s,o,u,h,m)}function od(i){return new ko(i)}function y0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function eI(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function HT(i){return i.collectionGroup!==null}function Jl(i){const e=Se(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new jt(Xt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ou(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new ou(Xt.keyField(),s))}return e.Ie}function Pr(i){const e=Se(i);return e.Ee||(e.Ee=tI(e,Jl(i))),e.Ee}function tI(i,e){if(i.limitType==="F")return g0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ou(o.field,u)}));const n=i.endAt?new Uh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Uh(i.startAt.position,i.startAt.inclusive):null;return g0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function pp(i,e){const n=i.filters.concat([e]);return new ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function nI(i,e){const n=i.explicitOrderBy.concat([e]);return new ko(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function Ph(i,e,n){return new ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ld(i,e){return rg(Pr(i),Pr(e))&&i.limitType===e.limitType}function qT(i){return`${ng(Pr(i))}|lt:${i.limitType}`}function fo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>zT(o))).join(", ")}]`),sd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>wo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>wo(o))).join(",")),`Target(${s})`})(Pr(i))}; limitType=${i.limitType})`}function ud(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of Jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=m0(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,Jl(s),o)||s.endAt&&!(function(h,m,p){const g=m0(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,Jl(s),o))})(i,e)}function rI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function FT(i){return(e,n)=>{let s=!1;for(const o of Jl(i)){const u=iI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function iI(i,e,n){const s=i.field.isKeyField()?me.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Ao(p,g):ye(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:i.dir})}}class va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return RT(this.inner)}size(){return this.innerSize}}const sI=new ct(me.comparator);function Ti(){return sI}const GT=new ct(me.comparator);function Gl(...i){let e=GT;for(const n of i)e=e.insert(n.key,n);return e}function YT(i){let e=GT;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function aa(){return Wl()}function KT(){return Wl()}function Wl(){return new va((i=>i.toString()),((i,e)=>i.isEqual(e)))}const aI=new ct(me.comparator),oI=new jt(me.comparator);function Ve(...i){let e=oI;for(const n of i)e=e.add(n);return e}const lI=new jt(ke);function uI(){return lI}function ig(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function $T(i){return{integerValue:""+i}}function cI(i,e){return kN(e)?$T(e):ig(i,e)}class cd{constructor(){this._=void 0}}function hI(i,e,n){return i instanceof lu?(function(o,u){const h={fields:{[IT]:{stringValue:NT},[OT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&eg(u)&&(u=ad(u)),u&&(h.fields[DT]=u),{mapValue:h}})(n,e):i instanceof uu?XT(i,e):i instanceof cu?JT(i,e):(function(o,u){const h=QT(o,u),m=_0(h)+_0(o.Ae);return dp(h)&&dp(o.Ae)?$T(m):ig(o.serializer,m)})(i,e)}function dI(i,e,n){return i instanceof uu?XT(i,e):i instanceof cu?JT(i,e):n}function QT(i,e){return i instanceof zh?(function(s){return dp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class lu extends cd{}class uu extends cd{constructor(e){super(),this.elements=e}}function XT(i,e){const n=WT(e);for(const s of i.elements)n.some((o=>qr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class cu extends cd{constructor(e){super(),this.elements=e}}function JT(i,e){let n=WT(e);for(const s of i.elements)n=n.filter((o=>!qr(o,s)));return{arrayValue:{values:n}}}class zh extends cd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function _0(i){return _t(i.integerValue||i.doubleValue)}function WT(i){return tg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class fI{constructor(e,n){this.field=e,this.transform=n}}function mI(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof uu&&o instanceof uu||s instanceof cu&&o instanceof cu?So(s.elements,o.elements,qr):s instanceof zh&&o instanceof zh?qr(s.Ae,o.Ae):s instanceof lu&&o instanceof lu})(i.transform,e.transform)}class pI{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class hd{}function ZT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new sg(i.key,Kn.none()):new bu(i.key,i.data,Kn.none());{const n=i.data,s=gn.empty();let o=new jt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ws(i.key,s,new Rn(o.toArray()),Kn.none())}}function gI(i,e,n){i instanceof bu?(function(o,u,h){const m=o.value.clone(),p=b0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof ws?(function(o,u,h){if(!Eh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=b0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(e1(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Zl(i,e,n,s){return i instanceof bu?(function(u,h,m,p){if(!Eh(u.precondition,h))return m;const g=u.value.clone(),T=E0(u.fieldTransforms,p,h);return g.setAll(T),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof ws?(function(u,h,m,p){if(!Eh(u.precondition,h))return m;const g=E0(u.fieldTransforms,p,h),T=h.data;return T.setAll(e1(u)),T.setAll(g),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,n,s):(function(u,h,m){return Eh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function yI(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=QT(s.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function v0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&So(s,o,((u,h)=>mI(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class bu extends hd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ws extends hd{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function e1(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function b0(i,e,n){const s=new Map;Ge(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,dI(h,m,n[o]))}return s}function E0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,hI(u,h,e))}return s}class sg extends hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _I extends hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&gI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=KT();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=ZT(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,((n,s)=>v0(n,s)))&&So(this.baseMutations,e.baseMutations,((n,s)=>v0(n,s)))}}class ag{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return aI})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new ag(e,n,s,o)}}class bI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class EI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,Ue;function TI(i){switch(i){case J.OK:return ye(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ye(15467,{code:i})}}function t1(i){if(i===void 0)return Ei("GRPC error has no .code"),J.UNKNOWN;switch(i){case Nt.OK:return J.OK;case Nt.CANCELLED:return J.CANCELLED;case Nt.UNKNOWN:return J.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return J.INTERNAL;case Nt.UNAVAILABLE:return J.UNAVAILABLE;case Nt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Nt.NOT_FOUND:return J.NOT_FOUND;case Nt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Nt.ABORTED:return J.ABORTED;case Nt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Nt.DATA_LOSS:return J.DATA_LOSS;default:return ye(39323,{code:i})}}(Ue=Nt||(Nt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function SI(){return new TextEncoder}const AI=new ps([4294967295,4294967295],0);function T0(i){const e=SI().encode(i),n=new gT;return n.update(e),new Uint8Array(n.digest())}function S0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ps([n,s],0),new ps([o,u],0)]}class og{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ps.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ps.fromNumber(s)));return o.compare(AI)===1&&(o=new ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=T0(e),[s,o]=S0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new og(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=T0(e),[s,o]=S0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dd{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new dd(be.min(),o,new ct(ke),Ti(),Ve())}}class Eu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Eu(s,n,Ve(),Ve(),Ve())}}class Th{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class n1{constructor(e,n){this.targetId=e,this.Ce=n}}class r1{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class A0{constructor(){this.ve=0,this.Fe=w0(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new Eu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=w0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class wI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ti(),this.He=oh(),this.Je=oh(),this.Ze=new ct(ke)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(mp(u))if(s===0){const h=new me(u.path);this.et(n,h,tn.newNoDocument(h,be.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=bs(s).toUint8Array()}catch(p){if(p instanceof CT)return To("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new og(h,o,u)}catch(p){return To(p instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&mp(m.target)){const p=new me(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,tn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=Ve();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new dd(e,n,this.Ze,this.je,s);return this.je=Ti(),this.He=oh(),this.Je=oh(),this.Ze=new ct(ke),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new A0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new jt(ke),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new jt(ke),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new A0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function oh(){return new ct(me.comparator)}function w0(){return new ct(me.comparator)}const xI={asc:"ASCENDING",desc:"DESCENDING"},RI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CI={and:"AND",or:"OR"};class NI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gp(i,e){return i.useProto3Json||sd(e)?e:{value:e}}function Bh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function i1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function II(i,e){return Bh(i,e.toTimestamp())}function zr(i){return Ge(!!i,49232),be.fromTimestamp((function(n){const s=vs(n);return new it(s.seconds,s.nanos)})(i))}function lg(i,e){return yp(i,e).canonicalString()}function yp(i,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function s1(i){const e=tt.fromString(i);return Ge(c1(e),10190,{key:e.toString()}),e}function _p(i,e){return lg(i.databaseId,e.path)}function Gm(i,e){const n=s1(e);if(n.get(1)!==i.databaseId.projectId)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new me(o1(n))}function a1(i,e){return lg(i.databaseId,e)}function DI(i){const e=s1(i);return e.length===4?tt.emptyPath():o1(e)}function vp(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function o1(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function x0(i,e,n){return{name:_p(i,e),fields:n.value.mapValue.fields}}function OI(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ye(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,T){return g.useProto3Json?(Ge(T===void 0||typeof T=="string",58123),Jt.fromBase64String(T||"")):(Ge(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Jt.fromUint8Array(T||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const T=g.code===void 0?J.UNKNOWN:t1(g.code);return new oe(T,g.message||"")})(h);n=new r1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Gm(i,s.document.name),u=zr(s.document.updateTime),h=s.document.createTime?zr(s.document.createTime):be.min(),m=new gn({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,h,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new Th(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Gm(i,s.document),u=s.readTime?zr(s.readTime):be.min(),h=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Th([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Gm(i,s.document),u=s.removedTargetIds||[];n=new Th([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new EI(o,u),m=s.targetId;n=new n1(m,h)}}return n}function MI(i,e){let n;if(e instanceof bu)n={update:x0(i,e.key,e.value)};else if(e instanceof sg)n={delete:_p(i,e.key)};else if(e instanceof ws)n={update:x0(i,e.key,e.data),updateMask:HI(e.fieldMask)};else{if(!(e instanceof _I))return ye(16599,{dt:e.type});n={verify:_p(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof lu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof uu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof cu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof zh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:II(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(i,e.precondition)),n}function kI(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?zr(o.updateTime):zr(u);return h.isEqual(be.min())&&(h=zr(u)),new pI(h,o.transformResults||[])})(n,e)))):[]}function VI(i,e){return{documents:[a1(i,e.path)]}}function LI(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=a1(i,o);const u=(function(g){if(g.length!==0)return u1(cr.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((T=>(function(A){return{field:mo(A.field),direction:PI(A.dir)}})(T)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=gp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function jI(i){let e=DI(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(b){const A=l1(b);return A instanceof cr&&UT(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((A=>(function(D){return new ou(po(D.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let A;return A=typeof b=="object"?b.value:b,sd(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(b){const A=!!b.before,O=b.values||[];return new Uh(O,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const A=!b.before,O=b.values||[];return new Uh(O,A)})(n.endAt)),ZN(e,o,h,u,m,"F",p,g)}function UI(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function l1(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=po(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=po(n.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(i):i.fieldFilter!==void 0?(function(n){return It.create(po(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return cr.create(n.compositeFilter.filters.map((s=>l1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(i):ye(30097,{filter:i})}function PI(i){return xI[i]}function zI(i){return RI[i]}function BI(i){return CI[i]}function mo(i){return{fieldPath:i.canonicalString()}}function po(i){return Xt.fromServerFormat(i.fieldPath)}function u1(i){return i instanceof It?(function(n){if(n.op==="=="){if(f0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(d0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(f0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(d0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:zI(n.op),value:n.value}}})(i):i instanceof cr?(function(n){const s=n.getFilters().map((o=>u1(o)));return s.length===1?s[0]:{compositeFilter:{op:BI(n.op),filters:s}}})(i):ye(54877,{filter:i})}function HI(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function c1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function h1(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class ds{constructor(e,n,s,o,u=be.min(),h=be.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qI{constructor(e){this.yt=e}}function FI(i){const e=jI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ph(e,e.limit,"L"):e}class GI{constructor(){this.Sn=new YI}addToCollectionParentIndex(e,n){return this.Sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(_s.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class YI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new jt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jt(tt.comparator)).toArray()}}const R0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},d1=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(d1,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class xo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new xo(0)}static ar(){return new xo(-1)}}const C0="LruGarbageCollector",KI=1048576;function N0([i,e],[n,s]){const o=ke(i,n);return o===0?ke(e,s):o}class $I{constructor(e){this.Pr=e,this.buffer=new jt(N0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();N0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(C0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?le(C0,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.Ar(3e5)}))}}class XI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(id.ce);const s=new $I(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(R0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),ho()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function JI(i,e){return new XI(i,e)}class WI{constructor(){this.changes=new va((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class eD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Zl(s.mutation,o,Rn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const o=aa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Gl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=aa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Ti();const h=Wl(),m=(function(){return Wl()})();return n.forEach(((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof ws)?u=u.insert(g.key,g):T!==void 0?(h.set(g.key,T.mutation.getFieldMask()),Zl(T.mutation,g,T.mutation.getFieldMask(),it.now())):h.set(g.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,T)=>h.set(g,T))),n.forEach(((g,T)=>m.set(g,new ZI(T,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Wl();let o=new ct(((h,m)=>h-m)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||Rn.empty();T=m.applyToLocalView(g,T),s.set(p,T);const b=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,b=KT();T.forEach((A=>{if(!u.has(A)){const O=ZT(n.get(A),s.get(A));O!==null&&b.set(A,O),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ee.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return eI(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(aa());let m=ru,p=u;return h.next((g=>ee.forEach(g,((T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next((A=>{p=p.insert(T,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ve()))).next((T=>({batchId:m,changes:YT(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Gl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const g=(function(b,A){return new ko(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((T=>{T.forEach(((b,A)=>{h=h.insert(b,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const T=g.getKey();h.get(T)===null&&(h=h.insert(T,tn.newInvalidDocument(T)))}));let m=Gl();return h.forEach(((p,g)=>{const T=u.get(p);T!==void 0&&Zl(T.mutation,g,Rn.empty(),it.now()),ud(n,g)&&(m=m.insert(p,g))})),m}))}}class tD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:zr(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:FI(o.bundledQuery),readTime:zr(o.readTime)}})(n)),ee.resolve()}}class nD{constructor(){this.overlays=new ct(me.comparator),this.Lr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=aa();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=aa(),u=n.length+1,h=new me(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((g,T)=>g-T));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=aa(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=aa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,T)=>m.set(g,T))),!(m.size()>=o)););return ee.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new bI(n,s));let u=this.Lr.get(n);u===void 0&&(u=Ve(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class rD{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class ug{constructor(){this.kr=new jt(Ht.Kr),this.qr=new jt(Ht.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Ht(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Ht(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new me(new tt([])),s=new Ht(n,e),o=new Ht(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new me(new tt([])),s=new Ht(n,e),o=new Ht(n,e+1);let u=Ve();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Ht(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return me.comparator(e.key,n.key)||ke(e.Hr,n.Hr)}static Ur(e,n){return ke(e.Hr,n.Hr)||me.comparator(e.key,n.key)}}class iD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new jt(Ht.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new vI(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Ht(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Zp:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ht(n,0),o=new Ht(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jt(ke);return n.forEach((o=>{const u=new Ht(o,0),h=new Ht(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),ee.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new Ht(new me(u),0);let m=new jt(ke);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),h),ee.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ee.forEach(n.mutations,(o=>{const u=new Ht(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Ht(n,0),o=this.Jr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class sD{constructor(e){this.ti=e,this.docs=(function(){return new ct(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=Ti();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ti();const h=n.path,m=new me(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||IN(NN(T),s)<=0||(o.has(T.key)||ud(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ye(9500)}ni(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new aD(this)}getSize(e){return ee.resolve(this.size)}}class aD extends WI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class oD{constructor(e){this.persistence=e,this.ri=new va((n=>ng(n)),rg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new ug,this.targetCount=0,this.oi=xo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new xo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.lr(n),ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.si.containsKey(n))}}class f1{constructor(e,n){this._i={},this.overlays={},this.ai=new id(0),this.ui=!1,this.ui=!0,this.ci=new rD,this.referenceDelegate=e(this),this.li=new oD(this),this.indexManager=new GI,this.remoteDocumentCache=(function(o){return new sD(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new qI(n),this.Pi=new tD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new iD(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new lD(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ee.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class lD extends ON{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Ri=new ug,this.Ai=null}static Vi(e){return new cg(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(s=>{const o=me.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Hh{constructor(e,n){this.persistence=e,this.fi=new va((s=>VN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=JI(this,n)}static Vi(e,n){return new Hh(e,n)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ee.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,u.removeEntry(h,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}wr(e,n,s){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hg(e,n.fromCache,s,o)}}class uD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class cD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Qx()?8:MN(nn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new uD;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(ho()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(ho()<=Me.DEBUG&&le("QueryEngine","Query:",fo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(ho()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):ee.resolve())}gs(e,n){if(y0(n))return ee.resolve(null);let s=Pr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ph(n,null,"F"),s=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ve(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ss(n,g,h,p.readTime)?this.gs(e,Ph(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,s,o){return y0(n)||o.isEqual(be.min())?ee.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?ee.resolve(null):(ho()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(n)),this.Ds(e,h,n,CN(o,ru)).next((m=>m)))}))}bs(e,n){let s=new jt(FT(e));return n.forEach(((o,u)=>{ud(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return ho()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",fo(n)),this.fs.getDocumentsMatchingQuery(e,n,_s.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const dg="LocalStore",hD=3e8;class dD{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ct(ke),this.Fs=new va((u=>ng(u)),rg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function fD(i,e,n,s){return new dD(i,e,n,s)}async function m1(i,e){const n=Se(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Ve();for(const g of o){h.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function mD(i,e){const n=Se(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,T){const b=g.batch,A=b.keys();let O=ee.resolve();return A.forEach((D=>{O=O.next((()=>T.getEntry(p,D))).next((q=>{const G=g.docVersions.get(D);Ge(G!==null,48541),q.version.compareTo(G)<0&&(b.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),T.addEntry(q)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function p1(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function pD(i,e){const n=Se(i),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((T,b)=>{const A=o.get(b);if(!A)return;m.push(n.li.removeMatchingKeys(u,T.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,T.addedDocuments,b))));let O=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?O=O.withResumeToken(Jt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,s)),o=o.insert(b,O),(function(q,G,ne){return q.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=hD?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(A,O,T)&&m.push(n.li.updateTargetData(u,O))}));let p=Ti(),g=Ve();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(gD(u,h,e.documentUpdates).next((T=>{p=T.Bs,g=T.Ls}))),!s.isEqual(be.min())){const T=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return ee.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.vs=o,u)))}function gD(i,e,n){let s=Ve(),o=Ve();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Ti();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):le(dg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:h,Ls:o}}))}function yD(i,e){const n=Se(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Zp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function _D(i,e){const n=Se(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new ds(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function bp(i,e,n){const s=Se(i),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Mo(h))throw h;le(dg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function I0(i,e,n){const s=Se(i);let o=be.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,T){const b=Se(p),A=b.Fs.get(T);return A!==void 0?ee.resolve(b.vs.get(A)):b.li.getTargetData(g,T)})(s,h,Pr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?u:Ve()))).next((m=>(vD(s,rI(e),m),{documents:m,ks:u})))))}function vD(i,e,n){let s=i.Ms.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Ms.set(e,s)}class D0{constructor(){this.activeTargetIds=uI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bD{constructor(){this.vo=new D0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new D0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ED{Mo(e){}shutdown(){}}const O0="ConnectivityMonitor";class M0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(O0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(O0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let lh=null;function Ep(){return lh===null?lh=(function(){return 268435456+Math.round(2147483648*Math.random())})():lh++,"0x"+lh.toString(16)}const Ym="RestConnection",TD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class SD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=Ep(),m=this.Qo(e,n.toUriEncodedString());le(Ym,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),T=ya(g);return this.zo(e,m,p,s,T).then((b=>(le(Ym,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw To(Ym,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=TD[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class AD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Zt="WebChannelConnection",ql=(i,e,n)=>{i.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class vo extends SD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!vo.c_){const e=bT();ql(e,vT.STAT_EVENT,(n=>{n.stat===up.PROXY?le(Zt,"STAT_EVENT: detected buffering proxy"):n.stat===up.NOPROXY&&le(Zt,"STAT_EVENT: detected no buffering proxy")})),vo.c_=!0}}zo(e,n,s,o,u){const h=Ep();return new Promise(((m,p)=>{const g=new yT;g.setWithCredentials(!0),g.listenOnce(_T.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case _h.NO_ERROR:const b=g.getResponseJson();le(Zt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case _h.TIMEOUT:le(Zt,`RPC '${e}' ${h} timed out`),p(new oe(J.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const A=g.getStatus();if(le(Zt,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const D=O?.error;if(D&&D.status&&D.message){const q=(function(ne){const te=ne.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(te)>=0?te:J.UNKNOWN})(D.status);p(new oe(q,D.message))}else p(new oe(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(J.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Zt,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);le(Zt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=Ep(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const g=u.join("");le(Zt,`Creating RPC '${e}' stream ${o}: ${g}`,m);const T=h.createWebChannel(g,m);this.I_(T);let b=!1,A=!1;const O=new AD({Ho:D=>{A?le(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(b||(le(Zt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),le(Zt,`RPC '${e}' stream ${o} sending:`,D),T.send(D))},Jo:()=>T.close()});return ql(T,Fl.EventType.OPEN,(()=>{A||(le(Zt,`RPC '${e}' stream ${o} transport opened.`),O.i_())})),ql(T,Fl.EventType.CLOSE,(()=>{A||(A=!0,le(Zt,`RPC '${e}' stream ${o} transport closed`),O.o_(),this.E_(T))})),ql(T,Fl.EventType.ERROR,(D=>{A||(A=!0,To(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),O.o_(new oe(J.UNAVAILABLE,"The operation could not be completed")))})),ql(T,Fl.EventType.MESSAGE,(D=>{if(!A){const q=D.data[0];Ge(!!q,16349);const G=q,ne=G?.error||G[0]?.error;if(ne){le(Zt,`RPC '${e}' stream ${o} received error:`,ne);const te=ne.status;let re=(function(Ee){const R=Nt[Ee];if(R!==void 0)return t1(R)})(te),de=ne.message;re===void 0&&(re=J.INTERNAL,de="Unknown error status: "+te+" with message "+ne.message),A=!0,O.o_(new oe(re,de)),T.close()}else le(Zt,`RPC '${e}' stream ${o} received:`,q),O.__(q)}})),vo.u_(),setTimeout((()=>{O.s_()}),0),O}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ET()}}function wD(i){return new vo(i)}function Km(){return typeof document<"u"?document:null}function fd(i){return new NI(i,!0)}vo.c_=!1;class g1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const k0="PersistentStream";class y1{constructor(e,n,s,o,u,h,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new g1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Ei(n.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(k0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(k0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xD extends y1{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=OI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?zr(h.readTime):be.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=vp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=mp(p)?{documents:VI(u,p)}:{query:LI(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=i1(u,h.resumeToken);const g=gp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=Bh(u,h.snapshotVersion.toTimestamp());const g=gp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=UI(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=vp(this.serializer),n.removeTarget=e,this.K_(n)}}class RD extends y1{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=kI(e.writeResults,e.commitTime),s=zr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=vp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>MI(this.serializer,s)))};this.K_(n)}}class CD{}class ND extends CD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,yp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(J.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,yp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function ID(i,e,n,s){return new ND(i,e,n,s)}class DD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ei(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ma="RemoteStore";class OD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{ba(this)&&(le(ma,"Restarting streams for network reachability change."),await(async function(p){const g=Se(p);g.Ea.add(4),await Tu(g),g.Va.set("Unknown"),g.Ea.delete(4),await md(g)})(this))}))})),this.Va=new DD(s,o)}}async function md(i){if(ba(i))for(const e of i.Ra)await e(!0)}async function Tu(i){for(const e of i.Ra)await e(!1)}function _1(i,e){const n=Se(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),gg(n)?pg(n):Vo(n).O_()&&mg(n,e))}function fg(i,e){const n=Se(i),s=Vo(n);n.Ia.delete(e),s.O_()&&v1(n,e),n.Ia.size===0&&(s.O_()?s.L_():ba(n)&&n.Va.set("Unknown"))}function mg(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(i).Z_(e)}function v1(i,e){i.da.$e(e),Vo(i).X_(e)}function pg(i){i.da=new wI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Vo(i).start(),i.Va.ua()}function gg(i){return ba(i)&&!Vo(i).x_()&&i.Ia.size>0}function ba(i){return Se(i).Ea.size===0}function b1(i){i.da=void 0}async function MD(i){i.Va.set("Online")}async function kD(i){i.Ia.forEach(((e,n)=>{mg(i,e)}))}async function VD(i,e){b1(i),gg(i)?(i.Va.ha(e),pg(i)):i.Va.set("Unknown")}async function LD(i,e,n){if(i.Va.set("Online"),e instanceof r1&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(s){le(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await qh(i,s)}else if(e instanceof Th?i.da.Xe(e):e instanceof n1?i.da.st(e):i.da.tt(e),!n.isEqual(be.min()))try{const s=await p1(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(Jt.EMPTY_BYTE_STRING,T.snapshotVersion)),v1(u,p);const b=new ds(T.target,p,g,T.sequenceNumber);mg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){le(ma,"Failed to raise snapshot:",s),await qh(i,s)}}async function qh(i,e,n){if(!Mo(e))throw e;i.Ea.add(1),await Tu(i),i.Va.set("Offline"),n||(n=()=>p1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{le(ma,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await md(i)}))}function E1(i,e){return e().catch((n=>qh(i,n,e)))}async function pd(i){const e=Se(i),n=Ts(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zp;for(;jD(e);)try{const o=await yD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,UD(e,o)}catch(o){await qh(e,o)}T1(e)&&S1(e)}function jD(i){return ba(i)&&i.Ta.length<10}function UD(i,e){i.Ta.push(e);const n=Ts(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function T1(i){return ba(i)&&!Ts(i).x_()&&i.Ta.length>0}function S1(i){Ts(i).start()}async function PD(i){Ts(i).ra()}async function zD(i){const e=Ts(i);for(const n of i.Ta)e.ea(n.mutations)}async function BD(i,e,n){const s=i.Ta.shift(),o=ag.from(s,e,n);await E1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await pd(i)}async function HD(i,e){e&&Ts(i).Y_&&await(async function(s,o){if((function(h){return TI(h)&&h!==J.ABORTED})(o.code)){const u=s.Ta.shift();Ts(s).B_(),await E1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await pd(s)}})(i,e),T1(i)&&S1(i)}async function V0(i,e){const n=Se(i);n.asyncQueue.verifyOperationInProgress(),le(ma,"RemoteStore received new credentials");const s=ba(n);n.Ea.add(3),await Tu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await md(n)}async function qD(i,e){const n=Se(i);e?(n.Ea.delete(2),await md(n)):e||(n.Ea.add(2),await Tu(n),n.Va.set("Unknown"))}function Vo(i){return i.ma||(i.ma=(function(n,s,o){const u=Se(n);return u.sa(),new xD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:MD.bind(null,i),Yo:kD.bind(null,i),t_:VD.bind(null,i),J_:LD.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),gg(i)?pg(i):i.Va.set("Unknown")):(await i.ma.stop(),b1(i))}))),i.ma}function Ts(i){return i.fa||(i.fa=(function(n,s,o){const u=Se(n);return u.sa(),new RD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:PD.bind(null,i),t_:HD.bind(null,i),ta:zD.bind(null,i),na:BD.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await pd(i)):(await i.fa.stop(),i.Ta.length>0&&(le(ma,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class yg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new yg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(i,e){if(Ei("AsyncQueue",`${e}: ${i}`),Mo(i))return new oe(J.UNAVAILABLE,`${e}: ${i}`);throw i}class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Gl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class L0{constructor(){this.ga=new ct(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ro{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Ro(e,n,bo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class FD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class GD{constructor(){this.queries=j0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=j0(),u.forEach(((h,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new oe(J.ABORTED,"Firestore shutting down"))}}function j0(){return new va((i=>qT(i)),ld)}async function vg(i,e){const n=Se(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new FD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=_g(h,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Eg(n)}async function bg(i,e){const n=Se(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function YD(i,e){const n=Se(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&Eg(n)}function KD(i,e,n){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Eg(i){i.Ca.forEach((e=>{e.next()}))}var Tp,U0;(U0=Tp||(Tp={})).Ma="default",U0.Cache="cache";class Tg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tp.Cache}}class A1{constructor(e){this.key=e}}class w1{constructor(e){this.key=e}}class $D{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.eu=FT(e),this.tu=new bo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new L0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,b)=>{const A=o.get(T),O=ud(this.query,b)?b:null,D=!!A&&this.mutatedKeys.has(A.key),q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let G=!1;A&&O?A.data.isEqual(O.data)?D!==q&&(s.track({type:3,doc:O}),G=!0):this.su(A,O)||(s.track({type:2,doc:O}),G=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!A&&O?(s.track({type:0,doc:O}),G=!0):A&&!O&&(s.track({type:1,doc:A}),G=!0,(p||g)&&(m=!0)),G&&(O?(h=h.add(O),u=q?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,b)=>(function(O,D){const q=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:G})}};return q(O)-q(D)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,h.length!==0||g?{snapshot:new Ro(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new w1(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new A1(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Sg="SyncEngine";class QD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class XD{constructor(e){this.key=e,this.hu=!1}}class JD{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new va((m=>qT(m)),ld),this.Iu=new Map,this.Eu=new Set,this.Ru=new ct(me.comparator),this.Au=new Map,this.Vu=new ug,this.du={},this.mu=new Map,this.fu=xo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WD(i,e,n=!0){const s=D1(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await x1(s,e,n,!0),o}async function ZD(i,e){const n=D1(i);await x1(n,e,!0,!1)}async function x1(i,e,n,s){const o=await _D(i.localStore,Pr(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await eO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&_1(i.remoteStore,o),m}async function eO(i,e,n,s,o){i.pu=(b,A,O)=>(async function(q,G,ne,te){let re=G.view.ru(ne);re.Ss&&(re=await I0(q.localStore,G.query,!1).then((({documents:R})=>G.view.ru(R,re))));const de=te&&te.targetChanges.get(G.targetId),Ae=te&&te.targetMismatches.get(G.targetId)!=null,Ee=G.view.applyChanges(re,q.isPrimaryClient,de,Ae);return z0(q,G.targetId,Ee.au),Ee.snapshot})(i,b,A,O);const u=await I0(i.localStore,e,!0),h=new $D(e,u.ks),m=h.ru(u.documents),p=Eu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);z0(i,n,g.au);const T=new QD(e,n,h);return i.Tu.set(e,T),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function tO(i,e,n){const s=Se(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!ld(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await bp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&fg(s.remoteStore,o.targetId),Sp(s,o.targetId)})).catch(Oo)):(Sp(s,o.targetId),await bp(s.localStore,o.targetId,!0))}async function nO(i,e){const n=Se(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),fg(n.remoteStore,s.targetId))}async function rO(i,e,n){const s=cO(i);try{const o=await(function(h,m){const p=Se(h),g=it.now(),T=m.reduce(((O,D)=>O.add(D.key)),Ve());let b,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let D=Ti(),q=Ve();return p.xs.getEntries(O,T).next((G=>{D=G,D.forEach(((ne,te)=>{te.isValidDocument()||(q=q.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,D))).next((G=>{b=G;const ne=[];for(const te of m){const re=yI(te,b.get(te.key).overlayedDocument);re!=null&&ne.push(new ws(te.key,re,VT(re.value.mapValue),Kn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,ne,m)})).next((G=>{A=G;const ne=G.applyToLocalDocumentSet(b,q);return p.documentOverlayCache.saveOverlays(O,G.batchId,ne)}))})).then((()=>({batchId:A.batchId,changes:YT(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.du[h.currentUser.toKey()];g||(g=new ct(ke)),g=g.insert(m,p),h.du[h.currentUser.toKey()]=g})(s,o.batchId,n),await Su(s,o.changes),await pd(s.remoteStore)}catch(o){const u=_g(o,"Failed to persist write");n.reject(u)}}async function R1(i,e){const n=Se(i);try{const s=await pD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await Su(n,s,e)}catch(s){await Oo(s)}}function P0(i,e,n){const s=Se(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Se(h);p.onlineState=m;let g=!1;p.queries.forEach(((T,b)=>{for(const A of b.ba)A.va(m)&&(g=!0)})),g&&Eg(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function iO(i,e,n){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ct(me.comparator);h=h.insert(u,tn.newNoDocument(u,be.min()));const m=Ve().add(u),p=new dd(be.min(),new Map,new ct(ke),h,m);await R1(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),Ag(s)}else await bp(s.localStore,e,!1).then((()=>Sp(s,e,n))).catch(Oo)}async function sO(i,e){const n=Se(i),s=e.batch.batchId;try{const o=await mD(n.localStore,e);N1(n,s,null),C1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Su(n,o)}catch(o){await Oo(o)}}async function aO(i,e,n){const s=Se(i);try{const o=await(function(h,m){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(Ge(b!==null,37113),T=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>p.localDocuments.getDocuments(g,T)))}))})(s.localStore,e);N1(s,e,n),C1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Su(s,o)}catch(o){await Oo(o)}}function C1(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function N1(i,e,n){const s=Se(i);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Sp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((s=>{i.Vu.containsKey(s)||I1(i,s)}))}function I1(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(fg(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),Ag(i))}function z0(i,e,n){for(const s of n)s instanceof A1?(i.Vu.addReference(s.key,e),oO(i,s)):s instanceof w1?(le(Sg,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,e),i.Vu.containsKey(s.key)||I1(i,s.key)):ye(19791,{wu:s})}function oO(i,e){const n=e.key,s=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(s)||(le(Sg,"New document in limbo: "+n),i.Eu.add(s),Ag(i))}function Ag(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new me(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new XD(n)),i.Ru=i.Ru.insert(n,s),_1(i.remoteStore,new ds(Pr(od(n.path)),s,"TargetPurposeLimboResolution",id.ce))}}async function Su(i,e,n){const s=Se(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=hg.Es(p.targetId,g);u.push(T)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(p,g){const T=Se(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ee.forEach(g,(A=>ee.forEach(A.Ts,(O=>T.persistence.referenceDelegate.addReference(b,A.targetId,O))).next((()=>ee.forEach(A.Is,(O=>T.persistence.referenceDelegate.removeReference(b,A.targetId,O)))))))))}catch(b){if(!Mo(b))throw b;le(dg,"Failed to update sequence numbers: "+b)}for(const b of g){const A=b.targetId;if(!b.fromCache){const O=T.vs.get(A),D=O.snapshotVersion,q=O.withLastLimboFreeSnapshotVersion(D);T.vs=T.vs.insert(A,q)}}})(s.localStore,u))}async function lO(i,e){const n=Se(i);if(!n.currentUser.isEqual(e)){le(Sg,"User change. New user:",e.toKey());const s=await m1(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(J.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Su(n,s.Ns)}}function uO(i,e){const n=Se(i),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function D1(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=R1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iO.bind(null,e),e.Pu.J_=YD.bind(null,e.eventManager),e.Pu.yu=KD.bind(null,e.eventManager),e}function cO(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aO.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return fD(this.persistence,new cD,e.initialUser,this.serializer)}Cu(e){return new f1(cg.Vi,this.serializer)}Du(e){return new bD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class hO extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new QI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new f1((s=>Hh.Vi(s,n)),this.serializer)}}class Ap{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>P0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lO.bind(null,this.syncEngine),await qD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new GD})()}createDatastore(e){const n=fd(e.databaseInfo.databaseId),s=wD(e.databaseInfo);return ID(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new OD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>P0(this.syncEngine,n,0)),(function(){return M0.v()?new M0:new ED})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,T){const b=new JD(o,u,h,m,p,g);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Se(n);le(ma,"RemoteStore shutting down."),s.Ea.add(5),await Tu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ap.provider={build:()=>new Ap};class wg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ss="FirestoreClient";class dO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=Wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(Ss,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(Ss,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=_g(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function $m(i,e){i.asyncQueue.verifyOperationInProgress(),le(Ss,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await m1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function B0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await fO(i);le(Ss,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>V0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>V0(e.remoteStore,o))),i._onlineComponents=e}async function fO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le(Ss,"Using user provided OfflineComponentProvider");try{await $m(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await $m(i,new Fh)}}else le(Ss,"Using default OfflineComponentProvider"),await $m(i,new hO(void 0));return i._offlineComponents}async function O1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le(Ss,"Using user provided OnlineComponentProvider"),await B0(i,i._uninitializedComponentsProvider._online)):(le(Ss,"Using default OnlineComponentProvider"),await B0(i,new Ap))),i._onlineComponents}function mO(i){return O1(i).then((e=>e.syncEngine))}async function Gh(i){const e=await O1(i),n=e.eventManager;return n.onListen=WD.bind(null,e.syncEngine),n.onUnlisten=tO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nO.bind(null,e.syncEngine),n}function pO(i,e,n,s){const o=new wg(s),u=new Tg(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>vg(await Gh(i),u))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>bg(await Gh(i),u)))}}function gO(i,e,n={}){const s=new yi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const T=new wg({next:A=>{T.Nu(),h.enqueueAndForget((()=>bg(u,b)));const O=A.docs.has(m);!O&&A.fromCache?g.reject(new oe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&p&&p.source==="server"?g.reject(new oe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new Tg(od(m.path),T,{includeMetadataChanges:!0,Ka:!0});return vg(u,b)})(await Gh(i),i.asyncQueue,e,n,s))),s.promise}function yO(i,e,n={}){const s=new yi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const T=new wg({next:A=>{T.Nu(),h.enqueueAndForget((()=>bg(u,b))),A.fromCache&&p.source==="server"?g.reject(new oe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new Tg(m,T,{includeMetadataChanges:!0,Ka:!0});return vg(u,b)})(await Gh(i),i.asyncQueue,e,n,s))),s.promise}function _O(i,e){const n=new yi;return i.asyncQueue.enqueueAndForget((async()=>rO(await mO(i),e,n))),n.promise}function M1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const vO="ComponentProvider",H0=new Map;function bO(i,e,n,s,o){return new UN(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,M1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const k1="firestore.googleapis.com",q0=!0;class F0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=k1,this.ssl=q0}else this.host=e.host,this.ssl=e.ssl??q0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=d1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KI)throw new oe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new yN;switch(s.type){case"firstParty":return new EN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=H0.get(n);s&&(le(vO,"Removing Datastore"),H0.delete(n),s.terminate())})(this),Promise.resolve()}}function EO(i,e,n,s={}){i=yn(i,gd);const o=ya(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Lp(`https://${m}`),jp("Firestore",!0)),u.host!==k1&&u.host!==m&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ca(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,T;if(typeof s.mockUserToken=="string")g=s.mockUserToken,T=en.MOCK_USER;else{g=kE(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new oe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(b)}i._authCredentials=new _N(new ST(g,T))}}class Ri{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ri(this.firestore,e,this._query)}}class ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(vu(n,ft._jsonSchema))return new ft(e,s||null,new me(tt.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:Dt("string",ft._jsonSchemaVersion),referencePath:Dt("string")};class gs extends Ri{constructor(e,n,s){super(e,n,od(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new me(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function Si(i,e,...n){if(i=Ut(i),AT("collection","path",e),i instanceof gd){const s=tt.fromString(e,...n);return r0(s),new gs(i,null,s)}{if(!(i instanceof ft||i instanceof gs))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return r0(s),new gs(i.firestore,null,s)}}function Nn(i,e,...n){if(i=Ut(i),arguments.length===1&&(e=Wp.newId()),AT("doc","path",e),i instanceof gd){const s=tt.fromString(e,...n);return n0(s),new ft(i,null,new me(s))}{if(!(i instanceof ft||i instanceof gs))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return n0(s),new ft(i.firestore,i instanceof gs?i.converter:null,new me(s))}}const G0="AsyncQueue";class Y0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new g1(this,"async_queue_retry"),this._c=()=>{const s=Km();s&&le(G0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;le(G0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ei("INTERNAL UNHANDLED ERROR: ",K0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=yg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:K0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function K0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Ai extends gd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Y0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Y0(e),this._firestoreClient=void 0,await e}}}function TO(i,e){const n=typeof i=="object"?i:zp(),s=typeof i=="string"?i:Lh,o=Zh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=DE("firestore");u&&EO(o,...u)}return o}function yd(i){if(i._terminated)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||SO(i),i._firestoreClient}function SO(i){const e=i._freezeSettings(),n=bO(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new dO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(Jt.fromBase64String(e))}catch(n){throw new oe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Dt("string",Yn._jsonSchemaVersion),bytes:Dt("string")};class xg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _d{constructor(e){this._methodName=e}}class Br{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Br._jsonSchemaVersion}}static fromJSON(e){if(vu(e,Br._jsonSchema))return new Br(e.latitude,e.longitude)}}Br._jsonSchemaVersion="firestore/geoPoint/1.0",Br._jsonSchema={type:Dt("string",Br._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class ur{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ur(e.vectorValues);throw new oe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ur._jsonSchemaVersion="firestore/vectorValue/1.0",ur._jsonSchema={type:Dt("string",ur._jsonSchemaVersion),vectorValues:Dt("object")};const AO=/^__.*__$/;class wO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new bu(e,this.data,n,this.fieldTransforms)}}class V1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ws(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function L1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:i})}}class Rg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Rg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Yh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(L1(this.dataSource)&&AO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class xO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||fd(e)}createContext(e,n,s,o=!1){return new Rg({dataSource:e,methodName:n,targetDoc:s,path:Xt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vd(i){const e=i._freezeSettings(),n=fd(i._databaseId);return new xO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function j1(i,e,n,s,o,u={}){const h=i.createContext(u.merge||u.mergeFields?2:0,e,n,o);Ng("Data must be an object, but it was:",h,s);const m=U1(s,h);let p,g;if(u.merge)p=new Rn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const A=pa(e,b,n);if(!h.contains(A))throw new oe(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);B1(T,A)||T.push(A)}p=new Rn(T),g=h.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=h.fieldTransforms;return new wO(new gn(m),p,g)}class bd extends _d{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bd}}class Cg extends _d{_toFieldTransform(e){return new fI(e.path,new lu)}isEqual(e){return e instanceof Cg}}function RO(i,e,n,s){const o=i.createContext(1,e,n);Ng("Data must be an object, but it was:",o,s);const u=[],h=gn.empty();As(s,((p,g)=>{const T=z1(e,p,n);g=Ut(g);const b=o.childContextForFieldPath(T);if(g instanceof bd)u.push(T);else{const A=Au(g,b);A!=null&&(u.push(T),h.set(T,A))}}));const m=new Rn(u);return new V1(h,m,o.fieldTransforms)}function CO(i,e,n,s,o,u){const h=i.createContext(1,e,n),m=[pa(e,s,n)],p=[o];if(u.length%2!=0)throw new oe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(pa(e,u[A])),p.push(u[A+1]);const g=[],T=gn.empty();for(let A=m.length-1;A>=0;--A)if(!B1(g,m[A])){const O=m[A];let D=p[A];D=Ut(D);const q=h.childContextForFieldPath(O);if(D instanceof bd)g.push(O);else{const G=Au(D,q);G!=null&&(g.push(O),T.set(O,G))}}const b=new Rn(g);return new V1(T,b,h.fieldTransforms)}function NO(i,e,n,s=!1){return Au(n,i.createContext(s?4:3,e))}function Au(i,e){if(P1(i=Ut(i)))return Ng("Unsupported field value:",e,i),U1(i,e);if(i instanceof _d)return(function(s,o){if(!L1(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Au(m,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return cI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Bh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,u)}}if(s instanceof Br)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Yn)return{bytesValue:i1(o.serializer,s._byteString)};if(s instanceof ft){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:lg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ur)return(function(h,m){const p=h instanceof ur?h.toArray():h;return{mapValue:{fields:{[MT]:{stringValue:kT},[jh]:{arrayValue:{values:p.map((T=>{if(typeof T!="number")throw m.createError("VectorValues must only contain numeric values.");return ig(m.serializer,T)}))}}}}}})(s,o);if(h1(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${rd(s)}`)})(i,e)}function U1(i,e){const n={};return RT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(i,((s,o)=>{const u=Au(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function P1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof Br||i instanceof Yn||i instanceof ft||i instanceof _d||i instanceof ur||h1(i))}function Ng(i,e,n){if(!P1(n)||!wT(n)){const s=rd(n);throw s==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+s)}}function pa(i,e,n){if((e=Ut(e))instanceof xg)return e._internalPath;if(typeof e=="string")return z1(i,e);throw Yh("Field path arguments must be of type string or ",i,!1,void 0,n)}const IO=new RegExp("[~\\*/\\[\\]]");function z1(i,e,n){if(e.search(IO)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new xg(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Yh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new oe(J.INVALID_ARGUMENT,m+i+p)}function B1(i,e){return i.some((n=>n.isEqual(e)))}class DO{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return As(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[jh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new ur(n)}convertGeoPoint(e){return new Br(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ad(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=vs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Ge(c1(s),9688,{name:e});const o=new su(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||Ei(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Ig extends DO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function OO(){return new Cg("serverTimestamp")}const $0="@firebase/firestore",Q0="4.10.0";function X0(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class H1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(pa("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MO extends H1{data(){return super.data()}}function q1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new oe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dg{}class Og extends Dg{}function wu(i,e,...n){let s=[];e instanceof Dg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof kg)).length,m=u.filter((p=>p instanceof Ed)).length;if(h>1||h>0&&m>0)throw new oe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Ed extends Og{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ed(e,n,s)}_apply(e){const n=this._parse(e);return F1(e._query,n),new Ri(e.firestore,e.converter,pp(e._query,n))}_parse(e){const n=vd(e.firestore);return(function(u,h,m,p,g,T,b){let A;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new oe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){W0(b,T);const D=[];for(const q of b)D.push(J0(p,u,q));A={arrayValue:{values:D}}}else A=J0(p,u,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||W0(b,T),A=NO(m,h,b,T==="in"||T==="not-in");return It.create(g,T,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Mg(i,e,n){const s=e,o=pa("where",i);return Ed._create(o,s,n)}class kg extends Dg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)F1(h,p),h=pp(h,p)})(e._query,n),new Ri(e.firestore,e.converter,pp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vg extends Og{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Vg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ou(u,h)})(e._query,this._field,this._direction);return new Ri(e.firestore,e.converter,nI(e._query,n))}}function Td(i,e="asc"){const n=e,s=pa("orderBy",i);return Vg._create(s,n)}class Lg extends Og{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Lg(e,n,s)}_apply(e){return new Ri(e.firestore,e.converter,Ph(e._query,this._limit,this._limitType))}}function kO(i){return Lg._create("limit",i,"F")}function J0(i,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new oe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HT(e)&&n.indexOf("/")!==-1)throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!me.isDocumentKey(s))throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return h0(i,new me(s))}if(n instanceof ft)return h0(i,n._key);throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rd(n)}.`)}function W0(i,e){if(!Array.isArray(i)||i.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F1(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function G1(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends H1{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(pa("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:Dt("string",la._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Sh extends la{data(e={}){return super.data(e)}}class ua{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Sh(this._firestore,this._userDataWriter,s.key,s,new Kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:VO(m.type),doc:p,oldIndex:g,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ua._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:i})}}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:Dt("string",ua._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};function wp(i){i=yn(i,ft);const e=yn(i.firestore,Ai),n=yd(e);return gO(n,i._key).then((s=>Y1(e,i,s)))}function jg(i){i=yn(i,Ri);const e=yn(i.firestore,Ai),n=yd(e),s=new Ig(e);return q1(i._query),yO(n,i._query).then((o=>new ua(e,s,i,o)))}function LO(i,e,n){i=yn(i,ft);const s=yn(i.firestore,Ai),o=G1(i.converter,e),u=vd(s);return Ad(s,[j1(u,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Kn.none())])}function hu(i,e,n,...s){i=yn(i,ft);const o=yn(i.firestore,Ai),u=vd(o);let h;return h=typeof(e=Ut(e))=="string"||e instanceof xg?CO(u,"updateDoc",i._key,e,n,s):RO(u,"updateDoc",i._key,e),Ad(o,[h.toMutation(i._key,Kn.exists(!0))])}function Sd(i){return Ad(yn(i.firestore,Ai),[new sg(i._key,Kn.none())])}function Ug(i,e){const n=yn(i.firestore,Ai),s=Nn(i),o=G1(i.converter,e),u=vd(i.firestore);return Ad(n,[j1(u,"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Kn.exists(!1))]).then((()=>s))}function Pg(i,...e){i=Ut(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||X0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(X0(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,h,m;if(i instanceof ft)h=yn(i.firestore,Ai),m=od(i._key.path),u={next:g=>{e[s]&&e[s](Y1(h,i,g))},error:e[s+1],complete:e[s+2]};else{const g=yn(i,Ri);h=yn(g.firestore,Ai),m=g._query;const T=new Ig(h);u={next:b=>{e[s]&&e[s](new ua(h,T,g,b))},error:e[s+1],complete:e[s+2]},q1(i._query)}const p=yd(h);return pO(p,m,o,u)}function Ad(i,e){const n=yd(i);return _O(n,e)}function Y1(i,e,n){const s=n.docs.get(e._key),o=new Ig(i);return new la(i,o,e._key,s,new Kl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){gN(_a),ha(new ys("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ai(new vN(s.getProvider("auth-internal")),new TN(h,s.getProvider("app-check-internal")),PN(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),jr($0,Q0,e),jr($0,Q0,"esm2020")})();const K1="firebasestorage.googleapis.com",jO="storageBucket",UO=120*1e3,PO=600*1e3;class Yr extends Gr{constructor(e,n,s=0){super(Qm(e),`Firebase Storage: ${n} (${Qm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fr;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fr||(Fr={}));function Qm(i){return"storage/"+i}function zO(){const i="An unknown error occurred, please check the error payload for server response.";return new Yr(Fr.UNKNOWN,i)}function BO(){return new Yr(Fr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HO(){return new Yr(Fr.CANCELED,"User canceled the upload/download.")}function qO(i){return new Yr(Fr.INVALID_URL,"Invalid URL '"+i+"'.")}function FO(i){return new Yr(Fr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function Z0(i){return new Yr(Fr.INVALID_ARGUMENT,i)}function $1(){return new Yr(Fr.APP_DELETED,"The Firebase app was deleted.")}function GO(i){return new Yr(Fr.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class or{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=or.makeFromUrl(e,n)}catch{return new or(e,"")}if(s.path==="")return s;throw FO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(de){de.path.charAt(de.path.length-1)==="/"&&(de.path_=de.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(de){de.path_=decodeURIComponent(de.path)}const T="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",O=new RegExp(`^https?://${b}/${T}/b/${o}/o${A}`,"i"),D={bucket:1,path:3},q=n===K1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,G="([^?#]*)",ne=new RegExp(`^https?://${q}/${o}/${G}`,"i"),re=[{regex:m,indices:p,postModify:u},{regex:O,indices:D,postModify:g},{regex:ne,indices:{bucket:1,path:2},postModify:g}];for(let de=0;de<re.length;de++){const Ae=re[de],Ee=Ae.regex.exec(e);if(Ee){const R=Ee[Ae.indices.bucket];let x=Ee[Ae.indices.path];x||(x=""),s=new or(R,x),Ae.postModify(s);break}}if(s==null)throw qO(e);return s}}class YO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function KO(i,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function T(...G){g||(g=!0,e.apply(null,G))}function b(G){o=setTimeout(()=>{o=null,i(O,p())},G)}function A(){u&&clearTimeout(u)}function O(G,...ne){if(g){A();return}if(G){A(),T.call(null,G,...ne);return}if(p()||h){A(),T.call(null,G,...ne);return}s<64&&(s*=2);let re;m===1?(m=2,re=0):re=(s+Math.random())*1e3,b(re)}let D=!1;function q(G){D||(D=!0,A(),!g&&(o!==null?(G||(m=2),clearTimeout(o),b(0)):G||(m=1)))}return b(0),u=setTimeout(()=>{h=!0,q(!0)},n),q}function $O(i){i(!1)}function QO(i){return i!==void 0}function eE(i,e,n,s){if(s<e)throw Z0(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw Z0(`Invalid value for '${i}'. Expected ${n} or less.`)}function XO(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Kh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Kh||(Kh={}));function JO(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}class WO{constructor(e,n,s,o,u,h,m,p,g,T,b,A=!0,O=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=T,this.connectionFactory_=b,this.retry=A,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,q)=>{this.resolve_=D,this.reject_=q,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new uh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Kh.NO_ERROR,p=u.getStatus();if(!m||JO(p,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===Kh.ABORT;s(!1,new uh(!1,null,T));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new uh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());QO(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=zO();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?$1():HO();h(p)}else{const p=BO();h(p)}};this.canceled_?n(!1,new uh(!1,null,!0)):this.backoffId_=KO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$O(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function ZO(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function e4(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function t4(i,e){e&&(i["X-Firebase-GMPID"]=e)}function n4(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function r4(i,e,n,s,o,u,h=!0,m=!1){const p=XO(i.urlParams),g=i.url+p,T=Object.assign({},i.headers);return t4(T,e),ZO(T,n),e4(T,u),n4(T,s),new WO(g,i.method,T,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}function i4(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function s4(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}class $h{constructor(e,n){this._service=e,n instanceof or?this._location=n:this._location=or.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $h(e,n)}get root(){const e=new or(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return s4(this._location.path)}get storage(){return this._service}get parent(){const e=i4(this._location.path);if(e===null)return null;const n=new or(this._location.bucket,e);return new $h(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw GO(e)}}function tE(i,e){const n=e?.[jO];return n==null?null:or.makeFromBucketSpec(n,i)}function a4(i,e,n,s={}){i.host=`${e}:${n}`;const o=ya(e);o&&(Lp(`https://${i.host}/b`),jp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:kE(u,i.app.options.projectId))}class o4{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=K1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UO,this._maxUploadRetryTime=PO,this._requests=new Set,o!=null?this._bucket=or.makeFromBucketSpec(o,this._host):this._bucket=tE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=or.makeFromBucketSpec(this._url,e):this._bucket=tE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $h(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new YO($1());{const h=r4(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const nE="@firebase/storage",rE="0.14.0";const Q1="storage";function l4(i=zp(),e){i=Ut(i);const s=Zh(i,Q1).getImmediate({identifier:e}),o=DE("storage");return o&&u4(s,...o),s}function u4(i,e,n,s={}){a4(i,e,n,s)}function c4(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new o4(n,s,o,e,_a)}function h4(){ha(new ys(Q1,c4,"PUBLIC").setMultipleInstances(!0)),jr(nE,rE,""),jr(nE,rE,"esm2020")}h4();const d4={apiKey:"AIzaSyBlW-nhvlaKqrDTSDIT0yN0IY8oqBFhOOY",authDomain:"mjhs-esports.firebaseapp.com",projectId:"mjhs-esports",storageBucket:"mjhs-esports.firebasestorage.app",messagingSenderId:"586504727075",appId:"1:586504727075:web:ec5707639e2dd654e9df96",measurementId:"G-4S7RNXD108"},zg=jE(d4),Xm=mN(zg),vt=TO(zg);l4(zg);const f4=new fi,m4=i=>i.endsWith("@madisonstudent.org")?"student":i.endsWith("@madison.k12.in.us")?"staff":"guest",X1=V.createContext(),dr=()=>V.useContext(X1),p4=({children:i})=>{const[e,n]=V.useState(null),[s,o]=V.useState(null),[u,h]=V.useState(!0),m=async()=>{try{const b=(await SC(Xm,f4)).user,A=m4(b.email),O=Nn(vt,"users",b.uid),D=await wp(O);D.exists()?o(D.data().role):(await LO(O,{email:b.email,displayName:b.displayName,photoURL:b.photoURL,role:A,createdAt:new Date,stats:{}}),o(A))}catch(T){console.error("Login Error:",T),alert(T.message)}},p=()=>(o(null),rC(Xm));V.useEffect(()=>nC(Xm,async b=>{if(b){const A=Nn(vt,"users",b.uid),O=await wp(A);O.exists()&&o(O.data().role)}else o(null);n(b),h(!1)}),[]);const g={currentUser:e,userRole:s,loginWithGoogle:m,logout:p};return v.jsx(X1.Provider,{value:g,children:!u&&i})};let g4={data:""},y4=i=>{if(typeof window=="object"){let e=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(i||document.head).appendChild(e),e.firstChild}return i||g4},_4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,v4=/\/\*[^]*?\*\/|  +/g,iE=/\n+/g,hs=(i,e)=>{let n="",s="",o="";for(let u in i){let h=i[u];u[0]=="@"?u[1]=="i"?n=u+" "+h+";":s+=u[1]=="f"?hs(h,u):u+"{"+hs(h,u[1]=="k"?"":e)+"}":typeof h=="object"?s+=hs(h,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):h!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=hs.p?hs.p(u,h):u+":"+h+";")}return n+(e&&o?e+"{"+o+"}":o)+s},di={},J1=i=>{if(typeof i=="object"){let e="";for(let n in i)e+=n+J1(i[n]);return e}return i},b4=(i,e,n,s,o)=>{let u=J1(i),h=di[u]||(di[u]=(p=>{let g=0,T=11;for(;g<p.length;)T=101*T+p.charCodeAt(g++)>>>0;return"go"+T})(u));if(!di[h]){let p=u!==i?i:(g=>{let T,b,A=[{}];for(;T=_4.exec(g.replace(v4,""));)T[4]?A.shift():T[3]?(b=T[3].replace(iE," ").trim(),A.unshift(A[0][b]=A[0][b]||{})):A[0][T[1]]=T[2].replace(iE," ").trim();return A[0]})(i);di[h]=hs(o?{["@keyframes "+h]:p}:p,n?"":"."+h)}let m=n&&di.g?di.g:null;return n&&(di.g=di[h]),((p,g,T,b)=>{b?g.data=g.data.replace(b,p):g.data.indexOf(p)===-1&&(g.data=T?p+g.data:g.data+p)})(di[h],e,s,m),h},E4=(i,e,n)=>i.reduce((s,o,u)=>{let h=e[u];if(h&&h.call){let m=h(n),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;h=p?"."+p:m&&typeof m=="object"?m.props?"":hs(m,""):m===!1?"":m}return s+o+(h??"")},"");function wd(i){let e=this||{},n=i.call?i(e.p):i;return b4(n.unshift?n.raw?E4(n,[].slice.call(arguments,1),e.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):n,y4(e.target),e.g,e.o,e.k)}let W1,xp,Rp;wd.bind({g:1});let wi=wd.bind({k:1});function T4(i,e,n,s){hs.p=e,W1=i,xp=n,Rp=s}function xs(i,e){let n=this||{};return function(){let s=arguments;function o(u,h){let m=Object.assign({},u),p=m.className||o.className;n.p=Object.assign({theme:xp&&xp()},m),n.o=/ *go\d+/.test(p),m.className=wd.apply(n,s)+(p?" "+p:"");let g=i;return i[0]&&(g=m.as||i,delete m.as),Rp&&g[0]&&Rp(m),W1(g,m)}return o}}var S4=i=>typeof i=="function",Qh=(i,e)=>S4(i)?i(e):i,A4=(()=>{let i=0;return()=>(++i).toString()})(),Z1=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),w4=20,Bg="default",eS=(i,e)=>{let{toastLimit:n}=i.settings;switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,n)};case 1:return{...i,toasts:i.toasts.map(h=>h.id===e.toast.id?{...h,...e.toast}:h)};case 2:let{toast:s}=e;return eS(i,{type:i.toasts.find(h=>h.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...i,toasts:i.toasts.map(h=>h.id===o||o===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(h=>h.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let u=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+u}))}}},Ah=[],tS={toasts:[],pausedAt:void 0,settings:{toastLimit:w4}},Lr={},nS=(i,e=Bg)=>{Lr[e]=eS(Lr[e]||tS,i),Ah.forEach(([n,s])=>{n===e&&s(Lr[e])})},rS=i=>Object.keys(Lr).forEach(e=>nS(i,e)),x4=i=>Object.keys(Lr).find(e=>Lr[e].toasts.some(n=>n.id===i)),xd=(i=Bg)=>e=>{nS(e,i)},R4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},C4=(i={},e=Bg)=>{let[n,s]=V.useState(Lr[e]||tS),o=V.useRef(Lr[e]);V.useEffect(()=>(o.current!==Lr[e]&&s(Lr[e]),Ah.push([e,s]),()=>{let h=Ah.findIndex(([m])=>m===e);h>-1&&Ah.splice(h,1)}),[e]);let u=n.toasts.map(h=>{var m,p,g;return{...i,...i[h.type],...h,removeDelay:h.removeDelay||((m=i[h.type])==null?void 0:m.removeDelay)||i?.removeDelay,duration:h.duration||((p=i[h.type])==null?void 0:p.duration)||i?.duration||R4[h.type],style:{...i.style,...(g=i[h.type])==null?void 0:g.style,...h.style}}});return{...n,toasts:u}},N4=(i,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...n,id:n?.id||A4()}),xu=i=>(e,n)=>{let s=N4(e,i,n);return xd(s.toasterId||x4(s.id))({type:2,toast:s}),s.id},Lt=(i,e)=>xu("blank")(i,e);Lt.error=xu("error");Lt.success=xu("success");Lt.loading=xu("loading");Lt.custom=xu("custom");Lt.dismiss=(i,e)=>{let n={type:3,toastId:i};e?xd(e)(n):rS(n)};Lt.dismissAll=i=>Lt.dismiss(void 0,i);Lt.remove=(i,e)=>{let n={type:4,toastId:i};e?xd(e)(n):rS(n)};Lt.removeAll=i=>Lt.remove(void 0,i);Lt.promise=(i,e,n)=>{let s=Lt.loading(e.loading,{...n,...n?.loading});return typeof i=="function"&&(i=i()),i.then(o=>{let u=e.success?Qh(e.success,o):void 0;return u?Lt.success(u,{id:s,...n,...n?.success}):Lt.dismiss(s),o}).catch(o=>{let u=e.error?Qh(e.error,o):void 0;u?Lt.error(u,{id:s,...n,...n?.error}):Lt.dismiss(s)}),i};var I4=1e3,D4=(i,e="default")=>{let{toasts:n,pausedAt:s}=C4(i,e),o=V.useRef(new Map).current,u=V.useCallback((b,A=I4)=>{if(o.has(b))return;let O=setTimeout(()=>{o.delete(b),h({type:4,toastId:b})},A);o.set(b,O)},[]);V.useEffect(()=>{if(s)return;let b=Date.now(),A=n.map(O=>{if(O.duration===1/0)return;let D=(O.duration||0)+O.pauseDuration-(b-O.createdAt);if(D<0){O.visible&&Lt.dismiss(O.id);return}return setTimeout(()=>Lt.dismiss(O.id,e),D)});return()=>{A.forEach(O=>O&&clearTimeout(O))}},[n,s,e]);let h=V.useCallback(xd(e),[e]),m=V.useCallback(()=>{h({type:5,time:Date.now()})},[h]),p=V.useCallback((b,A)=>{h({type:1,toast:{id:b,height:A}})},[h]),g=V.useCallback(()=>{s&&h({type:6,time:Date.now()})},[s,h]),T=V.useCallback((b,A)=>{let{reverseOrder:O=!1,gutter:D=8,defaultPosition:q}=A||{},G=n.filter(re=>(re.position||q)===(b.position||q)&&re.height),ne=G.findIndex(re=>re.id===b.id),te=G.filter((re,de)=>de<ne&&re.visible).length;return G.filter(re=>re.visible).slice(...O?[te+1]:[0,te]).reduce((re,de)=>re+(de.height||0)+D,0)},[n]);return V.useEffect(()=>{n.forEach(b=>{if(b.dismissed)u(b.id,b.removeDelay);else{let A=o.get(b.id);A&&(clearTimeout(A),o.delete(b.id))}})},[n,u]),{toasts:n,handlers:{updateHeight:p,startPause:m,endPause:g,calculateOffset:T}}},O4=wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,M4=wi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,k4=wi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,V4=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${O4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${M4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${k4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,L4=wi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,j4=xs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${L4} 1s linear infinite;
`,U4=wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,P4=wi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,z4=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${U4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${P4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,B4=xs("div")`
  position: absolute;
`,H4=xs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,q4=wi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,F4=xs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${q4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,G4=({toast:i})=>{let{icon:e,type:n,iconTheme:s}=i;return e!==void 0?typeof e=="string"?V.createElement(F4,null,e):e:n==="blank"?null:V.createElement(H4,null,V.createElement(j4,{...s}),n!=="loading"&&V.createElement(B4,null,n==="error"?V.createElement(V4,{...s}):V.createElement(z4,{...s})))},Y4=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,K4=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,$4="0%{opacity:0;} 100%{opacity:1;}",Q4="0%{opacity:1;} 100%{opacity:0;}",X4=xs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,J4=xs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,W4=(i,e)=>{let n=i.includes("top")?1:-1,[s,o]=Z1()?[$4,Q4]:[Y4(n),K4(n)];return{animation:e?`${wi(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wi(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Z4=V.memo(({toast:i,position:e,style:n,children:s})=>{let o=i.height?W4(i.position||e||"top-center",i.visible):{opacity:0},u=V.createElement(G4,{toast:i}),h=V.createElement(J4,{...i.ariaProps},Qh(i.message,i));return V.createElement(X4,{className:i.className,style:{...o,...n,...i.style}},typeof s=="function"?s({icon:u,message:h}):V.createElement(V.Fragment,null,u,h))});T4(V.createElement);var eM=({id:i,className:e,style:n,onHeightUpdate:s,children:o})=>{let u=V.useCallback(h=>{if(h){let m=()=>{let p=h.getBoundingClientRect().height;s(i,p)};m(),new MutationObserver(m).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return V.createElement("div",{ref:u,className:e,style:n},o)},tM=(i,e)=>{let n=i.includes("top"),s=n?{top:0}:{bottom:0},o=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Z1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...o}},nM=wd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ch=16,rM=({reverseOrder:i,position:e="top-center",toastOptions:n,gutter:s,children:o,toasterId:u,containerStyle:h,containerClassName:m})=>{let{toasts:p,handlers:g}=D4(n,u);return V.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:ch,left:ch,right:ch,bottom:ch,pointerEvents:"none",...h},className:m,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(T=>{let b=T.position||e,A=g.calculateOffset(T,{reverseOrder:i,gutter:s,defaultPosition:e}),O=tM(b,A);return V.createElement(eM,{id:T.id,key:T.id,onHeightUpdate:g.updateHeight,className:T.visible?nM:"",style:O},T.type==="custom"?Qh(T.message,T):o?o(T):V.createElement(Z4,{toast:T,position:b}))}))},iM=Lt;const sM="/mjhs-esports-portal/assets/logo-6ixeAFF8.png",aM=()=>{const{currentUser:i,logout:e}=dr();return v.jsx("nav",{className:"bg-brand-black/90 backdrop-blur-md border-b border-brand-red/30 fixed w-full z-50 top-0",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex items-center justify-between h-20",children:[v.jsxs(on,{to:"/",className:"flex items-center gap-3 group",children:[v.jsx("img",{src:sM,alt:"MJHS Logo",className:"h-12 w-auto group-hover:scale-105 transition duration-300"}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"font-titles text-brand-white text-xl tracking-wider leading-none",children:"MJHS ESPORTS"}),v.jsx("span",{className:"font-body text-brand-red text-xs tracking-widest font-bold",children:"PORTAL"})]})]}),v.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[v.jsx(hh,{to:"/",children:"HOME"}),v.jsx(hh,{to:"/roster",children:"MEET THE PLAYERS"}),v.jsx(hh,{to:"/matches",children:"MATCHES"}),v.jsx(hh,{to:"/store",children:"MERCH"}),i?v.jsx(on,{to:"/dashboard",className:"bg-brand-red text-white px-5 py-2 rounded font-titles tracking-wide hover:bg-brand-darkRed transition",children:"DASHBOARD"}):v.jsx(on,{to:"/login",className:"border border-brand-red text-brand-red px-5 py-2 rounded font-titles tracking-wide hover:bg-brand-red hover:text-white transition",children:"LOGIN"})]})]})})})},hh=({to:i,children:e})=>v.jsx(on,{to:i,className:"font-titles text-gray-300 hover:text-brand-yellow transition tracking-wide text-sm",children:e}),oM=()=>v.jsxs("div",{className:"min-h-screen bg-brand-black text-brand-white font-body selection:bg-brand-red selection:text-white",children:[v.jsx(aM,{}),v.jsxs("section",{className:"relative h-screen flex items-center justify-center overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-brand-black via-transparent to-brand-black z-10"}),v.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-brand-red/20 blur-[120px] rounded-full"}),v.jsxs("div",{className:"relative z-20 text-center max-w-4xl px-4",children:[v.jsx("h2",{className:"text-brand-yellow font-titles tracking-[0.2em] text-lg mb-4 animate-pulse",children:"MADISON JUNIOR HIGH SCHOOL"}),v.jsxs("h1",{className:"font-titles text-7xl md:text-9xl text-white mb-2 leading-tight",children:["#LEVEL",v.jsx("span",{className:"text-brand-red",children:"UP"})]}),v.jsx("p",{className:"font-body text-gray-400 text-lg md:text-xl max-w-2xl mx-auto mb-10",children:"The official home of the Esports Cubs. Competing in Rocket League, Super Smash Bros, Minecraft, and more."}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[v.jsx(on,{to:"/matches",className:"bg-brand-red text-white px-8 py-4 rounded font-titles text-xl hover:bg-brand-darkRed transition shadow-[0_0_20px_rgba(176,12,26,0.4)] hover:shadow-[0_0_30px_rgba(176,12,26,0.6)]",children:"WATCH LIVE"}),v.jsx(on,{to:"/roster",className:"border border-brand-grey text-white px-8 py-4 rounded font-titles text-xl hover:bg-brand-white hover:text-brand-black transition",children:"MEET THE TEAM"}),v.jsx(on,{to:"/login",children:v.jsx("button",{className:"bg-brand-red text-white font-titles text-xl px-8 py-4 skew-x-[-10deg] hover:bg-brand-darkRed hover:scale-105 transition-all duration-300 border-2 border-brand-red shadow-[0_0_20px_rgba(176,12,26,0.5)]",children:v.jsx("span",{className:"skew-x-[10deg] block",children:"JOIN THE TEAM"})})})]})]})]}),v.jsx("div",{className:"bg-brand-red py-4 overflow-hidden whitespace-nowrap border-y-4 border-brand-darkRed",children:v.jsx("div",{className:"inline-block animate-marquee font-titles text-2xl text-brand-black font-bold tracking-wider",children:"ROCKET LEAGUE  //  SUPER SMASH BROS  //  MINECRAFT  //  MARIO KART  //  FORTNITE  //  MARVEL RIVALS  //  CHESS  //  TETRIS  // ROCKET LEAGUE  //  SUPER SMASH BROS  //  MINECRAFT  //  MARIO KART  //  FORTNITE  //  MARVEL RIVALS  //  CHESS  //  TETRIS"})})]});const lM=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uM=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),sE=i=>{const e=uM(i);return e.charAt(0).toUpperCase()+e.slice(1)},iS=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),cM=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var hM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dM=V.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>V.createElement("svg",{ref:p,...hM,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:iS("lucide",o),...!u&&!cM(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,T])=>V.createElement(g,T)),...Array.isArray(u)?u:[u]]));const Fe=(i,e)=>{const n=V.forwardRef(({className:s,...o},u)=>V.createElement(dM,{ref:u,iconNode:e,className:iS(`lucide-${lM(sE(i))}`,`lucide-${i}`,s),...o}));return n.displayName=sE(i),n};const fM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],mM=Fe("activity",fM);const pM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Jm=Fe("arrow-right",pM);const gM=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],yM=Fe("banknote",gM);const _M=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wh=Fe("calendar",_M);const vM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bM=Fe("circle-check-big",vM);const EM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sS=Fe("clock",EM);const TM=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],SM=Fe("dollar-sign",TM);const AM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],wM=Fe("file-text",AM);const xM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],RM=Fe("funnel",xM);const CM=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],aS=Fe("gamepad-2",CM);const NM=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],aE=Fe("hash",NM);const IM=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],DM=Fe("inbox",IM);const OM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],MM=Fe("layout-dashboard",OM);const kM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],VM=Fe("log-out",kM);const LM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],jM=Fe("mail",LM);const UM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],oS=Fe("map-pin",UM);const PM=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],zM=Fe("menu",PM);const BM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],lS=Fe("message-square",BM);const HM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],qM=Fe("pencil",HM);const FM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],uS=Fe("plus",FM);const GM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cS=Fe("save",GM);const YM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],KM=Fe("search",YM);const $M=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],QM=Fe("send",$M);const XM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],JM=Fe("shield",XM);const WM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Rd=Fe("trash-2",WM);const ZM=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],e3=Fe("trending-down",ZM);const t3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],n3=Fe("trending-up",t3);const r3=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Hg=Fe("trophy",r3);const i3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hS=Fe("user",i3);const s3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],a3=Fe("users",s3);const o3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dS=Fe("x",o3),l3=({isOpen:i,toggleSidebar:e})=>{const{logout:n,userRole:s}=dr(),o=xi(),h=[{label:"Dashboard",path:"/dashboard",icon:v.jsx(MM,{size:20}),roles:["all"]},{label:"Inbox",path:"/dashboard/inbox",icon:v.jsx(DM,{size:20}),roles:["admin","coach"]},{label:"Roster & Teams",path:"/dashboard/roster",icon:v.jsx(a3,{size:20}),roles:["admin","coach"]},{label:"Financials",path:"/dashboard/financials",icon:v.jsx(yM,{size:20}),roles:["admin","coach","staff"]},{label:"Join Team",path:"/dashboard/application",icon:v.jsx(wM,{size:20}),roles:["student","guest"]},{label:"Comms",path:"/dashboard/comms",icon:v.jsx(lS,{size:20}),roles:["all"]},{label:"Calendar",path:"/dashboard/calendar",icon:v.jsx(wh,{size:20}),roles:["all"]},{label:"My Stats",path:"/dashboard/stats",icon:v.jsx(Hg,{size:20}),roles:["all"]}].filter(m=>m.roles.includes("all")||m.roles.includes(s));return v.jsxs(v.Fragment,{children:[i&&v.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:e}),v.jsxs("div",{className:`
        fixed md:static inset-y-0 left-0 z-50
        w-64 bg-brand-black border-r border-brand-grey/20 flex flex-col
        transform transition-transform duration-300 ease-in-out
        ${i?"translate-x-0":"-translate-x-full"} 
        md:translate-x-0
      `,children:[v.jsxs("div",{className:"h-20 flex items-center justify-between px-6 border-b border-brand-grey/20",children:[v.jsxs("h1",{className:"font-titles text-2xl text-brand-red tracking-wider",children:["MJHS",v.jsx("span",{className:"text-white",children:"PORTAL"})]}),v.jsx("button",{onClick:e,className:"md:hidden text-brand-grey hover:text-white",children:v.jsx(dS,{size:24})})]}),v.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:h.map(m=>{const p=o.pathname===m.path;return v.jsxs(on,{to:m.path,onClick:()=>window.innerWidth<768&&e(),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group ${p?"bg-brand-red text-white shadow-[0_0_10px_rgba(176,12,26,0.4)]":"text-brand-grey hover:bg-white/5 hover:text-white"}`,children:[v.jsx("span",{className:p?"text-white":"text-brand-grey group-hover:text-white",children:m.icon}),v.jsx("span",{className:"font-titles tracking-wide text-sm",children:m.label.toUpperCase()})]},m.path)})}),v.jsx("div",{className:"p-4 border-t border-brand-grey/20",children:v.jsxs("button",{onClick:n,className:"flex items-center gap-3 px-4 py-3 w-full rounded-lg text-brand-grey hover:bg-brand-red/10 hover:text-brand-red transition-all duration-200",children:[v.jsx(VM,{size:20}),v.jsx("span",{className:"font-titles tracking-wide text-sm",children:"LOG OUT"})]})})]})]})},u3=()=>{const[i,e]=V.useState(!1),n=()=>e(!i);return v.jsxs("div",{className:"flex min-h-screen bg-[#0a0a0a]",children:[v.jsx(l3,{isOpen:i,toggleSidebar:n}),v.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[v.jsxs("div",{className:"md:hidden h-16 flex items-center justify-between px-4 border-b border-brand-grey/20 bg-brand-black",children:[v.jsx("h1",{className:"font-titles text-xl text-brand-white",children:"MJHS ESPORTS"}),v.jsx("button",{onClick:n,className:"text-brand-white p-2",children:v.jsx(zM,{size:24})})]}),v.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto overflow-x-hidden",children:v.jsx("div",{className:"max-w-7xl mx-auto",children:v.jsx(Xw,{})})})]})]})},c3=()=>{const{currentUser:i,userRole:e}=dr(),[n,s]=V.useState(null),[o,u]=V.useState(!0);V.useEffect(()=>{(async()=>{try{const p=new Date().toISOString().split("T")[0],g=wu(Si(vt,"events"),Mg("date",">=",p),Td("date","asc"),kO(1)),T=await jg(g);if(T.empty)s(null);else{const b=T.docs[0].data();s({id:T.docs[0].id,...b})}}catch(p){console.error("Error fetching next event:",p)}finally{u(!1)}})()},[]);const h=m=>{if(!m)return"";const p={weekday:"short",month:"short",day:"numeric"};return new Date(m).toLocaleDateString("en-US",p)};return v.jsxs("div",{className:"space-y-8 animate-fade-in",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"font-titles text-4xl md:text-5xl text-brand-white mb-2",children:["WELCOME BACK, ",v.jsx("span",{className:"text-brand-red",children:i.displayName||"PLAYER"})]}),v.jsxs("p",{className:"font-body text-brand-grey text-lg",children:["System Status: ",v.jsx("span",{className:"text-brand-green font-bold",children:"ONLINE"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"lg:col-span-2 bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden relative group",children:[v.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition",children:v.jsx(wh,{size:120})}),v.jsxs("div",{className:"p-8 relative z-10",children:[v.jsxs("h2",{className:"font-titles text-2xl text-brand-yellow mb-6 flex items-center gap-2",children:[v.jsx(wh,{className:"text-brand-red"})," UPCOMING EVENT"]}),o?v.jsx("div",{className:"h-24 flex items-center text-brand-grey animate-pulse",children:"Loading schedule..."}):n?v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-brand-grey text-sm font-bold tracking-widest mb-1",children:"EVENT TITLE"}),v.jsx("div",{className:"font-titles text-4xl md:text-5xl text-brand-white tracking-wide",children:n.title.toUpperCase()})]}),v.jsxs("div",{className:"flex flex-wrap gap-6 mt-4",children:[v.jsxs("div",{className:"flex items-center gap-2 text-brand-grey",children:[v.jsx("div",{className:"bg-brand-red p-2 rounded text-white",children:v.jsx(wh,{size:18})}),v.jsx("span",{className:"text-lg text-white",children:h(n.date)})]}),v.jsxs("div",{className:"flex items-center gap-2 text-brand-grey",children:[v.jsx("div",{className:"bg-brand-yellow p-2 rounded text-brand-black",children:v.jsx(sS,{size:18})}),v.jsx("span",{className:"text-lg text-white",children:n.time})]}),v.jsxs("div",{className:"flex items-center gap-2 text-brand-grey",children:[v.jsx("div",{className:"bg-brand-grey p-2 rounded text-white",children:v.jsx(oS,{size:18})}),v.jsx("span",{className:"text-lg text-white",children:n.location})]})]}),v.jsx("div",{className:"mt-6 pt-6 border-t border-brand-grey/10",children:v.jsx("span",{className:`px-3 py-1 rounded text-sm font-bold border ${n.type==="Match"?"bg-brand-red text-white border-brand-red":n.type==="Practice"?"bg-brand-yellow text-brand-black border-brand-yellow":"bg-brand-grey text-white border-brand-grey"}`,children:n.type.toUpperCase()})})]}):v.jsxs("div",{className:"py-8",children:[v.jsx("h3",{className:"text-2xl text-brand-white font-titles",children:"NO UPCOMING EVENTS"}),v.jsx("p",{className:"text-brand-grey mt-2",children:"The calendar is currently clear."}),v.jsx(on,{to:"/dashboard/calendar",className:"inline-block mt-4 text-brand-red hover:text-white transition",children:"View Full Schedule "})]})]})]}),v.jsx("div",{className:"bg-brand-black border border-brand-grey/20 rounded-xl p-6 flex flex-col justify-between",children:v.jsxs("div",{children:[v.jsx("h2",{className:"font-titles text-xl text-brand-white mb-4",children:"QUICK ACTIONS"}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs(on,{to:"/dashboard/comms",className:"flex items-center justify-between bg-brand-red text-white p-4 rounded hover:bg-brand-darkRed group transition border border-brand-red",children:[v.jsx("span",{className:"font-bold",children:"TEAM CHAT"}),v.jsx(Jm,{size:18,className:"text-white/70 group-hover:text-white"})]}),v.jsxs(on,{to:"/dashboard/stats",className:"flex items-center justify-between bg-brand-yellow text-brand-black p-4 rounded hover:bg-yellow-400 group transition border border-brand-yellow",children:[v.jsx("span",{className:"font-bold",children:"UPDATE PROFILE"}),v.jsx(Jm,{size:18,className:"text-brand-black/50 group-hover:text-brand-black"})]}),(e==="admin"||e==="coach")&&v.jsxs(on,{to:"/dashboard/roster",className:"flex items-center justify-between bg-brand-white text-brand-black p-4 rounded hover:bg-gray-200 group transition border border-brand-white",children:[v.jsx("span",{className:"font-bold",children:"MANAGE ROSTER"}),v.jsx(Jm,{size:18,className:"text-brand-black/50 group-hover:text-brand-black"})]})]})]})}),v.jsxs("div",{className:"md:col-span-3 bg-brand-red text-white rounded-xl p-8 flex flex-col md:flex-row items-center justify-between relative overflow-hidden",children:[v.jsxs("div",{className:"relative z-10",children:[v.jsx("h2",{className:"font-titles text-3xl mb-2",children:"ARE YOU GAME READY?"}),v.jsx("p",{className:"opacity-90 max-w-xl",children:"Ensure your profile is up to date with your current rank and active games. Coaches use this data for roster selection."})]}),v.jsx("div",{className:"relative z-10 mt-6 md:mt-0",children:v.jsx(on,{to:"/dashboard/stats",children:v.jsx("button",{className:"bg-brand-black text-white px-6 py-3 rounded font-titles font-bold hover:bg-brand-yellow hover:text-brand-black transition border-2 border-brand-black",children:"UPDATE MY STATS"})})}),v.jsx(Hg,{className:"absolute -right-10 -bottom-10 text-brand-darkRed opacity-50 rotate-12",size:200})]})]})]})},h3=["Rocket League","Super Smash Bros Ultimate","Minecraft (Bed Wars)","Mario Kart","Fortnite (Zone Wars)","Marvel Rivals","Chess","Tetris"],d3=()=>{const{currentUser:i}=dr(),[e,n]=V.useState(!1),[s,o]=V.useState({gamertag:"",discord:"",grade:"",bio:"",games:[]});V.useEffect(()=>{(async()=>{if(i){const g=Nn(vt,"users",i.uid),T=await wp(g);if(T.exists()){const b=T.data();o({gamertag:b.gamertag||"",discord:b.discord||"",grade:b.grade||"",bio:b.bio||"",games:b.games||[]})}}})()},[i]);const u=p=>{o({...s,[p.target.name]:p.target.value})},h=p=>{o(g=>g.games.includes(p)?{...g,games:g.games.filter(b=>b!==p)}:{...g,games:[...g.games,p]})},m=async p=>{p.preventDefault(),n(!0);const g=Nn(vt,"users",i.uid),T=hu(g,{gamertag:s.gamertag,discord:s.discord,grade:s.grade,bio:s.bio,games:s.games,updatedAt:new Date});try{await iM.promise(T,{loading:"Saving Profile...",success:"Profile Updated Successfully!",error:"Failed to update profile."})}catch(b){console.error("Error updating profile:",b)}n(!1)};return v.jsxs("div",{className:"max-w-4xl",children:[v.jsx("h2",{className:"font-titles text-3xl text-brand-white mb-6 border-b border-brand-grey/20 pb-4",children:"PLAYER PROFILE"}),v.jsxs("form",{onSubmit:m,className:"space-y-8",children:[v.jsxs("div",{className:"bg-brand-black border border-brand-grey/20 p-6 rounded-xl",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-6 text-brand-red",children:[v.jsx(hS,{size:24}),v.jsx("h3",{className:"font-titles text-xl",children:"IDENTITY"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-brand-grey text-sm mb-2",children:"Gamertag"}),v.jsx("input",{type:"text",name:"gamertag",value:s.gamertag,onChange:u,placeholder:"Ex: NinjaCuber99",className:"w-full bg-[#111] border border-brand-grey/30 rounded p-3 text-white focus:border-brand-red focus:outline-none"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-brand-grey text-sm mb-2",children:"Discord Username"}),v.jsx("input",{type:"text",name:"discord",value:s.discord,onChange:u,placeholder:"username#0000",className:"w-full bg-[#111] border border-brand-grey/30 rounded p-3 text-white focus:border-brand-red focus:outline-none"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-brand-grey text-sm mb-2",children:"Grade Level"}),v.jsxs("select",{name:"grade",value:s.grade,onChange:u,className:"w-full bg-[#111] border border-brand-grey/30 rounded p-3 text-white focus:border-brand-red focus:outline-none",children:[v.jsx("option",{value:"",children:"Select Grade"}),v.jsx("option",{value:"6",children:"6th Grade"}),v.jsx("option",{value:"7",children:"7th Grade"}),v.jsx("option",{value:"8",children:"8th Grade"}),v.jsx("option",{value:"Staff",children:"Staff / Coach"})]})]})]})]}),v.jsxs("div",{className:"bg-brand-black border border-brand-grey/20 p-6 rounded-xl",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-6 text-brand-red",children:[v.jsx(aS,{size:24}),v.jsx("h3",{className:"font-titles text-xl",children:"ACTIVE GAMES"})]}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:h3.map(p=>v.jsx("button",{type:"button",onClick:()=>h(p),className:`p-4 rounded-lg text-sm font-bold transition-all duration-200 border ${s.games.includes(p)?"bg-brand-red text-white border-brand-red shadow-[0_0_10px_rgba(176,12,26,0.4)]":"bg-[#111] text-brand-grey border-brand-grey/20 hover:border-brand-white"}`,children:p},p))})]}),v.jsx("div",{className:"flex justify-end",children:v.jsxs("button",{type:"submit",disabled:e,className:"flex items-center gap-2 bg-brand-yellow text-brand-black px-8 py-3 rounded font-titles font-bold hover:bg-white transition",children:[v.jsx(cS,{size:20}),e?"SAVING...":"SAVE PROFILE"]})})]})]})},Cd=()=>v.jsx("div",{className:"flex justify-center items-center py-20",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-brand-red"})}),f3=({player:i,onClose:e,onUpdate:n})=>{const[s,o]=V.useState(!1),[u,h]=V.useState({gamertag:i.gamertag||"",discord:i.discord||"",role:i.role||"student",stats:{goals:i.stats?.goals||0,assists:i.stats?.assists||0,wins:i.stats?.wins||0,mvps:i.stats?.mvps||0}}),m=(g,T)=>{h(b=>({...b,stats:{...b.stats,[g]:parseInt(T)||0}}))},p=async g=>{g.preventDefault(),o(!0);try{const T=Nn(vt,"users",i.id);await hu(T,{gamertag:u.gamertag,discord:u.discord,role:u.role,stats:u.stats}),n(),e()}catch(T){console.error("Error updating player:",T),alert("Failed to update profile.")}finally{o(!1)}};return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4 backdrop-blur-sm",children:v.jsxs("div",{className:"bg-[#111] w-full max-w-2xl rounded-xl border border-brand-red/50 shadow-[0_0_30px_rgba(176,12,26,0.2)] overflow-hidden animate-fade-in",children:[v.jsxs("div",{className:"bg-brand-red p-4 flex justify-between items-center",children:[v.jsxs("h2",{className:"font-titles text-xl text-white",children:["EDIT PLAYER: ",i.gamertag]}),v.jsx("button",{onClick:e,className:"text-white hover:text-brand-black",children:v.jsx(dS,{})})]}),v.jsxs("form",{onSubmit:p,className:"p-6 space-y-6 overflow-y-auto max-h-[80vh]",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("h3",{className:"text-brand-grey text-sm font-bold flex items-center gap-2",children:[v.jsx(mM,{size:16})," PROFILE DETAILS"]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Gamertag"}),v.jsx("input",{type:"text",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.gamertag,onChange:g=>h({...u,gamertag:g.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Discord"}),v.jsx("input",{type:"text",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.discord,onChange:g=>h({...u,discord:g.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Role (Permission Level)"}),v.jsxs("select",{className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.role,onChange:g=>h({...u,role:g.target.value}),children:[v.jsx("option",{value:"student",children:"Student (No Access)"}),v.jsx("option",{value:"player",children:"Player (Roster Access)"}),v.jsx("option",{value:"coach",children:"Coach (Admin Access)"})]})]})]})]}),v.jsxs("div",{className:"space-y-4 pt-4 border-t border-brand-grey/20",children:[v.jsxs("h3",{className:"text-brand-yellow text-sm font-bold flex items-center gap-2",children:[v.jsx(Hg,{size:16})," SEASON STATISTICS"]}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Goals / Points"}),v.jsx("input",{type:"number",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.stats.goals,onChange:g=>m("goals",g.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Assists"}),v.jsx("input",{type:"number",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.stats.assists,onChange:g=>m("assists",g.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Wins"}),v.jsx("input",{type:"number",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.stats.wins,onChange:g=>m("wins",g.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"MVPs"}),v.jsx("input",{type:"number",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.stats.mvps,onChange:g=>m("mvps",g.target.value)})]})]})]}),v.jsx("button",{disabled:s,className:"w-full bg-brand-red text-white font-titles py-3 rounded hover:bg-brand-darkRed transition flex justify-center items-center gap-2",children:s?"SAVING...":v.jsxs(v.Fragment,{children:[v.jsx(cS,{size:20})," SAVE CHANGES"]})})]})]})})},m3=["All","Rocket League","Super Smash Bros Ultimate","Minecraft (Bed Wars)","Mario Kart","Fortnite (Zone Wars)","Marvel Rivals","Chess","Tetris"],p3=()=>{const{userRole:i}=dr(),[e,n]=V.useState([]),[s,o]=V.useState(!0),[u,h]=V.useState("All"),[m,p]=V.useState(""),[g,T]=V.useState(null),b=async()=>{try{const q=(await jg(Si(vt,"users"))).docs.map(G=>({id:G.id,...G.data()}));n(q)}catch(D){console.error("Error fetching roster:",D)}finally{o(!1)}};V.useEffect(()=>{b()},[]);const A=async D=>{if(window.confirm("Are you sure you want to remove this player? This cannot be undone."))try{await Sd(Nn(vt,"users",D)),n(q=>q.filter(G=>G.id!==D))}catch(q){console.error("Error deleting player:",q),alert("Could not delete player.")}},O=e.filter(D=>{const q=u==="All"?!0:D.games&&D.games.includes(u),G=D.gamertag?.toLowerCase().includes(m.toLowerCase())||D.email?.toLowerCase().includes(m.toLowerCase());return q&&G});return v.jsxs("div",{className:"space-y-6",children:[g&&v.jsx(f3,{player:g,onClose:()=>T(null),onUpdate:b}),v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end border-b border-brand-grey/20 pb-4 gap-4",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"TEAM ROSTER"}),v.jsx("p",{className:"text-brand-grey text-sm",children:"Manage players and view game assignments"})]}),v.jsxs("div",{className:"bg-brand-red px-4 py-1 rounded text-white font-titles text-sm",children:["TOTAL PLAYERS: ",O.length]})]}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-brand-black border border-brand-grey/20 p-4 rounded-xl",children:[v.jsxs("div",{className:"relative flex-1",children:[v.jsx(KM,{className:"absolute left-3 top-3 text-brand-grey",size:20}),v.jsx("input",{type:"text",placeholder:"Search Gamertag or Email...",className:"w-full bg-[#111] border border-brand-grey/30 rounded pl-10 pr-4 py-2 text-white focus:border-brand-red focus:outline-none",value:m,onChange:D=>p(D.target.value)})]}),v.jsxs("div",{className:"relative w-full md:w-64",children:[v.jsx(RM,{className:"absolute left-3 top-3 text-brand-grey",size:20}),v.jsx("select",{className:"w-full bg-[#111] border border-brand-grey/30 rounded pl-10 pr-4 py-2 text-white focus:border-brand-red focus:outline-none appearance-none",value:u,onChange:D=>h(D.target.value),children:m3.map(D=>v.jsx("option",{value:D,children:D},D))})]})]}),s?v.jsx(Cd,{}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:O.map(D=>v.jsxs("div",{className:"bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden hover:border-brand-red/50 transition group relative",children:[(i==="admin"||i==="coach")&&v.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[v.jsx("button",{onClick:()=>T(D),className:"p-2 bg-brand-yellow text-brand-black rounded hover:bg-white",title:"Edit Player",children:v.jsx(qM,{size:16})}),v.jsx("button",{onClick:()=>A(D.id),className:"p-2 bg-brand-red text-white rounded hover:bg-red-700",title:"Remove Player",children:v.jsx(Rd,{size:16})})]}),v.jsxs("div",{className:"bg-[#111] p-4 border-b border-brand-grey/10 flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-titles text-xl text-brand-white group-hover:text-brand-yellow truncate",children:D.gamertag||"No Gamertag"}),v.jsxs("div",{className:"flex items-center gap-2 text-brand-grey text-xs mt-1",children:[v.jsx(jM,{size:12}),v.jsx("span",{className:"truncate max-w-[150px]",children:D.email})]})]}),v.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase border ${D.role==="coach"?"bg-brand-red text-white border-brand-red":D.role==="player"?"bg-brand-grey/10 text-brand-grey border-brand-grey/20":"bg-brand-yellow/10 text-brand-yellow border-brand-yellow/20"}`,children:D.role||"Student"})]}),v.jsxs("div",{className:"p-4 space-y-4",children:[v.jsxs("div",{className:"flex items-center gap-3 text-sm text-brand-grey",children:[v.jsx(lS,{size:16,className:"text-brand-purple"}),v.jsx("span",{children:D.discord||"No Discord linked"})]}),v.jsxs("div",{className:"flex items-center gap-3 text-sm text-brand-grey",children:[v.jsx(hS,{size:16,className:"text-brand-red"}),v.jsx("span",{children:D.grade?`${D.grade}th Grade`:"Grade not set"})]}),D.stats&&(D.stats.wins>0||D.stats.goals>0)&&v.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-[#0a0a0a] p-2 rounded border border-brand-grey/10",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"block font-titles text-brand-red",children:D.stats.wins}),v.jsx("span",{className:"text-[10px] text-brand-grey",children:"WINS"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"block font-titles text-brand-white",children:D.stats.goals}),v.jsx("span",{className:"text-[10px] text-brand-grey",children:"GOALS"})]})]}),v.jsxs("div",{className:"pt-2 border-t border-brand-grey/10",children:[v.jsxs("p",{className:"text-xs text-brand-grey mb-2 flex items-center gap-1",children:[v.jsx(aS,{size:12})," ACTIVE GAMES"]}),v.jsx("div",{className:"flex flex-wrap gap-2",children:D.games&&D.games.length>0?D.games.map(q=>v.jsx("span",{className:"text-[10px] px-2 py-1 bg-brand-red/10 text-brand-red border border-brand-red/30 rounded",children:q},q)):v.jsx("span",{className:"text-[10px] text-brand-grey italic",children:"No games selected"})})]})]})]},D.id))})]})},g3=[{id:"general",name:"general",locked:!1},{id:"announcements",name:"announcements",locked:!0},{id:"rocket-league",name:"rocket-league",locked:!1},{id:"smash-bros",name:"smash-bros",locked:!1},{id:"minecraft",name:"minecraft",locked:!1}],y3=()=>{const{currentUser:i,userRole:e}=dr(),[n,s]=V.useState("general"),[o,u]=V.useState([]),[h,m]=V.useState(""),p=V.useRef();V.useEffect(()=>{const b=wu(Si(vt,"messages"),Mg("channel","==",n),Td("createdAt","asc")),A=Pg(b,O=>{const D=O.docs.map(q=>({id:q.id,...q.data()}));u(D),p.current?.scrollIntoView({behavior:"smooth"})});return()=>A()},[n]);const g=async b=>{if(b.preventDefault(),!!h.trim()){if(n==="announcements"&&e==="student"){alert("Only Staff can post in Announcements.");return}try{await Ug(Si(vt,"messages"),{text:h,createdAt:OO(),uid:i.uid,displayName:i.displayName||i.email.split("@")[0],photoURL:i.photoURL,role:e,channel:n}),m("")}catch(A){console.error("Error sending message:",A)}}},T=async b=>{window.confirm("Delete this message?")&&await Sd(Nn(vt,"messages",b))};return v.jsxs("div",{className:"flex h-[calc(100vh-140px)] bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden",children:[v.jsxs("div",{className:"w-64 bg-[#111] border-r border-brand-grey/20 flex flex-col",children:[v.jsx("div",{className:"p-4 border-b border-brand-grey/20",children:v.jsx("h3",{className:"font-titles text-brand-white tracking-wider",children:"CHANNELS"})}),v.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:g3.map(b=>v.jsxs("button",{onClick:()=>s(b.id),className:`w-full flex items-center gap-2 px-3 py-2 rounded text-sm font-bold transition ${n===b.id?"bg-brand-red/20 text-brand-white border-l-2 border-brand-red":"text-brand-grey hover:bg-brand-grey/10 hover:text-brand-white"}`,children:[v.jsx(aE,{size:16}),b.name,b.locked&&v.jsx(JM,{size:12,className:"ml-auto text-brand-yellow"})]},b.id))})]}),v.jsxs("div",{className:"flex-1 flex flex-col bg-brand-black relative",children:[v.jsxs("div",{className:"h-14 border-b border-brand-grey/20 flex items-center px-6 bg-[#0a0a0a]",children:[v.jsx(aE,{className:"text-brand-grey mr-2",size:20}),v.jsx("span",{className:"font-titles text-lg text-white",children:n}),n==="announcements"&&v.jsx("span",{className:"ml-4 text-xs text-brand-yellow border border-brand-yellow/30 px-2 py-1 rounded",children:"READ ONLY"})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[o.map(b=>{const A=b.uid===i.uid;return v.jsxs("div",{className:`flex gap-3 group ${A?"flex-row-reverse":""}`,children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-grey/30 flex items-center justify-center overflow-hidden flex-shrink-0 border border-brand-grey/20",children:b.photoURL?v.jsx("img",{src:b.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):v.jsx("span",{className:"text-xs font-bold text-white",children:b.displayName?.[0]?.toUpperCase()})}),v.jsxs("div",{className:`flex flex-col ${A?"items-end":"items-start"} max-w-[70%]`,children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx("span",{className:"text-xs font-bold text-brand-grey",children:b.displayName}),b.role==="admin"&&v.jsx("span",{className:"text-[10px] bg-brand-red text-white px-1 rounded",children:"ADMIN"})]}),v.jsx("div",{className:`px-4 py-2 rounded-lg text-sm ${A?"bg-brand-red text-white rounded-tr-none":"bg-[#222] text-gray-200 border border-brand-grey/20 rounded-tl-none"}`,children:b.text}),(e==="admin"||e==="coach")&&v.jsx("button",{onClick:()=>T(b.id),className:"opacity-0 group-hover:opacity-100 absolute -right-8 top-2 text-brand-grey hover:text-brand-red transition",children:v.jsx(Rd,{size:14})})]})]},b.id)}),v.jsx("div",{ref:p})]}),v.jsx("div",{className:"p-4 bg-[#111] border-t border-brand-grey/20",children:v.jsxs("form",{onSubmit:g,className:"flex gap-2",children:[v.jsx("input",{type:"text",value:h,onChange:b=>m(b.target.value),disabled:n==="announcements"&&e==="student",placeholder:n==="announcements"&&e==="student"?"Read Only Channel":`Message #${n}`,className:"flex-1 bg-brand-black border border-brand-grey/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-brand-red disabled:opacity-50 disabled:cursor-not-allowed"}),v.jsx("button",{type:"submit",disabled:!h.trim()||n==="announcements"&&e==="student",className:"bg-brand-red text-white p-3 rounded-lg hover:bg-brand-darkRed transition disabled:opacity-50 disabled:cursor-not-allowed",children:v.jsx(QM,{size:20})})]})})]})]})},Wm=[{label:"Match",color:"bg-brand-red text-white border-brand-red"},{label:"Practice",color:"bg-brand-yellow text-brand-black border-brand-yellow"},{label:"Meeting",color:"bg-brand-grey text-white border-brand-grey"}],_3=()=>{const{userRole:i}=dr(),[e,n]=V.useState([]),[s,o]=V.useState(!0),[u,h]=V.useState(!1),[m,p]=V.useState({title:"",date:"",time:"",location:"Esports Lab",type:"Practice"});V.useEffect(()=>{const b=wu(Si(vt,"events"),Td("date","asc")),A=Pg(b,O=>{const D=O.docs.map(q=>({id:q.id,...q.data()}));n(D),o(!1)});return()=>A()},[]);const g=async b=>{if(b.preventDefault(),!(!m.title||!m.date))try{await Ug(Si(vt,"events"),{...m,createdAt:new Date}),h(!1),p({title:"",date:"",time:"",location:"Esports Lab",type:"Practice"})}catch(A){console.error("Error adding event:",A)}},T=async b=>{window.confirm("Remove this event?")&&await Sd(Nn(vt,"events",b))};return v.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[v.jsxs("div",{className:"flex justify-between items-end border-b border-brand-grey/20 pb-4",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"TEAM SCHEDULE"}),v.jsx("p",{className:"text-brand-grey text-sm",children:"Upcoming matches and practices"})]}),(i==="admin"||i==="coach")&&v.jsxs("button",{onClick:()=>h(!u),className:"flex items-center gap-2 bg-brand-red text-white px-4 py-2 rounded font-bold hover:bg-brand-darkRed transition",children:[u?"CLOSE":"ADD EVENT"," ",v.jsx(uS,{size:20})]})]}),u&&v.jsxs("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/30 animate-fade-in",children:[v.jsx("h3",{className:"font-titles text-xl mb-4 text-brand-yellow",children:"NEW EVENT DETAILS"}),v.jsxs("form",{onSubmit:g,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx("input",{type:"text",placeholder:"Event Title (e.g., VS Floyd Central)",className:"md:col-span-2 bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.title,onChange:b=>p({...m,title:b.target.value})}),v.jsx("input",{type:"date",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.date,onChange:b=>p({...m,date:b.target.value})}),v.jsx("input",{type:"time",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.time,onChange:b=>p({...m,time:b.target.value})}),v.jsx("select",{className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.type,onChange:b=>p({...m,type:b.target.value}),children:Wm.map(b=>v.jsx("option",{value:b.label,children:b.label},b.label))}),v.jsx("input",{type:"text",placeholder:"Location",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.location,onChange:b=>p({...m,location:b.target.value})}),v.jsx("button",{className:"md:col-span-2 bg-brand-white text-brand-black font-bold p-3 rounded hover:bg-gray-200",children:"PUBLISH TO SCHEDULE"})]})]}),v.jsxs("div",{className:"space-y-4",children:[s&&v.jsx(Cd,{}),e.length===0&&!s&&v.jsx("div",{className:"text-center text-brand-grey py-10",children:"No upcoming events scheduled."}),e.map(b=>{const A=Wm.find(O=>O.label===b.type)||Wm[0];return v.jsxs("div",{className:"flex flex-col md:flex-row bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden group hover:border-brand-grey/50 transition",children:[v.jsxs("div",{className:"bg-[#111] p-6 flex flex-col items-center justify-center min-w-[120px] border-b md:border-b-0 md:border-r border-brand-grey/20",children:[v.jsx("span",{className:"font-titles text-3xl text-brand-white",children:new Date(b.date).getDate()}),v.jsx("span",{className:"text-brand-red font-bold uppercase text-sm",children:new Date(b.date).toLocaleString("default",{month:"short"})}),v.jsx("span",{className:"text-brand-grey text-xs mt-1",children:new Date(b.date).toLocaleString("default",{weekday:"long"})})]}),v.jsxs("div",{className:"p-6 flex-1 flex flex-col justify-center",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold border ${A.color}`,children:b.type.toUpperCase()}),v.jsxs("div",{className:"flex items-center gap-1 text-brand-grey text-sm",children:[v.jsx(sS,{size:14})," ",b.time]})]}),v.jsx("h3",{className:"font-titles text-2xl text-white group-hover:text-brand-yellow transition",children:b.title}),v.jsxs("div",{className:"flex items-center gap-2 text-brand-grey text-sm mt-2",children:[v.jsx(oS,{size:16,className:"text-brand-red"}),b.location]})]}),(i==="admin"||i==="coach")&&v.jsx("button",{onClick:()=>T(b.id),className:"bg-brand-red/10 text-brand-red p-4 flex items-center justify-center opacity-0 group-hover:opacity-100 hover:bg-brand-red hover:text-white transition w-16",children:v.jsx(Rd,{size:24})})]},b.id)})]})]})},v3=()=>{const{currentUser:i,userRole:e}=dr(),[n,s]=V.useState(!1),[o,u]=V.useState(!1),[h,m]=V.useState({gamertag:"",discord:"",grade:"",gpa:"",guardianName:"",guardianEmail:"",jerseySize:"M",games:[]}),p=["Rocket League","Super Smash Bros","Minecraft","Valorant","Overwatch 2"],g=b=>{m(A=>({...A,games:A.games.includes(b)?A.games.filter(O=>O!==b):[...A.games,b]}))},T=async b=>{b.preventDefault(),s(!0);try{const A=Nn(vt,"users",i.uid);await hu(A,{...h,applicationStatus:"submitted",updatedAt:new Date}),u(!0)}catch(A){console.error("Error submitting application:",A),alert("Failed to submit application.")}finally{s(!1)}};return o||e==="player"?v.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-center space-y-4",children:[v.jsx(bM,{size:64,className:"text-brand-green"}),v.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"APPLICATION RECEIVED"}),v.jsx("p",{className:"text-brand-grey",children:"Your coach will review your application and schedule a tryout."}),v.jsx("div",{className:"bg-brand-grey/10 p-4 rounded border border-brand-grey/30",children:v.jsxs("p",{className:"font-bold text-brand-yellow",children:["CURRENT STATUS: ",e==="player"?"ROSTERED":"PENDING TRYOUT"]})})]}):v.jsxs("div",{className:"max-w-3xl mx-auto",children:[v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"PLAYER APPLICATION"}),v.jsx("p",{className:"text-brand-grey",children:"Complete your profile to tryout for the season."})]}),v.jsxs("form",{onSubmit:T,className:"bg-[#111] p-8 rounded-xl border border-brand-grey/20 space-y-6",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-xl font-titles text-brand-red border-b border-brand-grey/20 pb-2",children:"PLAYER INFO"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx("input",{required:!0,type:"text",placeholder:"Gamertag",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.gamertag,onChange:b=>m({...h,gamertag:b.target.value})}),v.jsx("input",{required:!0,type:"text",placeholder:"Discord Username",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.discord,onChange:b=>m({...h,discord:b.target.value})}),v.jsxs("select",{required:!0,className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.grade,onChange:b=>m({...h,grade:b.target.value}),children:[v.jsx("option",{value:"",children:"Select Grade"}),[9,10,11,12].map(b=>v.jsxs("option",{value:b,children:[b,"th Grade"]},b))]}),v.jsx("input",{required:!0,type:"number",step:"0.01",placeholder:"Current GPA",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.gpa,onChange:b=>m({...h,gpa:b.target.value})})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-xl font-titles text-brand-red border-b border-brand-grey/20 pb-2",children:"GUARDIAN INFO"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx("input",{required:!0,type:"text",placeholder:"Parent/Guardian Name",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.guardianName,onChange:b=>m({...h,guardianName:b.target.value})}),v.jsx("input",{required:!0,type:"email",placeholder:"Parent Email",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.guardianEmail,onChange:b=>m({...h,guardianEmail:b.target.value})})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-xl font-titles text-brand-red border-b border-brand-grey/20 pb-2",children:"GAMES OF INTEREST"}),v.jsx("div",{className:"flex flex-wrap gap-3",children:p.map(b=>v.jsx("button",{type:"button",onClick:()=>g(b),className:`px-4 py-2 rounded border transition ${h.games.includes(b)?"bg-brand-red text-white border-brand-red":"bg-transparent text-brand-grey border-brand-grey/30 hover:border-brand-grey"}`,children:b},b))})]}),v.jsx("button",{disabled:n,className:"w-full bg-brand-white text-brand-black font-titles text-xl py-4 rounded hover:bg-gray-200 transition",children:n?"SUBMITTING...":"SUBMIT APPLICATION"})]})]})},b3=()=>{const[i,e]=V.useState([]),[n,s]=V.useState(!0),o=async()=>{s(!0);try{const m=wu(Si(vt,"users"),Mg("applicationStatus","in",["submitted","tryout"])),p=await jg(m);e(p.docs.map(g=>({id:g.id,...g.data()})))}catch(m){console.error("Error fetching apps:",m)}finally{s(!1)}};V.useEffect(()=>{o()},[]);const u=async m=>{confirm("Move to 'Tryout' phase? This will notify the student.")&&(await hu(Nn(vt,"users",m),{applicationStatus:"tryout"}),o())},h=async m=>{confirm("Approve for Roster? This grants 'Player' permissions.")&&(await hu(Nn(vt,"users",m),{applicationStatus:"approved",role:"player"}),o())};return v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"flex justify-between items-end border-b border-brand-grey/20 pb-4",children:v.jsxs("div",{children:[v.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"APPLICATION INBOX"}),v.jsx("p",{className:"text-brand-grey text-sm",children:"Review pending student applications"})]})}),n?v.jsx(Cd,{}):v.jsxs("div",{className:"grid gap-4",children:[i.length===0&&v.jsx("p",{className:"text-brand-grey",children:"No pending applications."}),i.map(m=>v.jsxs("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/20 flex flex-col md:flex-row justify-between gap-4",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("h3",{className:"font-titles text-2xl text-white",children:m.displayName}),v.jsx("span",{className:`px-2 py-0.5 text-xs font-bold uppercase rounded border ${m.applicationStatus==="tryout"?"bg-brand-yellow text-brand-black border-brand-yellow":"bg-brand-grey/20 text-brand-grey border-brand-grey"}`,children:m.applicationStatus})]}),v.jsxs("div",{className:"text-brand-grey text-sm mt-1 grid grid-cols-2 gap-x-8 gap-y-1",children:[v.jsxs("p",{children:["Gamertag: ",v.jsx("span",{className:"text-white",children:m.gamertag})]}),v.jsxs("p",{children:["GPA: ",v.jsx("span",{className:"text-white",children:m.gpa})]}),v.jsxs("p",{children:["Grade: ",v.jsx("span",{className:"text-white",children:m.grade})]}),v.jsxs("p",{children:["Games: ",v.jsx("span",{className:"text-white",children:m.games?.join(", ")})]})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[m.applicationStatus==="submitted"&&v.jsx("button",{onClick:()=>u(m.id),className:"bg-brand-yellow text-brand-black px-4 py-2 rounded font-bold hover:bg-yellow-400 transition",children:"SCHEDULE TRYOUT"}),m.applicationStatus==="tryout"&&v.jsx("button",{onClick:()=>h(m.id),className:"bg-brand-green text-white px-4 py-2 rounded font-bold hover:bg-green-600 transition border border-brand-green",children:"APPROVE ROSTER"})]})]},m.id))]})]})},E3=()=>{const{userRole:i}=dr(),[e,n]=V.useState([]),[s,o]=V.useState(!0),[u,h]=V.useState(!1),[m,p]=V.useState({description:"",amount:"",type:"incoming",category:"Sponsorship",date:new Date().toISOString().split("T")[0]});V.useEffect(()=>{const D=wu(Si(vt,"financials"),Td("date","desc")),q=Pg(D,G=>{const ne=G.docs.map(te=>({id:te.id,...te.data()}));n(ne),o(!1)});return()=>q()},[]);const g=e.reduce((D,q)=>q.type==="incoming"?D+Number(q.amount):D-Number(q.amount),0),T=e.filter(D=>D.type==="incoming").reduce((D,q)=>D+Number(q.amount),0),b=e.filter(D=>D.type==="outgoing").reduce((D,q)=>D+Number(q.amount),0),A=async D=>{if(D.preventDefault(),!(!m.description||!m.amount))try{await Ug(Si(vt,"financials"),{...m,amount:parseFloat(m.amount),createdAt:new Date}),h(!1),p({description:"",amount:"",type:"incoming",category:"Sponsorship",date:new Date().toISOString().split("T")[0]})}catch(q){console.error("Error adding transaction:",q)}},O=async D=>{confirm("Delete this transaction record?")&&await Sd(Nn(vt,"financials",D))};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-end border-b border-brand-grey/20 pb-4",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"FINANCIAL LEDGER"}),v.jsx("p",{className:"text-brand-grey text-sm",children:"Track team funds, sponsorships, and expenses"})]}),v.jsxs("button",{onClick:()=>h(!u),className:"bg-brand-red text-white px-4 py-2 rounded font-bold hover:bg-brand-darkRed transition flex items-center gap-2",children:[u?"CANCEL":"ADD ENTRY"," ",v.jsx(uS,{size:20})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsx("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/20",children:v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-brand-grey text-xs font-bold uppercase",children:"Current Balance"}),v.jsxs("h3",{className:`font-titles text-3xl mt-1 ${g>=0?"text-brand-green":"text-brand-red"}`,children:["$",g.toFixed(2)]})]}),v.jsx("div",{className:"p-3 bg-brand-grey/10 rounded-full text-brand-white",children:v.jsx(SM,{size:24})})]})}),v.jsx("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/20",children:v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-brand-grey text-xs font-bold uppercase",children:"Total Income"}),v.jsxs("h3",{className:"font-titles text-3xl mt-1 text-brand-yellow",children:["+$",T.toFixed(2)]})]}),v.jsx("div",{className:"p-3 bg-brand-yellow/10 rounded-full text-brand-yellow",children:v.jsx(n3,{size:24})})]})}),v.jsx("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/20",children:v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-brand-grey text-xs font-bold uppercase",children:"Total Expenses"}),v.jsxs("h3",{className:"font-titles text-3xl mt-1 text-brand-red",children:["-$",b.toFixed(2)]})]}),v.jsx("div",{className:"p-3 bg-brand-red/10 rounded-full text-brand-red",children:v.jsx(e3,{size:24})})]})})]}),u&&v.jsxs("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/30 animate-fade-in",children:[v.jsx("h3",{className:"font-titles text-xl mb-4 text-brand-white",children:"NEW TRANSACTION"}),v.jsxs("form",{onSubmit:A,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx("input",{type:"text",placeholder:"Description (e.g., Check from El Nopal)",className:"md:col-span-2 bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.description,onChange:D=>p({...m,description:D.target.value})}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("select",{className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white flex-1",value:m.type,onChange:D=>p({...m,type:D.target.value}),children:[v.jsx("option",{value:"incoming",children:"Incoming (+ Credit)"}),v.jsx("option",{value:"outgoing",children:"Outgoing (- Debit)"})]}),v.jsx("input",{type:"number",step:"0.01",placeholder:"Amount",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white flex-1",value:m.amount,onChange:D=>p({...m,amount:D.target.value})})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("select",{className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white flex-1",value:m.category,onChange:D=>p({...m,category:D.target.value}),children:[v.jsx("option",{value:"Sponsorship",children:"Sponsorship"}),v.jsx("option",{value:"Player Dues",children:"Player Dues"}),v.jsx("option",{value:"Equipment",children:"Equipment"}),v.jsx("option",{value:"Concessions",children:"Concessions"}),v.jsx("option",{value:"Merch",children:"Merchandise"}),v.jsx("option",{value:"Travel",children:"Travel/Bus"}),v.jsx("option",{value:"Other",children:"Other"})]}),v.jsx("input",{type:"date",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white flex-1",value:m.date,onChange:D=>p({...m,date:D.target.value})})]}),v.jsx("button",{className:"md:col-span-2 bg-brand-green text-white font-bold p-3 rounded hover:bg-green-600 transition",children:"LOG TRANSACTION"})]})]}),v.jsx("div",{className:"bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden",children:s?v.jsx("div",{className:"p-8",children:v.jsx(Cd,{})}):v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"bg-[#111] text-brand-grey text-xs uppercase font-bold border-b border-brand-grey/20",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-4",children:"Date"}),v.jsx("th",{className:"p-4",children:"Description"}),v.jsx("th",{className:"p-4",children:"Category"}),v.jsx("th",{className:"p-4 text-right",children:"Amount"}),v.jsx("th",{className:"p-4 w-10"})]})}),v.jsxs("tbody",{className:"divide-y divide-brand-grey/10 text-sm text-brand-white",children:[e.map(D=>v.jsxs("tr",{className:"hover:bg-white/5 transition",children:[v.jsx("td",{className:"p-4 text-brand-grey",children:D.date}),v.jsx("td",{className:"p-4 font-bold",children:D.description}),v.jsx("td",{className:"p-4",children:v.jsx("span",{className:"px-2 py-1 rounded-full text-[10px] bg-brand-grey/10 border border-brand-grey/20 text-brand-grey uppercase",children:D.category})}),v.jsxs("td",{className:`p-4 text-right font-titles text-lg ${D.type==="incoming"?"text-brand-green":"text-brand-red"}`,children:[D.type==="incoming"?"+":"-","$",Number(D.amount).toFixed(2)]}),v.jsx("td",{className:"p-4 text-center",children:i==="admin"&&v.jsx("button",{onClick:()=>O(D.id),className:"text-brand-grey hover:text-brand-red",children:v.jsx(Rd,{size:16})})})]},D.id)),e.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:"5",className:"p-8 text-center text-brand-grey italic",children:"No transactions recorded yet."})})]})]})})]})},T3=()=>{const{loginWithGoogle:i,currentUser:e}=dr();return e?v.jsx(TE,{to:"/dashboard"}):v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-brand-black text-brand-white space-y-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"font-titles text-6xl text-brand-red tracking-wider",children:"MJHS ESPORTS"}),v.jsx("p",{className:"font-body text-brand-grey mt-2 text-xl",children:"PORTAL LOGIN"})]}),v.jsxs("div",{className:"flex gap-6",children:[v.jsx("button",{onClick:()=>i(),className:"bg-brand-red px-8 py-4 rounded-lg font-bold hover:bg-brand-darkRed transition border-2 border-brand-red text-white",children:"LOGIN WITH SCHOOL EMAIL"}),v.jsx("button",{onClick:()=>i(),className:"bg-transparent border-2 border-brand-grey px-8 py-4 rounded-lg font-bold hover:bg-brand-grey/20 transition text-brand-grey",children:"GUEST / PARENT"})]})]})},S3=({children:i})=>{const{currentUser:e}=dr();return e?i:v.jsx(TE,{to:"/login"})};function A3(){return v.jsxs(p4,{children:[v.jsx(rM,{position:"bottom-right",toastOptions:{style:{background:"#333",color:"#fff",border:"1px solid #B00C1A"}}}),v.jsx(Tx,{children:v.jsxs(Ww,{children:[v.jsx(Fn,{path:"/",element:v.jsx(oM,{})}),v.jsx(Fn,{path:"/login",element:v.jsx(T3,{})}),v.jsxs(Fn,{path:"/dashboard",element:v.jsx(S3,{children:v.jsx(u3,{})}),children:[v.jsx(Fn,{index:!0,element:v.jsx(c3,{})}),v.jsx(Fn,{path:"stats",element:v.jsx(d3,{})}),v.jsx(Fn,{path:"roster",element:v.jsx(p3,{})}),v.jsx(Fn,{path:"comms",element:v.jsx(y3,{})}),v.jsx(Fn,{path:"calendar",element:v.jsx(_3,{})}),v.jsx(Fn,{path:"financials",element:v.jsx(E3,{})}),v.jsx(Fn,{path:"application",element:v.jsx(v3,{})}),v.jsx(Fn,{path:"inbox",element:v.jsx(b3,{})})]})]})})]})}WA.createRoot(document.getElementById("root")).render(v.jsx(V.StrictMode,{children:v.jsx(A3,{})}));
