(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Sm={exports:{}},zl={};var ob;function HS(){if(ob)return zl;ob=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var lb;function qS(){return lb||(lb=1,Sm.exports=HS()),Sm.exports}var T=qS(),wm={exports:{}},Te={};var ub;function FS(){if(ub)return Te;ub=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function D(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,F={};function ne(V,W,ae){this.props=V,this.context=W,this.refs=F,this.updater=ae||P}ne.prototype.isReactComponent={},ne.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},ne.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function te(){}te.prototype=ne.prototype;function re(V,W,ae){this.props=V,this.context=W,this.refs=F,this.updater=ae||P}var fe=re.prototype=new te;fe.constructor=re,G(fe,ne.prototype),fe.isPureReactComponent=!0;var Se=Array.isArray;function Ee(){}var R={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(V,W,ae){var ue=ae.ref;return{$$typeof:i,type:V,key:W,ref:ue!==void 0?ue:null,props:ae}}function L(V,W){return C(V.type,W,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function j(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return W[ae]})}var I=/\/+/g;function st(V,W){return typeof V=="object"&&V!==null&&V.key!=null?j(""+V.key):W.toString(36)}function Dt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ee,Ee):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,W,ae,ue,ve){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Re){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case i:case e:Ue=!0;break;case E:return Ue=V._init,Q(Ue(V._payload),W,ae,ue,ve)}}if(Ue)return ve=ve(V),Ue=ue===""?"."+st(V,0):ue,Se(ve)?(ae="",Ue!=null&&(ae=Ue.replace(I,"$&/")+"/"),Q(ve,W,ae,"",function(xs){return xs})):ve!=null&&(M(ve)&&(ve=L(ve,ae+(ve.key==null||V&&V.key===ve.key?"":(""+ve.key).replace(I,"$&/")+"/")+Ue)),W.push(ve)),1;Ue=0;var Ot=ue===""?".":ue+":";if(Se(V))for(var at=0;at<V.length;at++)ue=V[at],Re=Ot+st(ue,at),Ue+=Q(ue,W,ae,Re,ve);else if(at=D(V),typeof at=="function")for(V=at.call(V),at=0;!(ue=V.next()).done;)ue=ue.value,Re=Ot+st(ue,at++),Ue+=Q(ue,W,ae,Re,ve);else if(Re==="object"){if(typeof V.then=="function")return Q(Dt(V),W,ae,ue,ve);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function se(V,W,ae){if(V==null)return V;var ue=[],ve=0;return Q(V,ue,"","",function(Re){return W.call(ae,Re,ve++)}),ue}function pe(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var je=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ge={map:se,forEach:function(V,W,ae){se(V,function(){W.apply(this,arguments)},ae)},count:function(V){var W=0;return se(V,function(){W++}),W},toArray:function(V){return se(V,function(W){return W})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Te.Activity=v,Te.Children=Ge,Te.Component=ne,Te.Fragment=n,Te.Profiler=o,Te.PureComponent=re,Te.StrictMode=s,Te.Suspense=p,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Te.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},Te.cache=function(V){return function(){return V.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(V,W,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=G({},V.props),ve=V.key;if(W!=null)for(Re in W.key!==void 0&&(ve=""+W.key),W)!x.call(W,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&W.ref===void 0||(ue[Re]=W[Re]);var Re=arguments.length-2;if(Re===1)ue.children=ae;else if(1<Re){for(var Ue=Array(Re),Ot=0;Ot<Re;Ot++)Ue[Ot]=arguments[Ot+2];ue.children=Ue}return C(V.type,ve,ue)},Te.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Te.createElement=function(V,W,ae){var ue,ve={},Re=null;if(W!=null)for(ue in W.key!==void 0&&(Re=""+W.key),W)x.call(W,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=W[ue]);var Ue=arguments.length-2;if(Ue===1)ve.children=ae;else if(1<Ue){for(var Ot=Array(Ue),at=0;at<Ue;at++)Ot[at]=arguments[at+2];ve.children=Ot}if(V&&V.defaultProps)for(ue in Ue=V.defaultProps,Ue)ve[ue]===void 0&&(ve[ue]=Ue[ue]);return C(V,Re,ve)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(V){return{$$typeof:m,render:V}},Te.isValidElement=M,Te.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:pe}},Te.memo=function(V,W){return{$$typeof:g,type:V,compare:W===void 0?null:W}},Te.startTransition=function(V){var W=R.T,ae={};R.T=ae;try{var ue=V(),ve=R.S;ve!==null&&ve(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ee,je)}catch(Re){je(Re)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),R.T=W}},Te.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Te.use=function(V){return R.H.use(V)},Te.useActionState=function(V,W,ae){return R.H.useActionState(V,W,ae)},Te.useCallback=function(V,W){return R.H.useCallback(V,W)},Te.useContext=function(V){return R.H.useContext(V)},Te.useDebugValue=function(){},Te.useDeferredValue=function(V,W){return R.H.useDeferredValue(V,W)},Te.useEffect=function(V,W){return R.H.useEffect(V,W)},Te.useEffectEvent=function(V){return R.H.useEffectEvent(V)},Te.useId=function(){return R.H.useId()},Te.useImperativeHandle=function(V,W,ae){return R.H.useImperativeHandle(V,W,ae)},Te.useInsertionEffect=function(V,W){return R.H.useInsertionEffect(V,W)},Te.useLayoutEffect=function(V,W){return R.H.useLayoutEffect(V,W)},Te.useMemo=function(V,W){return R.H.useMemo(V,W)},Te.useOptimistic=function(V,W){return R.H.useOptimistic(V,W)},Te.useReducer=function(V,W,ae){return R.H.useReducer(V,W,ae)},Te.useRef=function(V){return R.H.useRef(V)},Te.useState=function(V){return R.H.useState(V)},Te.useSyncExternalStore=function(V,W,ae){return R.H.useSyncExternalStore(V,W,ae)},Te.useTransition=function(){return R.H.useTransition()},Te.version="19.2.3",Te}var cb;function Sp(){return cb||(cb=1,wm.exports=FS()),wm.exports}var k=Sp(),xm={exports:{}},Bl={},Rm={exports:{}},Cm={};var hb;function GS(){return hb||(hb=1,(function(i){function e(Q,se){var pe=Q.length;Q.push(se);e:for(;0<pe;){var je=pe-1>>>1,Ge=Q[je];if(0<o(Ge,se))Q[je]=se,Q[pe]=Ge,pe=je;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var se=Q[0],pe=Q.pop();if(pe!==se){Q[0]=pe;e:for(var je=0,Ge=Q.length,V=Ge>>>1;je<V;){var W=2*(je+1)-1,ae=Q[W],ue=W+1,ve=Q[ue];if(0>o(ae,pe))ue<Ge&&0>o(ve,ae)?(Q[je]=ve,Q[ue]=pe,je=ue):(Q[je]=ae,Q[W]=pe,je=W);else if(ue<Ge&&0>o(ve,pe))Q[je]=ve,Q[ue]=pe,je=ue;else break e}}return se}function o(Q,se){var pe=Q.sortIndex-se.sortIndex;return pe!==0?pe:Q.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,v=null,w=3,D=!1,P=!1,G=!1,F=!1,ne=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function fe(Q){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=Q)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function Se(Q){if(G=!1,fe(Q),!P)if(n(p)!==null)P=!0,Ee||(Ee=!0,j());else{var se=n(g);se!==null&&Dt(Se,se.startTime-Q)}}var Ee=!1,R=-1,x=5,C=-1;function L(){return F?!0:!(i.unstable_now()-C<x)}function M(){if(F=!1,Ee){var Q=i.unstable_now();C=Q;var se=!0;try{e:{P=!1,G&&(G=!1,te(R),R=-1),D=!0;var pe=w;try{t:{for(fe(Q),v=n(p);v!==null&&!(v.expirationTime>Q&&L());){var je=v.callback;if(typeof je=="function"){v.callback=null,w=v.priorityLevel;var Ge=je(v.expirationTime<=Q);if(Q=i.unstable_now(),typeof Ge=="function"){v.callback=Ge,fe(Q),se=!0;break t}v===n(p)&&s(p),fe(Q)}else s(p);v=n(p)}if(v!==null)se=!0;else{var V=n(g);V!==null&&Dt(Se,V.startTime-Q),se=!1}}break e}finally{v=null,w=pe,D=!1}se=void 0}}finally{se?j():Ee=!1}}}var j;if(typeof re=="function")j=function(){re(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,st=I.port2;I.port1.onmessage=M,j=function(){st.postMessage(null)}}else j=function(){ne(M,0)};function Dt(Q,se){R=ne(function(){Q(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var pe=w;w=se;try{return Q()}finally{w=pe}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pe=w;w=Q;try{return se()}finally{w=pe}},i.unstable_scheduleCallback=function(Q,se,pe){var je=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,Q){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=pe+Ge,Q={id:E++,callback:se,priorityLevel:Q,startTime:pe,expirationTime:Ge,sortIndex:-1},pe>je?(Q.sortIndex=pe,e(g,Q),n(p)===null&&Q===n(g)&&(G?(te(R),R=-1):G=!0,Dt(Se,pe-je))):(Q.sortIndex=Ge,e(p,Q),P||D||(P=!0,Ee||(Ee=!0,j()))),Q},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(Q){var se=w;return function(){var pe=w;w=se;try{return Q.apply(this,arguments)}finally{w=pe}}}})(Cm)),Cm}var fb;function YS(){return fb||(fb=1,Rm.exports=GS()),Rm.exports}var Im={exports:{}},Zt={};var db;function KS(){if(db)return Zt;db=1;var i=Sp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Zt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,v=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:D}):E==="script"&&s.d.X(p,{crossOrigin:v,integrity:w,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,v=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var mb;function $S(){if(mb)return Im.exports;mb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Im.exports=KS(),Im.exports}var pb;function QS(){if(pb)return Bl;pb=1;var i=YS(),e=Sp(),n=$S();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,l=d;break}if(A===l){_=!0,l=f,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=f;break}if(A===l){_=!0,l=d,a=f;break}A=A.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),re=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case ne:return"Profiler";case F:return"StrictMode";case Se:return"Suspense";case Ee:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case re:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case fe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return r=t.displayName||null,r!==null?r:st(t.type)||"Memo";case x:r=t._payload,t=t._init;try{return st(t(r))}catch{}}return null}var Dt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function V(t){return{current:t}}function W(t){0>Ge||(t.current=je[Ge],je[Ge]=null,Ge--)}function ae(t,r){Ge++,je[Ge]=t.current,t.current=r}var ue=V(null),ve=V(null),Re=V(null),Ue=V(null);function Ot(t,r){switch(ae(Re,r),ae(ve,t),ae(ue,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Nv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Nv(r),t=Dv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ue),ae(ue,t)}function at(){W(ue),W(ve),W(Re)}function xs(t){t.memoizedState!==null&&ae(Ue,t);var r=ue.current,a=Dv(r,t.type);r!==a&&(ae(ve,t),ae(ue,a))}function Ea(t){ve.current===t&&(W(ue),W(ve)),Ue.current===t&&(W(Ue),Ll._currentValue=pe)}var Ta,Aa;function fr(t){if(Ta===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ta=r&&r[1]||"",Aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ta+t+Aa}var Lo=!1;function Rs(t,r){if(!t||Lo)return"";Lo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(K){var q=K}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(K){q=K}t.call(Z.prototype)}}else{try{throw Error()}catch(K){q=K}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(K){if(K&&q&&typeof K.stack=="string")return[K.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var N=_.split(`
`),H=A.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===H.length)for(l=N.length-1,f=H.length-1;1<=l&&0<=f&&N[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==H[f]){var $=`
`+N[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=f);break}}}finally{Lo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?fr(a):""}function Uo(t,r){switch(t.tag){case 26:case 27:case 5:return fr(t.type);case 16:return fr("Lazy");case 13:return t.child!==r&&r!==null?fr("Suspense Fallback"):fr("Suspense");case 19:return fr("SuspenseList");case 0:case 15:return Rs(t.type,!1);case 11:return Rs(t.type.render,!1);case 1:return Rs(t.type,!0);case 31:return fr("Activity");default:return""}}function Po(t){try{var r="",a=null;do r+=Uo(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Mt=i.unstable_scheduleCallback,Ri=i.unstable_cancelCallback,xf=i.unstable_shouldYield,xu=i.unstable_requestPaint,rn=i.unstable_now,Cs=i.unstable_getCurrentPriorityLevel,jo=i.unstable_ImmediatePriority,zo=i.unstable_UserBlockingPriority,Ci=i.unstable_NormalPriority,Rf=i.unstable_LowPriority,Ru=i.unstable_IdlePriority,Cu=i.log,Iu=i.unstable_setDisableYieldValue,Kn=null,qt=null;function Nn(t){if(typeof Cu=="function"&&Iu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Kn,t)}catch{}}var mt=Math.clz32?Math.clz32:Du,Nu=Math.log,Sa=Math.LN2;function Du(t){return t>>>=0,t===0?32:31-(Nu(t)/Sa|0)|0}var dr=256,Is=262144,bt=4194304;function mr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pr(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=mr(l):(_&=A,_!==0?f=mr(_):a||(a=A&~t,a!==0&&(f=mr(a))))):(A=l&~d,A!==0?f=mr(A):_!==0?f=mr(_):a||(a=l&~t,a!==0&&(f=mr(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function $n(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Cf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ou(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function gr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ns(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function If(t,r,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,N=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-mt(a),Z=1<<$;A[$]=0,N[$]=-1;var q=H[$];if(q!==null)for(H[$]=null,$=0;$<q.length;$++){var K=q[$];K!==null&&(K.lane&=-536870913)}a&=~Z}l!==0&&Ds(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function Ds(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-mt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Bo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-mt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Ho(t,r){var a=r&-r;return a=(a&42)!==0?1:Os(a),(a&(t.suspendedLanes|r))!==0?0:a}function Os(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Kr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:eb(t.type))}function Qn(t,r){var a=se.p;try{return se.p=t,r()}finally{se.p=a}}var Xn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Xn,Pt="__reactProps$"+Xn,yr="__reactContainer$"+Xn,wa="__reactEvents$"+Xn,Nf="__reactListeners$"+Xn,Vu="__reactHandles$"+Xn,ku="__reactResources$"+Xn,_r="__reactMarker$"+Xn;function xa(t){delete t[Et],delete t[Pt],delete t[wa],delete t[Nf],delete t[Vu]}function vr(t){var r=t[Et];if(r)return r;for(var a=t.parentNode;a;){if(r=a[yr]||a[Et]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Pv(t);t!==null;){if(a=t[Et])return a;t=Pv(t)}return r}t=a,a=t.parentNode}return null}function Dn(t){if(t=t[Et]||t[yr]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function _n(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function br(t){var r=t[ku];return r||(r=t[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Tt(t){t[_r]=!0}var qo=new Set,Fo={};function Er(t,r){Tr(t,r),Tr(t+"Capture",r)}function Tr(t,r){for(Fo[t]=r,t=0;t<r.length;t++)qo.add(r[t])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yo={},Ko={};function Lu(t){return vt.call(Ko,t)?!0:vt.call(Yo,t)?!1:Go.test(t)?Ko[t]=!0:(Yo[t]=!0,!1)}function Ra(t,r,a){if(Lu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function vn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function At(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ii(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $o(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ye(t){if(!t._valueTracker){var r=Ii(t)?"checked":"value";t._valueTracker=$o(t,r,""+t[r])}}function Ms(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Ii(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ar(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vs=/[\n"\\]/g;function ln(t){return t.replace(Vs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ca(t,r,a,l,f,d,_,A){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+jt(r)):t.value!==""+jt(r)&&(t.value=""+jt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Qo(t,_,jt(r)):a!=null?Qo(t,_,jt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+jt(A):t.removeAttribute("name")}function Uu(t,r,a,l,f,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ye(t);return}a=a!=null?""+jt(a):"",r=r!=null?""+jt(r):a,A||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function Qo(t,r,a){r==="number"&&Ar(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ni(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Pu(t,r,a){if(r!=null&&(r=""+jt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+jt(a):""}function Di(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Dt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=jt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function un(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||ju.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Jo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Xo(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Xo(t,d,r[d])}function Ia(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(t){return Oi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Jn(){}var Zo=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mi=null,Sr=null;function ks(t){var r=Dn(t);if(r&&(t=r.stateNode)){var a=t[Pt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[Pt]||null;if(!f)throw Error(s(90));Ca(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ms(l)}break e;case"textarea":Pu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ni(t,!!a.multiple,r,!1)}}}var Da=!1;function Vi(t,r,a){if(Da)return t(r,a);Da=!0;try{var l=t(r);return l}finally{if(Da=!1,(Mi!==null||Sr!==null)&&(Mc(),Mi&&(r=Mi,t=Sr,Sr=Mi=null,ks(r),t)))for(r=0;r<t.length;r++)ks(t[r])}}function Zn(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ls=!1;if(Mn)try{var Qe={};Object.defineProperty(Qe,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch{Ls=!1}var wr=null,Wo=null,Us=null;function el(){if(Us)return Us;var t,r=Wo,a=r.length,l,f="value"in wr?wr.value:wr.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Us=f.slice(t,1<l?1-l:void 0)}function Ps(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function $r(){return!0}function Wn(){return!1}function Ft(t){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$r:Wn,this.isPropagationStopped=Wn,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),r}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xr=Ft(Qr),ki=v({},Qr,{view:0,detail:0}),tl=Ft(ki),Li,Oa,Rr,Ma=v({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ui,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rr&&(Rr&&t.type==="mousemove"?(Li=t.screenX-Rr.screenX,Oa=t.screenY-Rr.screenY):Oa=Li=0,Rr=t),Li)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),nl=Ft(Ma),js=v({},Ma,{dataTransfer:0}),Bu=Ft(js),Hu=v({},ki,{relatedTarget:0}),zs=Ft(Hu),rl=v({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),qu=Ft(rl),Va=v({},Qr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fu=Ft(Va),Gu=v({},Qr,{data:0}),Cr=Ft(Gu),Yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=$u[t])?!!r[t]:!1}function Ui(){return Qu}var sn=v({},ki,{key:function(t){if(t.key){var r=Yu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ui,charCode:function(t){return t.type==="keypress"?Ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xu=Ft(sn),Ju=v({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xr=Ft(Ju),c=v({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ui}),y=Ft(c),b=v({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ft(b),z=v({},Ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Ft(z),ie=v({},Qr,{newState:0,oldState:0}),we=Ft(ie),pt=[9,13,27,32],He=Mn&&"CompositionEvent"in window,ot=null;Mn&&"documentMode"in document&&(ot=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!ot,Ir=Mn&&(!He||ot&&8<ot&&11>=ot),er=" ",tr=!1;function Bs(t,r){switch(t){case"keyup":return pt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function fA(t,r){switch(t){case"compositionend":return ka(r);case"keypress":return r.which!==32?null:(tr=!0,er);case"textInput":return t=r.data,t===er&&tr?null:t;default:return null}}function dA(t,r){if(La)return t==="compositionend"||!He&&Bs(t,r)?(t=el(),Us=Wo=wr=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ir&&r.locale!=="ko"?null:r.data;default:return null}}var mA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!mA[t.type]:r==="textarea"}function Hg(t,r,a,l){Mi?Sr?Sr.push(l):Sr=[l]:Mi=l,r=zc(r,"onChange"),0<r.length&&(a=new xr("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var il=null,sl=null;function pA(t){Sv(t,0)}function Zu(t){var r=_n(t);if(Ms(r))return t}function qg(t,r){if(t==="change")return r}var Fg=!1;if(Mn){var Df;if(Mn){var Of="oninput"in document;if(!Of){var Gg=document.createElement("div");Gg.setAttribute("oninput","return;"),Of=typeof Gg.oninput=="function"}Df=Of}else Df=!1;Fg=Df&&(!document.documentMode||9<document.documentMode)}function Yg(){il&&(il.detachEvent("onpropertychange",Kg),sl=il=null)}function Kg(t){if(t.propertyName==="value"&&Zu(sl)){var r=[];Hg(r,sl,t,On(t)),Vi(pA,r)}}function gA(t,r,a){t==="focusin"?(Yg(),il=r,sl=a,il.attachEvent("onpropertychange",Kg)):t==="focusout"&&Yg()}function yA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zu(sl)}function _A(t,r){if(t==="click")return Zu(r)}function vA(t,r){if(t==="input"||t==="change")return Zu(r)}function bA(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var bn=typeof Object.is=="function"?Object.is:bA;function al(t,r){if(bn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!vt.call(r,f)||!bn(t[f],r[f]))return!1}return!0}function $g(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qg(t,r){var a=$g(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$g(a)}}function Xg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Xg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Jg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ar(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ar(t.document)}return r}function Mf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var EA=Mn&&"documentMode"in document&&11>=document.documentMode,Ua=null,Vf=null,ol=null,kf=!1;function Zg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kf||Ua==null||Ua!==Ar(l)||(l=Ua,"selectionStart"in l&&Mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=zc(Vf,"onSelect"),0<l.length&&(r=new xr("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ua)))}function Hs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Pa={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},Lf={},Wg={};Mn&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function qs(t){if(Lf[t])return Lf[t];if(!Pa[t])return t;var r=Pa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Wg)return Lf[t]=r[a];return t}var ey=qs("animationend"),ty=qs("animationiteration"),ny=qs("animationstart"),TA=qs("transitionrun"),AA=qs("transitionstart"),SA=qs("transitioncancel"),ry=qs("transitionend"),iy=new Map,Uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uf.push("scrollEnd");function nr(t,r){iy.set(t,r),Er(r,[t])}var Wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},kn=[],ja=0,Pf=0;function ec(){for(var t=ja,r=Pf=ja=0;r<t;){var a=kn[r];kn[r++]=null;var l=kn[r];kn[r++]=null;var f=kn[r];kn[r++]=null;var d=kn[r];if(kn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&sy(a,f,d)}}function tc(t,r,a,l){kn[ja++]=t,kn[ja++]=r,kn[ja++]=a,kn[ja++]=l,Pf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function jf(t,r,a,l){return tc(t,r,a,l),nc(t)}function Fs(t,r){return tc(t,null,null,r),nc(t)}function sy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-mt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function nc(t){if(50<Il)throw Il=0,$d=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var za={};function wA(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,r,a,l){return new wA(t,r,a,l)}function zf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jr(t,r){var a=t.alternate;return a===null?(a=En(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ay(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function rc(t,r,a,l,f,d){var _=0;if(l=t,typeof t=="function")zf(t)&&(_=1);else if(typeof t=="string")_=NS(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=En(31,a,r,f),t.elementType=C,t.lanes=d,t;case G:return Gs(a.children,f,d,r);case F:_=8,f|=24;break;case ne:return t=En(12,a,r,f|2),t.elementType=ne,t.lanes=d,t;case Se:return t=En(13,a,r,f),t.elementType=Se,t.lanes=d,t;case Ee:return t=En(19,a,r,f),t.elementType=Ee,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case te:_=9;break e;case fe:_=11;break e;case R:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=En(_,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Gs(t,r,a,l){return t=En(7,t,l,r),t.lanes=a,t}function Bf(t,r,a){return t=En(6,t,null,r),t.lanes=a,t}function oy(t){var r=En(18,null,null,0);return r.stateNode=t,r}function Hf(t,r,a){return r=En(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ly=new WeakMap;function Ln(t,r){if(typeof t=="object"&&t!==null){var a=ly.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Po(r)},ly.set(t,r),r)}return{value:t,source:r,stack:Po(r)}}var Ba=[],Ha=0,ic=null,ll=0,Un=[],Pn=0,Pi=null,Nr=1,Dr="";function Zr(t,r){Ba[Ha++]=ll,Ba[Ha++]=ic,ic=t,ll=r}function uy(t,r,a){Un[Pn++]=Nr,Un[Pn++]=Dr,Un[Pn++]=Pi,Pi=t;var l=Nr;t=Dr;var f=32-mt(l)-1;l&=~(1<<f),a+=1;var d=32-mt(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Nr=1<<32-mt(r)+f|a<<f|l,Dr=d+t}else Nr=1<<d|a<<f|l,Dr=t}function qf(t){t.return!==null&&(Zr(t,1),uy(t,1,0))}function Ff(t){for(;t===ic;)ic=Ba[--Ha],Ba[Ha]=null,ll=Ba[--Ha],Ba[Ha]=null;for(;t===Pi;)Pi=Un[--Pn],Un[Pn]=null,Dr=Un[--Pn],Un[Pn]=null,Nr=Un[--Pn],Un[Pn]=null}function cy(t,r){Un[Pn++]=Nr,Un[Pn++]=Dr,Un[Pn++]=Pi,Nr=r.id,Dr=r.overflow,Pi=t}var Gt=null,nt=null,Le=!1,ji=null,jn=!1,Gf=Error(s(519));function zi(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(Ln(r,t)),Gf}function hy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Et]=t,r[Pt]=l,a){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(a=0;a<Dl.length;a++)Ne(Dl[a],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Ne("invalid",r),Uu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",r);break;case"textarea":Ne("invalid",r),Di(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Cv(r.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",r),Ne("toggle",r)),l.onScroll!=null&&Ne("scroll",r),l.onScrollEnd!=null&&Ne("scrollend",r),l.onClick!=null&&(r.onclick=Jn),r=!0):r=!1,r||zi(t,!0)}function fy(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Gt=Gt.return}}function qa(t){if(t!==Gt)return!1;if(!Le)return fy(t),Le=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||um(t.type,t.memoizedProps)),a=!a),a&&nt&&zi(t),fy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=Uv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=Uv(t)}else r===27?(r=nt,es(t.type)?(t=mm,mm=null,nt=t):nt=r):nt=Gt?Bn(t.stateNode.nextSibling):null;return!0}function Ys(){nt=Gt=null,Le=!1}function Yf(){var t=ji;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),ji=null),t}function ul(t){ji===null?ji=[t]:ji.push(t)}var Kf=V(null),Ks=null,Wr=null;function Bi(t,r,a){ae(Kf,r._currentValue),r._currentValue=a}function ei(t){t._currentValue=Kf.current,W(Kf)}function $f(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Qf(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=f;for(var N=0;N<r.length;N++)if(A.context===r[N]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),$f(d.return,a,t),l||(_=null);break e}d=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),$f(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Fa(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var A=f.type;bn(f.pendingProps.value,_.value)||(t!==null?t.push(A):t=[A])}}else if(f===Ue.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}f=f.return}t!==null&&Qf(r,t,a,l),r.flags|=262144}function sc(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $s(t){Ks=t,Wr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return dy(Ks,t)}function ac(t,r){return Ks===null&&$s(t),dy(t,r)}function dy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Wr===null){if(t===null)throw Error(s(308));Wr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Wr=Wr.next=r;return a}var xA=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},RA=i.unstable_scheduleCallback,CA=i.unstable_NormalPriority,St={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new xA,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&RA(CA,function(){t.controller.abort()})}var hl=null,Jf=0,Ga=0,Ya=null;function IA(t,r){if(hl===null){var a=hl=[];Jf=0,Ga=em(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jf++,r.then(my,my),r}function my(){if(--Jf===0&&hl!==null){Ya!==null&&(Ya.status="fulfilled");var t=hl;hl=null,Ga=0,Ya=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function NA(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var py=Q.S;Q.S=function(t,r){Z_=rn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&IA(t,r),py!==null&&py(t,r)};var Qs=V(null);function Zf(){var t=Qs.current;return t!==null?t:We.pooledCache}function oc(t,r){r===null?ae(Qs,Qs.current):ae(Qs,r.pool)}function gy(){var t=Zf();return t===null?null:{parent:St._currentValue,pool:t}}var Ka=Error(s(460)),Wf=Error(s(474)),lc=Error(s(542)),uc={then:function(){}};function yy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _y(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Jn,Jn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,by(t),t;default:if(typeof r.status=="string")r.then(Jn,Jn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,by(t),t}throw Js=r,Ka}}function Xs(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Js=a,Ka):a}}var Js=null;function vy(){if(Js===null)throw Error(s(459));var t=Js;return Js=null,t}function by(t){if(t===Ka||t===lc)throw Error(s(483))}var $a=null,fl=0;function cc(t){var r=fl;return fl+=1,$a===null&&($a=[]),_y($a,t,r)}function dl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function hc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ey(t){function r(U,O){if(t){var B=U.deletions;B===null?(U.deletions=[O],U.flags|=16):B.push(O)}}function a(U,O){if(!t)return null;for(;O!==null;)r(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function f(U,O){return U=Jr(U,O),U.index=0,U.sibling=null,U}function d(U,O,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<O?(U.flags|=67108866,O):B):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function A(U,O,B,X){return O===null||O.tag!==6?(O=Bf(B,U.mode,X),O.return=U,O):(O=f(O,B),O.return=U,O)}function N(U,O,B,X){var de=B.type;return de===G?$(U,O,B.props.children,X,B.key):O!==null&&(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===x&&Xs(de)===O.type)?(O=f(O,B.props),dl(O,B),O.return=U,O):(O=rc(B.type,B.key,B.props,null,U.mode,X),dl(O,B),O.return=U,O)}function H(U,O,B,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Hf(B,U.mode,X),O.return=U,O):(O=f(O,B.children||[]),O.return=U,O)}function $(U,O,B,X,de){return O===null||O.tag!==7?(O=Gs(B,U.mode,X,de),O.return=U,O):(O=f(O,B),O.return=U,O)}function Z(U,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Bf(""+O,U.mode,B),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case D:return B=rc(O.type,O.key,O.props,null,U.mode,B),dl(B,O),B.return=U,B;case P:return O=Hf(O,U.mode,B),O.return=U,O;case x:return O=Xs(O),Z(U,O,B)}if(Dt(O)||j(O))return O=Gs(O,U.mode,B,null),O.return=U,O;if(typeof O.then=="function")return Z(U,cc(O),B);if(O.$$typeof===re)return Z(U,ac(U,O),B);hc(U,O)}return null}function q(U,O,B,X){var de=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return de!==null?null:A(U,O,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case D:return B.key===de?N(U,O,B,X):null;case P:return B.key===de?H(U,O,B,X):null;case x:return B=Xs(B),q(U,O,B,X)}if(Dt(B)||j(B))return de!==null?null:$(U,O,B,X,null);if(typeof B.then=="function")return q(U,O,cc(B),X);if(B.$$typeof===re)return q(U,O,ac(U,B),X);hc(U,B)}return null}function K(U,O,B,X,de){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(B)||null,A(O,U,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case D:return U=U.get(X.key===null?B:X.key)||null,N(O,U,X,de);case P:return U=U.get(X.key===null?B:X.key)||null,H(O,U,X,de);case x:return X=Xs(X),K(U,O,B,X,de)}if(Dt(X)||j(X))return U=U.get(B)||null,$(O,U,X,de,null);if(typeof X.then=="function")return K(U,O,B,cc(X),de);if(X.$$typeof===re)return K(U,O,B,ac(O,X),de);hc(O,X)}return null}function ce(U,O,B,X){for(var de=null,ze=null,he=O,Ce=O=0,Oe=null;he!==null&&Ce<B.length;Ce++){he.index>Ce?(Oe=he,he=null):Oe=he.sibling;var Be=q(U,he,B[Ce],X);if(Be===null){he===null&&(he=Oe);break}t&&he&&Be.alternate===null&&r(U,he),O=d(Be,O,Ce),ze===null?de=Be:ze.sibling=Be,ze=Be,he=Oe}if(Ce===B.length)return a(U,he),Le&&Zr(U,Ce),de;if(he===null){for(;Ce<B.length;Ce++)he=Z(U,B[Ce],X),he!==null&&(O=d(he,O,Ce),ze===null?de=he:ze.sibling=he,ze=he);return Le&&Zr(U,Ce),de}for(he=l(he);Ce<B.length;Ce++)Oe=K(he,U,Ce,B[Ce],X),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?Ce:Oe.key),O=d(Oe,O,Ce),ze===null?de=Oe:ze.sibling=Oe,ze=Oe);return t&&he.forEach(function(ss){return r(U,ss)}),Le&&Zr(U,Ce),de}function ge(U,O,B,X){if(B==null)throw Error(s(151));for(var de=null,ze=null,he=O,Ce=O=0,Oe=null,Be=B.next();he!==null&&!Be.done;Ce++,Be=B.next()){he.index>Ce?(Oe=he,he=null):Oe=he.sibling;var ss=q(U,he,Be.value,X);if(ss===null){he===null&&(he=Oe);break}t&&he&&ss.alternate===null&&r(U,he),O=d(ss,O,Ce),ze===null?de=ss:ze.sibling=ss,ze=ss,he=Oe}if(Be.done)return a(U,he),Le&&Zr(U,Ce),de;if(he===null){for(;!Be.done;Ce++,Be=B.next())Be=Z(U,Be.value,X),Be!==null&&(O=d(Be,O,Ce),ze===null?de=Be:ze.sibling=Be,ze=Be);return Le&&Zr(U,Ce),de}for(he=l(he);!Be.done;Ce++,Be=B.next())Be=K(he,U,Ce,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?Ce:Be.key),O=d(Be,O,Ce),ze===null?de=Be:ze.sibling=Be,ze=Be);return t&&he.forEach(function(BS){return r(U,BS)}),Le&&Zr(U,Ce),de}function Ze(U,O,B,X){if(typeof B=="object"&&B!==null&&B.type===G&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case D:e:{for(var de=B.key;O!==null;){if(O.key===de){if(de=B.type,de===G){if(O.tag===7){a(U,O.sibling),X=f(O,B.props.children),X.return=U,U=X;break e}}else if(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===x&&Xs(de)===O.type){a(U,O.sibling),X=f(O,B.props),dl(X,B),X.return=U,U=X;break e}a(U,O);break}else r(U,O);O=O.sibling}B.type===G?(X=Gs(B.props.children,U.mode,X,B.key),X.return=U,U=X):(X=rc(B.type,B.key,B.props,null,U.mode,X),dl(X,B),X.return=U,U=X)}return _(U);case P:e:{for(de=B.key;O!==null;){if(O.key===de)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(U,O.sibling),X=f(O,B.children||[]),X.return=U,U=X;break e}else{a(U,O);break}else r(U,O);O=O.sibling}X=Hf(B,U.mode,X),X.return=U,U=X}return _(U);case x:return B=Xs(B),Ze(U,O,B,X)}if(Dt(B))return ce(U,O,B,X);if(j(B)){if(de=j(B),typeof de!="function")throw Error(s(150));return B=de.call(B),ge(U,O,B,X)}if(typeof B.then=="function")return Ze(U,O,cc(B),X);if(B.$$typeof===re)return Ze(U,O,ac(U,B),X);hc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(U,O.sibling),X=f(O,B),X.return=U,U=X):(a(U,O),X=Bf(B,U.mode,X),X.return=U,U=X),_(U)):a(U,O)}return function(U,O,B,X){try{fl=0;var de=Ze(U,O,B,X);return $a=null,de}catch(he){if(he===Ka||he===lc)throw he;var ze=En(29,he,null,U.mode);return ze.lanes=X,ze.return=U,ze}}}var Zs=Ey(!0),Ty=Ey(!1),Hi=!1;function ed(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function td(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=nc(t),sy(t,null,a),r}return tc(t,l,r,a),nc(t)}function ml(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Bo(t,a)}}function nd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var rd=!1;function pl(){if(rd){var t=Ya;if(t!==null)throw t}}function gl(t,r,a,l){rd=!1;var f=t.updateQueue;Hi=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var N=A,H=N.next;N.next=null,_===null?d=H:_.next=H,_=N;var $=t.alternate;$!==null&&($=$.updateQueue,A=$.lastBaseUpdate,A!==_&&(A===null?$.firstBaseUpdate=H:A.next=H,$.lastBaseUpdate=N))}if(d!==null){var Z=f.baseState;_=0,$=H=N=null,A=d;do{var q=A.lane&-536870913,K=q!==A.lane;if(K?(De&q)===q:(l&q)===q){q!==0&&q===Ga&&(rd=!0),$!==null&&($=$.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ce=t,ge=A;q=r;var Ze=a;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){Z=ce.call(Ze,Z,q);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,q=typeof ce=="function"?ce.call(Ze,Z,q):ce,q==null)break e;Z=v({},Z,q);break e;case 2:Hi=!0}}q=A.callback,q!==null&&(t.flags|=64,K&&(t.flags|=8192),K=f.callbacks,K===null?f.callbacks=[q]:K.push(q))}else K={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$===null?(H=$=K,N=Z):$=$.next=K,_|=q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;K=A,A=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);$===null&&(N=Z),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),Qi|=_,t.lanes=_,t.memoizedState=Z}}function Ay(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Sy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ay(a[t],r)}var Qa=V(null),fc=V(0);function wy(t,r){t=ui,ae(fc,t),ae(Qa,r),ui=t|r.baseLanes}function id(){ae(fc,ui),ae(Qa,Qa.current)}function sd(){ui=fc.current,W(Qa),W(fc)}var Tn=V(null),zn=null;function Gi(t){var r=t.alternate;ae(gt,gt.current&1),ae(Tn,t),zn===null&&(r===null||Qa.current!==null||r.memoizedState!==null)&&(zn=t)}function ad(t){ae(gt,gt.current),ae(Tn,t),zn===null&&(zn=t)}function xy(t){t.tag===22?(ae(gt,gt.current),ae(Tn,t),zn===null&&(zn=t)):Yi()}function Yi(){ae(gt,gt.current),ae(Tn,Tn.current)}function An(t){W(Tn),zn===t&&(zn=null),W(gt)}var gt=V(0);function dc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||fm(a)||dm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ti=0,xe=null,Xe=null,wt=null,mc=!1,Xa=!1,Ws=!1,pc=0,yl=0,Ja=null,DA=0;function ht(){throw Error(s(321))}function od(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!bn(t[a],r[a]))return!1;return!0}function ld(t,r,a,l,f,d){return ti=d,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?u_:Ad,Ws=!1,d=a(l,f),Ws=!1,Xa&&(d=Cy(r,a,l,f)),Ry(t),d}function Ry(t){Q.H=bl;var r=Xe!==null&&Xe.next!==null;if(ti=0,wt=Xe=xe=null,mc=!1,yl=0,Ja=null,r)throw Error(s(300));t===null||xt||(t=t.dependencies,t!==null&&sc(t)&&(xt=!0))}function Cy(t,r,a,l){xe=t;var f=0;do{if(Xa&&(Ja=null),yl=0,Xa=!1,25<=f)throw Error(s(301));if(f+=1,wt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=c_,d=r(a,l)}while(Xa);return d}function OA(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?_l(r):r,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(xe.flags|=1024),r}function ud(){var t=pc!==0;return pc=0,t}function cd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function hd(t){if(mc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}mc=!1}ti=0,wt=Xe=xe=null,Xa=!1,yl=pc=0,Ja=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?xe.memoizedState=wt=t:wt=wt.next=t,wt}function yt(){if(Xe===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var r=wt===null?xe.memoizedState:wt.next;if(r!==null)wt=r,Xe=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},wt===null?xe.memoizedState=wt=t:wt=wt.next=t}return wt}function gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var r=yl;return yl+=1,Ja===null&&(Ja=[]),t=_y(Ja,t,r),r=xe,(wt===null?r.memoizedState:wt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?u_:Ad),t}function yc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===re)return Yt(t)}throw Error(s(438,String(t)))}function fd(t){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=gc(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=L;return r.index++,a}function ni(t,r){return typeof r=="function"?r(t):r}function _c(t){var r=yt();return dd(r,Xe,t)}function dd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var A=_=null,N=null,H=r,$=!1;do{var Z=H.lane&-536870913;if(Z!==H.lane?(De&Z)===Z:(ti&Z)===Z){var q=H.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Z===Ga&&($=!0);else if((ti&q)===q){H=H.next,q===Ga&&($=!0);continue}else Z={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(A=N=Z,_=d):N=N.next=Z,xe.lanes|=q,Qi|=q;Z=H.action,Ws&&a(d,Z),d=H.hasEagerState?H.eagerState:a(d,Z)}else q={lane:Z,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(A=N=q,_=d):N=N.next=q,xe.lanes|=Z,Qi|=Z;H=H.next}while(H!==null&&H!==r);if(N===null?_=d:N.next=A,!bn(d,t.memoizedState)&&(xt=!0,$&&(a=Ya,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function md(t){var r=yt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);bn(d,r.memoizedState)||(xt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Iy(t,r,a){var l=xe,f=yt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!bn((Xe||f).memoizedState,a);if(_&&(f.memoizedState=a,xt=!0),f=f.queue,yd(Oy.bind(null,l,f,t),[t]),f.getSnapshot!==r||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Za(9,{destroy:void 0},Dy.bind(null,l,f,a,r),null),We===null)throw Error(s(349));d||(ti&127)!==0||Ny(l,r,a)}return a}function Ny(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=gc(),xe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Dy(t,r,a,l){r.value=a,r.getSnapshot=l,My(r)&&Vy(t)}function Oy(t,r,a){return a(function(){My(r)&&Vy(t)})}function My(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!bn(t,a)}catch{return!0}}function Vy(t){var r=Fs(t,2);r!==null&&mn(r,t,2)}function pd(t){var r=an();if(typeof t=="function"){var a=t;if(t=a(),Ws){Nn(!0);try{a()}finally{Nn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:t},r}function ky(t,r,a,l){return t.baseState=a,dd(t,Xe,typeof l=="function"?l:ni)}function MA(t,r,a,l,f){if(Ec(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Ly(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Ly(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=Q.T,_={};Q.T=_;try{var A=a(f,l),N=Q.S;N!==null&&N(_,A),Uy(t,r,A)}catch(H){gd(t,r,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(f,l),Uy(t,r,d)}catch(H){gd(t,r,H)}}function Uy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Py(t,r,l)},function(l){return gd(t,r,l)}):Py(t,r,a)}function Py(t,r,a){r.status="fulfilled",r.value=a,jy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Ly(t,a)))}function gd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,jy(r),r=r.next;while(r!==l)}t.action=null}function jy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function zy(t,r){return r}function By(t,r){if(Le){var a=We.formState;if(a!==null){e:{var l=xe;if(Le){if(nt){t:{for(var f=nt,d=jn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Bn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){nt=Bn(f.nextSibling),l=f.data==="F!";break e}}zi(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zy,lastRenderedState:r},a.queue=l,a=a_.bind(null,xe,l),l.dispatch=a,l=pd(!1),d=Td.bind(null,xe,!1,l.queue),l=an(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=MA.bind(null,xe,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Hy(t){var r=yt();return qy(r,Xe,t)}function qy(t,r,a){if(r=dd(t,r,zy)[0],t=_c(ni)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=_l(r)}catch(_){throw _===Ka?lc:_}else l=r;r=yt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,Za(9,{destroy:void 0},VA.bind(null,f,a),null)),[l,d,t]}function VA(t,r){t.action=r}function Fy(t){var r=yt(),a=Xe;if(a!==null)return qy(r,a,t);yt(),r=r.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Za(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=xe.updateQueue,r===null&&(r=gc(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Gy(){return yt().memoizedState}function vc(t,r,a,l){var f=an();xe.flags|=t,f.memoizedState=Za(1|r,{destroy:void 0},a,l===void 0?null:l)}function bc(t,r,a,l){var f=yt();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&od(l,Xe.memoizedState.deps)?f.memoizedState=Za(r,d,a,l):(xe.flags|=t,f.memoizedState=Za(1|r,d,a,l))}function Yy(t,r){vc(8390656,8,t,r)}function yd(t,r){bc(2048,8,t,r)}function kA(t){xe.flags|=4;var r=xe.updateQueue;if(r===null)r=gc(),xe.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Ky(t){var r=yt().memoizedState;return kA({ref:r,nextImpl:t}),function(){if((qe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function $y(t,r){return bc(4,2,t,r)}function Qy(t,r){return bc(4,4,t,r)}function Xy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Jy(t,r,a){a=a!=null?a.concat([t]):null,bc(4,4,Xy.bind(null,r,t),a)}function _d(){}function Zy(t,r){var a=yt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&od(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Wy(t,r){var a=yt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&od(r,l[1]))return l[0];if(l=t(),Ws){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,r],l}function vd(t,r,a){return a===void 0||(ti&1073741824)!==0&&(De&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=ev(),xe.lanes|=t,Qi|=t,a)}function e_(t,r,a,l){return bn(a,r)?a:Qa.current!==null?(t=vd(t,a,l),bn(t,r)||(xt=!0),t):(ti&42)===0||(ti&1073741824)!==0&&(De&261930)===0?(xt=!0,t.memoizedState=a):(t=ev(),xe.lanes|=t,Qi|=t,r)}function t_(t,r,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var _=Q.T,A={};Q.T=A,Td(t,!1,r,a);try{var N=f(),H=Q.S;if(H!==null&&H(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=NA(N,l);vl(t,r,$,xn(t))}else vl(t,r,l,xn(t))}catch(Z){vl(t,r,{then:function(){},status:"rejected",reason:Z},xn())}finally{se.p=d,_!==null&&A.types!==null&&(_.types=A.types),Q.T=_}}function LA(){}function bd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=n_(t).queue;t_(t,f,r,pe,a===null?LA:function(){return r_(t),a(l)})}function n_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function r_(t){var r=n_(t);r.next===null&&(r=t.alternate.memoizedState),vl(t,r.next.queue,{},xn())}function Ed(){return Yt(Ll)}function i_(){return yt().memoizedState}function s_(){return yt().memoizedState}function UA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=xn();t=qi(a);var l=Fi(r,t,a);l!==null&&(mn(l,r,a),ml(l,r,a)),r={cache:Xf()},t.payload=r;return}r=r.return}}function PA(t,r,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(t)?o_(r,a):(a=jf(t,r,a,l),a!==null&&(mn(a,t,l),l_(a,r,l)))}function a_(t,r,a){var l=xn();vl(t,r,a,l)}function vl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(t))o_(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,A=d(_,a);if(f.hasEagerState=!0,f.eagerState=A,bn(A,_))return tc(t,r,f,0),We===null&&ec(),!1}catch{}if(a=jf(t,r,f,l),a!==null)return mn(a,t,l),l_(a,r,l),!0}return!1}function Td(t,r,a,l){if(l={lane:2,revertLane:em(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ec(t)){if(r)throw Error(s(479))}else r=jf(t,a,l,2),r!==null&&mn(r,t,2)}function Ec(t){var r=t.alternate;return t===xe||r!==null&&r===xe}function o_(t,r){Xa=mc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function l_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Bo(t,a)}}var bl={readContext:Yt,use:yc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};bl.useEffectEvent=ht;var u_={readContext:Yt,use:yc,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:Yt,useEffect:Yy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,vc(4194308,4,Xy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return vc(4194308,4,t,r)},useInsertionEffect:function(t,r){vc(4,2,t,r)},useMemo:function(t,r){var a=an();r=r===void 0?null:r;var l=t();if(Ws){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=an();if(a!==void 0){var f=a(r);if(Ws){Nn(!0);try{a(r)}finally{Nn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=PA.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=pd(t);var r=t.queue,a=a_.bind(null,xe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:_d,useDeferredValue:function(t,r){var a=an();return vd(a,t,r)},useTransition:function(){var t=pd(!1);return t=t_.bind(null,xe,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=xe,f=an();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),We===null)throw Error(s(349));(De&127)!==0||Ny(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Yy(Oy.bind(null,l,d,t),[t]),l.flags|=2048,Za(9,{destroy:void 0},Dy.bind(null,l,d,a,r),null),a},useId:function(){var t=an(),r=We.identifierPrefix;if(Le){var a=Dr,l=Nr;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=pc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=DA++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Ed,useFormState:By,useActionState:By,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Td.bind(null,xe,!0,a),a.dispatch=r,[t,r]},useMemoCache:fd,useCacheRefresh:function(){return an().memoizedState=UA.bind(null,xe)},useEffectEvent:function(t){var r=an(),a={impl:t};return r.memoizedState=a,function(){if((qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Ad={readContext:Yt,use:yc,useCallback:Zy,useContext:Yt,useEffect:yd,useImperativeHandle:Jy,useInsertionEffect:$y,useLayoutEffect:Qy,useMemo:Wy,useReducer:_c,useRef:Gy,useState:function(){return _c(ni)},useDebugValue:_d,useDeferredValue:function(t,r){var a=yt();return e_(a,Xe.memoizedState,t,r)},useTransition:function(){var t=_c(ni)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:_l(t),r]},useSyncExternalStore:Iy,useId:i_,useHostTransitionStatus:Ed,useFormState:Hy,useActionState:Hy,useOptimistic:function(t,r){var a=yt();return ky(a,Xe,t,r)},useMemoCache:fd,useCacheRefresh:s_};Ad.useEffectEvent=Ky;var c_={readContext:Yt,use:yc,useCallback:Zy,useContext:Yt,useEffect:yd,useImperativeHandle:Jy,useInsertionEffect:$y,useLayoutEffect:Qy,useMemo:Wy,useReducer:md,useRef:Gy,useState:function(){return md(ni)},useDebugValue:_d,useDeferredValue:function(t,r){var a=yt();return Xe===null?vd(a,t,r):e_(a,Xe.memoizedState,t,r)},useTransition:function(){var t=md(ni)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:_l(t),r]},useSyncExternalStore:Iy,useId:i_,useHostTransitionStatus:Ed,useFormState:Fy,useActionState:Fy,useOptimistic:function(t,r){var a=yt();return Xe!==null?ky(a,Xe,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:fd,useCacheRefresh:s_};c_.useEffectEvent=Ky;function Sd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var wd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=xn(),f=qi(l);f.payload=r,a!=null&&(f.callback=a),r=Fi(t,f,l),r!==null&&(mn(r,t,l),ml(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=xn(),f=qi(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Fi(t,f,l),r!==null&&(mn(r,t,l),ml(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=xn(),l=qi(a);l.tag=2,r!=null&&(l.callback=r),r=Fi(t,l,a),r!==null&&(mn(r,t,a),ml(r,t,a))}};function h_(t,r,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!al(a,l)||!al(f,d):!0}function f_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&wd.enqueueReplaceState(r,r.state,null)}function ea(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=v({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function d_(t){Wu(t)}function m_(t){console.error(t)}function p_(t){Wu(t)}function Tc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function g_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function xd(t,r,a){return a=qi(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(t,r)},a}function y_(t){return t=qi(t),t.tag=3,t}function __(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){g_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){g_(r,a,l),typeof f!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function jA(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Fa(r,a,f,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?Vc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===uc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Jd(t,l,f)),!1;case 22:return a.flags|=65536,l===uc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Jd(t,l,f)),!1}throw Error(s(435,a.tag))}return Jd(t,l,f),Vc(),!1}if(Le)return r=Tn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Gf&&(t=Error(s(422),{cause:l}),ul(Ln(t,a)))):(l!==Gf&&(r=Error(s(423),{cause:l}),ul(Ln(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Ln(l,a),f=xd(t.stateNode,l,f),nd(t,f),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Ln(d,a),Cl===null?Cl=[d]:Cl.push(d),ft!==4&&(ft=2),r===null)return!0;l=Ln(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=xd(a.stateNode,l,t),nd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Xi===null||!Xi.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=y_(f),__(f,t,a,l),nd(a,f),!1}a=a.return}while(a!==null);return!1}var Rd=Error(s(461)),xt=!1;function Kt(t,r,a,l){r.child=t===null?Ty(r,null,a,l):Zs(r,t.child,a,l)}function v_(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return $s(r),l=ld(t,r,a,_,d,f),A=ud(),t!==null&&!xt?(cd(t,r,f),ri(t,r,f)):(Le&&A&&qf(r),r.flags|=1,Kt(t,r,l,f),r.child)}function b_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!zf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,E_(t,r,d,l,f)):(t=rc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!kd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(_,l)&&t.ref===r.ref)return ri(t,r,f)}return r.flags|=1,t=Jr(d,l),t.ref=r.ref,t.return=r,r.child=t}function E_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(al(d,l)&&t.ref===r.ref)if(xt=!1,r.pendingProps=l=d,kd(t,f))(t.flags&131072)!==0&&(xt=!0);else return r.lanes=t.lanes,ri(t,r,f)}return Cd(t,r,a,l,f)}function T_(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return A_(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&oc(r,d!==null?d.cachePool:null),d!==null?wy(r,d):id(),xy(r);else return l=r.lanes=536870912,A_(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(oc(r,d.cachePool),wy(r,d),Yi(),r.memoizedState=null):(t!==null&&oc(r,null),id(),Yi());return Kt(t,r,f,a),r.child}function El(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function A_(t,r,a,l,f){var d=Zf();return d=d===null?null:{parent:St._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&oc(r,null),id(),xy(r),t!==null&&Fa(t,r,l,!0),r.childLanes=f,null}function Ac(t,r){return r=wc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function S_(t,r,a){return Zs(r,t.child,null,a),t=Ac(r,r.pendingProps),t.flags|=2,An(r),r.memoizedState=null,t}function zA(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Ac(r,l),r.lanes=536870912,El(null,t);if(ad(r),(t=nt)?(t=Lv(t,jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Pi!==null?{id:Nr,overflow:Dr}:null,retryLane:536870912,hydrationErrors:null},a=oy(t),a.return=r,r.child=a,Gt=r,nt=null)):t=null,t===null)throw zi(r);return r.lanes=536870912,null}return Ac(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(ad(r),f)if(r.flags&256)r.flags&=-257,r=S_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(xt||Fa(t,r,a,!1),f=(a&t.childLanes)!==0,xt||f){if(l=We,l!==null&&(_=Ho(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Fs(t,_),mn(l,t,_),Rd;Vc(),r=S_(t,r,a)}else t=d.treeContext,nt=Bn(_.nextSibling),Gt=r,Le=!0,ji=null,jn=!1,t!==null&&cy(r,t),r=Ac(r,l),r.flags|=4096;return r}return t=Jr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Sc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Cd(t,r,a,l,f){return $s(r),a=ld(t,r,a,l,void 0,f),l=ud(),t!==null&&!xt?(cd(t,r,f),ri(t,r,f)):(Le&&l&&qf(r),r.flags|=1,Kt(t,r,a,f),r.child)}function w_(t,r,a,l,f,d){return $s(r),r.updateQueue=null,a=Cy(r,l,a,f),Ry(t),l=ud(),t!==null&&!xt?(cd(t,r,d),ri(t,r,d)):(Le&&l&&qf(r),r.flags|=1,Kt(t,r,a,d),r.child)}function x_(t,r,a,l,f){if($s(r),r.stateNode===null){var d=za,_=a.contextType;typeof _=="object"&&_!==null&&(d=Yt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=wd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},ed(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Yt(_):za,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Sd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&wd.enqueueReplaceState(d,d.state,null),gl(r,l,d,f),pl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var A=r.memoizedProps,N=ea(a,A);d.props=N;var H=d.context,$=a.contextType;_=za,typeof $=="object"&&$!==null&&(_=Yt($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||H!==_)&&f_(r,d,l,_),Hi=!1;var q=r.memoizedState;d.state=q,gl(r,l,d,f),pl(),H=r.memoizedState,A||q!==H||Hi?(typeof Z=="function"&&(Sd(r,a,Z,l),H=r.memoizedState),(N=Hi||h_(r,a,N,l,q,H,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,td(t,r),_=r.memoizedProps,$=ea(a,_),d.props=$,Z=r.pendingProps,q=d.context,H=a.contextType,N=za,typeof H=="object"&&H!==null&&(N=Yt(H)),A=a.getDerivedStateFromProps,(H=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||q!==N)&&f_(r,d,l,N),Hi=!1,q=r.memoizedState,d.state=q,gl(r,l,d,f),pl();var K=r.memoizedState;_!==Z||q!==K||Hi||t!==null&&t.dependencies!==null&&sc(t.dependencies)?(typeof A=="function"&&(Sd(r,a,A,l),K=r.memoizedState),($=Hi||h_(r,a,$,l,q,K,N)||t!==null&&t.dependencies!==null&&sc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Sc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Zs(r,t.child,null,f),r.child=Zs(r,null,a,f)):Kt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=ri(t,r,f),t}function R_(t,r,a,l){return Ys(),r.flags|=256,Kt(t,r,a,l),r.child}var Id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nd(t){return{baseLanes:t,cachePool:gy()}}function Dd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=wn),t}function C_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Le){if(f?Gi(r):Yi(),(t=nt)?(t=Lv(t,jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Pi!==null?{id:Nr,overflow:Dr}:null,retryLane:536870912,hydrationErrors:null},a=oy(t),a.return=r,r.child=a,Gt=r,nt=null)):t=null,t===null)throw zi(r);return dm(t)?r.lanes=32:r.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(Yi(),f=r.mode,A=wc({mode:"hidden",children:A},f),l=Gs(l,f,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,l=r.child,l.memoizedState=Nd(a),l.childLanes=Dd(t,_,a),r.memoizedState=Id,El(null,l)):(Gi(r),Od(r,A))}var N=t.memoizedState;if(N!==null&&(A=N.dehydrated,A!==null)){if(d)r.flags&256?(Gi(r),r.flags&=-257,r=Md(t,r,a)):r.memoizedState!==null?(Yi(),r.child=t.child,r.flags|=128,r=null):(Yi(),A=l.fallback,f=r.mode,l=wc({mode:"visible",children:l.children},f),A=Gs(A,f,a,null),A.flags|=2,l.return=r,A.return=r,l.sibling=A,r.child=l,Zs(r,t.child,null,a),l=r.child,l.memoizedState=Nd(a),l.childLanes=Dd(t,_,a),r.memoizedState=Id,r=El(null,l));else if(Gi(r),dm(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,ul({value:l,source:null,stack:null}),r=Md(t,r,a)}else if(xt||Fa(t,r,a,!1),_=(a&t.childLanes)!==0,xt||_){if(_=We,_!==null&&(l=Ho(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Fs(t,l),mn(_,t,l),Rd;fm(A)||Vc(),r=Md(t,r,a)}else fm(A)?(r.flags|=192,r.child=t.child,r=null):(t=N.treeContext,nt=Bn(A.nextSibling),Gt=r,Le=!0,ji=null,jn=!1,t!==null&&cy(r,t),r=Od(r,l.children),r.flags|=4096);return r}return f?(Yi(),A=l.fallback,f=r.mode,N=t.child,H=N.sibling,l=Jr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?A=Jr(H,A):(A=Gs(A,f,a,null),A.flags|=2),A.return=r,l.return=r,l.sibling=A,r.child=l,El(null,l),l=r.child,A=t.child.memoizedState,A===null?A=Nd(a):(f=A.cachePool,f!==null?(N=St._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=gy(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Dd(t,_,a),r.memoizedState=Id,El(t.child,l)):(Gi(r),a=t.child,t=a.sibling,a=Jr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function Od(t,r){return r=wc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function wc(t,r){return t=En(22,t,null,r),t.lanes=0,t}function Md(t,r,a){return Zs(r,t.child,null,a),t=Od(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function I_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),$f(t.return,r,a)}function Vd(t,r,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function N_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=gt.current,A=(_&2)!==0;if(A?(_=_&1|2,r.flags|=128):_&=1,ae(gt,_),Kt(t,r,l,a),l=Le?ll:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&I_(t,a,r);else if(t.tag===19)I_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&dc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Vd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&dc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Vd(r,!0,a,null,d,l);break;case"together":Vd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ri(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Qi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Fa(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Jr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Jr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function kd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&sc(t)))}function BA(t,r,a){switch(r.tag){case 3:Ot(r,r.stateNode.containerInfo),Bi(r,St,t.memoizedState.cache),Ys();break;case 27:case 5:xs(r);break;case 4:Ot(r,r.stateNode.containerInfo);break;case 10:Bi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ad(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?C_(t,r,a):(Gi(r),t=ri(t,r,a),t!==null?t.sibling:null);Gi(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Fa(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return N_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(gt,gt.current),l)break;return null;case 22:return r.lanes=0,T_(t,r,a,r.pendingProps);case 24:Bi(r,St,t.memoizedState.cache)}return ri(t,r,a)}function D_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)xt=!0;else{if(!kd(t,a)&&(r.flags&128)===0)return xt=!1,BA(t,r,a);xt=(t.flags&131072)!==0}else xt=!1,Le&&(r.flags&1048576)!==0&&uy(r,ll,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Xs(r.elementType),r.type=t,typeof t=="function")zf(t)?(l=ea(t,l),r.tag=1,r=x_(null,r,t,l,a)):(r.tag=0,r=Cd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===fe){r.tag=11,r=v_(null,r,t,l,a);break e}else if(f===R){r.tag=14,r=b_(null,r,t,l,a);break e}}throw r=st(t)||t,Error(s(306,r,""))}}return r;case 0:return Cd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ea(l,r.pendingProps),x_(t,r,l,f,a);case 3:e:{if(Ot(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,td(t,r),gl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Bi(r,St,l),l!==d.cache&&Qf(r,[St],a,!0),pl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=R_(t,r,l,a);break e}else if(l!==f){f=Ln(Error(s(424)),r),ul(f),r=R_(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,nt=Bn(t.firstChild),Gt=r,Le=!0,ji=null,jn=!0,a=Ty(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ys(),l===f){r=ri(t,r,a);break e}Kt(t,r,l,a)}r=r.child}return r;case 26:return Sc(t,r),t===null?(a=Hv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Le||(a=r.type,t=r.pendingProps,l=Bc(Re.current).createElement(a),l[Et]=r,l[Pt]=t,$t(l,a,t),Tt(l),r.stateNode=l):r.memoizedState=Hv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return xs(r),t===null&&Le&&(l=r.stateNode=jv(r.type,r.pendingProps,Re.current),Gt=r,jn=!0,f=nt,es(r.type)?(mm=f,nt=Bn(l.firstChild)):nt=f),Kt(t,r,r.pendingProps.children,a),Sc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Le&&((f=l=nt)&&(l=yS(l,r.type,r.pendingProps,jn),l!==null?(r.stateNode=l,Gt=r,nt=Bn(l.firstChild),jn=!1,f=!0):f=!1),f||zi(r)),xs(r),f=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,um(f,d)?l=null:_!==null&&um(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=ld(t,r,OA,null,null,a),Ll._currentValue=f),Sc(t,r),Kt(t,r,l,a),r.child;case 6:return t===null&&Le&&((t=a=nt)&&(a=_S(a,r.pendingProps,jn),a!==null?(r.stateNode=a,Gt=r,nt=null,t=!0):t=!1),t||zi(r)),null;case 13:return C_(t,r,a);case 4:return Ot(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Zs(r,null,l,a):Kt(t,r,l,a),r.child;case 11:return v_(t,r,r.type,r.pendingProps,a);case 7:return Kt(t,r,r.pendingProps,a),r.child;case 8:return Kt(t,r,r.pendingProps.children,a),r.child;case 12:return Kt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Bi(r,r.type,l.value),Kt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,$s(r),f=Yt(f),l=l(f),r.flags|=1,Kt(t,r,l,a),r.child;case 14:return b_(t,r,r.type,r.pendingProps,a);case 15:return E_(t,r,r.type,r.pendingProps,a);case 19:return N_(t,r,a);case 31:return zA(t,r,a);case 22:return T_(t,r,a,r.pendingProps);case 24:return $s(r),l=Yt(St),t===null?(f=Zf(),f===null&&(f=We,d=Xf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},ed(r),Bi(r,St,f)):((t.lanes&a)!==0&&(td(t,r),gl(r,null,null,a),pl()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Bi(r,St,l)):(l=d.cache,Bi(r,St,l),l!==f.cache&&Qf(r,[St],a,!0))),Kt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ii(t){t.flags|=4}function Ld(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(iv())t.flags|=8192;else throw Js=uc,Wf}else t.flags&=-16777217}function O_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Kv(r))if(iv())t.flags|=8192;else throw Js=uc,Wf}function xc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ou():536870912,t.lanes|=r,no|=r)}function Tl(t,r){if(!Le)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function HA(t,r,a){var l=r.pendingProps;switch(Ff(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ei(St),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(qa(r)?ii(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Yf())),rt(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(ii(r),d!==null?(rt(r),O_(r,d)):(rt(r),Ld(r,f,null,l,a))):d?d!==t.memoizedState?(ii(r),rt(r),O_(r,d)):(rt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&ii(r),rt(r),Ld(r,f,t,l,a)),null;case 27:if(Ea(r),a=Re.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ii(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}t=ue.current,qa(r)?hy(r):(t=jv(f,l,a),r.stateNode=t,ii(r))}return rt(r),null;case 5:if(Ea(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ii(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(d=ue.current,qa(r))hy(r);else{var _=Bc(Re.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Et]=r,d[Pt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch($t(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ii(r)}}return rt(r),Ld(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&ii(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Re.current,qa(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Gt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Et]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Cv(t.nodeValue,a)),t||zi(r,!0)}else t=Bc(t).createTextNode(l),t[Et]=r,r.stateNode=t}return rt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=qa(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=r}else Ys(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),t=!1}else a=Yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(An(r),r):(An(r),null);if((r.flags&128)!==0)throw Error(s(558))}return rt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=qa(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Et]=r}else Ys(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),f=!1}else f=Yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(An(r),r):(An(r),null)}return An(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),xc(r,r.updateQueue),rt(r),null);case 4:return at(),t===null&&im(r.stateNode.containerInfo),rt(r),null;case 10:return ei(r.type),rt(r),null;case 19:if(W(gt),l=r.memoizedState,l===null)return rt(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Tl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=dc(t),d!==null){for(r.flags|=128,Tl(l,!1),t=d.updateQueue,r.updateQueue=t,xc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)ay(a,t),a=a.sibling;return ae(gt,gt.current&1|2),Le&&Zr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&rn()>Dc&&(r.flags|=128,f=!0,Tl(l,!1),r.lanes=4194304)}else{if(!f)if(t=dc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,xc(r,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return rt(r),null}else 2*rn()-l.renderingStartTime>Dc&&a!==536870912&&(r.flags|=128,f=!0,Tl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=gt.current,ae(gt,f?a&1|2:a&1),Le&&Zr(r,l.treeForkCount),t):(rt(r),null);case 22:case 23:return An(r),sd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),a=r.updateQueue,a!==null&&xc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&W(Qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ei(St),rt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function qA(t,r){switch(Ff(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ei(St),at(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Ea(r),null;case 31:if(r.memoizedState!==null){if(An(r),r.alternate===null)throw Error(s(340));Ys()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(An(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ys()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return W(gt),null;case 4:return at(),null;case 10:return ei(r.type),null;case 22:case 23:return An(r),sd(),t!==null&&W(Qs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ei(St),null;case 25:return null;default:return null}}function M_(t,r){switch(Ff(r),r.tag){case 3:ei(St),at();break;case 26:case 27:case 5:Ea(r);break;case 4:at();break;case 31:r.memoizedState!==null&&An(r);break;case 13:An(r);break;case 19:W(gt);break;case 10:ei(r.type);break;case 22:case 23:An(r),sd(),t!==null&&W(Qs);break;case 24:ei(St)}}function Al(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(A){$e(r,r.return,A)}}function Ki(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=r;var N=a,H=A;try{H()}catch($){$e(f,N,$)}}}l=l.next}while(l!==d)}}catch($){$e(r,r.return,$)}}function V_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Sy(r,a)}catch(l){$e(t,t.return,l)}}}function k_(t,r,a){a.props=ea(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,r,l)}}function Sl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){$e(t,r,f)}}function Or(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){$e(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$e(t,r,f)}else a.current=null}function L_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){$e(t,t.return,f)}}function Ud(t,r,a){try{var l=t.stateNode;hS(l,t.type,a,r),l[Pt]=r}catch(f){$e(t,t.return,f)}}function U_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&es(t.type)||t.tag===4}function Pd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||U_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&es(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Jn));else if(l!==4&&(l===27&&es(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(jd(t,r,a),t=t.sibling;t!==null;)jd(t,r,a),t=t.sibling}function Rc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&es(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Rc(t,r,a),t=t.sibling;t!==null;)Rc(t,r,a),t=t.sibling}function P_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);$t(r,l,a),r[Et]=t,r[Pt]=a}catch(d){$e(t,t.return,d)}}var si=!1,Rt=!1,zd=!1,j_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function FA(t,r){if(t=t.containerInfo,om=$c,t=Jg(t),Mf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,A=-1,N=-1,H=0,$=0,Z=t,q=null;t:for(;;){for(var K;Z!==a||f!==0&&Z.nodeType!==3||(A=_+f),Z!==d||l!==0&&Z.nodeType!==3||(N=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(K=Z.firstChild)!==null;)q=Z,Z=K;for(;;){if(Z===t)break t;if(q===a&&++H===f&&(A=_),q===d&&++$===l&&(N=_),(K=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=K}a=A===-1||N===-1?null:{start:A,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(lm={focusedElem:t,selectionRange:a},$c=!1,zt=r;zt!==null;)if(r=zt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,zt=t;else for(;zt!==null;){switch(r=zt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=ea(a.type,f);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){$e(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)hm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,zt=t;break}zt=r.return}}function z_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:oi(t,a),l&4&&Al(5,a);break;case 1:if(oi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var f=ea(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}l&64&&V_(a),l&512&&Sl(a,a.return);break;case 3:if(oi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Sy(t,r)}catch(_){$e(a,a.return,_)}}break;case 27:r===null&&l&4&&P_(a);case 26:case 5:oi(t,a),r===null&&l&4&&L_(a),l&512&&Sl(a,a.return);break;case 12:oi(t,a);break;case 31:oi(t,a),l&4&&q_(t,a);break;case 13:oi(t,a),l&4&&F_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=WA.bind(null,a),vS(t,a))));break;case 22:if(l=a.memoizedState!==null||si,!l){r=r!==null&&r.memoizedState!==null||Rt,f=si;var d=Rt;si=l,(Rt=r)&&!d?li(t,a,(a.subtreeFlags&8772)!==0):oi(t,a),si=f,Rt=d}break;case 30:break;default:oi(t,a)}}function B_(t){var r=t.alternate;r!==null&&(t.alternate=null,B_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&xa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,cn=!1;function ai(t,r,a){for(a=a.child;a!==null;)H_(t,r,a),a=a.sibling}function H_(t,r,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:Rt||Or(a,r),ai(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Or(a,r);var l=lt,f=cn;es(a.type)&&(lt=a.stateNode,cn=!1),ai(t,r,a),Ml(a.stateNode),lt=l,cn=f;break;case 5:Rt||Or(a,r);case 6:if(l=lt,f=cn,lt=null,ai(t,r,a),lt=l,cn=f,lt!==null)if(cn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){$e(a,r,d)}else try{lt.removeChild(a.stateNode)}catch(d){$e(a,r,d)}break;case 18:lt!==null&&(cn?(t=lt,Vv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),co(t)):Vv(lt,a.stateNode));break;case 4:l=lt,f=cn,lt=a.stateNode.containerInfo,cn=!0,ai(t,r,a),lt=l,cn=f;break;case 0:case 11:case 14:case 15:Ki(2,a,r),Rt||Ki(4,a,r),ai(t,r,a);break;case 1:Rt||(Or(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&k_(a,r,l)),ai(t,r,a);break;case 21:ai(t,r,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,ai(t,r,a),Rt=l;break;default:ai(t,r,a)}}function q_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{co(t)}catch(a){$e(r,r.return,a)}}}function F_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{co(t)}catch(a){$e(r,r.return,a)}}function GA(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new j_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new j_),r;default:throw Error(s(435,t.tag))}}function Cc(t,r){var a=GA(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=eS.bind(null,t,l);l.then(f,f)}})}function hn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=r,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(es(A.type)){lt=A.stateNode,cn=!1;break e}break;case 5:lt=A.stateNode,cn=!1;break e;case 3:case 4:lt=A.stateNode.containerInfo,cn=!0;break e}A=A.return}if(lt===null)throw Error(s(160));H_(d,_,f),lt=null,cn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)G_(r,t),r=r.sibling}var rr=null;function G_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(r,t),fn(t),l&4&&(Ki(3,t,t.return),Al(3,t),Ki(5,t,t.return));break;case 1:hn(r,t),fn(t),l&512&&(Rt||a===null||Or(a,a.return)),l&64&&si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=rr;if(hn(r,t),fn(t),l&512&&(Rt||a===null||Or(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[_r]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),$t(d,l,a),d[Et]=t,Tt(d),l=d;break e;case"link":var _=Gv("link","href",f).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Gv("meta","content",f).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,Tt(d),l=d}t.stateNode=l}else Yv(f,t.type,t.stateNode);else t.stateNode=Fv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Yv(f,t.type,t.stateNode):Fv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ud(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(r,t),fn(t),l&512&&(Rt||a===null||Or(a,a.return)),a!==null&&l&4&&Ud(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(r,t),fn(t),l&512&&(Rt||a===null||Or(a,a.return)),t.flags&32){f=t.stateNode;try{un(f,"")}catch(ce){$e(t,t.return,ce)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Ud(t,f,a!==null?a.memoizedProps:f)),l&1024&&(zd=!0);break;case 6:if(hn(r,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){$e(t,t.return,ce)}}break;case 3:if(Fc=null,f=rr,rr=Hc(r.containerInfo),hn(r,t),rr=f,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{co(r.containerInfo)}catch(ce){$e(t,t.return,ce)}zd&&(zd=!1,Y_(t));break;case 4:l=rr,rr=Hc(t.stateNode.containerInfo),hn(r,t),fn(t),rr=l;break;case 12:hn(r,t),fn(t);break;case 31:hn(r,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cc(t,l)));break;case 13:hn(r,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nc=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=si,$=Rt;if(si=H||f,Rt=$||N,hn(r,t),Rt=$,si=H,fn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||si||Rt||ta(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=N.stateNode;var Z=N.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ce){$e(N,N.return,ce)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(ce){$e(N,N.return,ce)}}}else if(r.tag===18){if(a===null){N=r;try{var K=N.stateNode;f?kv(K,!0):kv(N.stateNode,!1)}catch(ce){$e(N,N.return,ce)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Cc(t,a))));break;case 19:hn(r,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cc(t,l)));break;case 30:break;case 21:break;default:hn(r,t),fn(t)}}function fn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(U_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Pd(t);Rc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(un(_,""),a.flags&=-33);var A=Pd(t);Rc(t,A,_);break;case 3:case 4:var N=a.stateNode.containerInfo,H=Pd(t);jd(t,H,N);break;default:throw Error(s(161))}}catch($){$e(t,t.return,$)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Y_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Y_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function oi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)z_(t,r.alternate,r),r=r.sibling}function ta(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ki(4,r,r.return),ta(r);break;case 1:Or(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&k_(r,r.return,a),ta(r);break;case 27:Ml(r.stateNode);case 26:case 5:Or(r,r.return),ta(r);break;case 22:r.memoizedState===null&&ta(r);break;case 30:ta(r);break;default:ta(r)}t=t.sibling}}function li(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:li(f,d,a),Al(4,d);break;case 1:if(li(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){$e(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Ay(N[f],A)}catch(H){$e(l,l.return,H)}}a&&_&64&&V_(d),Sl(d,d.return);break;case 27:P_(d);case 26:case 5:li(f,d,a),a&&l===null&&_&4&&L_(d),Sl(d,d.return);break;case 12:li(f,d,a);break;case 31:li(f,d,a),a&&_&4&&q_(f,d);break;case 13:li(f,d,a),a&&_&4&&F_(f,d);break;case 22:d.memoizedState===null&&li(f,d,a),Sl(d,d.return);break;case 30:break;default:li(f,d,a)}r=r.sibling}}function Bd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function Hd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&cl(t))}function ir(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)K_(t,r,a,l),r=r.sibling}function K_(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ir(t,r,a,l),f&2048&&Al(9,r);break;case 1:ir(t,r,a,l);break;case 3:ir(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&cl(t)));break;case 12:if(f&2048){ir(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){$e(r,r.return,N)}}else ir(t,r,a,l);break;case 31:ir(t,r,a,l);break;case 13:ir(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?ir(t,r,a,l):wl(t,r):d._visibility&2?ir(t,r,a,l):(d._visibility|=2,Wa(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Bd(_,r);break;case 24:ir(t,r,a,l),f&2048&&Hd(r.alternate,r);break;default:ir(t,r,a,l)}}function Wa(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,A=a,N=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Wa(d,_,A,N,f),Al(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Wa(d,_,A,N,f):wl(d,_):($._visibility|=2,Wa(d,_,A,N,f)),f&&H&2048&&Bd(_.alternate,_);break;case 24:Wa(d,_,A,N,f),f&&H&2048&&Hd(_.alternate,_);break;default:Wa(d,_,A,N,f)}r=r.sibling}}function wl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:wl(a,l),f&2048&&Bd(l.alternate,l);break;case 24:wl(a,l),f&2048&&Hd(l.alternate,l);break;default:wl(a,l)}r=r.sibling}}var xl=8192;function eo(t,r,a){if(t.subtreeFlags&xl)for(t=t.child;t!==null;)$_(t,r,a),t=t.sibling}function $_(t,r,a){switch(t.tag){case 26:eo(t,r,a),t.flags&xl&&t.memoizedState!==null&&DS(a,rr,t.memoizedState,t.memoizedProps);break;case 5:eo(t,r,a);break;case 3:case 4:var l=rr;rr=Hc(t.stateNode.containerInfo),eo(t,r,a),rr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=xl,xl=16777216,eo(t,r,a),xl=l):eo(t,r,a));break;default:eo(t,r,a)}}function Q_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Rl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,J_(l,t)}Q_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)X_(t),t=t.sibling}function X_(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&Ki(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Ic(t)):Rl(t);break;default:Rl(t)}}function Ic(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,J_(l,t)}Q_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ki(8,r,r.return),Ic(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Ic(r));break;default:Ic(r)}t=t.sibling}}function J_(t,r){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Ki(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var f=l.sibling,d=l.return;if(B_(l),l===a){zt=null;break e}if(f!==null){f.return=d,zt=f;break e}zt=d}}}var YA={getCacheForType:function(t){var r=Yt(St),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Yt(St).controller.signal}},KA=typeof WeakMap=="function"?WeakMap:Map,qe=0,We=null,Ie=null,De=0,Ke=0,Sn=null,$i=!1,to=!1,qd=!1,ui=0,ft=0,Qi=0,na=0,Fd=0,wn=0,no=0,Cl=null,dn=null,Gd=!1,Nc=0,Z_=0,Dc=1/0,Oc=null,Xi=null,Vt=0,Ji=null,ro=null,ci=0,Yd=0,Kd=null,W_=null,Il=0,$d=null;function xn(){return(qe&2)!==0&&De!==0?De&-De:Q.T!==null?em():Mu()}function ev(){if(wn===0)if((De&536870912)===0||Le){var t=Is;Is<<=1,(Is&3932160)===0&&(Is=262144),wn=t}else wn=536870912;return t=Tn.current,t!==null&&(t.flags|=32),wn}function mn(t,r,a){(t===We&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(io(t,0),Zi(t,De,wn,!1)),Ns(t,a),((qe&2)===0||t!==We)&&(t===We&&((qe&2)===0&&(na|=a),ft===4&&Zi(t,De,wn,!1)),Mr(t))}function tv(t,r,a){if((qe&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||$n(t,r),f=l?XA(t,r):Xd(t,r,!0),d=l;do{if(f===0){to&&!l&&Zi(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!$A(a)){f=Xd(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var A=t;f=Cl;var N=A.current.memoizedState.isDehydrated;if(N&&(io(A,_).flags|=256),_=Xd(A,_,!1),_!==2){if(qd&&!N){A.errorRecoveryDisabledLanes|=d,na|=d,f=4;break e}d=dn,dn=f,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){io(t,0),Zi(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Zi(l,r,wn,!$i);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Nc+300-rn(),10<f)){if(Zi(l,r,wn,!$i),pr(l,0,!0)!==0)break e;ci=r,l.timeoutHandle=Ov(nv.bind(null,l,a,dn,Oc,Gd,r,wn,na,no,$i,d,"Throttled",-0,0),f);break e}nv(l,a,dn,Oc,Gd,r,wn,na,no,$i,d,null,-0,0)}}break}while(!0);Mr(t)}function nv(t,r,a,l,f,d,_,A,N,H,$,Z,q,K){if(t.timeoutHandle=-1,Z=r.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},$_(r,d,Z);var ce=(d&62914560)===d?Nc-rn():(d&4194048)===d?Z_-rn():0;if(ce=OS(Z,ce),ce!==null){ci=d,t.cancelPendingCommit=ce(cv.bind(null,t,r,d,a,l,f,_,A,N,$,Z,null,q,K)),Zi(t,d,_,!H);return}}cv(t,r,d,a,l,f,_,A,N)}function $A(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!bn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zi(t,r,a,l){r&=~Fd,r&=~na,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-mt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Ds(t,a,r)}function Mc(){return(qe&6)===0?(Nl(0),!1):!0}function Qd(){if(Ie!==null){if(Ke===0)var t=Ie.return;else t=Ie,Wr=Ks=null,hd(t),$a=null,fl=0,t=Ie;for(;t!==null;)M_(t.alternate,t),t=t.return;Ie=null}}function io(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,mS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ci=0,Qd(),We=t,Ie=a=Jr(t.current,null),De=r,Ke=0,Sn=null,$i=!1,to=$n(t,r),qd=!1,no=wn=Fd=na=Qi=ft=0,dn=Cl=null,Gd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-mt(l),d=1<<f;r|=t[f],l&=~d}return ui=r,ec(),a}function rv(t,r){xe=null,Q.H=bl,r===Ka||r===lc?(r=vy(),Ke=3):r===Wf?(r=vy(),Ke=4):Ke=r===Rd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Sn=r,Ie===null&&(ft=1,Tc(t,Ln(r,t.current)))}function iv(){var t=Tn.current;return t===null?!0:(De&4194048)===De?zn===null:(De&62914560)===De||(De&536870912)!==0?t===zn:!1}function sv(){var t=Q.H;return Q.H=bl,t===null?bl:t}function av(){var t=Q.A;return Q.A=YA,t}function Vc(){ft=4,$i||(De&4194048)!==De&&Tn.current!==null||(to=!0),(Qi&134217727)===0&&(na&134217727)===0||We===null||Zi(We,De,wn,!1)}function Xd(t,r,a){var l=qe;qe|=2;var f=sv(),d=av();(We!==t||De!==r)&&(Oc=null,io(t,r)),r=!1;var _=ft;e:do try{if(Ke!==0&&Ie!==null){var A=Ie,N=Sn;switch(Ke){case 8:Qd(),_=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(r=!0);var H=Ke;if(Ke=0,Sn=null,so(t,A,N,H),a&&to){_=0;break e}break;default:H=Ke,Ke=0,Sn=null,so(t,A,N,H)}}QA(),_=ft;break}catch($){rv(t,$)}while(!0);return r&&t.shellSuspendCounter++,Wr=Ks=null,qe=l,Q.H=f,Q.A=d,Ie===null&&(We=null,De=0,ec()),_}function QA(){for(;Ie!==null;)ov(Ie)}function XA(t,r){var a=qe;qe|=2;var l=sv(),f=av();We!==t||De!==r?(Oc=null,Dc=rn()+500,io(t,r)):to=$n(t,r);e:do try{if(Ke!==0&&Ie!==null){r=Ie;var d=Sn;t:switch(Ke){case 1:Ke=0,Sn=null,so(t,r,d,1);break;case 2:case 9:if(yy(d)){Ke=0,Sn=null,lv(r);break}r=function(){Ke!==2&&Ke!==9||We!==t||(Ke=7),Mr(t)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:yy(d)?(Ke=0,Sn=null,lv(r)):(Ke=0,Sn=null,so(t,r,d,7));break;case 5:var _=null;switch(Ie.tag){case 26:_=Ie.memoizedState;case 5:case 27:var A=Ie;if(_?Kv(_):A.stateNode.complete){Ke=0,Sn=null;var N=A.sibling;if(N!==null)Ie=N;else{var H=A.return;H!==null?(Ie=H,kc(H)):Ie=null}break t}}Ke=0,Sn=null,so(t,r,d,5);break;case 6:Ke=0,Sn=null,so(t,r,d,6);break;case 8:Qd(),ft=6;break e;default:throw Error(s(462))}}JA();break}catch($){rv(t,$)}while(!0);return Wr=Ks=null,Q.H=l,Q.A=f,qe=a,Ie!==null?0:(We=null,De=0,ec(),ft)}function JA(){for(;Ie!==null&&!xf();)ov(Ie)}function ov(t){var r=D_(t.alternate,t,ui);t.memoizedProps=t.pendingProps,r===null?kc(t):Ie=r}function lv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=w_(a,r,r.pendingProps,r.type,void 0,De);break;case 11:r=w_(a,r,r.pendingProps,r.type.render,r.ref,De);break;case 5:hd(r);default:M_(a,r),r=Ie=ay(r,ui),r=D_(a,r,ui)}t.memoizedProps=t.pendingProps,r===null?kc(t):Ie=r}function so(t,r,a,l){Wr=Ks=null,hd(r),$a=null,fl=0;var f=r.return;try{if(jA(t,f,r,a,De)){ft=1,Tc(t,Ln(a,t.current)),Ie=null;return}}catch(d){if(f!==null)throw Ie=f,d;ft=1,Tc(t,Ln(a,t.current)),Ie=null;return}r.flags&32768?(Le||l===1?t=!0:to||(De&536870912)!==0?t=!1:($i=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),uv(r,t)):kc(r)}function kc(t){var r=t;do{if((r.flags&32768)!==0){uv(r,$i);return}t=r.return;var a=HA(r.alternate,r,ui);if(a!==null){Ie=a;return}if(r=r.sibling,r!==null){Ie=r;return}Ie=r=t}while(r!==null);ft===0&&(ft=5)}function uv(t,r){do{var a=qA(t.alternate,t);if(a!==null){a.flags&=32767,Ie=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=a}while(t!==null);ft=6,Ie=null}function cv(t,r,a,l,f,d,_,A,N){t.cancelPendingCommit=null;do Lc();while(Vt!==0);if((qe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Pf,If(t,a,d,_,A,N),t===We&&(Ie=We=null,De=0),ro=r,Ji=t,ci=a,Yd=d,Kd=f,W_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tS(Ci,function(){return pv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=se.p,se.p=2,_=qe,qe|=4;try{FA(t,r,a)}finally{qe=_,se.p=f,Q.T=l}}Vt=1,hv(),fv(),dv()}}function hv(){if(Vt===1){Vt=0;var t=Ji,r=ro,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var f=qe;qe|=4;try{G_(r,t);var d=lm,_=Jg(t.containerInfo),A=d.focusedElem,N=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&Xg(A.ownerDocument.documentElement,A)){if(N!==null&&Mf(A)){var H=N.start,$=N.end;if($===void 0&&($=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min($,A.value.length);else{var Z=A.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var K=q.getSelection(),ce=A.textContent.length,ge=Math.min(N.start,ce),Ze=N.end===void 0?ge:Math.min(N.end,ce);!K.extend&&ge>Ze&&(_=Ze,Ze=ge,ge=_);var U=Qg(A,ge),O=Qg(A,Ze);if(U&&O&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var B=Z.createRange();B.setStart(U.node,U.offset),K.removeAllRanges(),ge>Ze?(K.addRange(B),K.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),K.addRange(B))}}}}for(Z=[],K=A;K=K.parentNode;)K.nodeType===1&&Z.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<Z.length;A++){var X=Z[A];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}$c=!!om,lm=om=null}finally{qe=f,se.p=l,Q.T=a}}t.current=r,Vt=2}}function fv(){if(Vt===2){Vt=0;var t=Ji,r=ro,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var f=qe;qe|=4;try{z_(t,r.alternate,r)}finally{qe=f,se.p=l,Q.T=a}}Vt=3}}function dv(){if(Vt===4||Vt===3){Vt=0,xu();var t=Ji,r=ro,a=ci,l=W_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Vt=5:(Vt=0,ro=Ji=null,mv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Xi=null),Kr(a),r=r.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Kn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,f=se.p,se.p=2,Q.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{Q.T=r,se.p=f}}(ci&3)!==0&&Lc(),Mr(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===$d?Il++:(Il=0,$d=t):Il=0,Nl(0)}}function mv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,cl(r)))}function Lc(){return hv(),fv(),dv(),pv()}function pv(){if(Vt!==5)return!1;var t=Ji,r=Yd;Yd=0;var a=Kr(ci),l=Q.T,f=se.p;try{se.p=32>a?32:a,Q.T=null,a=Kd,Kd=null;var d=Ji,_=ci;if(Vt=0,ro=Ji=null,ci=0,(qe&6)!==0)throw Error(s(331));var A=qe;if(qe|=4,X_(d.current),K_(d,d.current,_,a),qe=A,Nl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Kn,d)}catch{}return!0}finally{se.p=f,Q.T=l,mv(t,r)}}function gv(t,r,a){r=Ln(a,r),r=xd(t.stateNode,r,2),t=Fi(t,r,2),t!==null&&(Ns(t,2),Mr(t))}function $e(t,r,a){if(t.tag===3)gv(t,t,a);else for(;r!==null;){if(r.tag===3){gv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xi===null||!Xi.has(l))){t=Ln(a,t),a=y_(2),l=Fi(r,a,2),l!==null&&(__(a,l,r,t),Ns(l,2),Mr(l));break}}r=r.return}}function Jd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new KA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(qd=!0,f.add(a),t=ZA.bind(null,t,r,a),r.then(t,t))}function ZA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(De&a)===a&&(ft===4||ft===3&&(De&62914560)===De&&300>rn()-Nc?(qe&2)===0&&io(t,0):Fd|=a,no===De&&(no=0)),Mr(t)}function yv(t,r){r===0&&(r=Ou()),t=Fs(t,r),t!==null&&(Ns(t,r),Mr(t))}function WA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),yv(t,a)}function eS(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),yv(t,a)}function tS(t,r){return Mt(t,r)}var Uc=null,ao=null,Zd=!1,Pc=!1,Wd=!1,Wi=0;function Mr(t){t!==ao&&t.next===null&&(ao===null?Uc=ao=t:ao=ao.next=t),Pc=!0,Zd||(Zd=!0,rS())}function Nl(t,r){if(!Wd&&Pc){Wd=!0;do for(var a=!1,l=Uc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=f&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ev(l,d))}else d=De,d=pr(l,l===We?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||$n(l,d)||(a=!0,Ev(l,d));l=l.next}while(a);Wd=!1}}function nS(){_v()}function _v(){Pc=Zd=!1;var t=0;Wi!==0&&dS()&&(t=Wi);for(var r=rn(),a=null,l=Uc;l!==null;){var f=l.next,d=vv(l,r);d===0?(l.next=null,a===null?Uc=f:a.next=f,f===null&&(ao=a)):(a=l,(t!==0||(d&3)!==0)&&(Pc=!0)),l=f}Vt!==0&&Vt!==5||Nl(t),Wi!==0&&(Wi=0)}function vv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-mt(d),A=1<<_,N=f[_];N===-1?((A&a)===0||(A&l)!==0)&&(f[_]=Cf(A,r)):N<=r&&(t.expiredLanes|=A),d&=~A}if(r=We,a=De,a=pr(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ri(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$n(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Ri(l),Kr(a)){case 2:case 8:a=zo;break;case 32:a=Ci;break;case 268435456:a=Ru;break;default:a=Ci}return l=bv.bind(null,t),a=Mt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Ri(l),t.callbackPriority=2,t.callbackNode=null,2}function bv(t,r){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lc()&&t.callbackNode!==a)return null;var l=De;return l=pr(t,t===We?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(tv(t,l,r),vv(t,rn()),t.callbackNode!=null&&t.callbackNode===a?bv.bind(null,t):null)}function Ev(t,r){if(Lc())return null;tv(t,r,!0)}function rS(){pS(function(){(qe&6)!==0?Mt(jo,nS):_v()})}function em(){if(Wi===0){var t=Ga;t===0&&(t=dr,dr<<=1,(dr&261888)===0&&(dr=256)),Wi=t}return Wi}function Tv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Na(""+t)}function Av(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function iS(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=Tv((f[Pt]||null).action),_=l.submitter;_&&(r=(r=_[Pt]||null)?Tv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var A=new xr("action","action",null,l,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Wi!==0){var N=_?Av(f,_):new FormData(f);bd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(A.preventDefault(),N=_?Av(f,_):new FormData(f),bd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var tm=0;tm<Uf.length;tm++){var nm=Uf[tm],sS=nm.toLowerCase(),aS=nm[0].toUpperCase()+nm.slice(1);nr(sS,"on"+aS)}nr(ey,"onAnimationEnd"),nr(ty,"onAnimationIteration"),nr(ny,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(TA,"onTransitionRun"),nr(AA,"onTransitionStart"),nr(SA,"onTransitionCancel"),nr(ry,"onTransitionEnd"),Tr("onMouseEnter",["mouseout","mouseover"]),Tr("onMouseLeave",["mouseout","mouseover"]),Tr("onPointerEnter",["pointerout","pointerover"]),Tr("onPointerLeave",["pointerout","pointerover"]),Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Er("onBeforeInput",["compositionend","keypress","textInput","paste"]),Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Sv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var A=l[_],N=A.instance,H=A.currentTarget;if(A=A.listener,N!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=H;try{d(f)}catch($){Wu($)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(A=l[_],N=A.instance,H=A.currentTarget,A=A.listener,N!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=H;try{d(f)}catch($){Wu($)}f.currentTarget=null,d=N}}}}function Ne(t,r){var a=r[wa];a===void 0&&(a=r[wa]=new Set);var l=t+"__bubble";a.has(l)||(wv(r,t,2,!1),a.add(l))}function rm(t,r,a){var l=0;r&&(l|=4),wv(a,t,l,r)}var jc="_reactListening"+Math.random().toString(36).slice(2);function im(t){if(!t[jc]){t[jc]=!0,qo.forEach(function(a){a!=="selectionchange"&&(oS.has(a)||rm(a,!1,t),rm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[jc]||(r[jc]=!0,rm("selectionchange",!1,r))}}function wv(t,r,a,l){switch(eb(r)){case 2:var f=kS;break;case 8:f=LS;break;default:f=vm}a=f.bind(null,r,a,t),f=void 0,!Ls||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function sm(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=vr(A),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}A=A.parentNode}}l=l.return}Vi(function(){var H=d,$=On(a),Z=[];e:{var q=iy.get(t);if(q!==void 0){var K=xr,ce=t;switch(t){case"keypress":if(Ps(a)===0)break e;case"keydown":case"keyup":K=Xu;break;case"focusin":ce="focus",K=zs;break;case"focusout":ce="blur",K=zs;break;case"beforeblur":case"afterblur":K=zs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case ey:case ty:case ny:K=qu;break;case ry:K=S;break;case"scroll":case"scrollend":K=tl;break;case"wheel":K=Y;break;case"copy":case"cut":case"paste":K=Fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Xr;break;case"toggle":case"beforetoggle":K=we}var ge=(r&4)!==0,Ze=!ge&&(t==="scroll"||t==="scrollend"),U=ge?q!==null?q+"Capture":null:q;ge=[];for(var O=H,B;O!==null;){var X=O;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||U===null||(X=Zn(O,U),X!=null&&ge.push(Ol(O,X,B))),Ze)break;O=O.return}0<ge.length&&(q=new K(q,ce,null,a,$),Z.push({event:q,listeners:ge}))}}if((r&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",q&&a!==Zo&&(ce=a.relatedTarget||a.fromElement)&&(vr(ce)||ce[yr]))break e;if((K||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,K?(ce=a.relatedTarget||a.toElement,K=H,ce=ce?vr(ce):null,ce!==null&&(Ze=u(ce),ge=ce.tag,ce!==Ze||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(K=null,ce=H),K!==ce)){if(ge=nl,X="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Xr,X="onPointerLeave",U="onPointerEnter",O="pointer"),Ze=K==null?q:_n(K),B=ce==null?q:_n(ce),q=new ge(X,O+"leave",K,a,$),q.target=Ze,q.relatedTarget=B,X=null,vr($)===H&&(ge=new ge(U,O+"enter",ce,a,$),ge.target=B,ge.relatedTarget=Ze,X=ge),Ze=X,K&&ce)t:{for(ge=lS,U=K,O=ce,B=0,X=U;X;X=ge(X))B++;X=0;for(var de=O;de;de=ge(de))X++;for(;0<B-X;)U=ge(U),B--;for(;0<X-B;)O=ge(O),X--;for(;B--;){if(U===O||O!==null&&U===O.alternate){ge=U;break t}U=ge(U),O=ge(O)}ge=null}else ge=null;K!==null&&xv(Z,q,K,ge,!1),ce!==null&&Ze!==null&&xv(Z,Ze,ce,ge,!0)}}e:{if(q=H?_n(H):window,K=q.nodeName&&q.nodeName.toLowerCase(),K==="select"||K==="input"&&q.type==="file")var ze=qg;else if(Bg(q))if(Fg)ze=vA;else{ze=yA;var he=gA}else K=q.nodeName,!K||K.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&Ia(H.elementType)&&(ze=qg):ze=_A;if(ze&&(ze=ze(t,H))){Hg(Z,ze,a,$);break e}he&&he(t,q,H),t==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Qo(q,"number",q.value)}switch(he=H?_n(H):window,t){case"focusin":(Bg(he)||he.contentEditable==="true")&&(Ua=he,Vf=H,ol=null);break;case"focusout":ol=Vf=Ua=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,Zg(Z,a,$);break;case"selectionchange":if(EA)break;case"keydown":case"keyup":Zg(Z,a,$)}var Ce;if(He)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else La?Bs(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ir&&a.locale!=="ko"&&(La||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&La&&(Ce=el()):(wr=$,Wo="value"in wr?wr.value:wr.textContent,La=!0)),he=zc(H,Oe),0<he.length&&(Oe=new Cr(Oe,t,null,a,$),Z.push({event:Oe,listeners:he}),Ce?Oe.data=Ce:(Ce=ka(a),Ce!==null&&(Oe.data=Ce)))),(Ce=Vn?fA(t,a):dA(t,a))&&(Oe=zc(H,"onBeforeInput"),0<Oe.length&&(he=new Cr("onBeforeInput","beforeinput",null,a,$),Z.push({event:he,listeners:Oe}),he.data=Ce)),iS(Z,t,H,a,$)}Sv(Z,r)})}function Ol(t,r,a){return{instance:t,listener:r,currentTarget:a}}function zc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Zn(t,a),f!=null&&l.unshift(Ol(t,f,d)),f=Zn(t,r),f!=null&&l.push(Ol(t,f,d))),t.tag===3)return l;t=t.return}return[]}function lS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xv(t,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var A=a,N=A.alternate,H=A.stateNode;if(A=A.tag,N!==null&&N===l)break;A!==5&&A!==26&&A!==27||H===null||(N=H,f?(H=Zn(a,d),H!=null&&_.unshift(Ol(a,H,N))):f||(H=Zn(a,d),H!=null&&_.push(Ol(a,H,N)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var uS=/\r\n?/g,cS=/\u0000|\uFFFD/g;function Rv(t){return(typeof t=="string"?t:""+t).replace(uS,`
`).replace(cS,"")}function Cv(t,r){return r=Rv(r),Rv(t)===r}function Je(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||un(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&un(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":Jo(t,l,d);break;case"data":if(r!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Je(t,r,"name",f.name,f,null),Je(t,r,"formEncType",f.formEncType,f,null),Je(t,r,"formMethod",f.formMethod,f,null),Je(t,r,"formTarget",f.formTarget,f,null)):(Je(t,r,"encType",f.encType,f,null),Je(t,r,"method",f.method,f,null),Je(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Na(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),Ra(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ra(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zu.get(a)||a,Ra(t,a,l))}}function am(t,r,a,l,f,d){switch(a){case"style":Jo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?un(t,l):(typeof l=="number"||typeof l=="bigint")&&un(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ra(t,a,l)}}}function $t(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,d,_,a,null)}}f&&Je(t,r,"srcSet",a.srcSet,a,null),l&&Je(t,r,"src",a.src,a,null);return;case"input":Ne("invalid",t);var A=d=_=f=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":H=$;break;case"value":d=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Je(t,r,l,$,a,null)}}Uu(t,d,A,N,H,_,f,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:Je(t,r,f,A,a,null)}r=d,a=_,t.multiple=!!l,r!=null?Ni(t,!!l,r,!1):a!=null&&Ni(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Je(t,r,_,A,a,null)}Di(t,l,f,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,r,N,l,a,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Ne(Dl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,H,l,a,null)}return;default:if(Ia(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&am(t,r,$,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Je(t,r,A,l,a,null))}function hS(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,A=null,N=null,H=null,$=null;for(K in a){var Z=a[K];if(a.hasOwnProperty(K)&&Z!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(K)||Je(t,r,K,null,l,Z)}}for(var q in l){var K=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(K!=null||Z!=null))switch(q){case"type":d=K;break;case"name":f=K;break;case"checked":H=K;break;case"defaultChecked":$=K;break;case"value":_=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==Z&&Je(t,r,q,K,l,Z)}}Ca(t,_,A,N,H,$,d,f);return;case"select":K=_=A=q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(d)||Je(t,r,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":q=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==N&&Je(t,r,f,d,l,N)}r=A,a=_,l=K,q!=null?Ni(t,!!a,q,!1):!!l!=!!a&&(r!=null?Ni(t,!!a,r,!0):Ni(t,!!a,a?[]:"",!1));return;case"textarea":K=q=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Je(t,r,A,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":q=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,r,_,f,l,d)}Pu(t,q,K);return;case"option":for(var ce in a)q=a[ce],a.hasOwnProperty(ce)&&q!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:Je(t,r,ce,null,l,q));for(N in l)q=l[N],K=a[N],l.hasOwnProperty(N)&&q!==K&&(q!=null||K!=null)&&(N==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":Je(t,r,N,q,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)q=a[ge],a.hasOwnProperty(ge)&&q!=null&&!l.hasOwnProperty(ge)&&Je(t,r,ge,null,l,q);for(H in l)if(q=l[H],K=a[H],l.hasOwnProperty(H)&&q!==K&&(q!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:Je(t,r,H,q,l,K)}return;default:if(Ia(r)){for(var Ze in a)q=a[Ze],a.hasOwnProperty(Ze)&&q!==void 0&&!l.hasOwnProperty(Ze)&&am(t,r,Ze,void 0,l,q);for($ in l)q=l[$],K=a[$],!l.hasOwnProperty($)||q===K||q===void 0&&K===void 0||am(t,r,$,q,l,K);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&Je(t,r,U,null,l,q);for(Z in l)q=l[Z],K=a[Z],!l.hasOwnProperty(Z)||q===K||q==null&&K==null||Je(t,r,Z,q,l,K)}function Iv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,A=f.duration;if(d&&A&&Iv(_)){for(_=0,A=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],H=N.startTime;if(H>A)break;var $=N.transferSize,Z=N.initiatorType;$&&Iv(Z)&&(N=N.responseEnd,_+=$*(N<A?1:(A-H)/(N-H)))}if(--l,r+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var om=null,lm=null;function Bc(t){return t.nodeType===9?t:t.ownerDocument}function Nv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function um(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cm=null;function dS(){var t=window.event;return t&&t.type==="popstate"?t===cm?!1:(cm=t,!0):(cm=null,!1)}var Ov=typeof setTimeout=="function"?setTimeout:void 0,mS=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,pS=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(t){return Mv.resolve(null).then(t).catch(gS)}:Ov;function gS(t){setTimeout(function(){throw t})}function es(t){return t==="head"}function Vv(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),co(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ml(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[_r]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ml(t.ownerDocument.body);a=f}while(a);co(r)}function kv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function hm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hm(a),xa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function yS(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_r])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function _S(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function Lv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Bn(t.nextSibling),t===null))return null;return t}function fm(t){return t.data==="$?"||t.data==="$~"}function dm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function vS(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var mm=null;function Uv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Bn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Pv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function jv(t,r,a){switch(r=Bc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);xa(t)}var Hn=new Map,zv=new Set;function Hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hi=se.d;se.d={f:bS,r:ES,D:TS,C:AS,L:SS,m:wS,X:RS,S:xS,M:CS};function bS(){var t=hi.f(),r=Mc();return t||r}function ES(t){var r=Dn(t);r!==null&&r.tag===5&&r.type==="form"?r_(r):hi.r(t)}var oo=typeof document>"u"?null:document;function Bv(t,r,a){var l=oo;if(l&&typeof r=="string"&&r){var f=ln(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),zv.has(f)||(zv.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),$t(r,"link",t),Tt(r),l.head.appendChild(r)))}}function TS(t){hi.D(t),Bv("dns-prefetch",t,null)}function AS(t,r){hi.C(t,r),Bv("preconnect",t,r)}function SS(t,r,a){hi.L(t,r,a);var l=oo;if(l&&t&&r){var f='link[rel="preload"][as="'+ln(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ln(a.imageSizes)+'"]')):f+='[href="'+ln(t)+'"]';var d=f;switch(r){case"style":d=lo(t);break;case"script":d=uo(t)}Hn.has(d)||(t=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Hn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Vl(d))||r==="script"&&l.querySelector(kl(d))||(r=l.createElement("link"),$t(r,"link",t),Tt(r),l.head.appendChild(r)))}}function wS(t,r){hi.m(t,r);var a=oo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=uo(t)}if(!Hn.has(d)&&(t=v({rel:"modulepreload",href:t},r),Hn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(d)))return}l=a.createElement("link"),$t(l,"link",t),Tt(l),a.head.appendChild(l)}}}function xS(t,r,a){hi.S(t,r,a);var l=oo;if(l&&t){var f=br(l).hoistableStyles,d=lo(t);r=r||"default";var _=f.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(Vl(d)))A.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Hn.get(d))&&pm(t,a);var N=_=l.createElement("link");Tt(N),$t(N,"link",t),N._p=new Promise(function(H,$){N.onload=H,N.onerror=$}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,qc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(d,_)}}}function RS(t,r){hi.X(t,r);var a=oo;if(a&&t){var l=br(a).hoistableScripts,f=uo(t),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(t=v({src:t,async:!0},r),(r=Hn.get(f))&&gm(t,r),d=a.createElement("script"),Tt(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function CS(t,r){hi.M(t,r);var a=oo;if(a&&t){var l=br(a).hoistableScripts,f=uo(t),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(t=v({src:t,async:!0,type:"module"},r),(r=Hn.get(f))&&gm(t,r),d=a.createElement("script"),Tt(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Hv(t,r,a,l){var f=(f=Re.current)?Hc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=lo(a.href),a=br(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=lo(a.href);var d=br(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Vl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),d||IS(f,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=uo(a),a=br(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function lo(t){return'href="'+ln(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function qv(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function IS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),$t(r,"link",a),Tt(r),t.head.appendChild(r))}function uo(t){return'[src="'+ln(t)+'"]'}function kl(t){return"script[async]"+t}function Fv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return r.instance=l,Tt(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),$t(l,"style",f),qc(l,a.precedence,t),r.instance=l;case"stylesheet":f=lo(a.href);var d=t.querySelector(Vl(f));if(d)return r.state.loading|=4,r.instance=d,Tt(d),d;l=qv(a),(f=Hn.get(f))&&pm(l,f),d=(t.ownerDocument||t).createElement("link"),Tt(d);var _=d;return _._p=new Promise(function(A,N){_.onload=A,_.onerror=N}),$t(d,"link",l),r.state.loading|=4,qc(d,a.precedence,t),r.instance=d;case"script":return d=uo(a.src),(f=t.querySelector(kl(d)))?(r.instance=f,Tt(f),f):(l=a,(f=Hn.get(d))&&(l=v({},a),gm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Tt(f),$t(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,qc(l,a.precedence,t));return r.instance}function qc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===r)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function pm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function gm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Fc=null;function Gv(t,r,a){if(Fc===null){var l=new Map,f=Fc=new Map;f.set(a,l)}else f=Fc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[_r]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function Yv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function NS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Kv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function DS(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=lo(l.href),d=r.querySelector(Vl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Gc.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,Tt(d);return}d=r.ownerDocument||r,l=qv(l),(f=Hn.get(f))&&pm(l,f),d=d.createElement("link"),Tt(d);var _=d;_._p=new Promise(function(A,N){_.onload=A,_.onerror=N}),$t(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Gc.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var ym=0;function OS(t,r){return t.stylesheets&&t.count===0&&Kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&ym===0&&(ym=62500*fS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>ym?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yc=null;function Kc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yc=new Map,r.forEach(MS,t),Yc=null,Gc.call(t))}function MS(t,r){if(!(r.state.loading&4)){var a=Yc.get(t);if(a)var l=a.get(null);else{a=new Map,Yc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Gc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Ll={$$typeof:re,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function VS(t,r,a,l,f,d,_,A,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gr(0),this.hiddenUpdates=gr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function $v(t,r,a,l,f,d,_,A,N,H,$,Z){return t=new VS(t,r,a,_,N,H,$,Z,A),r=1,d===!0&&(r|=24),d=En(3,null,null,r),t.current=d,d.stateNode=t,r=Xf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},ed(d),t}function Qv(t){return t?(t=za,t):za}function Xv(t,r,a,l,f,d){f=Qv(f),l.context===null?l.context=f:l.pendingContext=f,l=qi(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Fi(t,l,r),a!==null&&(mn(a,t,r),ml(a,t,r))}function Jv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function _m(t,r){Jv(t,r),(t=t.alternate)&&Jv(t,r)}function Zv(t){if(t.tag===13||t.tag===31){var r=Fs(t,67108864);r!==null&&mn(r,t,67108864),_m(t,67108864)}}function Wv(t){if(t.tag===13||t.tag===31){var r=xn();r=Os(r);var a=Fs(t,r);a!==null&&mn(a,t,r),_m(t,r)}}var $c=!0;function kS(t,r,a,l){var f=Q.T;Q.T=null;var d=se.p;try{se.p=2,vm(t,r,a,l)}finally{se.p=d,Q.T=f}}function LS(t,r,a,l){var f=Q.T;Q.T=null;var d=se.p;try{se.p=8,vm(t,r,a,l)}finally{se.p=d,Q.T=f}}function vm(t,r,a,l){if($c){var f=bm(l);if(f===null)sm(t,r,l,Qc,a),tb(t,l);else if(PS(f,t,r,a,l))l.stopPropagation();else if(tb(t,l),r&4&&-1<US.indexOf(t)){for(;f!==null;){var d=Dn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=mr(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var N=1<<31-mt(_);A.entanglements[1]|=N,_&=~N}Mr(d),(qe&6)===0&&(Dc=rn()+500,Nl(0))}}break;case 31:case 13:A=Fs(d,2),A!==null&&mn(A,d,2),Mc(),_m(d,2)}if(d=bm(l),d===null&&sm(t,r,l,Qc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else sm(t,r,l,null,a)}}function bm(t){return t=On(t),Em(t)}var Qc=null;function Em(t){if(Qc=null,t=vr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Qc=t,null}function eb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cs()){case jo:return 2;case zo:return 8;case Ci:case Rf:return 32;case Ru:return 268435456;default:return 32}default:return 32}}var Tm=!1,ts=null,ns=null,rs=null,Ul=new Map,Pl=new Map,is=[],US="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tb(t,r){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Ul.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(r.pointerId)}}function jl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Dn(r),r!==null&&Zv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function PS(t,r,a,l,f){switch(r){case"focusin":return ts=jl(ts,t,r,a,l,f),!0;case"dragenter":return ns=jl(ns,t,r,a,l,f),!0;case"mouseover":return rs=jl(rs,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ul.set(d,jl(Ul.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Pl.set(d,jl(Pl.get(d)||null,t,r,a,l,f)),!0}return!1}function nb(t){var r=vr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Qn(t.priority,function(){Wv(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Qn(t.priority,function(){Wv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=bm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Zo=l,a.target.dispatchEvent(l),Zo=null}else return r=Dn(a),r!==null&&Zv(r),t.blockedOn=a,!1;r.shift()}return!0}function rb(t,r,a){Xc(t)&&a.delete(r)}function jS(){Tm=!1,ts!==null&&Xc(ts)&&(ts=null),ns!==null&&Xc(ns)&&(ns=null),rs!==null&&Xc(rs)&&(rs=null),Ul.forEach(rb),Pl.forEach(rb)}function Jc(t,r){t.blockedOn===r&&(t.blockedOn=null,Tm||(Tm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jS)))}var Zc=null;function ib(t){Zc!==t&&(Zc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Zc===t&&(Zc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Em(l||a)===null)continue;break}var d=Dn(a);d!==null&&(t.splice(r,3),r-=3,bd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function co(t){function r(N){return Jc(N,t)}ts!==null&&Jc(ts,t),ns!==null&&Jc(ns,t),rs!==null&&Jc(rs,t),Ul.forEach(r),Pl.forEach(r);for(var a=0;a<is.length;a++){var l=is[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<is.length&&(a=is[0],a.blockedOn===null);)nb(a),a.blockedOn===null&&is.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Pt]||null;if(typeof d=="function")_||ib(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Pt]||null)A=_.formAction;else if(Em(f)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),ib(a)}}}function sb(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Am(t){this._internalRoot=t}Wc.prototype.render=Am.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=xn();Xv(a,l,t,r,null,null)},Wc.prototype.unmount=Am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Xv(t.current,2,null,t,null,null),Mc(),r[yr]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Mu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<is.length&&r!==0&&r<is[a].priority;a++);is.splice(a,0,t),a===0&&nb(t)}};var ab=e.version;if(ab!=="19.2.3")throw Error(s(527,ab,"19.2.3"));se.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var zS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{Kn=eh.inject(zS),qt=eh}catch{}}return Bl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=d_,d=m_,_=p_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=$v(t,1,!1,null,null,a,l,null,f,d,_,sb),t[yr]=r.current,im(t),new Am(r)},Bl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=d_,_=m_,A=p_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=$v(t,1,!0,r,a??null,l,f,N,d,_,A,sb),r.context=Qv(null),a=r.current,l=xn(),l=Os(l),f=qi(l),f.callback=null,Fi(a,f,l),a=l,r.current.lanes=a,Ns(r,a),Mr(r),t[yr]=r.current,im(t),new Wc(r)},Bl.version="19.2.3",Bl}var gb;function XS(){if(gb)return xm.exports;gb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),xm.exports=QS(),xm.exports}var JS=XS();var yb="popstate";function ZS(i={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=ga(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Qm("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:eu(u))}function s(o,u){Cn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return ew(e,n,s,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Cn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WS(){return Math.random().toString(36).substring(2,10)}function _b(i,e){return{usr:i.state,key:i.key,idx:e}}function Qm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ga(e):e,state:n,key:e&&e.key||s||WS()}}function eu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ga(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function ew(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function v(){m="POP";let F=E(),ne=F==null?null:F-g;g=F,p&&p({action:m,location:G.location,delta:ne})}function w(F,ne){m="PUSH";let te=Qm(G.location,F,ne);n&&n(te,F),g=E()+1;let re=_b(te,g),fe=G.createHref(te);try{h.pushState(re,"",fe)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;o.location.assign(fe)}u&&p&&p({action:m,location:G.location,delta:1})}function D(F,ne){m="REPLACE";let te=Qm(G.location,F,ne);n&&n(te,F),g=E();let re=_b(te,g),fe=G.createHref(te);h.replaceState(re,"",fe),u&&p&&p({action:m,location:G.location,delta:0})}function P(F){return tw(F)}let G={get action(){return m},get location(){return i(o,h)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(yb,v),p=F,()=>{o.removeEventListener(yb,v),p=null}},createHref(F){return e(o,F)},createURL:P,encodeLocation(F){let ne=P(F);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:w,replace:D,go(F){return h.go(F)}};return G}function tw(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:eu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function sE(i,e,n="/"){return nw(i,e,n,!1)}function nw(i,e,n,s){let o=typeof e=="string"?ga(e):e,u=_i(o.pathname||"/",n);if(u==null)return null;let h=aE(i);rw(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=mw(u);m=fw(h[p],g,s)}return m}function aE(i,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let v=gi([s,E.relativePath]),w=n.concat(E);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),aE(h.children,e,w,v,p)),!(h.path==null&&!h.index)&&e.push({path:v,score:cw(v,h.index),routesMeta:w})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of oE(h.path))u(h,m,!0,p)}),e}function oE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=oE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function rw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:hw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var iw=/^:[\w-]+$/,sw=3,aw=2,ow=1,lw=10,uw=-2,vb=i=>i==="*";function cw(i,e){let n=i.split("/"),s=n.length;return n.some(vb)&&(s+=uw),e&&(s+=aw),n.filter(o=>!vb(o)).reduce((o,u)=>o+(iw.test(u)?sw:u===""?ow:lw),s)}function hw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function fw(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",v=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!v&&g&&n&&!s[s.length-1].route.index&&(v=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!v)return null;Object.assign(o,v.params),h.push({params:o,pathname:gi([u,v.pathname]),pathnameBase:_w(gi([u,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(u=gi([u,v.pathnameBase]))}return h}function wh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=dw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:v},w)=>{if(E==="*"){let P=m[w]||"";h=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const D=m[w];return v&&!D?g[E]=void 0:g[E]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function dw(i,e=!1,n=!0){Cn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function mw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function _i(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var lE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pw=i=>lE.test(i);function gw(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ga(i):i,u;if(n)if(pw(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Cn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=bb(n.substring(1),"/"):u=bb(n,e)}else u=e;return{pathname:u,search:vw(s),hash:bw(o)}}function bb(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Nm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wp(i){let e=yw(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function xp(i,e,n,s=!1){let o;typeof i=="string"?o=ga(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),Nm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Nm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Nm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let v=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),v-=1;o.pathname=w.join("/")}m=v>=0?e[v]:"/"}let p=gw(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var gi=i=>i.join("/").replace(/\/\/+/g,"/"),_w=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),vw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,bw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Ew=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Tw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function Aw(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var uE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function cE(i,e){let n=i;if(typeof n!="string"||!lE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(uE)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=_i(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Cn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hE=["POST","PUT","PATCH","DELETE"];new Set(hE);var Sw=["GET",...hE];new Set(Sw);var Co=k.createContext(null);Co.displayName="DataRouter";var Qh=k.createContext(null);Qh.displayName="DataRouterState";var ww=k.createContext(!1),fE=k.createContext({isTransitioning:!1});fE.displayName="ViewTransition";var xw=k.createContext(new Map);xw.displayName="Fetchers";var Rw=k.createContext(null);Rw.displayName="Await";var In=k.createContext(null);In.displayName="Navigation";var fu=k.createContext(null);fu.displayName="Location";var hr=k.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var Rp=k.createContext(null);Rp.displayName="RouteError";var dE="REACT_ROUTER_ERROR",Cw="REDIRECT",Iw="ROUTE_ERROR_RESPONSE";function Nw(i){if(i.startsWith(`${dE}:${Cw}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Dw(i){if(i.startsWith(`${dE}:${Iw}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Ew(e.status,e.statusText,e.data)}catch{}}function Ow(i,{relative:e}={}){ut(Io(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(In),{hash:o,pathname:u,search:h}=du(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:gi([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Io(){return k.useContext(fu)!=null}function wi(){return ut(Io(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(fu).location}var mE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pE(i){k.useContext(In).static||k.useLayoutEffect(i)}function gE(){let{isDataRoute:i}=k.useContext(hr);return i?Kw():Mw()}function Mw(){ut(Io(),"useNavigate() may be used only in the context of a <Router> component.");let i=k.useContext(Co),{basename:e,navigator:n}=k.useContext(In),{matches:s}=k.useContext(hr),{pathname:o}=wi(),u=JSON.stringify(wp(s)),h=k.useRef(!1);return pE(()=>{h.current=!0}),k.useCallback((p,g={})=>{if(Cn(h.current,mE),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=xp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:gi([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}var Vw=k.createContext(null);function kw(i){let e=k.useContext(hr).outlet;return k.useMemo(()=>e&&k.createElement(Vw.Provider,{value:i},e),[e,i])}function du(i,{relative:e}={}){let{matches:n}=k.useContext(hr),{pathname:s}=wi(),o=JSON.stringify(wp(n));return k.useMemo(()=>xp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Lw(i,e){return yE(i,e)}function yE(i,e,n,s,o){ut(Io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(In),{matches:h}=k.useContext(hr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",v=m&&m.route;{let te=v&&v.path||"";vE(g,!v||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let w=wi(),D;if(e){let te=typeof e=="string"?ga(e):e;ut(E==="/"||te.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),D=te}else D=w;let P=D.pathname||"/",G=P;if(E!=="/"){let te=E.replace(/^\//,"").split("/");G="/"+P.replace(/^\//,"").split("/").slice(te.length).join("/")}let F=sE(i,{pathname:G});Cn(v||F!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Cn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=Bw(F&&F.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:gi([E,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:gi([E,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),h,n,s,o);return e&&ne?k.createElement(fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},ne):ne}function Uw(){let i=Yw(),e=Tw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,h)}var Pw=k.createElement(Uw,null),_E=class extends k.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=Dw(i.digest);n&&(i=n)}let e=i!==void 0?k.createElement(hr.Provider,{value:this.props.routeContext},k.createElement(Rp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?k.createElement(jw,{error:i},e):e}};_E.contextType=ww;var Dm=new WeakMap;function jw({children:i,error:e}){let{basename:n}=k.useContext(In);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Nw(e.digest);if(s){let o=Dm.get(e);if(o)throw o;let u=cE(s.location,n);if(uE&&!Dm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Dm.set(e,h),h}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function zw({routeContext:i,match:e,children:n}){let s=k.useContext(Co);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(hr.Provider,{value:i},n)}function Bw(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let E=u.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);ut(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let v=u[E];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=E),v.route.id){let{loaderData:w,errors:D}=n,P=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!D||D[v.route.id]===void 0);if(v.route.lazy||P){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,v)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Aw(n.matches),errorInfo:v})}:void 0;return u.reduceRight((E,v,w)=>{let D,P=!1,G=null,F=null;n&&(D=h&&v.route.id?h[v.route.id]:void 0,G=v.route.errorElement||Pw,m&&(p<0&&w===0?(vE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,F=null):p===w&&(P=!0,F=v.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,w+1)),te=()=>{let re;return D?re=G:P?re=F:v.route.Component?re=k.createElement(v.route.Component,null):v.route.element?re=v.route.element:re=E,k.createElement(zw,{match:v,routeContext:{outlet:E,matches:ne,isDataRoute:n!=null},children:re})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?k.createElement(_E,{location:n.location,revalidation:n.revalidation,component:G,error:D,children:te(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:g}):te()},null)}function Cp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hw(i){let e=k.useContext(Co);return ut(e,Cp(i)),e}function qw(i){let e=k.useContext(Qh);return ut(e,Cp(i)),e}function Fw(i){let e=k.useContext(hr);return ut(e,Cp(i)),e}function Ip(i){let e=Fw(i),n=e.matches[e.matches.length-1];return ut(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Gw(){return Ip("useRouteId")}function Yw(){let i=k.useContext(Rp),e=qw("useRouteError"),n=Ip("useRouteError");return i!==void 0?i:e.errors?.[n]}function Kw(){let{router:i}=Hw("useNavigate"),e=Ip("useNavigate"),n=k.useRef(!1);return pE(()=>{n.current=!0}),k.useCallback(async(o,u={})=>{Cn(n.current,mE),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Eb={};function vE(i,e,n){!e&&!Eb[i]&&(Eb[i]=!0,Cn(!1,n))}k.memo($w);function $w({routes:i,future:e,state:n,onError:s}){return yE(i,void 0,n,s,e)}function bE({to:i,replace:e,state:n,relative:s}){ut(Io(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(In);Cn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=k.useContext(hr),{pathname:h}=wi(),m=gE(),p=xp(i,wp(u),h,s==="path"),g=JSON.stringify(p);return k.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Qw(i){return kw(i.context)}function sr(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Xw({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ut(!Io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=k.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=ga(n));let{pathname:g="/",search:E="",hash:v="",state:w=null,key:D="default"}=n,P=k.useMemo(()=>{let G=_i(g,m);return G==null?null:{location:{pathname:G,search:E,hash:v,state:w,key:D},navigationType:s}},[m,g,E,v,w,D,s]);return Cn(P!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${v}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:k.createElement(In.Provider,{value:p},k.createElement(fu.Provider,{children:e,value:P}))}function Jw({children:i,location:e}){return Lw(Xm(i),e)}function Xm(i,e=[]){let n=[];return k.Children.forEach(i,(s,o)=>{if(!k.isValidElement(s))return;let u=[...e,o];if(s.type===k.Fragment){n.push.apply(n,Xm(s.props.children,u));return}ut(s.type===sr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Xm(s.props.children,u)),n.push(h)}),n}var hh="get",fh="application/x-www-form-urlencoded";function Xh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function Zw(i){return Xh(i)&&i.tagName.toLowerCase()==="button"}function Ww(i){return Xh(i)&&i.tagName.toLowerCase()==="form"}function ex(i){return Xh(i)&&i.tagName.toLowerCase()==="input"}function tx(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function nx(i,e){return i.button===0&&(!e||e==="_self")&&!tx(i)}var th=null;function rx(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var ix=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Om(i){return i!=null&&!ix.has(i)?(Cn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):i}function sx(i,e){let n,s,o,u,h;if(Ww(i)){let m=i.getAttribute("action");s=m?_i(m,e):null,n=i.getAttribute("method")||hh,o=Om(i.getAttribute("enctype"))||fh,u=new FormData(i)}else if(Zw(i)||ex(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?_i(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||hh,o=Om(i.getAttribute("formenctype"))||Om(m.getAttribute("enctype"))||fh,u=new FormData(m,i),!rx()){let{name:g,type:E,value:v}=i;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,v)}}else{if(Xh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hh,s=null,o=fh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Np(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ax(i,e,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&_i(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function ox(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lx(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function ux(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await ox(u,n);return h.links?h.links():[]}return[]}));return dx(s.flat(1).filter(lx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Tb(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function cx(i,e,{includeHydrateFallback:n}={}){return hx(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function hx(i){return[...new Set(i)]}function fx(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function dx(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(fx(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function EE(){let i=k.useContext(Co);return Np(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function mx(){let i=k.useContext(Qh);return Np(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Dp=k.createContext(void 0);Dp.displayName="FrameworkContext";function TE(){let i=k.useContext(Dp);return Np(i,"You must render this element inside a <HydratedRouter> element"),i}function px(i,e){let n=k.useContext(Dp),[s,o]=k.useState(!1),[u,h]=k.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:v}=e,w=k.useRef(null);k.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let G=ne=>{ne.forEach(te=>{h(te.isIntersecting)})},F=new IntersectionObserver(G,{threshold:.5});return w.current&&F.observe(w.current),()=>{F.disconnect()}}},[i]),k.useEffect(()=>{if(s){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[s]);let D=()=>{o(!0)},P=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,w,{}]:[u,w,{onFocus:Hl(m,D),onBlur:Hl(p,P),onMouseEnter:Hl(g,D),onMouseLeave:Hl(E,P),onTouchStart:Hl(v,D)}]:[!1,w,{}]}function Hl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function gx({page:i,...e}){let{router:n}=EE(),s=k.useMemo(()=>sE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?k.createElement(_x,{page:i,matches:s,...e}):null}function yx(i){let{manifest:e,routeModules:n}=TE(),[s,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return ux(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function _x({page:i,matches:e,...n}){let s=wi(),{future:o,manifest:u,routeModules:h}=TE(),{basename:m}=EE(),{loaderData:p,matches:g}=mx(),E=k.useMemo(()=>Tb(i,e,g,u,s,"data"),[i,e,g,u,s]),v=k.useMemo(()=>Tb(i,e,g,u,s,"assets"),[i,e,g,u,s]),w=k.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let G=new Set,F=!1;if(e.forEach(te=>{let re=u.routes[te.route.id];!re||!re.hasLoader||(!E.some(fe=>fe.route.id===te.route.id)&&te.route.id in p&&h[te.route.id]?.shouldRevalidate||re.hasClientLoader?F=!0:G.add(te.route.id))}),G.size===0)return[];let ne=ax(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return F&&G.size>0&&ne.searchParams.set("_routes",e.filter(te=>G.has(te.route.id)).map(te=>te.route.id).join(",")),[ne.pathname+ne.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,i,h]),D=k.useMemo(()=>cx(v,u),[v,u]),P=yx(v);return k.createElement(k.Fragment,null,w.map(G=>k.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),D.map(G=>k.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),P.map(({key:G,link:F})=>k.createElement("link",{key:G,nonce:n.nonce,...F})))}function vx(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var bx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bx&&(window.__reactRouterVersion="7.12.0")}catch{}function Ex({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=k.useRef();o.current==null&&(o.current=ZS({window:s,v5Compat:!0}));let u=o.current,[h,m]=k.useState({action:u.action,location:u.location}),p=k.useCallback(g=>{n===!1?m(g):k.startTransition(()=>m(g))},[n]);return k.useLayoutEffect(()=>u.listen(p),[u,p]),k.createElement(Xw,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var AE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,on=k.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:v,unstable_defaultShouldRevalidate:w,...D},P){let{basename:G,unstable_useTransitions:F}=k.useContext(In),ne=typeof g=="string"&&AE.test(g),te=cE(g,G);g=te.to;let re=Ow(g,{relative:o}),[fe,Se,Ee]=px(s,D),R=wx(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:v,unstable_defaultShouldRevalidate:w,unstable_useTransitions:F});function x(L){e&&e(L),L.defaultPrevented||R(L)}let C=k.createElement("a",{...D,...Ee,href:te.absoluteURL||re,onClick:te.isExternal||u?e:x,ref:vx(P,Se),target:p,"data-discover":!ne&&n==="render"?"true":void 0});return fe&&!ne?k.createElement(k.Fragment,null,C,k.createElement(gx,{page:re})):C});on.displayName="Link";var Tx=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let v=du(h,{relative:g.relative}),w=wi(),D=k.useContext(Qh),{navigator:P,basename:G}=k.useContext(In),F=D!=null&&Nx(v)&&m===!0,ne=P.encodeLocation?P.encodeLocation(v).pathname:v.pathname,te=w.pathname,re=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(te=te.toLowerCase(),re=re?re.toLowerCase():null,ne=ne.toLowerCase()),re&&G&&(re=_i(re,G)||re);const fe=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let Se=te===ne||!o&&te.startsWith(ne)&&te.charAt(fe)==="/",Ee=re!=null&&(re===ne||!o&&re.startsWith(ne)&&re.charAt(ne.length)==="/"),R={isActive:Se,isPending:Ee,isTransitioning:F},x=Se?e:void 0,C;typeof s=="function"?C=s(R):C=[s,Se?"active":null,Ee?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(R):u;return k.createElement(on,{...g,"aria-current":x,className:C,ref:E,style:L,to:h,viewTransition:m},typeof p=="function"?p(R):p)});Tx.displayName="NavLink";var Ax=k.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=hh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:v,unstable_defaultShouldRevalidate:w,...D},P)=>{let{unstable_useTransitions:G}=k.useContext(In),F=Cx(),ne=Ix(m,{relative:g}),te=h.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&AE.test(m),fe=Se=>{if(p&&p(Se),Se.defaultPrevented)return;Se.preventDefault();let Ee=Se.nativeEvent.submitter,R=Ee?.getAttribute("formmethod")||h,x=()=>F(Ee||Se.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:v,unstable_defaultShouldRevalidate:w});G&&n!==!1?k.startTransition(()=>x()):x()};return k.createElement("form",{ref:P,method:te,action:ne,onSubmit:s?p:fe,...D,"data-discover":!re&&i==="render"?"true":void 0})});Ax.displayName="Form";function Sx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SE(i){let e=k.useContext(Co);return ut(e,Sx(i)),e}function wx(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=gE(),E=wi(),v=du(i,{relative:u});return k.useCallback(w=>{if(nx(w,e)){w.preventDefault();let D=n!==void 0?n:eu(E)===eu(v),P=()=>g(i,{replace:D,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?k.startTransition(()=>P()):P()}},[E,g,v,n,s,e,i,o,u,h,m,p])}var xx=0,Rx=()=>`__${String(++xx)}__`;function Cx(){let{router:i}=SE("useSubmit"),{basename:e}=k.useContext(In),n=Gw(),s=i.fetch,o=i.navigate;return k.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:E,body:v}=sx(u,e);if(h.navigate===!1){let w=h.fetcherKey||Rx();await s(w,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:v,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:v,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function Ix(i,{relative:e}={}){let{basename:n}=k.useContext(In),s=k.useContext(hr);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...du(i||".",{relative:e})},h=wi();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(v=>v).forEach(v=>m.append("index",v));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:gi([n,u.pathname])),eu(u)}function Nx(i,{relative:e}={}){let n=k.useContext(fE);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=SE("useViewTransitionState"),o=du(i,{relative:e});if(!n.isTransitioning)return!1;let u=_i(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=_i(n.nextLocation.pathname,s)||n.nextLocation.pathname;return wh(o.pathname,h)!=null||wh(o.pathname,u)!=null}const Dx=()=>{};var Ab={};const wE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Ox=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},xE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,v=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,D=g&63;p||(D=64,h||(w=64)),s.push(n[E],n[v],n[w],n[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(wE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Ox(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const v=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||v==null)throw new Mx;const w=u<<2|m>>4;if(s.push(w),g!==64){const D=m<<4&240|g>>2;if(s.push(D),v!==64){const P=g<<6&192|v;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Mx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vx=function(i){const e=wE(i);return xE.encodeByteArray(e,!0)},xh=function(i){return Vx(i).replace(/\./g,"")},RE=function(i){try{return xE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Lx=()=>kx().__FIREBASE_DEFAULTS__,Ux=()=>{if(typeof process>"u"||typeof Ab>"u")return;const i=Ab.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Px=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&RE(i[1]);return e&&JSON.parse(e)},Jh=()=>{try{return Dx()||Lx()||Ux()||Px()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},CE=i=>Jh()?.emulatorHosts?.[i],IE=i=>{const e=CE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},NE=()=>Jh()?.config,DE=i=>Jh()?.[`_${i}`];class jx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ya(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Op(i){return(await fetch(i,{credentials:"include"})).ok}function OE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[xh(JSON.stringify(n)),xh(JSON.stringify(h)),""].join(".")}const $l={};function zx(){const i={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?i.emulator.push(e):i.prod.push(e);return i}function Bx(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Sb=!1;function Mp(i,e){if(typeof window>"u"||typeof document>"u"||!ya(window.location.host)||$l[i]===e||$l[i]||Sb)return;$l[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=zx().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Sb=!0,h()},w}function E(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=Bx(s),D=n("text"),P=document.getElementById(D)||document.createElement("span"),G=n("learnmore"),F=document.getElementById(G)||document.createElement("a"),ne=n("preprendIcon"),te=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;m(re),E(F,G);const fe=g();p(te,ne),re.append(te,P,F,fe),document.body.appendChild(re)}u?(P.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function qx(){const i=Jh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gx(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Yx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kx(){const i=nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function $x(){return!qx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qx(){try{return typeof indexedDB=="object"}catch{return!1}}function Xx(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Jx="FirebaseError";class Fr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Jx,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Zx(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Fr(o,m,s)}}function Zx(i,e){return i.replace(Wx,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Wx=/\{\$([^}]+)}/g;function eR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ua(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(wb(u)&&wb(h)){if(!ua(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function wb(i){return i!==null&&typeof i=="object"}function pu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function tR(i,e){const n=new nR(i,e);return n.subscribe.bind(n)}class nR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");rR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Mm),o.error===void 0&&(o.error=Mm),o.complete===void 0&&(o.complete=Mm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Mm(){}function Ut(i){return i&&i._delegate?i._delegate:i}class gs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ra="[DEFAULT]";class iR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new jx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aR(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sR(i){return i===ra?void 0:i}function aR(i){return i.instantiationMode==="EAGER"}class oR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const lR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},uR=Me.INFO,cR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},hR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=cR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vp{constructor(e){this.name=e,this._logLevel=uR,this._logHandler=hR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const fR=(i,e)=>e.some(n=>i instanceof n);let xb,Rb;function dR(){return xb||(xb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mR(){return Rb||(Rb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ME=new WeakMap,Jm=new WeakMap,VE=new WeakMap,Vm=new WeakMap,kp=new WeakMap;function pR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(fs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&ME.set(n,i)}).catch(()=>{}),kp.set(e,i),e}function gR(i){if(Jm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Jm.set(i,e)}let Zm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Jm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||VE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function yR(i){Zm=i(Zm)}function _R(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(km(this),e,...n);return VE.set(s,e.sort?e.sort():[e]),fs(s)}:mR().includes(i)?function(...e){return i.apply(km(this),e),fs(ME.get(this))}:function(...e){return fs(i.apply(km(this),e))}}function vR(i){return typeof i=="function"?_R(i):(i instanceof IDBTransaction&&gR(i),fR(i,dR())?new Proxy(i,Zm):i)}function fs(i){if(i instanceof IDBRequest)return pR(i);if(Vm.has(i))return Vm.get(i);const e=vR(i);return e!==i&&(Vm.set(i,e),kp.set(e,i)),e}const km=i=>kp.get(i);function bR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=fs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(fs(h.result),p.oldVersion,p.newVersion,fs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const ER=["get","getKey","getAll","getAllKeys","count"],TR=["put","add","delete","clear"],Lm=new Map;function Cb(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Lm.get(e))return Lm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=TR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ER.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Lm.set(e,u),u}yR(i=>({...i,get:(e,n,s)=>Cb(e,n)||i.get(e,n,s),has:(e,n)=>!!Cb(e,n)||i.has(e,n)}));class AR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function SR(i){return i.getComponent()?.type==="VERSION"}const Wm="@firebase/app",Ib="0.14.7";const vi=new Vp("@firebase/app"),wR="@firebase/app-compat",xR="@firebase/analytics-compat",RR="@firebase/analytics",CR="@firebase/app-check-compat",IR="@firebase/app-check",NR="@firebase/auth",DR="@firebase/auth-compat",OR="@firebase/database",MR="@firebase/data-connect",VR="@firebase/database-compat",kR="@firebase/functions",LR="@firebase/functions-compat",UR="@firebase/installations",PR="@firebase/installations-compat",jR="@firebase/messaging",zR="@firebase/messaging-compat",BR="@firebase/performance",HR="@firebase/performance-compat",qR="@firebase/remote-config",FR="@firebase/remote-config-compat",GR="@firebase/storage",YR="@firebase/storage-compat",KR="@firebase/firestore",$R="@firebase/ai",QR="@firebase/firestore-compat",XR="firebase",JR="12.8.0";const ep="[DEFAULT]",ZR={[Wm]:"fire-core",[wR]:"fire-core-compat",[RR]:"fire-analytics",[xR]:"fire-analytics-compat",[IR]:"fire-app-check",[CR]:"fire-app-check-compat",[NR]:"fire-auth",[DR]:"fire-auth-compat",[OR]:"fire-rtdb",[MR]:"fire-data-connect",[VR]:"fire-rtdb-compat",[kR]:"fire-fn",[LR]:"fire-fn-compat",[UR]:"fire-iid",[PR]:"fire-iid-compat",[jR]:"fire-fcm",[zR]:"fire-fcm-compat",[BR]:"fire-perf",[HR]:"fire-perf-compat",[qR]:"fire-rc",[FR]:"fire-rc-compat",[GR]:"fire-gcs",[YR]:"fire-gcs-compat",[KR]:"fire-fst",[QR]:"fire-fst-compat",[$R]:"fire-vertex","fire-js":"fire-js",[XR]:"fire-js-all"};const Rh=new Map,WR=new Map,tp=new Map;function Nb(i,e){try{i.container.addComponent(e)}catch(n){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ca(i){const e=i.name;if(tp.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;tp.set(e,i);for(const n of Rh.values())Nb(n,i);for(const n of WR.values())Nb(n,i);return!0}function Zh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function qn(i){return i==null?!1:i.settings!==void 0}const e2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new mu("app","Firebase",e2);class t2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}const _a=JR;function kE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:ep,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ds.create("bad-app-name",{appName:String(o)});if(n||(n=NE()),!n)throw ds.create("no-options");const u=Rh.get(o);if(u){if(ua(n,u.options)&&ua(s,u.config))return u;throw ds.create("duplicate-app",{appName:o})}const h=new oR(o);for(const p of tp.values())h.addComponent(p);const m=new t2(n,s,h);return Rh.set(o,m),m}function Lp(i=ep){const e=Rh.get(i);if(!e&&i===ep&&NE())return kE();if(!e)throw ds.create("no-app",{appName:i});return e}function Lr(i,e,n){let s=ZR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(h.join(" "));return}ca(new gs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const n2="firebase-heartbeat-database",r2=1,tu="firebase-heartbeat-store";let Um=null;function LE(){return Um||(Um=bR(n2,r2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ds.create("idb-open",{originalErrorMessage:i.message})})),Um}async function i2(i){try{const n=(await LE()).transaction(tu),s=await n.objectStore(tu).get(UE(i));return await n.done,s}catch(e){if(e instanceof Fr)vi.warn(e.message);else{const n=ds.create("idb-get",{originalErrorMessage:e?.message});vi.warn(n.message)}}}async function Db(i,e){try{const s=(await LE()).transaction(tu,"readwrite");await s.objectStore(tu).put(e,UE(i)),await s.done}catch(n){if(n instanceof Fr)vi.warn(n.message);else{const s=ds.create("idb-set",{originalErrorMessage:n?.message});vi.warn(s.message)}}}function UE(i){return`${i.name}!${i.options.appId}`}const s2=1024,a2=30;class o2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new u2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ob();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>a2){const o=c2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ob(),{heartbeatsToSend:n,unsentEntries:s}=l2(this._heartbeatsCache.heartbeats),o=xh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vi.warn(e),""}}}function Ob(){return new Date().toISOString().substring(0,10)}function l2(i,e=s2){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Mb(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Mb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class u2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qx()?Xx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await i2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Db(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Db(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Mb(i){return xh(JSON.stringify({version:2,heartbeats:i})).length}function c2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function h2(i){ca(new gs("platform-logger",e=>new AR(e),"PRIVATE")),ca(new gs("heartbeat",e=>new o2(e),"PRIVATE")),Lr(Wm,Ib,i),Lr(Wm,Ib,"esm2020"),Lr("fire-js","")}h2("");var f2="firebase",d2="12.8.0";Lr(f2,d2,"app");function PE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m2=PE,jE=new mu("auth","Firebase",PE());const Ch=new Vp("@firebase/auth");function p2(i,...e){Ch.logLevel<=Me.WARN&&Ch.warn(`Auth (${_a}): ${i}`,...e)}function dh(i,...e){Ch.logLevel<=Me.ERROR&&Ch.error(`Auth (${_a}): ${i}`,...e)}function Br(i,...e){throw Pp(i,...e)}function lr(i,...e){return Pp(i,...e)}function Up(i,e,n){const s={...m2(),[e]:n};return new mu("auth","Firebase",s).create(e,{appName:i.name})}function aa(i){return Up(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g2(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Br(i,"argument-error"),Up(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return jE.create(i,...e)}function _e(i,e,...n){if(!i)throw Pp(e,...n)}function mi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw dh(e),new Error(e)}function bi(i,e){i||mi(e)}function np(){return typeof self<"u"&&self.location?.href||""}function y2(){return Vb()==="http:"||Vb()==="https:"}function Vb(){return typeof self<"u"&&self.location?.protocol||null}function _2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y2()||Gx()||"connection"in navigator)?navigator.onLine:!0}function v2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,bi(n>e,"Short delay should be less than long delay!"),this.isMobile=Hx()||Yx()}get(){return _2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jp(i,e){bi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class zE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const b2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const E2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],T2=new gu(3e4,6e4);function zp(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function No(i,e,n,s,o={}){return BE(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=pu({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return Fx()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&ya(i.emulatorConfig.host)&&(g.credentials="include"),zE.fetch()(await HE(i,i.config.apiHost,n,m),g)})}async function BE(i,e,n){i._canInitEmulator=!1;const s={...b2,...e};try{const o=new S2(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw nh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw nh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw nh(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Up(i,E,g);Br(i,E)}}catch(o){if(o instanceof Fr)throw o;Br(i,"network-request-failed",{message:String(o)})}}async function A2(i,e,n,s,o={}){const u=await No(i,e,n,s,o);return"mfaPendingCredential"in u&&Br(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function HE(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?jp(i.config,o):`${i.config.apiScheme}://${o}`;return E2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class S2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(lr(this.auth,"network-request-failed")),T2.get())})}}function nh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=lr(i,e,s);return o.customData._tokenResponse=n,o}async function w2(i,e){return No(i,"POST","/v1/accounts:delete",e)}async function Ih(i,e){return No(i,"POST","/v1/accounts:lookup",e)}function Ql(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function x2(i,e=!1){const n=Ut(i),s=await n.getIdToken(e),o=Bp(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Ql(Pm(o.auth_time)),issuedAtTime:Ql(Pm(o.iat)),expirationTime:Ql(Pm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Pm(i){return Number(i)*1e3}function Bp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=RE(n);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function kb(i){const e=Bp(i);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function nu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Fr&&R2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function R2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class C2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Nh(i){const e=i.auth,n=await i.getIdToken(),s=await nu(i,Ih(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?qE(o.providerUserInfo):[],h=N2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function I2(i){const e=Ut(i);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function N2(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function qE(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function D2(i,e){const n=await BE(i,{},async()=>{const s=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await HE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&ya(i.emulatorConfig.host)&&(p.credentials="include"),zE.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function O2(i,e){return No(i,"POST","/v2/accounts:revokeToken",zp(i,e))}class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=kb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await D2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new go;return s&&(_e(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return mi("not implemented")}}function as(i,e){_e(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ar{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new C2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await nu(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return x2(this,e)}reload(){return I2(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ar({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(aa(this.auth));const e=await this.getIdToken();return await nu(this,w2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:D,providerData:P,stsTokenManager:G}=n;_e(v&&G,e,"internal-error");const F=go.fromJSON(this.name,G);_e(typeof v=="string",e,"internal-error"),as(s,e.name),as(o,e.name),_e(typeof w=="boolean",e,"internal-error"),_e(typeof D=="boolean",e,"internal-error"),as(u,e.name),as(h,e.name),as(m,e.name),as(p,e.name),as(g,e.name),as(E,e.name);const ne=new ar({uid:v,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:D,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:g,lastLoginAt:E});return P&&Array.isArray(P)&&(ne.providerData=P.map(te=>({...te}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new go;o.updateFromServerResponse(n);const u=new ar({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Nh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?qE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new go;m.updateFromIdToken(s);const p=new ar({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const Lb=new Map;function pi(i){bi(i instanceof Function,"Expected a class definition");let e=Lb.get(i);return e?(bi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Lb.set(i,e),e)}class FE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FE.type="NONE";const Ub=FE;function mh(i,e,n){return`firebase:${i}:${e}:${n}`}class yo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,u),this.fullPersistenceKey=mh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ih(this.auth,{idToken:e}).catch(()=>{});return n?ar._fromGetAccountInfoResponse(this.auth,n,e):null}return ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new yo(pi(Ub),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||pi(Ub);const h=mh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let v;if(typeof E=="string"){const w=await Ih(e,{idToken:E}).catch(()=>{});if(!w)break;v=await ar._fromGetAccountInfoResponse(e,w,E)}else v=ar._fromJSON(e,E);g!==u&&(m=v),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new yo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new yo(u,e,s))}}function Pb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($E(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XE(e))return"Blackberry";if(JE(e))return"Webos";if(YE(e))return"Safari";if((e.includes("chrome/")||KE(e))&&!e.includes("edge/"))return"Chrome";if(QE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function GE(i=nn()){return/firefox\//i.test(i)}function YE(i=nn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KE(i=nn()){return/crios\//i.test(i)}function $E(i=nn()){return/iemobile/i.test(i)}function QE(i=nn()){return/android/i.test(i)}function XE(i=nn()){return/blackberry/i.test(i)}function JE(i=nn()){return/webos/i.test(i)}function Hp(i=nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function M2(i=nn()){return Hp(i)&&!!window.navigator?.standalone}function V2(){return Kx()&&document.documentMode===10}function ZE(i=nn()){return Hp(i)||QE(i)||JE(i)||XE(i)||/windows phone/i.test(i)||$E(i)}function WE(i,e=[]){let n;switch(i){case"Browser":n=Pb(nn());break;case"Worker":n=`${Pb(nn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_a}/${s}`}class k2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function L2(i,e={}){return No(i,"GET","/v2/passwordPolicy",zp(i,e))}const U2=6;class P2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??U2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class j2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jb(this),this.idTokenSubscription=new jb(this),this.beforeStateQueue=new k2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ih(this,{idToken:e}),s=await ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(aa(this));const n=e?Ut(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await L2(this),n=new P2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await O2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&p2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wh(i){return Ut(i)}class jb{constructor(e){this.auth=e,this.observer=null,this.addObserver=tR(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z2(i){qp=i}function B2(i){return qp.loadJS(i)}function H2(){return qp.gapiScript}function q2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function F2(i,e){const n=Zh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ua(u,e??{}))return o;Br(o,"already-initialized")}return n.initialize({options:e})}function G2(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(pi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function Y2(i,e,n){const s=Wh(i);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=eT(e),{host:h,port:m}=K2(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(ua(g,s.config.emulator)&&ua(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ya(h)?(Op(`${u}//${h}${p}`),Mp("Auth",!0)):$2()}function eT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function K2(i){const e=eT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:zb(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:zb(h)}}}function zb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function $2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class tT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,n){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}async function _o(i,e){return A2(i,"POST","/v1/accounts:signInWithIdp",zp(i,e))}const Q2="http://localhost";class ha extends tT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ha(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_o(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:Q2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pu(n)}return e}}class Fp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yu extends Fp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class os extends yu{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";class di extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return di.credential(n,s)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";class ls extends yu{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";class us extends yu{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return us.credential(n,s)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ar._fromIdTokenResponse(e,s,o),h=Bb(s);return new Eo({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Bb(s);return new Eo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Bb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Dh extends Fr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Dh(e,n,s,o)}}function nT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(i,u,e,s):u})}async function X2(i,e,n=!1){const s=await nu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Eo._forOperation(i,"link",s)}async function J2(i,e,n=!1){const{auth:s}=i;if(qn(s.app))return Promise.reject(aa(s));const o="reauthenticate";try{const u=await nu(i,nT(s,o,e,i),n);_e(u.idToken,s,"internal-error");const h=Bp(u.idToken);_e(h,s,"internal-error");const{sub:m}=h;return _e(i.uid===m,s,"user-mismatch"),Eo._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Br(s,"user-mismatch"),u}}async function Z2(i,e,n=!1){if(qn(i.app))return Promise.reject(aa(i));const s="signIn",o=await nT(i,s,e),u=await Eo._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function W2(i,e,n,s){return Ut(i).onIdTokenChanged(e,n,s)}function eC(i,e,n){return Ut(i).beforeAuthStateChanged(e,n)}function tC(i,e,n,s){return Ut(i).onAuthStateChanged(e,n,s)}function nC(i){return Ut(i).signOut()}const Oh="__sak";class rT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const rC=1e3,iC=10;class iT extends rT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);V2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,iC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},rC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iT.type="LOCAL";const sC=iT;class sT extends rT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sT.type="SESSION";const aT=sT;function aC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new ef(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await aC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];function Gp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class oC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Gp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(v){const w=v;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Ur(){return window}function lC(i){Ur().location.href=i}function oT(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function uC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cC(){return navigator?.serviceWorker?.controller||null}function hC(){return oT()?self:null}const lT="firebaseLocalStorageDb",fC=1,Mh="firebaseLocalStorage",uT="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(i,e){return i.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function dC(){const i=indexedDB.deleteDatabase(lT);return new _u(i).toPromise()}function ip(){const i=indexedDB.open(lT,fC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Mh,{keyPath:uT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Mh)?e(s):(s.close(),await dC(),e(await ip()))})})}async function Hb(i,e,n){const s=tf(i,!0).put({[uT]:e,value:n});return new _u(s).toPromise()}async function mC(i,e){const n=tf(i,!1).get(e),s=await new _u(n).toPromise();return s===void 0?null:s.value}function qb(i,e){const n=tf(i,!0).delete(e);return new _u(n).toPromise()}const pC=800,gC=3;class cT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ip(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>gC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(hC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uC(),!this.activeServiceWorker)return;this.sender=new oC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ip();return await Hb(e,Oh,"1"),await qb(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Hb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>mC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=tf(o,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cT.type="LOCAL";const yC=cT;new gu(3e4,6e4);function hT(i,e){return e?pi(e):(_e(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Yp extends tT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _C(i){return Z2(i.auth,new Yp(i),i.bypassAuthState)}function vC(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),J2(n,new Yp(i),i.bypassAuthState)}async function bC(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),X2(n,new Yp(i),i.bypassAuthState)}class fT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _C;case"linkViaPopup":case"linkViaRedirect":return bC;case"reauthViaPopup":case"reauthViaRedirect":return vC;default:Br(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const EC=new gu(2e3,1e4);async function TC(i,e,n){if(qn(i.app))return Promise.reject(lr(i,"operation-not-supported-in-this-environment"));const s=Wh(i);g2(i,e,Fp);const o=hT(s,n);return new ia(s,"signInViaPopup",e,o).executeNotNull()}class ia extends fT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ia.currentPopupAction&&ia.currentPopupAction.cancel(),ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){bi(this.filter.length===1,"Popup operations only handle one event");const e=Gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EC.get())};e()}}ia.currentPopupAction=null;const AC="pendingRedirect",ph=new Map;class SC extends fT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const s=await wC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wC(i,e){const n=CC(e),s=RC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function xC(i,e){ph.set(i._key(),e)}function RC(i){return pi(i._redirectPersistence)}function CC(i){return mh(AC,i.config.apiKey,i.name)}async function IC(i,e,n=!1){if(qn(i.app))return Promise.reject(aa(i));const s=Wh(i),o=hT(s,e),h=await new SC(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const NC=600*1e3;class DC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!dT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(lr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fb(e))}saveEventToCache(e){this.cachedEventUids.add(Fb(e)),this.lastProcessedEventTime=Date.now()}}function Fb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function dT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function OC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dT(i);default:return!1}}async function MC(i,e={}){return No(i,"GET","/v1/projects",e)}const VC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kC=/^https?/;async function LC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await MC(i);for(const n of e)try{if(UC(n))return}catch{}Br(i,"unauthorized-domain")}function UC(i){const e=np(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!kC.test(n))return!1;if(VC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const PC=new gu(3e4,6e4);function Gb(){const i=Ur().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function jC(i){return new Promise((e,n)=>{function s(){Gb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gb(),n(lr(i,"network-request-failed"))},timeout:PC.get()})}if(Ur().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ur().gapi?.load)s();else{const o=q2("iframefcb");return Ur()[o]=()=>{gapi.load?s():n(lr(i,"network-request-failed"))},B2(`${H2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw gh=null,e})}let gh=null;function zC(i){return gh=gh||jC(i),gh}const BC=new gu(5e3,15e3),HC="__/auth/iframe",qC="emulator/auth/iframe",FC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YC(i){const e=i.config;_e(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?jp(e,qC):`https://${i.config.authDomain}/${HC}`,s={apiKey:e.apiKey,appName:i.name,v:_a},o=GC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${pu(s).slice(1)}`}async function KC(i){const e=await zC(i),n=Ur().gapi;return _e(n,i,"internal-error"),e.open({where:document.body,url:YC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=lr(i,"network-request-failed"),m=Ur().setTimeout(()=>{u(h)},BC.get());function p(){Ur().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const $C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QC=500,XC=600,JC="_blank",ZC="http://localhost";class Yb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WC(i,e,n,s=QC,o=XC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...$C,width:s.toString(),height:o.toString(),top:u,left:h},g=nn().toLowerCase();n&&(m=KE(g)?JC:n),GE(g)&&(e=e||ZC,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[D,P])=>`${w}${D}=${P},`,"");if(M2(g)&&m!=="_self")return eI(e||"",m),new Yb(null);const v=window.open(e||"",m,E);_e(v,i,"popup-blocked");try{v.focus()}catch{}return new Yb(v)}function eI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const tI="__/auth/handler",nI="emulator/auth/handler",rI=encodeURIComponent("fac");async function Kb(i,e,n,s,o,u){_e(i.config.authDomain,i,"auth-domain-config-required"),_e(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:_a,eventId:o};if(e instanceof Fp){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",eR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,v]of Object.entries({}))h[E]=v}if(e instanceof yu){const E=e.getScopes().filter(v=>v!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${rI}=${encodeURIComponent(p)}`:"";return`${iI(i)}?${pu(m).slice(1)}${g}`}function iI({config:i}){return i.emulator?jp(i,nI):`https://${i.authDomain}/${tI}`}const jm="webStorageSupport";class sI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aT,this._completeRedirectFn=IC,this._overrideRedirectResult=xC}async _openPopup(e,n,s,o){bi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Kb(e,n,s,np(),o);return WC(e,u,Gp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Kb(e,n,s,np(),o);return lC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(bi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await KC(e),s=new DC(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jm,{type:jm},o=>{const u=o?.[0]?.[jm];u!==void 0&&n(!!u),Br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZE()||YE()||Hp()}}const aI=sI;var $b="@firebase/auth",Qb="1.12.0";class oI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uI(i){ca(new gs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;_e(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WE(i)},g=new j2(s,o,u,p);return G2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ca(new gs("auth-internal",e=>{const n=Wh(e.getProvider("auth").getImmediate());return(s=>new oI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr($b,Qb,lI(i)),Lr($b,Qb,"esm2020")}const cI=300,hI=DE("authIdTokenMaxAge")||cI;let Xb=null;const fI=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>hI)return;const o=n?.token;Xb!==o&&(Xb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function dI(i=Lp()){const e=Zh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=F2(i,{popupRedirectResolver:aI,persistence:[yC,sC,aT]}),s=DE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=fI(u.toString());eC(n,h,()=>h(n.currentUser)),W2(n,m=>h(m))}}const o=CE("auth");return o&&Y2(n,`http://${o}`),n}function mI(){return document.getElementsByTagName("head")?.[0]??document}z2({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=lr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",mI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uI("Browser");var Jb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ms,mT;(function(){var i;function e(R,x){function C(){}C.prototype=x.prototype,R.F=x.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(L,M,j){for(var I=Array(arguments.length-2),st=2;st<arguments.length;st++)I[st-2]=arguments[st];return x.prototype[M].apply(L,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,x,C){C||(C=0);const L=Array(16);if(typeof x=="string")for(var M=0;M<16;++M)L[M]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(M=0;M<16;++M)L[M]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=R.g[0],C=R.g[1],M=R.g[2];let j=R.g[3],I;I=x+(j^C&(M^j))+L[0]+3614090360&4294967295,x=C+(I<<7&4294967295|I>>>25),I=j+(M^x&(C^M))+L[1]+3905402710&4294967295,j=x+(I<<12&4294967295|I>>>20),I=M+(C^j&(x^C))+L[2]+606105819&4294967295,M=j+(I<<17&4294967295|I>>>15),I=C+(x^M&(j^x))+L[3]+3250441966&4294967295,C=M+(I<<22&4294967295|I>>>10),I=x+(j^C&(M^j))+L[4]+4118548399&4294967295,x=C+(I<<7&4294967295|I>>>25),I=j+(M^x&(C^M))+L[5]+1200080426&4294967295,j=x+(I<<12&4294967295|I>>>20),I=M+(C^j&(x^C))+L[6]+2821735955&4294967295,M=j+(I<<17&4294967295|I>>>15),I=C+(x^M&(j^x))+L[7]+4249261313&4294967295,C=M+(I<<22&4294967295|I>>>10),I=x+(j^C&(M^j))+L[8]+1770035416&4294967295,x=C+(I<<7&4294967295|I>>>25),I=j+(M^x&(C^M))+L[9]+2336552879&4294967295,j=x+(I<<12&4294967295|I>>>20),I=M+(C^j&(x^C))+L[10]+4294925233&4294967295,M=j+(I<<17&4294967295|I>>>15),I=C+(x^M&(j^x))+L[11]+2304563134&4294967295,C=M+(I<<22&4294967295|I>>>10),I=x+(j^C&(M^j))+L[12]+1804603682&4294967295,x=C+(I<<7&4294967295|I>>>25),I=j+(M^x&(C^M))+L[13]+4254626195&4294967295,j=x+(I<<12&4294967295|I>>>20),I=M+(C^j&(x^C))+L[14]+2792965006&4294967295,M=j+(I<<17&4294967295|I>>>15),I=C+(x^M&(j^x))+L[15]+1236535329&4294967295,C=M+(I<<22&4294967295|I>>>10),I=x+(M^j&(C^M))+L[1]+4129170786&4294967295,x=C+(I<<5&4294967295|I>>>27),I=j+(C^M&(x^C))+L[6]+3225465664&4294967295,j=x+(I<<9&4294967295|I>>>23),I=M+(x^C&(j^x))+L[11]+643717713&4294967295,M=j+(I<<14&4294967295|I>>>18),I=C+(j^x&(M^j))+L[0]+3921069994&4294967295,C=M+(I<<20&4294967295|I>>>12),I=x+(M^j&(C^M))+L[5]+3593408605&4294967295,x=C+(I<<5&4294967295|I>>>27),I=j+(C^M&(x^C))+L[10]+38016083&4294967295,j=x+(I<<9&4294967295|I>>>23),I=M+(x^C&(j^x))+L[15]+3634488961&4294967295,M=j+(I<<14&4294967295|I>>>18),I=C+(j^x&(M^j))+L[4]+3889429448&4294967295,C=M+(I<<20&4294967295|I>>>12),I=x+(M^j&(C^M))+L[9]+568446438&4294967295,x=C+(I<<5&4294967295|I>>>27),I=j+(C^M&(x^C))+L[14]+3275163606&4294967295,j=x+(I<<9&4294967295|I>>>23),I=M+(x^C&(j^x))+L[3]+4107603335&4294967295,M=j+(I<<14&4294967295|I>>>18),I=C+(j^x&(M^j))+L[8]+1163531501&4294967295,C=M+(I<<20&4294967295|I>>>12),I=x+(M^j&(C^M))+L[13]+2850285829&4294967295,x=C+(I<<5&4294967295|I>>>27),I=j+(C^M&(x^C))+L[2]+4243563512&4294967295,j=x+(I<<9&4294967295|I>>>23),I=M+(x^C&(j^x))+L[7]+1735328473&4294967295,M=j+(I<<14&4294967295|I>>>18),I=C+(j^x&(M^j))+L[12]+2368359562&4294967295,C=M+(I<<20&4294967295|I>>>12),I=x+(C^M^j)+L[5]+4294588738&4294967295,x=C+(I<<4&4294967295|I>>>28),I=j+(x^C^M)+L[8]+2272392833&4294967295,j=x+(I<<11&4294967295|I>>>21),I=M+(j^x^C)+L[11]+1839030562&4294967295,M=j+(I<<16&4294967295|I>>>16),I=C+(M^j^x)+L[14]+4259657740&4294967295,C=M+(I<<23&4294967295|I>>>9),I=x+(C^M^j)+L[1]+2763975236&4294967295,x=C+(I<<4&4294967295|I>>>28),I=j+(x^C^M)+L[4]+1272893353&4294967295,j=x+(I<<11&4294967295|I>>>21),I=M+(j^x^C)+L[7]+4139469664&4294967295,M=j+(I<<16&4294967295|I>>>16),I=C+(M^j^x)+L[10]+3200236656&4294967295,C=M+(I<<23&4294967295|I>>>9),I=x+(C^M^j)+L[13]+681279174&4294967295,x=C+(I<<4&4294967295|I>>>28),I=j+(x^C^M)+L[0]+3936430074&4294967295,j=x+(I<<11&4294967295|I>>>21),I=M+(j^x^C)+L[3]+3572445317&4294967295,M=j+(I<<16&4294967295|I>>>16),I=C+(M^j^x)+L[6]+76029189&4294967295,C=M+(I<<23&4294967295|I>>>9),I=x+(C^M^j)+L[9]+3654602809&4294967295,x=C+(I<<4&4294967295|I>>>28),I=j+(x^C^M)+L[12]+3873151461&4294967295,j=x+(I<<11&4294967295|I>>>21),I=M+(j^x^C)+L[15]+530742520&4294967295,M=j+(I<<16&4294967295|I>>>16),I=C+(M^j^x)+L[2]+3299628645&4294967295,C=M+(I<<23&4294967295|I>>>9),I=x+(M^(C|~j))+L[0]+4096336452&4294967295,x=C+(I<<6&4294967295|I>>>26),I=j+(C^(x|~M))+L[7]+1126891415&4294967295,j=x+(I<<10&4294967295|I>>>22),I=M+(x^(j|~C))+L[14]+2878612391&4294967295,M=j+(I<<15&4294967295|I>>>17),I=C+(j^(M|~x))+L[5]+4237533241&4294967295,C=M+(I<<21&4294967295|I>>>11),I=x+(M^(C|~j))+L[12]+1700485571&4294967295,x=C+(I<<6&4294967295|I>>>26),I=j+(C^(x|~M))+L[3]+2399980690&4294967295,j=x+(I<<10&4294967295|I>>>22),I=M+(x^(j|~C))+L[10]+4293915773&4294967295,M=j+(I<<15&4294967295|I>>>17),I=C+(j^(M|~x))+L[1]+2240044497&4294967295,C=M+(I<<21&4294967295|I>>>11),I=x+(M^(C|~j))+L[8]+1873313359&4294967295,x=C+(I<<6&4294967295|I>>>26),I=j+(C^(x|~M))+L[15]+4264355552&4294967295,j=x+(I<<10&4294967295|I>>>22),I=M+(x^(j|~C))+L[6]+2734768916&4294967295,M=j+(I<<15&4294967295|I>>>17),I=C+(j^(M|~x))+L[13]+1309151649&4294967295,C=M+(I<<21&4294967295|I>>>11),I=x+(M^(C|~j))+L[4]+4149444226&4294967295,x=C+(I<<6&4294967295|I>>>26),I=j+(C^(x|~M))+L[11]+3174756917&4294967295,j=x+(I<<10&4294967295|I>>>22),I=M+(x^(j|~C))+L[2]+718787259&4294967295,M=j+(I<<15&4294967295|I>>>17),I=C+(j^(M|~x))+L[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+j&4294967295}s.prototype.v=function(R,x){x===void 0&&(x=R.length);const C=x-this.blockSize,L=this.C;let M=this.h,j=0;for(;j<x;){if(M==0)for(;j<=C;)o(this,R,j),j+=this.blockSize;if(typeof R=="string"){for(;j<x;)if(L[M++]=R.charCodeAt(j++),M==this.blockSize){o(this,L),M=0;break}}else for(;j<x;)if(L[M++]=R[j++],M==this.blockSize){o(this,L),M=0;break}}this.h=M,this.o+=x},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;x=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=x&255,x/=256;for(this.v(R),R=Array(16),x=0,C=0;C<4;++C)for(let L=0;L<32;L+=8)R[x++]=this.g[C]>>>L&255;return R};function u(R,x){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=x(R)}function h(R,x){this.h=x;const C=[];let L=!0;for(let M=R.length-1;M>=0;M--){const j=R[M]|0;L&&j==x||(C[M]=j,L=!1)}this.g=C}var m={};function p(R){return-128<=R&&R<128?u(R,function(x){return new h([x|0],x<0?-1:0)}):new h([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return F(g(-R));const x=[];let C=1;for(let L=0;R>=C;L++)x[L]=R/C|0,C*=4294967296;return new h(x,0)}function E(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return F(E(R.substring(1),x));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(x,8));let L=v;for(let j=0;j<R.length;j+=8){var M=Math.min(8,R.length-j);const I=parseInt(R.substring(j,j+M),x);M<8?(M=g(Math.pow(x,M)),L=L.j(M).add(g(I))):(L=L.j(C),L=L.add(g(I)))}return L}var v=p(0),w=p(1),D=p(16777216);i=h.prototype,i.m=function(){if(G(this))return-F(this).m();let R=0,x=1;for(let C=0;C<this.g.length;C++){const L=this.i(C);R+=(L>=0?L:4294967296+L)*x,x*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(G(this))return"-"+F(this).toString(R);const x=g(Math.pow(R,6));var C=this;let L="";for(;;){const M=fe(C,x).g;C=ne(C,M.j(x));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=M,P(C))return j+L;for(;j.length<6;)j="0"+j;L=j+L}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(let x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function G(R){return R.h==-1}i.l=function(R){return R=ne(this,R),G(R)?-1:P(R)?0:1};function F(R){const x=R.g.length,C=[];for(let L=0;L<x;L++)C[L]=~R.g[L];return new h(C,~R.h).add(w)}i.abs=function(){return G(this)?F(this):this},i.add=function(R){const x=Math.max(this.g.length,R.g.length),C=[];let L=0;for(let M=0;M<=x;M++){let j=L+(this.i(M)&65535)+(R.i(M)&65535),I=(j>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);L=I>>>16,j&=65535,I&=65535,C[M]=I<<16|j}return new h(C,C[C.length-1]&-2147483648?-1:0)};function ne(R,x){return R.add(F(x))}i.j=function(R){if(P(this)||P(R))return v;if(G(this))return G(R)?F(this).j(F(R)):F(F(this).j(R));if(G(R))return F(this.j(F(R)));if(this.l(D)<0&&R.l(D)<0)return g(this.m()*R.m());const x=this.g.length+R.g.length,C=[];for(var L=0;L<2*x;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(let M=0;M<R.g.length;M++){const j=this.i(L)>>>16,I=this.i(L)&65535,st=R.i(M)>>>16,Dt=R.i(M)&65535;C[2*L+2*M]+=I*Dt,te(C,2*L+2*M),C[2*L+2*M+1]+=j*Dt,te(C,2*L+2*M+1),C[2*L+2*M+1]+=I*st,te(C,2*L+2*M+1),C[2*L+2*M+2]+=j*st,te(C,2*L+2*M+2)}for(R=0;R<x;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=x;R<2*x;R++)C[R]=0;return new h(C,0)};function te(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function re(R,x){this.g=R,this.h=x}function fe(R,x){if(P(x))throw Error("division by zero");if(P(R))return new re(v,v);if(G(R))return x=fe(F(R),x),new re(F(x.g),F(x.h));if(G(x))return x=fe(R,F(x)),new re(F(x.g),x.h);if(R.g.length>30){if(G(R)||G(x))throw Error("slowDivide_ only works with positive integers.");for(var C=w,L=x;L.l(R)<=0;)C=Se(C),L=Se(L);var M=Ee(C,1),j=Ee(L,1);for(L=Ee(L,2),C=Ee(C,2);!P(L);){var I=j.add(L);I.l(R)<=0&&(M=M.add(C),j=I),L=Ee(L,1),C=Ee(C,1)}return x=ne(R,M.j(x)),new re(M,x)}for(M=v;R.l(x)>=0;){for(C=Math.max(1,Math.floor(R.m()/x.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),j=g(C),I=j.j(x);G(I)||I.l(R)>0;)C-=L,j=g(C),I=j.j(x);P(j)&&(j=w),M=M.add(j),R=ne(R,I)}return new re(M,R)}i.B=function(R){return fe(this,R).h},i.and=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let L=0;L<x;L++)C[L]=this.i(L)&R.i(L);return new h(C,this.h&R.h)},i.or=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let L=0;L<x;L++)C[L]=this.i(L)|R.i(L);return new h(C,this.h|R.h)},i.xor=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let L=0;L<x;L++)C[L]=this.i(L)^R.i(L);return new h(C,this.h^R.h)};function Se(R){const x=R.g.length+1,C=[];for(let L=0;L<x;L++)C[L]=R.i(L)<<1|R.i(L-1)>>>31;return new h(C,R.h)}function Ee(R,x){const C=x>>5;x%=32;const L=R.g.length-C,M=[];for(let j=0;j<L;j++)M[j]=x>0?R.i(j+C)>>>x|R.i(j+C+1)<<32-x:R.i(j+C);return new h(M,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,mT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ms=h}).apply(typeof Jb<"u"?Jb:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pT,Fl,gT,yh,sp,yT,_T,vT;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var b=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in b))break e;b=b[z]}c=c[c.length-1],S=b[c],y=y(S),y!=S&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var b=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&b.push([S,y[S]]);return b}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,b){return c.call.apply(c.bind,arguments)}function g(c,y,b){return g=p,g.apply(null,arguments)}function E(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function v(c,y){function b(){}b.prototype=y.prototype,c.Z=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(S,z,Y){for(var ie=Array(arguments.length-2),we=2;we<arguments.length;we++)ie[we-2]=arguments[we];return y.prototype[z].apply(S,ie)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function D(c){const y=c.length;if(y>0){const b=Array(y);for(let S=0;S<y;S++)b[S]=c[S];return b}return[]}function P(c,y){for(let S=1;S<arguments.length;S++){const z=arguments[S];var b=typeof z;if(b=b!="object"?b:z?Array.isArray(z)?"array":b:"null",b=="array"||b=="object"&&typeof z.length=="number"){b=c.length||0;const Y=z.length||0;c.length=b+Y;for(let ie=0;ie<Y;ie++)c[b+ie]=z[ie]}else c.push(z)}}class G{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(c){h.setTimeout(()=>{throw c},0)}function ne(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,b){const S=re.get();S.set(y,b),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new G(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,Ee=!1,R=new te,x=()=>{const c=Promise.resolve(void 0);Se=()=>{c.then(C)}};function C(){for(var c;c=ne();){try{c.h.call(c.g)}catch(b){F(b)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Ee=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};h.addEventListener("test",b,y),h.removeEventListener("test",b,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function st(c,y){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}v(st,M),st.prototype.init=function(c,y){const b=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function se(c,y,b,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!S,this.ha=z,this.key=++Q,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,y,b){for(const S in c)y.call(b,c[S],S,c)}function Ge(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function V(c){const y={};for(const b in c)y[b]=c[b];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let b,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(b in S)c[b]=S[b];for(let Y=0;Y<W.length;Y++)b=W[Y],Object.prototype.hasOwnProperty.call(S,b)&&(c[b]=S[b])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,b,S,z){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const ie=Re(c,y,S,z);return ie>-1?(y=c[ie],b||(y.fa=!1)):(y=new se(y,this.src,Y,!!S,z),y.fa=b,c.push(y)),y};function ve(c,y){const b=y.type;if(b in c.g){var S=c.g[b],z=Array.prototype.indexOf.call(S,y,void 0),Y;(Y=z>=0)&&Array.prototype.splice.call(S,z,1),Y&&(pe(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Re(c,y,b,S){for(let z=0;z<c.length;++z){const Y=c[z];if(!Y.da&&Y.listener==y&&Y.capture==!!b&&Y.ha==S)return z}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Ot={};function at(c,y,b,S,z){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)at(c,y[Y],b,S,z);return null}return b=Po(b),c&&c[Dt]?c.J(y,b,m(S)?!!S.capture:!1,z):xs(c,y,b,!1,S,z)}function xs(c,y,b,S,z,Y){if(!y)throw Error("Invalid event type");const ie=m(z)?!!z.capture:!!z;let we=Rs(c);if(we||(c[Ue]=we=new ue(c)),b=we.add(y,b,S,ie,Y),b.proxy)return b;if(S=Ea(),b.proxy=S,S.src=c,S.listener=b,c.addEventListener)j||(z=ie),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(fr(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ea(){function c(b){return y.call(c.src,c.listener,b)}const y=Lo;return c}function Ta(c,y,b,S,z){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Ta(c,y[Y],b,S,z);else S=m(S)?!!S.capture:!!S,b=Po(b),c&&c[Dt]?(c=c.i,Y=String(y).toString(),Y in c.g&&(y=c.g[Y],b=Re(y,b,S,z),b>-1&&(pe(y[b]),Array.prototype.splice.call(y,b,1),y.length==0&&(delete c.g[Y],c.h--)))):c&&(c=Rs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Re(y,b,S,z)),(b=c>-1?y[c]:null)&&Aa(b))}function Aa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Dt])ve(y.i,c);else{var b=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(b,S,c.capture):y.detachEvent?y.detachEvent(fr(b),S):y.addListener&&y.removeListener&&y.removeListener(S),(b=Rs(y))?(ve(b,c),b.h==0&&(b.src=null,y[Ue]=null)):pe(c)}}}function fr(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function Lo(c,y){if(c.da)c=!0;else{y=new st(y,this);const b=c.listener,S=c.ha||c.src;c.fa&&Aa(c),c=b.call(S,y)}return c}function Rs(c){return c=c[Ue],c instanceof ue?c:null}var Uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Po(c){return typeof c=="function"?c:(c[Uo]||(c[Uo]=function(y){return c.handleEvent(y)}),c[Uo])}function vt(){L.call(this),this.i=new ue(this),this.M=this,this.G=null}v(vt,L),vt.prototype[Dt]=!0,vt.prototype.removeEventListener=function(c,y,b,S){Ta(this,c,y,b,S)};function Mt(c,y){var b,S=c.G;if(S)for(b=[];S;S=S.G)b.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new M(y,c);else if(y instanceof M)y.target=y.target||c;else{var z=y;y=new M(S,c),ae(y,z)}z=!0;let Y,ie;if(b)for(ie=b.length-1;ie>=0;ie--)Y=y.g=b[ie],z=Ri(Y,S,!0,y)&&z;if(Y=y.g=c,z=Ri(Y,S,!0,y)&&z,z=Ri(Y,S,!1,y)&&z,b)for(ie=0;ie<b.length;ie++)Y=y.g=b[ie],z=Ri(Y,S,!1,y)&&z}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const b=c.g[y];for(let S=0;S<b.length;S++)pe(b[S]);delete c.g[y],c.h--}}this.G=null},vt.prototype.J=function(c,y,b,S){return this.i.add(String(c),y,!1,b,S)},vt.prototype.K=function(c,y,b,S){return this.i.add(String(c),y,!0,b,S)};function Ri(c,y,b,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let Y=0;Y<y.length;++Y){const ie=y[Y];if(ie&&!ie.da&&ie.capture==b){const we=ie.listener,pt=ie.ha||ie.src;ie.fa&&ve(c.i,ie),z=we.call(pt,S)!==!1&&z}}return z&&!S.defaultPrevented}function xf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function xu(c){c.g=xf(()=>{c.g=null,c.i&&(c.i=!1,xu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class rn extends L{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(c){L.call(this),this.h=c,this.g={}}v(Cs,L);var jo=[];function zo(c){je(c.g,function(y,b){this.g.hasOwnProperty(b)&&Aa(y)},c),c.g={}}Cs.prototype.N=function(){Cs.Z.N.call(this),zo(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ci=h.JSON.stringify,Rf=h.JSON.parse,Ru=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Cu(){}function Iu(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){M.call(this,"d")}v(qt,M);function Nn(){M.call(this,"c")}v(Nn,M);var mt={},Nu=null;function Sa(){return Nu=Nu||new vt}mt.Ia="serverreachability";function Du(c){M.call(this,mt.Ia,c)}v(Du,M);function dr(c){const y=Sa();Mt(y,new Du(y))}mt.STAT_EVENT="statevent";function Is(c,y){M.call(this,mt.STAT_EVENT,c),this.stat=y}v(Is,M);function bt(c){const y=Sa();Mt(y,new Is(y,c))}mt.Ja="timingevent";function mr(c,y){M.call(this,mt.Ja,c),this.size=y}v(mr,M);function pr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function Cf(c,y,b,S,z,Y){c.info(function(){if(c.g)if(Y){var ie="",we=Y.split("&");for(let He=0;He<we.length;He++){var pt=we[He].split("=");if(pt.length>1){const ot=pt[0];pt=pt[1];const Vn=ot.split("_");ie=Vn.length>=2&&Vn[1]=="type"?ie+(ot+"="+pt+"&"):ie+(ot+"=redacted&")}}}else ie=null;else ie=Y;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+b+`
`+ie})}function Ou(c,y,b,S,z,Y,ie){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+b+`
`+Y+" "+ie})}function gr(c,y,b,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+If(c,b)+(S?" "+S:"")})}function Ns(c,y){c.info(function(){return"TIMEOUT: "+y})}$n.prototype.info=function(){};function If(c,y){if(!c.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var b=Y[c];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ie=1;ie<S.length;ie++)S[ie]=""}}}}return Ci(Y)}catch{return y}}var Ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ho;function Os(){}v(Os,Cu),Os.prototype.g=function(){return new XMLHttpRequest},Ho=new Os;function Kr(c){return encodeURIComponent(String(c))}function Mu(c){var y=1;c=c.split(":");const b=[];for(;y>0&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function Qn(c,y,b,S){this.j=c,this.i=y,this.l=b,this.S=S||1,this.V=new Cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Et={},Pt={};function yr(c,y,b){c.M=1,c.A=Ms(At(y)),c.u=b,c.R=!0,wa(c,null)}function wa(c,y){c.F=Date.now(),_r(c),c.B=At(c.A);var b=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Ia(b.i,"t",S),c.C=0,b=c.j.L,c.h=new Xn,c.g=$u(c.j,b?y:null,!c.u),c.P>0&&(c.O=new rn(g(c.Y,c,c.g),c.P)),y=c.V,b=c.g,S=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(jo[0]=z.toString()),z=jo);for(let Y=0;Y<z.length;Y++){const ie=at(b,z[Y],S||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),dr(),Cf(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Wn(c)==3?y.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Wn(this.g),pt=this.g.ya(),He=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||we!=4||pt==7||(pt==8||He<=0?dr(3):dr(2)),vr(this);var y=this.g.ca();this.X=y;var b=Nf(this);if(this.o=y==200,Ou(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var Y=S;break t}}Y=null}if(c=Y)gr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,br(this,c);else{this.o=!1,this.m=3,bt(12),_n(this),Dn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<b.length;)if(ot=ku(this,b),ot==Pt){we==4&&(this.m=4,bt(14),c=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Et){this.m=4,bt(15),gr(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else gr(this.i,this.l,ot,null),br(this,ot);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||b.length!=0||this.h.h||(this.m=1,bt(16),c=!1),this.o=this.o&&c,!c)gr(this.i,this.l,b,"[Invalid Chunked Response]"),_n(this),Dn(this);else if(b.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),rl(ie),ie.P=!0,bt(11))}}else gr(this.i,this.l,b,null),br(this,b);we==4&&_n(this),this.o&&!this.K&&(we==4?Fu(this.j,this):(this.o=!1,_r(this)))}else Qr(this.g),y==400&&b.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),_n(this),Dn(this)}}}catch{}};function Nf(c){if(!Vu(c))return c.g.la();const y=Ft(c.g);if(y==="")return"";let b="";const S=y.length,z=Wn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),Dn(c),"";c.h.i=new h.TextDecoder}for(let Y=0;Y<S;Y++)c.h.h=!0,b+=c.h.i.decode(y[Y],{stream:!(z&&Y==S-1)});return y.length=0,c.h.g+=b,c.C=0,c.h.g}function Vu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ku(c,y){var b=c.C,S=y.indexOf(`
`,b);return S==-1?Pt:(b=Number(y.substring(b,S)),isNaN(b)?Et:(S+=1,S+b>y.length?Pt:(y=y.slice(S,S+b),c.C=S+b,y)))}Qn.prototype.cancel=function(){this.K=!0,_n(this)};function _r(c){c.T=Date.now()+c.H,xa(c,c.H)}function xa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=pr(g(c.aa,c),y)}function vr(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ns(this.i,this.B),this.M!=2&&(dr(),bt(17)),_n(this),this.m=2,Dn(this)):xa(this,this.T-c)};function Dn(c){c.j.I==0||c.K||Fu(c.j,c)}function _n(c){vr(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,zo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function br(c,y){try{var b=c.j;if(b.I!=0&&(b.g==c||Tr(b.h,c))){if(!c.L&&Tr(b.h,c)&&b.I==3){try{var S=b.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)Va(b),Li(b);else break e;zs(b),bt(18)}}else b.xa=z[1],0<b.xa-b.K&&z[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=pr(g(b.Va,b),6e3));Er(b.h)<=1&&b.ta&&(b.ta=void 0)}else Cr(b,11)}else if((c.L||b.g==c)&&Va(b),!I(y))for(z=b.Ba.g.parse(y),y=0;y<z.length;y++){let He=z[y];const ot=He[0];if(!(ot<=b.K))if(b.K=ot,He=He[1],b.I==2)if(He[0]=="c"){b.M=He[1],b.ba=He[2];const Vn=He[3];Vn!=null&&(b.ka=Vn,b.j.info("VER="+b.ka));const Ir=He[4];Ir!=null&&(b.za=Ir,b.j.info("SVER="+b.za));const er=He[5];er!=null&&typeof er=="number"&&er>0&&(S=1.5*er,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const tr=c.g;if(tr){const Bs=tr.g?tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bs){var Y=S.h;Y.g||Bs.indexOf("spdy")==-1&&Bs.indexOf("quic")==-1&&Bs.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Go(Y,Y.h),Y.h=null))}if(S.G){const ka=tr.g?tr.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(S.wa=ka,Ye(S.J,S.G,ka))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var ie=c;if(S.na=Ku(S,S.L?S.ba:null,S.W),ie.L){Yo(S.h,ie);var we=ie,pt=S.O;pt&&(we.H=pt),we.D&&(vr(we),_r(we)),S.g=ie}else Hu(S);b.i.length>0&&Rr(b)}else He[0]!="stop"&&He[0]!="close"||Cr(b,7);else b.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Cr(b,7):tl(b):He[0]!="noop"&&b.l&&b.l.qa(He),b.A=0)}}dr(4)}catch{}}var Tt=class{constructor(c,y){this.g=c,this.map=y}};function qo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Er(c){return c.h?1:c.g?c.g.size:0}function Tr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Go(c,y){c.g?c.g.add(y):c.h=y}function Yo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}qo.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ko(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.G);return y}return D(c.i)}var Lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(c,y){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const S=c[b].indexOf("=");let z,Y=null;S>=0?(z=c[b].substring(0,S),Y=c[b].substring(S+1)):z=c[b],y(z,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof vn?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,Ii(this,c.u),this.h=c.h,$o(this,zu(c.i)),this.m=c.m):c&&(y=String(c).match(Lu))?(this.l=!1,jt(this,y[1]||"",!0),this.o=Ar(y[2]||""),this.g=Ar(y[3]||"",!0),Ii(this,y[4]),this.h=Ar(y[5]||"",!0),$o(this,y[6]||"",!0),this.m=Ar(y[7]||"")):(this.l=!1,this.i=new Di(null,this.l))}vn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Vs(y,Ca,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Vs(y,Ca,!0),"@"),c.push(Kr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Vs(b,b.charAt(0)=="/"?Qo:Uu,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Vs(b,Pu)),c.join("")},vn.prototype.resolve=function(c){const y=At(this);let b=!!c.j;b?jt(y,c.j):b=!!c.o,b?y.o=c.o:b=!!c.g,b?y.g=c.g:b=c.u!=null;var S=c.h;if(b)Ii(y,c.u);else if(b=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=y.h.lastIndexOf("/");z!=-1&&(S=y.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const Y=[];for(let ie=0;ie<z.length;){const we=z[ie++];we=="."?S&&ie==z.length&&Y.push(""):we==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),S&&ie==z.length&&Y.push("")):(Y.push(we),S=!0)}S=Y.join("/")}else S=z}return b?y.h=S:b=c.i.toString()!=="",b?$o(y,zu(c.i)):b=!!c.m,b&&(y.m=c.m),y};function At(c){return new vn(c)}function jt(c,y,b){c.j=b?Ar(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ii(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function $o(c,y,b){y instanceof Di?(c.i=y,Na(c.i,c.l)):(b||(y=Vs(y,Ni)),c.i=new Di(y,c.l))}function Ye(c,y,b){c.i.set(y,b)}function Ms(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ar(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vs(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,ln),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ca=/[#\/\?@]/g,Uu=/[#\?:]/g,Qo=/[#\?]/g,Ni=/[#\?@]/g,Pu=/#/g;function Di(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&Ra(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}i=Di.prototype,i.add=function(c,y){un(this),this.i=null,c=Oi(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function ju(c,y){un(c),y=Oi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Xo(c,y){return un(c),y=Oi(c,y),c.g.has(y)}i.forEach=function(c,y){un(this),this.g.forEach(function(b,S){b.forEach(function(z){c.call(y,z,S,this)},this)},this)};function Jo(c,y){un(c);let b=[];if(typeof y=="string")Xo(c,y)&&(b=b.concat(c.g.get(Oi(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)b=b.concat(c[y]);return b}i.set=function(c,y){return un(this),this.i=null,c=Oi(this,c),Xo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=Jo(this,c),c.length>0?String(c[0]):y):y};function Ia(c,y,b){ju(c,y),b.length>0&&(c.i=null,c.g.set(Oi(c,y),D(b)),c.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var b=y[S];const z=Kr(b);b=Jo(this,b);for(let Y=0;Y<b.length;Y++){let ie=z;b[Y]!==""&&(ie+="="+Kr(b[Y])),c.push(ie)}}return this.i=c.join("&")};function zu(c){const y=new Di;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Oi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Na(c,y){y&&!c.j&&(un(c),c.i=null,c.g.forEach(function(b,S){const z=S.toLowerCase();S!=z&&(ju(this,S),Ia(this,z,b))},c)),c.j=y}function Jn(c,y){const b=new $n;if(h.Image){const S=new Image;S.onload=E(On,b,"TestLoadImage: loaded",!0,y,S),S.onerror=E(On,b,"TestLoadImage: error",!1,y,S),S.onabort=E(On,b,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(On,b,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Zo(c,y){const b=new $n,S=new AbortController,z=setTimeout(()=>{S.abort(),On(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(z),Y.ok?On(b,"TestPingServer: ok",!0,y):On(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),On(b,"TestPingServer: error",!1,y)})}function On(c,y,b,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(b)}catch{}}function Mi(){this.g=new Ru}function Sr(c){this.i=c.Sb||null,this.h=c.ab||!1}v(Sr,Cu),Sr.prototype.g=function(){return new ks(this.i,this.h)};function ks(c,y){vt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ks,vt),i=ks.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Zn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vi(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Vi(this):Zn(this),this.readyState==3&&Da(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Vi(this))},i.Na=function(c){this.g&&(this.response=c,Vi(this))},i.ga=function(){this.g&&Vi(this)};function Vi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Zn(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mn(c){let y="";return je(c,function(b,S){y+=S,y+=":",y+=b,y+=`\r
`}),y}function Ls(c,y,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=Mn(b),typeof c=="string"?b!=null&&Kr(b):Ye(c,y,b))}function Qe(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Qe,vt);var wr=/^https?$/i,Wo=["POST","PUT"];i=Qe.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ho.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Us(this,Y);return}if(c=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)b.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())b.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Wo,y,void 0)>=0)||S||z||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ie]of b)this.g.setRequestHeader(Y,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){Us(this,Y)}};function Us(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,el(c),$r(c)}function el(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),$r(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$r(this,!0)),Qe.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ps(this):this.Xa())},i.Xa=function(){Ps(this)};function Ps(c){if(c.h&&typeof u<"u"){if(c.v&&Wn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const Y=c.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var S;if(S=Y===0){let ie=String(c.D).match(Lu)[1]||null;!ie&&h.self&&h.self.location&&(ie=h.self.location.protocol.slice(0,-1)),S=!wr.test(ie?ie.toLowerCase():"")}b=S}if(b)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var z=Wn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",el(c)}}finally{$r(c)}}}}function $r(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,y||Mt(c,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Rf(y)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qr(c){const y={};c=(c.g&&Wn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var b=Mu(c[S]);const z=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=y[z]||[];y[z]=Y,Y.push(b)}Ge(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xr(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function ki(c){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xr("baseRetryDelayMs",5e3,c),this.Za=xr("retryDelaySeedMs",1e4,c),this.Ta=xr("forwardChannelMaxRetries",2,c),this.va=xr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new qo(c&&c.concurrentRequestLimit),this.Ba=new Mi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=ki.prototype,i.ka=8,i.I=1,i.connect=function(c,y,b,S){bt(0),this.W=c,this.H=y||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=Ku(this,null,this.W),Rr(this)};function tl(c){if(Oa(c),c.I==3){var y=c.V++,b=At(c.J);if(Ye(b,"SID",c.M),Ye(b,"RID",y),Ye(b,"TYPE","terminate"),js(c,b),y=new Qn(c,c.j,y),y.M=2,y.A=Ms(At(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=y.A,b=!0),b||(y.g=$u(y.j,null),y.g.ea(y.A)),y.F=Date.now(),_r(y)}Yu(c)}function Li(c){c.g&&(rl(c),c.g.cancel(),c.g=null)}function Oa(c){Li(c),c.v&&(h.clearTimeout(c.v),c.v=null),Va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Rr(c){if(!Fo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Se||x(),Ee||(Se(),Ee=!0),R.add(y,c),c.D=0}}function Ma(c,y){return Er(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=pr(g(c.Ea,c,y),Gu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Qn(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=V(Y),ae(Y,this.U)):Y=this.U),this.u!==null||this.R||(z.J=Y,Y=null),this.S)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=Bu(this,z,y),b=At(this.J),Ye(b,"RID",c),Ye(b,"CVER",22),this.G&&Ye(b,"X-HTTP-Session-Id",this.G),js(this,b),Y&&(this.R?y="headers="+Kr(Mn(Y))+"&"+y:this.u&&Ls(b,this.u,Y)),Go(this.h,z),this.Ra&&Ye(b,"TYPE","init"),this.S?(Ye(b,"$req",y),Ye(b,"SID","null"),z.U=!0,yr(z,b,null)):yr(z,b,y),this.I=2}}else this.I==3&&(c?nl(this,c):this.i.length==0||Fo(this.h)||nl(this))};function nl(c,y){var b;y?b=y.l:b=c.V++;const S=At(c.J);Ye(S,"SID",c.M),Ye(S,"RID",b),Ye(S,"AID",c.K),js(c,S),c.u&&c.o&&Ls(S,c.u,c.o),b=new Qn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Bu(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Go(c.h,b),yr(b,S,y)}function js(c,y){c.H&&je(c.H,function(b,S){Ye(y,S,b)}),c.l&&je({},function(b,S){Ye(y,S,b)})}function Bu(c,y,b){b=Math.min(c.i.length,b);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let we=-1;for(;;){const pt=["count="+b];we==-1?b>0?(we=z[0].g,pt.push("ofs="+we)):we=0:pt.push("ofs="+we);let He=!0;for(let ot=0;ot<b;ot++){var Y=z[ot].g;const Vn=z[ot].map;if(Y-=we,Y<0)we=Math.max(0,z[ot].g-100),He=!1;else try{Y="req"+Y+"_"||"";try{var ie=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ir,er]of ie){let tr=er;m(er)&&(tr=Ci(er)),pt.push(Y+Ir+"="+encodeURIComponent(tr))}}catch(Ir){throw pt.push(Y+"type="+encodeURIComponent("_badmap")),Ir}}catch{S&&S(Vn)}}if(He){ie=pt.join("&");break e}}ie=void 0}return c=c.i.splice(0,b),y.G=c,ie}function Hu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Se||x(),Ee||(Se(),Ee=!0),R.add(y,c),c.A=0}}function zs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=pr(g(c.Da,c),Gu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=pr(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Li(this),qu(this))};function rl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function qu(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),js(c,y),c.u&&c.o&&Ls(y,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Ms(At(y)),b.u=null,b.R=!0,wa(b,c)}i.Va=function(){this.C!=null&&(this.C=null,Li(this),zs(this),bt(19))};function Va(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Fu(c,y){var b=null;if(c.g==y){Va(c),rl(c),c.g=null;var S=2}else if(Tr(c.h,y))b=y.G,Yo(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){b=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;S=Sa(),Mt(S,new mr(S,b)),Rr(c)}else Hu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(S==1&&Ma(c,y)||S==2&&zs(c)))switch(b&&b.length>0&&(y=c.h,y.i=y.i.concat(b)),z){case 1:Cr(c,5);break;case 4:Cr(c,10);break;case 3:Cr(c,6);break;default:Cr(c,2)}}}function Gu(c,y){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*y}function Cr(c,y){if(c.j.info("Error code "+y),y==2){var b=g(c.bb,c),S=c.Ua;const z=!S;S=new vn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||jt(S,"https"),Ms(S),z?Jn(S.toString(),b):Zo(S.toString(),b)}else bt(2);c.I=0,c.l&&c.l.pa(y),Yu(c),Oa(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Yu(c){if(c.I=0,c.ja=[],c.l){const y=Ko(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ja,y),P(c.ja,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.oa()}}function Ku(c,y,b){var S=b instanceof vn?At(b):new vn(b);if(S.g!="")y&&(S.g=y+"."+S.g),Ii(S,S.u);else{var z=h.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const Y=new vn(null);S&&jt(Y,S),y&&(Y.g=y),z&&Ii(Y,z),b&&(Y.h=b),S=Y}return b=c.G,y=c.wa,b&&y&&Ye(S,b,y),Ye(S,"VER",c.ka),js(c,S),S}function $u(c,y,b){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Qe(new Sr({ab:b})):new Qe(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}i=Qu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ui(){}Ui.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){vt.call(this),this.g=new ki(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Xr(this)}v(sn,vt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){tl(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=Ci(c),c=b);y.i.push(new Tt(y.Ya++,c)),y.I==3&&Rr(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,sn.Z.N.call(this)};function Xu(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}v(Xu,qt);function Ju(){Nn.call(this),this.status=1}v(Ju,Nn);function Xr(c){this.g=c}v(Xr,Qu),Xr.prototype.ra=function(){Mt(this.g,"a")},Xr.prototype.qa=function(c){Mt(this.g,new Xu(c))},Xr.prototype.pa=function(c){Mt(this.g,new Ju)},Xr.prototype.oa=function(){Mt(this.g,"b")},Ui.prototype.createWebChannel=Ui.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,vT=function(){return new Ui},_T=function(){return Sa()},yT=mt,sp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,yh=Ds,Bo.COMPLETE="complete",gT=Bo,Iu.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Fl=Iu,Qe.prototype.listenOnce=Qe.prototype.K,Qe.prototype.getLastError=Qe.prototype.Ha,Qe.prototype.getLastErrorCode=Qe.prototype.ya,Qe.prototype.getStatus=Qe.prototype.ca,Qe.prototype.getResponseJson=Qe.prototype.La,Qe.prototype.getResponseText=Qe.prototype.la,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Fa,pT=Qe}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});let en=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let Do="12.8.0";function pI(i){Do=i}const fa=new Vp("@firebase/firestore");function ho(){return fa.logLevel}function le(i,...e){if(fa.logLevel<=Me.DEBUG){const n=e.map(Kp);fa.debug(`Firestore (${Do}): ${i}`,...n)}}function Ei(i,...e){if(fa.logLevel<=Me.ERROR){const n=e.map(Kp);fa.error(`Firestore (${Do}): ${i}`,...n)}}function To(i,...e){if(fa.logLevel<=Me.WARN){const n=e.map(Kp);fa.warn(`Firestore (${Do}): ${i}`,...n)}}function Kp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function ye(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,bT(i,s,n)}function bT(i,e,n){let s=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ei(s),new Error(s)}function Fe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||bT(e,o,s)}function Ae(i,e){return i}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class ET{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class yI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class _I{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new ET(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class vI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class bI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new vI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Zb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Zb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Zb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function TI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class $p{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=TI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function ap(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return zm(o)===zm(u)?Ve(o,u):zm(o)?1:-1}return Ve(i.length,e.length)}const AI=55296,SI=57343;function zm(i){const e=i.charCodeAt(0);return e>=AI&&e<=SI}function Ao(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const Wb="__name__";class Vr{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Vr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Vr.isNumericId(e),o=Vr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vr.extractNumericId(e).compare(Vr.extractNumericId(n)):ap(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ms.fromString(e.substring(4,e.length-2))}}class tt extends Vr{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const wI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Vr{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return wI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wb}static keyField(){return new Xt([Wb])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new oe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}function TT(i,e,n){if(!n)throw new oe(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function xI(i,e,n,s){if(e===!0&&s===!0)throw new oe(J.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function e0(i){if(!me.isDocumentKey(i))throw new oe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function t0(i){if(me.isDocumentKey(i))throw new oe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function AT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function nf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ye(12329,{type:typeof i})}function yn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new oe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nf(i);throw new oe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Nt(i,e){const n={typeString:i};return e&&(n.value=e),n}function vu(i,e){if(!AT(i))throw new oe(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(J.INVALID_ARGUMENT,n);return!0}const n0=-62135596800,r0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*r0);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<n0)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-n0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Nt("string",it._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new it(0,0))}static max(){return new be(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ru=-1;function RI(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new ys(o,me.empty(),e)}function CI(i){return new ys(i.readTime,i.key,ru)}class ys{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ys(be.min(),me.empty(),ru)}static max(){return new ys(be.max(),me.empty(),ru)}}function II(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(i.documentKey,e.documentKey),n!==0?n:Ve(i.largestBatchId,e.largestBatchId))}const NI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Oo(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==NI)throw i;le("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function OI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(i){return i.name==="IndexedDbTransactionError"}class rf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rf.ce=-1;const Qp=-1;function sf(i){return i==null}function Vh(i){return i===0&&1/i==-1/0}function MI(i){return typeof i=="number"&&Number.isInteger(i)&&!Vh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const ST="";function VI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=i0(e)),e=kI(i.get(n),e);return i0(e)}function kI(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case ST:n+="";break;default:n+=u}}return n}function i0(i){return i+ST+""}function s0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function As(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function wT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a0(this.data.getIterator())}getIteratorFrom(e){return new a0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class a0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Lt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class xT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new xT("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const LI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const n=LI.exec(i);if(Fe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function vs(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}const RT="server_timestamp",CT="__type__",IT="__previous_value__",NT="__local_write_time__";function Xp(i){return(i?.mapValue?.fields||{})[CT]?.stringValue===RT}function af(i){const e=i.mapValue.fields[IT];return Xp(e)?af(e):e}function iu(i){const e=_s(i.mapValue.fields[NT].timestampValue);return new it(e.seconds,e.nanos)}class UI{constructor(e,n,s,o,u,h,m,p,g,E,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=v}}const kh="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||kh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}function PI(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new oe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(i.options.projectId,e)}const DT="__type__",jI="__max__",sh={mapValue:{}},OT="__vector__",Lh="value";function bs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Xp(i)?4:BI(i)?9007199254740991:zI(i)?10:11:ye(28295,{value:i})}function Hr(i,e){if(i===e)return!0;const n=bs(i);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return iu(i).isEqual(iu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=_s(o.timestampValue),m=_s(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return vs(o.bytesValue).isEqual(vs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?Vh(h)===Vh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return Ao(i.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(s0(h)!==s0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Hr(h[p],m[p])))return!1;return!0})(i,e);default:return ye(52216,{left:i})}}function au(i,e){return(i.values||[]).find((n=>Hr(n,e)))!==void 0}function So(i,e){if(i===e)return 0;const n=bs(i),s=bs(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=_t(u.integerValue||u.doubleValue),p=_t(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return o0(i.timestampValue,e.timestampValue);case 4:return o0(iu(i),iu(e));case 5:return ap(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=vs(u),p=vs(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ve(m[g],p[g]);if(E!==0)return E}return Ve(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(_t(u.latitude),_t(h.latitude));return m!==0?m:Ve(_t(u.longitude),_t(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return l0(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Lh]?.arrayValue,E=p[Lh]?.arrayValue,v=Ve(g?.values?.length||0,E?.values?.length||0);return v!==0?v:l0(g,E)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===sh.mapValue&&h===sh.mapValue)return 0;if(u===sh.mapValue)return 1;if(h===sh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let v=0;v<p.length&&v<E.length;++v){const w=ap(p[v],E[v]);if(w!==0)return w;const D=So(m[p[v]],g[E[v]]);if(D!==0)return D}return Ve(p.length,E.length)})(i.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function o0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const n=_s(i),s=_s(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function l0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=So(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function wo(i){return op(i)}function op(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=_s(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return vs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return me.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=op(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${op(n.fields[h])}`;return o+"}"})(i.mapValue):ye(61005,{value:i})}function _h(i){switch(bs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(i);return e?16+_h(e):16;case 5:return 2*i.stringValue.length;case 6:return vs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+_h(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return As(s.fields,((u,h)=>{o+=u.length+_h(h)})),o})(i.mapValue);default:throw ye(13486,{value:i})}}function u0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function lp(i){return!!i&&"integerValue"in i}function Jp(i){return!!i&&"arrayValue"in i}function c0(i){return!!i&&"nullValue"in i}function h0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function vh(i){return!!i&&"mapValue"in i}function zI(i){return(i?.mapValue?.fields||{})[DT]?.stringValue===OT}function Xl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return As(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Xl(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(i.arrayValue.values[n]);return e}return{...i}}function BI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===jI}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Xl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){As(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new gn(Xl(this.value))}}function MT(i){const e=[];return As(i.fields,((n,s)=>{const o=new Xt([n]);if(vh(s)){const u=MT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Rn(e)}class tn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,be.min(),be.min(),be.min(),gn.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,be.min(),be.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,be.min(),be.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Uh{constructor(e,n){this.position=e,this.inclusive=n}}function f0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),n.key):s=So(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function d0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Hr(i.position[n],e.position[n]))return!1;return!0}class ou{constructor(e,n="asc"){this.field=e,this.dir=n}}function HI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class VT{}class It extends VT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new FI(e,n,s):n==="array-contains"?new KI(e,s):n==="in"?new $I(e,s):n==="not-in"?new QI(e,s):n==="array-contains-any"?new XI(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new GI(e,s):new YI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(So(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends VT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cr(e,n)}matches(e){return kT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kT(i){return i.op==="and"}function LT(i){return qI(i)&&kT(i)}function qI(i){for(const e of i.filters)if(e instanceof cr)return!1;return!0}function up(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+wo(i.value);if(LT(i))return i.filters.map((e=>up(e))).join(",");{const e=i.filters.map((n=>up(n))).join(",");return`${i.op}(${e})`}}function UT(i,e){return i instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Hr(s.value,o.value)})(i,e):i instanceof cr?(function(s,o){return o instanceof cr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&UT(h,o.filters[m])),!0):!1})(i,e):void ye(19439)}function PT(i){return i instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`})(i):i instanceof cr?(function(n){return n.op.toString()+" {"+n.getFilters().map(PT).join(" ,")+"}"})(i):"Filter"}class FI extends It{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class GI extends It{constructor(e,n){super(e,"in",n),this.keys=jT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class YI extends It{constructor(e,n){super(e,"not-in",n),this.keys=jT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function jT(i,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class KI extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jp(n)&&au(n.arrayValue,this.value)}}class $I extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class QI extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class XI extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>au(this.value.arrayValue,s)))}}class JI{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function m0(i,e=null,n=[],s=[],o=null,u=null,h=null){return new JI(i,e,n,s,o,u,h)}function Zp(i){const e=Ae(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>up(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>wo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>wo(s))).join(",")),e.Te=n}return e.Te}function Wp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!HI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!UT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!d0(i.startAt,e.startAt)&&d0(i.endAt,e.endAt)}function cp(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Vo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ZI(i,e,n,s,o,u,h,m){return new Vo(i,e,n,s,o,u,h,m)}function of(i){return new Vo(i)}function p0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function WI(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function zT(i){return i.collectionGroup!==null}function Jl(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Lt(Xt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ou(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new ou(Xt.keyField(),s))}return e.Ie}function Pr(i){const e=Ae(i);return e.Ee||(e.Ee=eN(e,Jl(i))),e.Ee}function eN(i,e){if(i.limitType==="F")return m0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ou(o.field,u)}));const n=i.endAt?new Uh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Uh(i.startAt.position,i.startAt.inclusive):null;return m0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function hp(i,e){const n=i.filters.concat([e]);return new Vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function tN(i,e){const n=i.explicitOrderBy.concat([e]);return new Vo(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function Ph(i,e,n){return new Vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function lf(i,e){return Wp(Pr(i),Pr(e))&&i.limitType===e.limitType}function BT(i){return`${Zp(Pr(i))}|lt:${i.limitType}`}function fo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>PT(o))).join(", ")}]`),sf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>wo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>wo(o))).join(",")),`Target(${s})`})(Pr(i))}; limitType=${i.limitType})`}function uf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of Jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=f0(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,Jl(s),o)||s.endAt&&!(function(h,m,p){const g=f0(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,Jl(s),o))})(i,e)}function nN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function HT(i){return(e,n)=>{let s=!1;for(const o of Jl(i)){const u=rN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function rN(i,e,n){const s=i.field.isKeyField()?me.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?So(p,g):ye(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:i.dir})}}class va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return wT(this.inner)}size(){return this.innerSize}}const iN=new ct(me.comparator);function Ti(){return iN}const qT=new ct(me.comparator);function Gl(...i){let e=qT;for(const n of i)e=e.insert(n.key,n);return e}function FT(i){let e=qT;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function sa(){return Zl()}function GT(){return Zl()}function Zl(){return new va((i=>i.toString()),((i,e)=>i.isEqual(e)))}const sN=new ct(me.comparator),aN=new Lt(me.comparator);function ke(...i){let e=aN;for(const n of i)e=e.add(n);return e}const oN=new Lt(Ve);function lN(){return oN}function eg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function YT(i){return{integerValue:""+i}}function uN(i,e){return MI(e)?YT(e):eg(i,e)}class cf{constructor(){this._=void 0}}function cN(i,e,n){return i instanceof lu?(function(o,u){const h={fields:{[CT]:{stringValue:RT},[NT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Xp(u)&&(u=af(u)),u&&(h.fields[IT]=u),{mapValue:h}})(n,e):i instanceof uu?$T(i,e):i instanceof cu?QT(i,e):(function(o,u){const h=KT(o,u),m=g0(h)+g0(o.Ae);return lp(h)&&lp(o.Ae)?YT(m):eg(o.serializer,m)})(i,e)}function hN(i,e,n){return i instanceof uu?$T(i,e):i instanceof cu?QT(i,e):n}function KT(i,e){return i instanceof jh?(function(s){return lp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class lu extends cf{}class uu extends cf{constructor(e){super(),this.elements=e}}function $T(i,e){const n=XT(e);for(const s of i.elements)n.some((o=>Hr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class cu extends cf{constructor(e){super(),this.elements=e}}function QT(i,e){let n=XT(e);for(const s of i.elements)n=n.filter((o=>!Hr(o,s)));return{arrayValue:{values:n}}}class jh extends cf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function g0(i){return _t(i.integerValue||i.doubleValue)}function XT(i){return Jp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class fN{constructor(e,n){this.field=e,this.transform=n}}function dN(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof uu&&o instanceof uu||s instanceof cu&&o instanceof cu?Ao(s.elements,o.elements,Hr):s instanceof jh&&o instanceof jh?Hr(s.Ae,o.Ae):s instanceof lu&&o instanceof lu})(i.transform,e.transform)}class mN{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class hf{}function JT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new tg(i.key,Gn.none()):new bu(i.key,i.data,Gn.none());{const n=i.data,s=gn.empty();let o=new Lt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ss(i.key,s,new Rn(o.toArray()),Gn.none())}}function pN(i,e,n){i instanceof bu?(function(o,u,h){const m=o.value.clone(),p=_0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Ss?(function(o,u,h){if(!bh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=_0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(ZT(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Wl(i,e,n,s){return i instanceof bu?(function(u,h,m,p){if(!bh(u.precondition,h))return m;const g=u.value.clone(),E=v0(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof Ss?(function(u,h,m,p){if(!bh(u.precondition,h))return m;const g=v0(u.fieldTransforms,p,h),E=h.data;return E.setAll(ZT(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((v=>v.field)))})(i,e,n,s):(function(u,h,m){return bh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function gN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=KT(s.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function y0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ao(s,o,((u,h)=>dN(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class bu extends hf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ss extends hf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ZT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function _0(i,e,n){const s=new Map;Fe(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,hN(h,m,n[o]))}return s}function v0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,cN(u,h,e))}return s}class tg extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yN extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _N{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&pN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=GT();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=JT(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,((n,s)=>y0(n,s)))&&Ao(this.baseMutations,e.baseMutations,((n,s)=>y0(n,s)))}}class ng{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return sN})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new ng(e,n,s,o)}}class vN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class bN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,Pe;function EN(i){switch(i){case J.OK:return ye(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ye(15467,{code:i})}}function WT(i){if(i===void 0)return Ei("GRPC error has no .code"),J.UNKNOWN;switch(i){case Ct.OK:return J.OK;case Ct.CANCELLED:return J.CANCELLED;case Ct.UNKNOWN:return J.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return J.INTERNAL;case Ct.UNAVAILABLE:return J.UNAVAILABLE;case Ct.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ct.NOT_FOUND:return J.NOT_FOUND;case Ct.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ct.ABORTED:return J.ABORTED;case Ct.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ct.DATA_LOSS:return J.DATA_LOSS;default:return ye(39323,{code:i})}}(Pe=Ct||(Ct={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function TN(){return new TextEncoder}const AN=new ms([4294967295,4294967295],0);function b0(i){const e=TN().encode(i),n=new mT;return n.update(e),new Uint8Array(n.digest())}function E0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ms([n,s],0),new ms([o,u],0)]}class rg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ms.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ms.fromNumber(s)));return o.compare(AN)===1&&(o=new ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=b0(e),[s,o]=E0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new rg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=b0(e),[s,o]=E0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ff{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ff(be.min(),o,new ct(Ve),Ti(),ke())}}class Eu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Eu(s,n,ke(),ke(),ke())}}class Eh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class e1{constructor(e,n){this.targetId=e,this.Ce=n}}class t1{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class T0{constructor(){this.ve=0,this.Fe=A0(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new Eu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=A0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class SN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ti(),this.He=ah(),this.Je=ah(),this.Ze=new ct(Ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(cp(u))if(s===0){const h=new me(u.path);this.et(n,h,tn.newNoDocument(h,be.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=vs(s).toUint8Array()}catch(p){if(p instanceof xT)return To("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new rg(h,o,u)}catch(p){return To(p instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&cp(m.target)){const p=new me(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,tn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=ke();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new ff(e,n,this.Ze,this.je,s);return this.je=Ti(),this.He=ah(),this.Je=ah(),this.Ze=new ct(Ve),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new T0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Lt(Ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Lt(Ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new T0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ah(){return new ct(me.comparator)}function A0(){return new ct(me.comparator)}const wN={asc:"ASCENDING",desc:"DESCENDING"},xN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RN={and:"AND",or:"OR"};class CN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fp(i,e){return i.useProto3Json||sf(e)?e:{value:e}}function zh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function IN(i,e){return zh(i,e.toTimestamp())}function jr(i){return Fe(!!i,49232),be.fromTimestamp((function(n){const s=_s(n);return new it(s.seconds,s.nanos)})(i))}function ig(i,e){return dp(i,e).canonicalString()}function dp(i,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function r1(i){const e=tt.fromString(i);return Fe(l1(e),10190,{key:e.toString()}),e}function mp(i,e){return ig(i.databaseId,e.path)}function Bm(i,e){const n=r1(e);if(n.get(1)!==i.databaseId.projectId)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new me(s1(n))}function i1(i,e){return ig(i.databaseId,e)}function NN(i){const e=r1(i);return e.length===4?tt.emptyPath():s1(e)}function pp(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function s1(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function S0(i,e,n){return{name:mp(i,e),fields:n.value.mapValue.fields}}function DN(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ye(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Jt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Jt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?J.UNKNOWN:WT(g.code);return new oe(E,g.message||"")})(h);n=new t1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Bm(i,s.document.name),u=jr(s.document.updateTime),h=s.document.createTime?jr(s.document.createTime):be.min(),m=new gn({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Eh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Bm(i,s.document),u=s.readTime?jr(s.readTime):be.min(),h=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Eh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Bm(i,s.document),u=s.removedTargetIds||[];n=new Eh([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new bN(o,u),m=s.targetId;n=new e1(m,h)}}return n}function ON(i,e){let n;if(e instanceof bu)n={update:S0(i,e.key,e.value)};else if(e instanceof tg)n={delete:mp(i,e.key)};else if(e instanceof Ss)n={update:S0(i,e.key,e.data),updateMask:BN(e.fieldMask)};else{if(!(e instanceof yN))return ye(16599,{dt:e.type});n={verify:mp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof lu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof uu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof cu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof jh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:IN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(i,e.precondition)),n}function MN(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?jr(o.updateTime):jr(u);return h.isEqual(be.min())&&(h=jr(u)),new mN(h,o.transformResults||[])})(n,e)))):[]}function VN(i,e){return{documents:[i1(i,e.path)]}}function kN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=i1(i,o);const u=(function(g){if(g.length!==0)return o1(cr.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:mo(w.field),direction:PN(w.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=fp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function LN(i){let e=NN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(v){const w=a1(v);return w instanceof cr&&LT(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(v){return v.map((w=>(function(P){return new ou(po(P.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(v){let w;return w=typeof v=="object"?v.value:v,sf(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(v){const w=!!v.before,D=v.values||[];return new Uh(D,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(v){const w=!v.before,D=v.values||[];return new Uh(D,w)})(n.endAt)),ZI(e,o,h,u,m,"F",p,g)}function UN(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function a1(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=po(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=po(n.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(i):i.fieldFilter!==void 0?(function(n){return It.create(po(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return cr.create(n.compositeFilter.filters.map((s=>a1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(i):ye(30097,{filter:i})}function PN(i){return wN[i]}function jN(i){return xN[i]}function zN(i){return RN[i]}function mo(i){return{fieldPath:i.canonicalString()}}function po(i){return Xt.fromServerFormat(i.fieldPath)}function o1(i){return i instanceof It?(function(n){if(n.op==="=="){if(h0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(c0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(h0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(c0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:jN(n.op),value:n.value}}})(i):i instanceof cr?(function(n){const s=n.getFilters().map((o=>o1(o)));return s.length===1?s[0]:{compositeFilter:{op:zN(n.op),filters:s}}})(i):ye(54877,{filter:i})}function BN(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function l1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function u1(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class hs{constructor(e,n,s,o,u=be.min(),h=be.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class HN{constructor(e){this.yt=e}}function qN(i){const e=LN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ph(e,e.limit,"L"):e}class FN{constructor(){this.Sn=new GN}addToCollectionParentIndex(e,n){return this.Sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ys.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class GN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(tt.comparator)).toArray()}}const w0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},c1=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(c1,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class xo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new xo(0)}static ar(){return new xo(-1)}}const x0="LruGarbageCollector",YN=1048576;function R0([i,e],[n,s]){const o=Ve(i,n);return o===0?Ve(e,s):o}class KN{constructor(e){this.Pr=e,this.buffer=new Lt(R0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();R0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $N{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(x0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?le(x0,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.Ar(3e5)}))}}class QN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(rf.ce);const s=new KN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(w0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,h=Date.now(),this.nthSequenceNumber(e,o)))).next((v=>(s=v,m=Date.now(),this.removeTargets(e,s,n)))).next((v=>(u=v,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(g=Date.now(),ho()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${v} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:v}))))}}function XN(i,e){return new QN(i,e)}class JN{constructor(){this.changes=new va((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class WN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Wl(s.mutation,o,Rn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=sa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Gl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=sa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Ti();const h=Zl(),m=(function(){return Zl()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ss)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Wl(E.mutation,g,E.mutation.getFieldMask(),it.now())):h.set(g.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new ZN(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Zl();let o=new ct(((h,m)=>h-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Rn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const v=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,v)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,v=GT();E.forEach((w=>{if(!u.has(w)){const D=JT(n.get(w),s.get(w));D!==null&&v.set(w,D),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,v))}return ee.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return WI(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(sa());let m=ru,p=u;return h.next((g=>ee.forEach(g,((E,v)=>(m<v.largestBatchId&&(m=v.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,ke()))).next((E=>({batchId:m,changes:FT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Gl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const g=(function(v,w){return new Vo(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((v,w)=>{h=h.insert(v,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,tn.newInvalidDocument(E)))}));let m=Gl();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Wl(E.mutation,g,Rn.empty(),it.now()),uf(n,g)&&(m=m.insert(p,g))})),m}))}}class eD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:jr(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:qN(o.bundledQuery),readTime:jr(o.readTime)}})(n)),ee.resolve()}}class tD{constructor(){this.overlays=new ct(me.comparator),this.Lr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=sa();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=sa(),u=n.length+1,h=new me(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=sa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=sa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ee.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new vN(n,s));let u=this.Lr.get(n);u===void 0&&(u=ke(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class nD{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class sg{constructor(){this.kr=new Lt(Bt.Kr),this.qr=new Lt(Bt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Bt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new me(new tt([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new me(new tt([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=ke();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return me.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||me.comparator(e.key,n.key)}}class rD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Lt(Bt.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new _N(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Qp:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(Ve);return n.forEach((o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),ee.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new me(u),0);let m=new Lt(Ve);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),h),ee.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ee.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Jr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class iD{constructor(e){this.ti=e,this.docs=(function(){return new ct(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=Ti();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ti();const h=n.path,m=new me(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||II(CI(E),s)<=0||(o.has(E.key)||uf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ye(9500)}ni(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new sD(this)}getSize(e){return ee.resolve(this.size)}}class sD extends JN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class aD{constructor(e){this.persistence=e,this.ri=new va((n=>Zp(n)),Wp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new sg,this.targetCount=0,this.oi=xo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new xo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.lr(n),ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.si.containsKey(n))}}class h1{constructor(e,n){this._i={},this.overlays={},this.ai=new rf(0),this.ui=!1,this.ui=!0,this.ci=new nD,this.referenceDelegate=e(this),this.li=new aD(this),this.indexManager=new FN,this.remoteDocumentCache=(function(o){return new iD(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new HN(n),this.Pi=new eD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new rD(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new oD(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ee.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class oD extends DI{constructor(e){super(),this.currentSequenceNumber=e}}class ag{constructor(e){this.persistence=e,this.Ri=new sg,this.Ai=null}static Vi(e){return new ag(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(s=>{const o=me.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Bh{constructor(e,n){this.persistence=e,this.fi=new va((s=>VI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=XN(this,n)}static Vi(e,n){return new Bh(e,n)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ee.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,u.removeEntry(h,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_h(e.data.value)),n}wr(e,n,s){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class og{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new og(e,n.fromCache,s,o)}}class lD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class uD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return $x()?8:OI(nn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new lD;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(ho()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(ho()<=Me.DEBUG&&le("QueryEngine","Query:",fo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(ho()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):ee.resolve())}gs(e,n){if(p0(n))return ee.resolve(null);let s=Pr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ph(n,null,"F"),s=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=ke(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ss(n,g,h,p.readTime)?this.gs(e,Ph(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,s,o){return p0(n)||o.isEqual(be.min())?ee.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?ee.resolve(null):(ho()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(n)),this.Ds(e,h,n,RI(o,ru)).next((m=>m)))}))}bs(e,n){let s=new Lt(HT(e));return n.forEach(((o,u)=>{uf(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return ho()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",fo(n)),this.fs.getDocumentsMatchingQuery(e,n,ys.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const lg="LocalStore",cD=3e8;class hD{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ct(Ve),this.Fs=new va((u=>Zp(u)),Wp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function fD(i,e,n,s){return new hD(i,e,n,s)}async function f1(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=ke();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function dD(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const v=g.batch,w=v.keys();let D=ee.resolve();return w.forEach((P=>{D=D.next((()=>E.getEntry(p,P))).next((G=>{const F=g.docVersions.get(P);Fe(F!==null,48541),G.version.compareTo(F)<0&&(v.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(p,v)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function d1(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function mD(i,e){const n=Ae(i),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,v)=>{const w=o.get(v);if(!w)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,v).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,v))));let D=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(v)!==null?D=D.withResumeToken(Jt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(v,D),(function(G,F,ne){return G.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=cD?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(w,D,E)&&m.push(n.li.updateTargetData(u,D))}));let p=Ti(),g=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(pD(u,h,e.documentUpdates).next((E=>{p=E.Bs,g=E.Ls}))),!s.isEqual(be.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((v=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ee.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.vs=o,u)))}function pD(i,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Ti();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):le(lg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:h,Ls:o}}))}function gD(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Qp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function yD(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new hs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function gp(i,e,n){const s=Ae(i),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Mo(h))throw h;le(lg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function C0(i,e,n){const s=Ae(i);let o=be.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const v=Ae(p),w=v.Fs.get(E);return w!==void 0?ee.resolve(v.vs.get(w)):v.li.getTargetData(g,E)})(s,h,Pr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?u:ke()))).next((m=>(_D(s,nN(e),m),{documents:m,ks:u})))))}function _D(i,e,n){let s=i.Ms.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Ms.set(e,s)}class I0{constructor(){this.activeTargetIds=lN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vD{constructor(){this.vo=new I0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new I0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bD{Mo(e){}shutdown(){}}const N0="ConnectivityMonitor";class D0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(N0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(N0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let oh=null;function yp(){return oh===null?oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():oh++,"0x"+oh.toString(16)}const Hm="RestConnection",ED={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class TD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=yp(),m=this.Qo(e,n.toUriEncodedString());le(Hm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),E=ya(g);return this.zo(e,m,p,s,E).then((v=>(le(Hm,`Received RPC '${e}' ${h}: `,v),v)),(v=>{throw To(Hm,`RPC '${e}' ${h} failed with error: `,v,"url: ",m,"request:",s),v}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=ED[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class AD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Wt="WebChannelConnection",ql=(i,e,n)=>{i.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class vo extends TD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!vo.c_){const e=_T();ql(e,yT.STAT_EVENT,(n=>{n.stat===sp.PROXY?le(Wt,"STAT_EVENT: detected buffering proxy"):n.stat===sp.NOPROXY&&le(Wt,"STAT_EVENT: detected no buffering proxy")})),vo.c_=!0}}zo(e,n,s,o,u){const h=yp();return new Promise(((m,p)=>{const g=new pT;g.setWithCredentials(!0),g.listenOnce(gT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case yh.NO_ERROR:const v=g.getResponseJson();le(Wt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(v)),m(v);break;case yh.TIMEOUT:le(Wt,`RPC '${e}' ${h} timed out`),p(new oe(J.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const w=g.getStatus();if(le(Wt,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const P=D?.error;if(P&&P.status&&P.message){const G=(function(ne){const te=ne.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(te)>=0?te:J.UNKNOWN})(P.status);p(new oe(G,P.message))}else p(new oe(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(J.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Wt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);le(Wt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=yp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const g=u.join("");le(Wt,`Creating RPC '${e}' stream ${o}: ${g}`,m);const E=h.createWebChannel(g,m);this.I_(E);let v=!1,w=!1;const D=new AD({Ho:P=>{w?le(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(v||(le(Wt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),v=!0),le(Wt,`RPC '${e}' stream ${o} sending:`,P),E.send(P))},Jo:()=>E.close()});return ql(E,Fl.EventType.OPEN,(()=>{w||(le(Wt,`RPC '${e}' stream ${o} transport opened.`),D.i_())})),ql(E,Fl.EventType.CLOSE,(()=>{w||(w=!0,le(Wt,`RPC '${e}' stream ${o} transport closed`),D.o_(),this.E_(E))})),ql(E,Fl.EventType.ERROR,(P=>{w||(w=!0,To(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),D.o_(new oe(J.UNAVAILABLE,"The operation could not be completed")))})),ql(E,Fl.EventType.MESSAGE,(P=>{if(!w){const G=P.data[0];Fe(!!G,16349);const F=G,ne=F?.error||F[0]?.error;if(ne){le(Wt,`RPC '${e}' stream ${o} received error:`,ne);const te=ne.status;let re=(function(Ee){const R=Ct[Ee];if(R!==void 0)return WT(R)})(te),fe=ne.message;re===void 0&&(re=J.INTERNAL,fe="Unknown error status: "+te+" with message "+ne.message),w=!0,D.o_(new oe(re,fe)),E.close()}else le(Wt,`RPC '${e}' stream ${o} received:`,G),D.__(G)}})),vo.u_(),setTimeout((()=>{D.s_()}),0),D}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return vT()}}function SD(i){return new vo(i)}function qm(){return typeof document<"u"?document:null}function df(i){return new CN(i,!0)}vo.c_=!1;class m1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const O0="PersistentStream";class p1{constructor(e,n,s,o,u,h,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new m1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Ei(n.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(O0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(O0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wD extends p1{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=DN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?jr(h.readTime):be.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=pp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=cp(p)?{documents:VN(u,p)}:{query:kN(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=n1(u,h.resumeToken);const g=fp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=zh(u,h.snapshotVersion.toTimestamp());const g=fp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=UN(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=pp(this.serializer),n.removeTarget=e,this.K_(n)}}class xD extends p1{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=MN(e.writeResults,e.commitTime),s=jr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=pp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>ON(this.serializer,s)))};this.K_(n)}}class RD{}class CD extends RD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,dp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(J.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,dp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function ID(i,e,n,s){return new CD(i,e,n,s)}class ND{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ei(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const da="RemoteStore";class DD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{ba(this)&&(le(da,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await Tu(g),g.Va.set("Unknown"),g.Ea.delete(4),await mf(g)})(this))}))})),this.Va=new ND(s,o)}}async function mf(i){if(ba(i))for(const e of i.Ra)await e(!0)}async function Tu(i){for(const e of i.Ra)await e(!1)}function g1(i,e){const n=Ae(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),fg(n)?hg(n):ko(n).O_()&&cg(n,e))}function ug(i,e){const n=Ae(i),s=ko(n);n.Ia.delete(e),s.O_()&&y1(n,e),n.Ia.size===0&&(s.O_()?s.L_():ba(n)&&n.Va.set("Unknown"))}function cg(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(i).Z_(e)}function y1(i,e){i.da.$e(e),ko(i).X_(e)}function hg(i){i.da=new SN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),ko(i).start(),i.Va.ua()}function fg(i){return ba(i)&&!ko(i).x_()&&i.Ia.size>0}function ba(i){return Ae(i).Ea.size===0}function _1(i){i.da=void 0}async function OD(i){i.Va.set("Online")}async function MD(i){i.Ia.forEach(((e,n)=>{cg(i,e)}))}async function VD(i,e){_1(i),fg(i)?(i.Va.ha(e),hg(i)):i.Va.set("Unknown")}async function kD(i,e,n){if(i.Va.set("Online"),e instanceof t1&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(s){le(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hh(i,s)}else if(e instanceof Eh?i.da.Xe(e):e instanceof e1?i.da.st(e):i.da.tt(e),!n.isEqual(be.min()))try{const s=await d1(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Jt.EMPTY_BYTE_STRING,E.snapshotVersion)),y1(u,p);const v=new hs(E.target,p,g,E.sequenceNumber);cg(u,v)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){le(da,"Failed to raise snapshot:",s),await Hh(i,s)}}async function Hh(i,e,n){if(!Mo(e))throw e;i.Ea.add(1),await Tu(i),i.Va.set("Offline"),n||(n=()=>d1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{le(da,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await mf(i)}))}function v1(i,e){return e().catch((n=>Hh(i,n,e)))}async function pf(i){const e=Ae(i),n=Es(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qp;for(;LD(e);)try{const o=await gD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,UD(e,o)}catch(o){await Hh(e,o)}b1(e)&&E1(e)}function LD(i){return ba(i)&&i.Ta.length<10}function UD(i,e){i.Ta.push(e);const n=Es(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function b1(i){return ba(i)&&!Es(i).x_()&&i.Ta.length>0}function E1(i){Es(i).start()}async function PD(i){Es(i).ra()}async function jD(i){const e=Es(i);for(const n of i.Ta)e.ea(n.mutations)}async function zD(i,e,n){const s=i.Ta.shift(),o=ng.from(s,e,n);await v1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await pf(i)}async function BD(i,e){e&&Es(i).Y_&&await(async function(s,o){if((function(h){return EN(h)&&h!==J.ABORTED})(o.code)){const u=s.Ta.shift();Es(s).B_(),await v1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await pf(s)}})(i,e),b1(i)&&E1(i)}async function M0(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),le(da,"RemoteStore received new credentials");const s=ba(n);n.Ea.add(3),await Tu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await mf(n)}async function HD(i,e){const n=Ae(i);e?(n.Ea.delete(2),await mf(n)):e||(n.Ea.add(2),await Tu(n),n.Va.set("Unknown"))}function ko(i){return i.ma||(i.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new wD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:OD.bind(null,i),Yo:MD.bind(null,i),t_:VD.bind(null,i),J_:kD.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),fg(i)?hg(i):i.Va.set("Unknown")):(await i.ma.stop(),_1(i))}))),i.ma}function Es(i){return i.fa||(i.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new xD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:PD.bind(null,i),t_:BD.bind(null,i),ta:jD.bind(null,i),na:zD.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await pf(i)):(await i.fa.stop(),i.Ta.length>0&&(le(da,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class dg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new dg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mg(i,e){if(Ei("AsyncQueue",`${e}: ${i}`),Mo(i))return new oe(J.UNAVAILABLE,`${e}: ${i}`);throw i}class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Gl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class V0{constructor(){this.ga=new ct(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ro{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Ro(e,n,bo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class qD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class FD{constructor(){this.queries=k0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=k0(),u.forEach(((h,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new oe(J.ABORTED,"Firestore shutting down"))}}function k0(){return new va((i=>BT(i)),lf)}async function pg(i,e){const n=Ae(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new qD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=mg(h,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&yg(n)}async function gg(i,e){const n=Ae(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function GD(i,e){const n=Ae(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&yg(n)}function YD(i,e,n){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function yg(i){i.Ca.forEach((e=>{e.next()}))}var _p,L0;(L0=_p||(_p={})).Ma="default",L0.Cache="cache";class _g{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_p.Cache}}class T1{constructor(e){this.key=e}}class A1{constructor(e){this.key=e}}class KD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ke(),this.mutatedKeys=ke(),this.eu=HT(e),this.tu=new bo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new V0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,v)=>{const w=o.get(E),D=uf(this.query,v)?v:null,P=!!w&&this.mutatedKeys.has(w.key),G=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let F=!1;w&&D?w.data.isEqual(D.data)?P!==G&&(s.track({type:3,doc:D}),F=!0):this.su(w,D)||(s.track({type:2,doc:D}),F=!0,(p&&this.eu(D,p)>0||g&&this.eu(D,g)<0)&&(m=!0)):!w&&D?(s.track({type:0,doc:D}),F=!0):w&&!D&&(s.track({type:1,doc:w}),F=!0,(p||g)&&(m=!0)),F&&(D?(h=h.add(D),u=G?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,v)=>(function(D,P){const G=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:F})}};return G(D)-G(P)})(E.type,v.type)||this.eu(E.doc,v.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,h.length!==0||g?{snapshot:new Ro(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new A1(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new T1(s))})),n}cu(e){this.Za=e.ks,this.Ya=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const vg="SyncEngine";class $D{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class QD{constructor(e){this.key=e,this.hu=!1}}class XD{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new va((m=>BT(m)),lf),this.Iu=new Map,this.Eu=new Set,this.Ru=new ct(me.comparator),this.Au=new Map,this.Vu=new sg,this.du={},this.mu=new Map,this.fu=xo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JD(i,e,n=!0){const s=I1(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await S1(s,e,n,!0),o}async function ZD(i,e){const n=I1(i);await S1(n,e,!0,!1)}async function S1(i,e,n,s){const o=await yD(i.localStore,Pr(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await WD(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&g1(i.remoteStore,o),m}async function WD(i,e,n,s,o){i.pu=(v,w,D)=>(async function(G,F,ne,te){let re=F.view.ru(ne);re.Ss&&(re=await C0(G.localStore,F.query,!1).then((({documents:R})=>F.view.ru(R,re))));const fe=te&&te.targetChanges.get(F.targetId),Se=te&&te.targetMismatches.get(F.targetId)!=null,Ee=F.view.applyChanges(re,G.isPrimaryClient,fe,Se);return P0(G,F.targetId,Ee.au),Ee.snapshot})(i,v,w,D);const u=await C0(i.localStore,e,!0),h=new KD(e,u.ks),m=h.ru(u.documents),p=Eu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);P0(i,n,g.au);const E=new $D(e,n,h);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function eO(i,e,n){const s=Ae(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!lf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ug(s.remoteStore,o.targetId),vp(s,o.targetId)})).catch(Oo)):(vp(s,o.targetId),await gp(s.localStore,o.targetId,!0))}async function tO(i,e){const n=Ae(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ug(n.remoteStore,s.targetId))}async function nO(i,e,n){const s=uO(i);try{const o=await(function(h,m){const p=Ae(h),g=it.now(),E=m.reduce(((D,P)=>D.add(P.key)),ke());let v,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let P=Ti(),G=ke();return p.xs.getEntries(D,E).next((F=>{P=F,P.forEach(((ne,te)=>{te.isValidDocument()||(G=G.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(D,P))).next((F=>{v=F;const ne=[];for(const te of m){const re=gN(te,v.get(te.key).overlayedDocument);re!=null&&ne.push(new Ss(te.key,re,MT(re.value.mapValue),Gn.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,ne,m)})).next((F=>{w=F;const ne=F.applyToLocalDocumentSet(v,G);return p.documentOverlayCache.saveOverlays(D,F.batchId,ne)}))})).then((()=>({batchId:w.batchId,changes:FT(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.du[h.currentUser.toKey()];g||(g=new ct(Ve)),g=g.insert(m,p),h.du[h.currentUser.toKey()]=g})(s,o.batchId,n),await Au(s,o.changes),await pf(s.remoteStore)}catch(o){const u=mg(o,"Failed to persist write");n.reject(u)}}async function w1(i,e){const n=Ae(i);try{const s=await mD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await Au(n,s,e)}catch(s){await Oo(s)}}function U0(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,v)=>{for(const w of v.ba)w.va(m)&&(g=!0)})),g&&yg(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function rO(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ct(me.comparator);h=h.insert(u,tn.newNoDocument(u,be.min()));const m=ke().add(u),p=new ff(be.min(),new Map,new ct(Ve),h,m);await w1(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),bg(s)}else await gp(s.localStore,e,!1).then((()=>vp(s,e,n))).catch(Oo)}async function iO(i,e){const n=Ae(i),s=e.batch.batchId;try{const o=await dD(n.localStore,e);R1(n,s,null),x1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Au(n,o)}catch(o){await Oo(o)}}async function sO(i,e,n){const s=Ae(i);try{const o=await(function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((v=>(Fe(v!==null,37113),E=v.keys(),p.mutationQueue.removeMutationBatch(g,v)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);R1(s,e,n),x1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Au(s,o)}catch(o){await Oo(o)}}function x1(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function R1(i,e,n){const s=Ae(i);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function vp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((s=>{i.Vu.containsKey(s)||C1(i,s)}))}function C1(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(ug(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),bg(i))}function P0(i,e,n){for(const s of n)s instanceof T1?(i.Vu.addReference(s.key,e),aO(i,s)):s instanceof A1?(le(vg,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,e),i.Vu.containsKey(s.key)||C1(i,s.key)):ye(19791,{wu:s})}function aO(i,e){const n=e.key,s=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(s)||(le(vg,"New document in limbo: "+n),i.Eu.add(s),bg(i))}function bg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new me(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new QD(n)),i.Ru=i.Ru.insert(n,s),g1(i.remoteStore,new hs(Pr(of(n.path)),s,"TargetPurposeLimboResolution",rf.ce))}}async function Au(i,e,n){const s=Ae(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=og.Es(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ee.forEach(g,(w=>ee.forEach(w.Ts,(D=>E.persistence.referenceDelegate.addReference(v,w.targetId,D))).next((()=>ee.forEach(w.Is,(D=>E.persistence.referenceDelegate.removeReference(v,w.targetId,D)))))))))}catch(v){if(!Mo(v))throw v;le(lg,"Failed to update sequence numbers: "+v)}for(const v of g){const w=v.targetId;if(!v.fromCache){const D=E.vs.get(w),P=D.snapshotVersion,G=D.withLastLimboFreeSnapshotVersion(P);E.vs=E.vs.insert(w,G)}}})(s.localStore,u))}async function oO(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){le(vg,"User change. New user:",e.toKey());const s=await f1(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(J.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Au(n,s.Ns)}}function lO(i,e){const n=Ae(i),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function I1(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=w1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rO.bind(null,e),e.Pu.J_=GD.bind(null,e.eventManager),e.Pu.yu=YD.bind(null,e.eventManager),e}function uO(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sO.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return fD(this.persistence,new uD,e.initialUser,this.serializer)}Cu(e){return new h1(ag.Vi,this.serializer)}Du(e){return new vD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class cO extends qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Bh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $N(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new h1((s=>Bh.Vi(s,n)),this.serializer)}}class bp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>U0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=oO.bind(null,this.syncEngine),await HD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FD})()}createDatastore(e){const n=df(e.databaseInfo.databaseId),s=SD(e.databaseInfo);return ID(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new DD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>U0(this.syncEngine,n,0)),(function(){return D0.v()?new D0:new bD})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const v=new XD(o,u,h,m,p,g);return E&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);le(da,"RemoteStore shutting down."),s.Ea.add(5),await Tu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bp.provider={build:()=>new bp};class Eg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ts="FirestoreClient";class hO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=$p.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(Ts,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(Ts,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=mg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Fm(i,e){i.asyncQueue.verifyOperationInProgress(),le(Ts,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await f1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function j0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await fO(i);le(Ts,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>M0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>M0(e.remoteStore,o))),i._onlineComponents=e}async function fO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le(Ts,"Using user provided OfflineComponentProvider");try{await Fm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Fm(i,new qh)}}else le(Ts,"Using default OfflineComponentProvider"),await Fm(i,new cO(void 0));return i._offlineComponents}async function N1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le(Ts,"Using user provided OnlineComponentProvider"),await j0(i,i._uninitializedComponentsProvider._online)):(le(Ts,"Using default OnlineComponentProvider"),await j0(i,new bp))),i._onlineComponents}function dO(i){return N1(i).then((e=>e.syncEngine))}async function Fh(i){const e=await N1(i),n=e.eventManager;return n.onListen=JD.bind(null,e.syncEngine),n.onUnlisten=eO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tO.bind(null,e.syncEngine),n}function mO(i,e,n,s){const o=new Eg(s),u=new _g(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>pg(await Fh(i),u))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>gg(await Fh(i),u)))}}function pO(i,e,n={}){const s=new yi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new Eg({next:w=>{E.Nu(),h.enqueueAndForget((()=>gg(u,v)));const D=w.docs.has(m);!D&&w.fromCache?g.reject(new oe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&w.fromCache&&p&&p.source==="server"?g.reject(new oe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),v=new _g(of(m.path),E,{includeMetadataChanges:!0,Ka:!0});return pg(u,v)})(await Fh(i),i.asyncQueue,e,n,s))),s.promise}function gO(i,e,n={}){const s=new yi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new Eg({next:w=>{E.Nu(),h.enqueueAndForget((()=>gg(u,v))),w.fromCache&&p.source==="server"?g.reject(new oe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),v=new _g(m,E,{includeMetadataChanges:!0,Ka:!0});return pg(u,v)})(await Fh(i),i.asyncQueue,e,n,s))),s.promise}function yO(i,e){const n=new yi;return i.asyncQueue.enqueueAndForget((async()=>nO(await dO(i),e,n))),n.promise}function D1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const _O="ComponentProvider",z0=new Map;function vO(i,e,n,s,o){return new UI(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,D1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const O1="firestore.googleapis.com",B0=!0;class H0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=O1,this.ssl=B0}else this.host=e.host,this.ssl=e.ssl??B0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=c1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YN)throw new oe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new gI;switch(s.type){case"firstParty":return new bI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=z0.get(n);s&&(le(_O,"Removing Datastore"),z0.delete(n),s.terminate())})(this),Promise.resolve()}}function bO(i,e,n,s={}){i=yn(i,gf);const o=ya(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Op(`https://${m}`),Mp("Firestore",!0)),u.host!==O1&&u.host!==m&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ua(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=en.MOCK_USER;else{g=OE(s.mockUserToken,i._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new oe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new en(v)}i._authCredentials=new yI(new ET(g,E))}}class xi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xi(this.firestore,e,this._query)}}class dt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(vu(n,dt._jsonSchema))return new dt(e,s||null,new me(tt.fromString(n.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:Nt("string",dt._jsonSchemaVersion),referencePath:Nt("string")};class ps extends xi{constructor(e,n,s){super(e,n,of(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new me(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function ma(i,e,...n){if(i=Ut(i),TT("collection","path",e),i instanceof gf){const s=tt.fromString(e,...n);return t0(s),new ps(i,null,s)}{if(!(i instanceof dt||i instanceof ps))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return t0(s),new ps(i.firestore,null,s)}}function Yn(i,e,...n){if(i=Ut(i),arguments.length===1&&(e=$p.newId()),TT("doc","path",e),i instanceof gf){const s=tt.fromString(e,...n);return e0(s),new dt(i,null,new me(s))}{if(!(i instanceof dt||i instanceof ps))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return e0(s),new dt(i.firestore,i instanceof ps?i.converter:null,new me(s))}}const q0="AsyncQueue";class F0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new m1(this,"async_queue_retry"),this._c=()=>{const s=qm();s&&le(q0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;le(q0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ei("INTERNAL UNHANDLED ERROR: ",G0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=dg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:G0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function G0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Ai extends gf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new F0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F0(e),this._firestoreClient=void 0,await e}}}function EO(i,e){const n=typeof i=="object"?i:Lp(),s=typeof i=="string"?i:kh,o=Zh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=IE("firestore");u&&bO(o,...u)}return o}function yf(i){if(i._terminated)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||TO(i),i._firestoreClient}function TO(i){const e=i._freezeSettings(),n=vO(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new hO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Jt.fromBase64String(e))}catch(n){throw new oe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Nt("string",Fn._jsonSchemaVersion),bytes:Nt("string")};class Tg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _f{constructor(e){this._methodName=e}}class zr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zr._jsonSchemaVersion}}static fromJSON(e){if(vu(e,zr._jsonSchema))return new zr(e.latitude,e.longitude)}}zr._jsonSchemaVersion="firestore/geoPoint/1.0",zr._jsonSchema={type:Nt("string",zr._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class ur{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ur(e.vectorValues);throw new oe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ur._jsonSchemaVersion="firestore/vectorValue/1.0",ur._jsonSchema={type:Nt("string",ur._jsonSchemaVersion),vectorValues:Nt("object")};const AO=/^__.*__$/;class SO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new bu(e,this.data,n,this.fieldTransforms)}}class M1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function V1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:i})}}class Ag{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ag({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Gh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(V1(this.dataSource)&&AO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class wO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||df(e)}createContext(e,n,s,o=!1){return new Ag({dataSource:e,methodName:n,targetDoc:s,path:Xt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vf(i){const e=i._freezeSettings(),n=df(i._databaseId);return new wO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function k1(i,e,n,s,o,u={}){const h=i.createContext(u.merge||u.mergeFields?2:0,e,n,o);wg("Data must be an object, but it was:",h,s);const m=L1(s,h);let p,g;if(u.merge)p=new Rn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const v of u.mergeFields){const w=pa(e,v,n);if(!h.contains(w))throw new oe(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);j1(E,w)||E.push(w)}p=new Rn(E),g=h.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,g=h.fieldTransforms;return new SO(new gn(m),p,g)}class bf extends _f{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bf}}class Sg extends _f{_toFieldTransform(e){return new fN(e.path,new lu)}isEqual(e){return e instanceof Sg}}function xO(i,e,n,s){const o=i.createContext(1,e,n);wg("Data must be an object, but it was:",o,s);const u=[],h=gn.empty();As(s,((p,g)=>{const E=P1(e,p,n);g=Ut(g);const v=o.childContextForFieldPath(E);if(g instanceof bf)u.push(E);else{const w=Su(g,v);w!=null&&(u.push(E),h.set(E,w))}}));const m=new Rn(u);return new M1(h,m,o.fieldTransforms)}function RO(i,e,n,s,o,u){const h=i.createContext(1,e,n),m=[pa(e,s,n)],p=[o];if(u.length%2!=0)throw new oe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(pa(e,u[w])),p.push(u[w+1]);const g=[],E=gn.empty();for(let w=m.length-1;w>=0;--w)if(!j1(g,m[w])){const D=m[w];let P=p[w];P=Ut(P);const G=h.childContextForFieldPath(D);if(P instanceof bf)g.push(D);else{const F=Su(P,G);F!=null&&(g.push(D),E.set(D,F))}}const v=new Rn(g);return new M1(E,v,h.fieldTransforms)}function CO(i,e,n,s=!1){return Su(n,i.createContext(s?4:3,e))}function Su(i,e){if(U1(i=Ut(i)))return wg("Unsupported field value:",e,i),L1(i,e);if(i instanceof _f)return(function(s,o){if(!V1(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Su(m,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return uN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:zh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zh(o.serializer,u)}}if(s instanceof zr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:n1(o.serializer,s._byteString)};if(s instanceof dt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ig(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ur)return(function(h,m){const p=h instanceof ur?h.toArray():h;return{mapValue:{fields:{[DT]:{stringValue:OT},[Lh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return eg(m.serializer,E)}))}}}}}})(s,o);if(u1(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${nf(s)}`)})(i,e)}function L1(i,e){const n={};return wT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(i,((s,o)=>{const u=Su(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function U1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof zr||i instanceof Fn||i instanceof dt||i instanceof _f||i instanceof ur||u1(i))}function wg(i,e,n){if(!U1(n)||!AT(n)){const s=nf(n);throw s==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+s)}}function pa(i,e,n){if((e=Ut(e))instanceof Tg)return e._internalPath;if(typeof e=="string")return P1(i,e);throw Gh("Field path arguments must be of type string or ",i,!1,void 0,n)}const IO=new RegExp("[~\\*/\\[\\]]");function P1(i,e,n){if(e.search(IO)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Tg(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Gh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new oe(J.INVALID_ARGUMENT,m+i+p)}function j1(i,e){return i.some((n=>n.isEqual(e)))}class NO{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return As(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Lh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new ur(n)}convertGeoPoint(e){return new zr(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=af(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=_s(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Fe(l1(s),9688,{name:e});const o=new su(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||Ei(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class xg extends NO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function DO(){return new Sg("serverTimestamp")}const Y0="@firebase/firestore",K0="4.10.0";function $0(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class z1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(pa("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OO extends z1{data(){return super.data()}}function B1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new oe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rg{}class Cg extends Rg{}function Ef(i,e,...n){let s=[];e instanceof Rg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Ng)).length,m=u.filter((p=>p instanceof Tf)).length;if(h>1||h>0&&m>0)throw new oe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Tf extends Cg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Tf(e,n,s)}_apply(e){const n=this._parse(e);return H1(e._query,n),new xi(e.firestore,e.converter,hp(e._query,n))}_parse(e){const n=vf(e.firestore);return(function(u,h,m,p,g,E,v){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){X0(v,E);const P=[];for(const G of v)P.push(Q0(p,u,G));w={arrayValue:{values:P}}}else w=Q0(p,u,v)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||X0(v,E),w=CO(m,h,v,E==="in"||E==="not-in");return It.create(g,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ig(i,e,n){const s=e,o=pa("where",i);return Tf._create(o,s,n)}class Ng extends Rg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ng(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)H1(h,p),h=hp(h,p)})(e._query,n),new xi(e.firestore,e.converter,hp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dg extends Cg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Dg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ou(u,h)})(e._query,this._field,this._direction);return new xi(e.firestore,e.converter,tN(e._query,n))}}function Og(i,e="asc"){const n=e,s=pa("orderBy",i);return Dg._create(s,n)}class Mg extends Cg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Mg(e,n,s)}_apply(e){return new xi(e.firestore,e.converter,Ph(e._query,this._limit,this._limitType))}}function MO(i){return Mg._create("limit",i,"F")}function Q0(i,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new oe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zT(e)&&n.indexOf("/")!==-1)throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!me.isDocumentKey(s))throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return u0(i,new me(s))}if(n instanceof dt)return u0(i,n._key);throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(n)}.`)}function X0(i,e){if(!Array.isArray(i)||i.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H1(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function q1(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends z1{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(pa("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:Nt("string",oa._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Th extends oa{data(e={}){return super.data(e)}}class la{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Th(this._firestore,this._userDataWriter,s.key,s,new Kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:VO(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=la._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$p.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:i})}}la._jsonSchemaVersion="firestore/querySnapshot/1.0",la._jsonSchema={type:Nt("string",la._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};function Ep(i){i=yn(i,dt);const e=yn(i.firestore,Ai),n=yf(e);return pO(n,i._key).then((s=>Y1(e,i,s)))}function Vg(i){i=yn(i,xi);const e=yn(i.firestore,Ai),n=yf(e),s=new xg(e);return B1(i._query),gO(n,i._query).then((o=>new la(e,s,i,o)))}function kO(i,e,n){i=yn(i,dt);const s=yn(i.firestore,Ai),o=q1(i.converter,e),u=vf(s);return Af(s,[k1(u,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Gn.none())])}function hu(i,e,n,...s){i=yn(i,dt);const o=yn(i.firestore,Ai),u=vf(o);let h;return h=typeof(e=Ut(e))=="string"||e instanceof Tg?RO(u,"updateDoc",i._key,e,n,s):xO(u,"updateDoc",i._key,e),Af(o,[h.toMutation(i._key,Gn.exists(!0))])}function kg(i){return Af(yn(i.firestore,Ai),[new tg(i._key,Gn.none())])}function F1(i,e){const n=yn(i.firestore,Ai),s=Yn(i),o=q1(i.converter,e),u=vf(i.firestore);return Af(n,[k1(u,"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then((()=>s))}function G1(i,...e){i=Ut(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||$0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if($0(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,h,m;if(i instanceof dt)h=yn(i.firestore,Ai),m=of(i._key.path),u={next:g=>{e[s]&&e[s](Y1(h,i,g))},error:e[s+1],complete:e[s+2]};else{const g=yn(i,xi);h=yn(g.firestore,Ai),m=g._query;const E=new xg(h);u={next:v=>{e[s]&&e[s](new la(h,E,g,v))},error:e[s+1],complete:e[s+2]},B1(i._query)}const p=yf(h);return mO(p,m,o,u)}function Af(i,e){const n=yf(i);return yO(n,e)}function Y1(i,e,n){const s=n.docs.get(e._key),o=new xg(i);return new oa(i,o,e._key,s,new Kl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){pI(_a),ca(new gs("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ai(new _I(s.getProvider("auth-internal")),new EI(h,s.getProvider("app-check-internal")),PI(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Lr(Y0,K0,e),Lr(Y0,K0,"esm2020")})();const K1="firebasestorage.googleapis.com",LO="storageBucket",UO=120*1e3,PO=600*1e3;class Gr extends Fr{constructor(e,n,s=0){super(Gm(e),`Firebase Storage: ${n} (${Gm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qr;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qr||(qr={}));function Gm(i){return"storage/"+i}function jO(){const i="An unknown error occurred, please check the error payload for server response.";return new Gr(qr.UNKNOWN,i)}function zO(){return new Gr(qr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BO(){return new Gr(qr.CANCELED,"User canceled the upload/download.")}function HO(i){return new Gr(qr.INVALID_URL,"Invalid URL '"+i+"'.")}function qO(i){return new Gr(qr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function J0(i){return new Gr(qr.INVALID_ARGUMENT,i)}function $1(){return new Gr(qr.APP_DELETED,"The Firebase app was deleted.")}function FO(i){return new Gr(qr.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class or{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=or.makeFromUrl(e,n)}catch{return new or(e,"")}if(s.path==="")return s;throw qO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(fe){fe.path.charAt(fe.path.length-1)==="/"&&(fe.path_=fe.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(fe){fe.path_=decodeURIComponent(fe.path)}const E="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",D=new RegExp(`^https?://${v}/${E}/b/${o}/o${w}`,"i"),P={bucket:1,path:3},G=n===K1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,F="([^?#]*)",ne=new RegExp(`^https?://${G}/${o}/${F}`,"i"),re=[{regex:m,indices:p,postModify:u},{regex:D,indices:P,postModify:g},{regex:ne,indices:{bucket:1,path:2},postModify:g}];for(let fe=0;fe<re.length;fe++){const Se=re[fe],Ee=Se.regex.exec(e);if(Ee){const R=Ee[Se.indices.bucket];let x=Ee[Se.indices.path];x||(x=""),s=new or(R,x),Se.postModify(s);break}}if(s==null)throw HO(e);return s}}class GO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function YO(i,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...F){g||(g=!0,e.apply(null,F))}function v(F){o=setTimeout(()=>{o=null,i(D,p())},F)}function w(){u&&clearTimeout(u)}function D(F,...ne){if(g){w();return}if(F){w(),E.call(null,F,...ne);return}if(p()||h){w(),E.call(null,F,...ne);return}s<64&&(s*=2);let re;m===1?(m=2,re=0):re=(s+Math.random())*1e3,v(re)}let P=!1;function G(F){P||(P=!0,w(),!g&&(o!==null?(F||(m=2),clearTimeout(o),v(0)):F||(m=1)))}return v(0),u=setTimeout(()=>{h=!0,G(!0)},n),G}function KO(i){i(!1)}function $O(i){return i!==void 0}function Z0(i,e,n,s){if(s<e)throw J0(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw J0(`Invalid value for '${i}'. Expected ${n} or less.`)}function QO(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Yh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Yh||(Yh={}));function XO(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}class JO{constructor(e,n,s,o,u,h,m,p,g,E,v,w=!0,D=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=v,this.retry=w,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,G)=>{this.resolve_=P,this.reject_=G,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new lh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Yh.NO_ERROR,p=u.getStatus();if(!m||XO(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Yh.ABORT;s(!1,new lh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new lh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());$O(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=jO();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?$1():BO();h(p)}else{const p=zO();h(p)}};this.canceled_?n(!1,new lh(!1,null,!0)):this.backoffId_=YO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function ZO(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function WO(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function e4(i,e){e&&(i["X-Firebase-GMPID"]=e)}function t4(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function n4(i,e,n,s,o,u,h=!0,m=!1){const p=QO(i.urlParams),g=i.url+p,E=Object.assign({},i.headers);return e4(E,e),ZO(E,n),WO(E,u),t4(E,s),new JO(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}function r4(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function i4(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}class Kh{constructor(e,n){this._service=e,n instanceof or?this._location=n:this._location=or.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Kh(e,n)}get root(){const e=new or(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return i4(this._location.path)}get storage(){return this._service}get parent(){const e=r4(this._location.path);if(e===null)return null;const n=new or(this._location.bucket,e);return new Kh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw FO(e)}}function W0(i,e){const n=e?.[LO];return n==null?null:or.makeFromBucketSpec(n,i)}function s4(i,e,n,s={}){i.host=`${e}:${n}`;const o=ya(e);o&&(Op(`https://${i.host}/b`),Mp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:OE(u,i.app.options.projectId))}class a4{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=K1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UO,this._maxUploadRetryTime=PO,this._requests=new Set,o!=null?this._bucket=or.makeFromBucketSpec(o,this._host):this._bucket=W0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=or.makeFromBucketSpec(this._url,e):this._bucket=W0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Z0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Z0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new GO($1());{const h=n4(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const eE="@firebase/storage",tE="0.14.0";const Q1="storage";function o4(i=Lp(),e){i=Ut(i);const s=Zh(i,Q1).getImmediate({identifier:e}),o=IE("storage");return o&&l4(s,...o),s}function l4(i,e,n,s={}){s4(i,e,n,s)}function u4(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new a4(n,s,o,e,_a)}function c4(){ca(new gs(Q1,u4,"PUBLIC").setMultipleInstances(!0)),Lr(eE,tE,""),Lr(eE,tE,"esm2020")}c4();const h4={apiKey:"AIzaSyBlW-nhvlaKqrDTSDIT0yN0IY8oqBFhOOY",authDomain:"mjhs-esports.firebaseapp.com",projectId:"mjhs-esports",storageBucket:"mjhs-esports.firebasestorage.app",messagingSenderId:"586504727075",appId:"1:586504727075:web:ec5707639e2dd654e9df96",measurementId:"G-4S7RNXD108"},Lg=kE(h4),Ym=dI(Lg),Ht=EO(Lg);o4(Lg);const f4=new di,d4=i=>i.endsWith("@madisonstudent.org")?"student":i.endsWith("@madison.k12.in.us")?"staff":"guest",X1=k.createContext(),Yr=()=>k.useContext(X1),m4=({children:i})=>{const[e,n]=k.useState(null),[s,o]=k.useState(null),[u,h]=k.useState(!0),m=async()=>{try{const v=(await TC(Ym,f4)).user,w=d4(v.email),D=Yn(Ht,"users",v.uid),P=await Ep(D);P.exists()?o(P.data().role):(await kO(D,{email:v.email,displayName:v.displayName,photoURL:v.photoURL,role:w,createdAt:new Date,stats:{}}),o(w))}catch(E){console.error("Login Error:",E),alert(E.message)}},p=()=>(o(null),nC(Ym));k.useEffect(()=>tC(Ym,async v=>{if(v){const w=Yn(Ht,"users",v.uid),D=await Ep(w);D.exists()&&o(D.data().role)}else o(null);n(v),h(!1)}),[]);const g={currentUser:e,userRole:s,loginWithGoogle:m,logout:p};return T.jsx(X1.Provider,{value:g,children:!u&&i})};let p4={data:""},g4=i=>{if(typeof window=="object"){let e=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(i||document.head).appendChild(e),e.firstChild}return i||p4},y4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,_4=/\/\*[^]*?\*\/|  +/g,nE=/\n+/g,cs=(i,e)=>{let n="",s="",o="";for(let u in i){let h=i[u];u[0]=="@"?u[1]=="i"?n=u+" "+h+";":s+=u[1]=="f"?cs(h,u):u+"{"+cs(h,u[1]=="k"?"":e)+"}":typeof h=="object"?s+=cs(h,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):h!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=cs.p?cs.p(u,h):u+":"+h+";")}return n+(e&&o?e+"{"+o+"}":o)+s},fi={},J1=i=>{if(typeof i=="object"){let e="";for(let n in i)e+=n+J1(i[n]);return e}return i},v4=(i,e,n,s,o)=>{let u=J1(i),h=fi[u]||(fi[u]=(p=>{let g=0,E=11;for(;g<p.length;)E=101*E+p.charCodeAt(g++)>>>0;return"go"+E})(u));if(!fi[h]){let p=u!==i?i:(g=>{let E,v,w=[{}];for(;E=y4.exec(g.replace(_4,""));)E[4]?w.shift():E[3]?(v=E[3].replace(nE," ").trim(),w.unshift(w[0][v]=w[0][v]||{})):w[0][E[1]]=E[2].replace(nE," ").trim();return w[0]})(i);fi[h]=cs(o?{["@keyframes "+h]:p}:p,n?"":"."+h)}let m=n&&fi.g?fi.g:null;return n&&(fi.g=fi[h]),((p,g,E,v)=>{v?g.data=g.data.replace(v,p):g.data.indexOf(p)===-1&&(g.data=E?p+g.data:g.data+p)})(fi[h],e,s,m),h},b4=(i,e,n)=>i.reduce((s,o,u)=>{let h=e[u];if(h&&h.call){let m=h(n),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;h=p?"."+p:m&&typeof m=="object"?m.props?"":cs(m,""):m===!1?"":m}return s+o+(h??"")},"");function Sf(i){let e=this||{},n=i.call?i(e.p):i;return v4(n.unshift?n.raw?b4(n,[].slice.call(arguments,1),e.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):n,g4(e.target),e.g,e.o,e.k)}let Z1,Tp,Ap;Sf.bind({g:1});let Si=Sf.bind({k:1});function E4(i,e,n,s){cs.p=e,Z1=i,Tp=n,Ap=s}function ws(i,e){let n=this||{};return function(){let s=arguments;function o(u,h){let m=Object.assign({},u),p=m.className||o.className;n.p=Object.assign({theme:Tp&&Tp()},m),n.o=/ *go\d+/.test(p),m.className=Sf.apply(n,s)+(p?" "+p:"");let g=i;return i[0]&&(g=m.as||i,delete m.as),Ap&&g[0]&&Ap(m),Z1(g,m)}return o}}var T4=i=>typeof i=="function",$h=(i,e)=>T4(i)?i(e):i,A4=(()=>{let i=0;return()=>(++i).toString()})(),W1=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),S4=20,Ug="default",eA=(i,e)=>{let{toastLimit:n}=i.settings;switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,n)};case 1:return{...i,toasts:i.toasts.map(h=>h.id===e.toast.id?{...h,...e.toast}:h)};case 2:let{toast:s}=e;return eA(i,{type:i.toasts.find(h=>h.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...i,toasts:i.toasts.map(h=>h.id===o||o===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(h=>h.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let u=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+u}))}}},Ah=[],tA={toasts:[],pausedAt:void 0,settings:{toastLimit:S4}},kr={},nA=(i,e=Ug)=>{kr[e]=eA(kr[e]||tA,i),Ah.forEach(([n,s])=>{n===e&&s(kr[e])})},rA=i=>Object.keys(kr).forEach(e=>nA(i,e)),w4=i=>Object.keys(kr).find(e=>kr[e].toasts.some(n=>n.id===i)),wf=(i=Ug)=>e=>{nA(e,i)},x4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},R4=(i={},e=Ug)=>{let[n,s]=k.useState(kr[e]||tA),o=k.useRef(kr[e]);k.useEffect(()=>(o.current!==kr[e]&&s(kr[e]),Ah.push([e,s]),()=>{let h=Ah.findIndex(([m])=>m===e);h>-1&&Ah.splice(h,1)}),[e]);let u=n.toasts.map(h=>{var m,p,g;return{...i,...i[h.type],...h,removeDelay:h.removeDelay||((m=i[h.type])==null?void 0:m.removeDelay)||i?.removeDelay,duration:h.duration||((p=i[h.type])==null?void 0:p.duration)||i?.duration||x4[h.type],style:{...i.style,...(g=i[h.type])==null?void 0:g.style,...h.style}}});return{...n,toasts:u}},C4=(i,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...n,id:n?.id||A4()}),wu=i=>(e,n)=>{let s=C4(e,i,n);return wf(s.toasterId||w4(s.id))({type:2,toast:s}),s.id},kt=(i,e)=>wu("blank")(i,e);kt.error=wu("error");kt.success=wu("success");kt.loading=wu("loading");kt.custom=wu("custom");kt.dismiss=(i,e)=>{let n={type:3,toastId:i};e?wf(e)(n):rA(n)};kt.dismissAll=i=>kt.dismiss(void 0,i);kt.remove=(i,e)=>{let n={type:4,toastId:i};e?wf(e)(n):rA(n)};kt.removeAll=i=>kt.remove(void 0,i);kt.promise=(i,e,n)=>{let s=kt.loading(e.loading,{...n,...n?.loading});return typeof i=="function"&&(i=i()),i.then(o=>{let u=e.success?$h(e.success,o):void 0;return u?kt.success(u,{id:s,...n,...n?.success}):kt.dismiss(s),o}).catch(o=>{let u=e.error?$h(e.error,o):void 0;u?kt.error(u,{id:s,...n,...n?.error}):kt.dismiss(s)}),i};var I4=1e3,N4=(i,e="default")=>{let{toasts:n,pausedAt:s}=R4(i,e),o=k.useRef(new Map).current,u=k.useCallback((v,w=I4)=>{if(o.has(v))return;let D=setTimeout(()=>{o.delete(v),h({type:4,toastId:v})},w);o.set(v,D)},[]);k.useEffect(()=>{if(s)return;let v=Date.now(),w=n.map(D=>{if(D.duration===1/0)return;let P=(D.duration||0)+D.pauseDuration-(v-D.createdAt);if(P<0){D.visible&&kt.dismiss(D.id);return}return setTimeout(()=>kt.dismiss(D.id,e),P)});return()=>{w.forEach(D=>D&&clearTimeout(D))}},[n,s,e]);let h=k.useCallback(wf(e),[e]),m=k.useCallback(()=>{h({type:5,time:Date.now()})},[h]),p=k.useCallback((v,w)=>{h({type:1,toast:{id:v,height:w}})},[h]),g=k.useCallback(()=>{s&&h({type:6,time:Date.now()})},[s,h]),E=k.useCallback((v,w)=>{let{reverseOrder:D=!1,gutter:P=8,defaultPosition:G}=w||{},F=n.filter(re=>(re.position||G)===(v.position||G)&&re.height),ne=F.findIndex(re=>re.id===v.id),te=F.filter((re,fe)=>fe<ne&&re.visible).length;return F.filter(re=>re.visible).slice(...D?[te+1]:[0,te]).reduce((re,fe)=>re+(fe.height||0)+P,0)},[n]);return k.useEffect(()=>{n.forEach(v=>{if(v.dismissed)u(v.id,v.removeDelay);else{let w=o.get(v.id);w&&(clearTimeout(w),o.delete(v.id))}})},[n,u]),{toasts:n,handlers:{updateHeight:p,startPause:m,endPause:g,calculateOffset:E}}},D4=Si`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,O4=Si`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,M4=Si`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,V4=ws("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${D4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${O4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${M4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,k4=Si`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,L4=ws("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${k4} 1s linear infinite;
`,U4=Si`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,P4=Si`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,j4=ws("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${U4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${P4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,z4=ws("div")`
  position: absolute;
`,B4=ws("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,H4=Si`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,q4=ws("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${H4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,F4=({toast:i})=>{let{icon:e,type:n,iconTheme:s}=i;return e!==void 0?typeof e=="string"?k.createElement(q4,null,e):e:n==="blank"?null:k.createElement(B4,null,k.createElement(L4,{...s}),n!=="loading"&&k.createElement(z4,null,n==="error"?k.createElement(V4,{...s}):k.createElement(j4,{...s})))},G4=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Y4=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,K4="0%{opacity:0;} 100%{opacity:1;}",$4="0%{opacity:1;} 100%{opacity:0;}",Q4=ws("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,X4=ws("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,J4=(i,e)=>{let n=i.includes("top")?1:-1,[s,o]=W1()?[K4,$4]:[G4(n),Y4(n)];return{animation:e?`${Si(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Si(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Z4=k.memo(({toast:i,position:e,style:n,children:s})=>{let o=i.height?J4(i.position||e||"top-center",i.visible):{opacity:0},u=k.createElement(F4,{toast:i}),h=k.createElement(X4,{...i.ariaProps},$h(i.message,i));return k.createElement(Q4,{className:i.className,style:{...o,...n,...i.style}},typeof s=="function"?s({icon:u,message:h}):k.createElement(k.Fragment,null,u,h))});E4(k.createElement);var W4=({id:i,className:e,style:n,onHeightUpdate:s,children:o})=>{let u=k.useCallback(h=>{if(h){let m=()=>{let p=h.getBoundingClientRect().height;s(i,p)};m(),new MutationObserver(m).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return k.createElement("div",{ref:u,className:e,style:n},o)},eM=(i,e)=>{let n=i.includes("top"),s=n?{top:0}:{bottom:0},o=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:W1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...o}},tM=Sf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,uh=16,nM=({reverseOrder:i,position:e="top-center",toastOptions:n,gutter:s,children:o,toasterId:u,containerStyle:h,containerClassName:m})=>{let{toasts:p,handlers:g}=N4(n,u);return k.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:uh,left:uh,right:uh,bottom:uh,pointerEvents:"none",...h},className:m,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(E=>{let v=E.position||e,w=g.calculateOffset(E,{reverseOrder:i,gutter:s,defaultPosition:e}),D=eM(v,w);return k.createElement(W4,{id:E.id,key:E.id,onHeightUpdate:g.updateHeight,className:E.visible?tM:"",style:D},E.type==="custom"?$h(E.message,E):o?o(E):k.createElement(Z4,{toast:E,position:v}))}))},rM=kt;const iM="/mjhs-esports-portal/assets/logo-6ixeAFF8.png",sM=()=>{const{currentUser:i,logout:e}=Yr();return T.jsx("nav",{className:"bg-brand-black/90 backdrop-blur-md border-b border-brand-red/30 fixed w-full z-50 top-0",children:T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"flex items-center justify-between h-20",children:[T.jsxs(on,{to:"/",className:"flex items-center gap-3 group",children:[T.jsx("img",{src:iM,alt:"MJHS Logo",className:"h-12 w-auto group-hover:scale-105 transition duration-300"}),T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"font-titles text-brand-white text-xl tracking-wider leading-none",children:"MJHS ESPORTS"}),T.jsx("span",{className:"font-body text-brand-red text-xs tracking-widest font-bold",children:"PORTAL"})]})]}),T.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[T.jsx(ch,{to:"/",children:"HOME"}),T.jsx(ch,{to:"/roster",children:"MEET THE PLAYERS"}),T.jsx(ch,{to:"/matches",children:"MATCHES"}),T.jsx(ch,{to:"/store",children:"MERCH"}),i?T.jsx(on,{to:"/dashboard",className:"bg-brand-red text-white px-5 py-2 rounded font-titles tracking-wide hover:bg-brand-darkRed transition",children:"DASHBOARD"}):T.jsx(on,{to:"/login",className:"border border-brand-red text-brand-red px-5 py-2 rounded font-titles tracking-wide hover:bg-brand-red hover:text-white transition",children:"LOGIN"})]})]})})})},ch=({to:i,children:e})=>T.jsx(on,{to:i,className:"font-titles text-gray-300 hover:text-brand-yellow transition tracking-wide text-sm",children:e}),aM=()=>T.jsxs("div",{className:"min-h-screen bg-brand-black text-brand-white font-body selection:bg-brand-red selection:text-white",children:[T.jsx(sM,{}),T.jsxs("section",{className:"relative h-screen flex items-center justify-center overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-brand-black via-transparent to-brand-black z-10"}),T.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-brand-red/20 blur-[120px] rounded-full"}),T.jsxs("div",{className:"relative z-20 text-center max-w-4xl px-4",children:[T.jsx("h2",{className:"text-brand-yellow font-titles tracking-[0.2em] text-lg mb-4 animate-pulse",children:"MADISON JUNIOR HIGH SCHOOL"}),T.jsxs("h1",{className:"font-titles text-7xl md:text-9xl text-white mb-2 leading-tight",children:["#LEVEL",T.jsx("span",{className:"text-brand-red",children:"UP"})]}),T.jsx("p",{className:"font-body text-gray-400 text-lg md:text-xl max-w-2xl mx-auto mb-10",children:"The official home of the Esports Cubs. Competing in Rocket League, Super Smash Bros, Minecraft, and more."}),T.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[T.jsx(on,{to:"/matches",className:"bg-brand-red text-white px-8 py-4 rounded font-titles text-xl hover:bg-brand-darkRed transition shadow-[0_0_20px_rgba(176,12,26,0.4)] hover:shadow-[0_0_30px_rgba(176,12,26,0.6)]",children:"WATCH LIVE"}),T.jsx(on,{to:"/roster",className:"border border-brand-grey text-white px-8 py-4 rounded font-titles text-xl hover:bg-brand-white hover:text-brand-black transition",children:"MEET THE TEAM"}),T.jsx(on,{to:"/login",children:T.jsx("button",{className:"bg-brand-red text-white font-titles text-xl px-8 py-4 skew-x-[-10deg] hover:bg-brand-darkRed hover:scale-105 transition-all duration-300 border-2 border-brand-red shadow-[0_0_20px_rgba(176,12,26,0.5)]",children:T.jsx("span",{className:"skew-x-[10deg] block",children:"JOIN THE TEAM"})})})]})]})]}),T.jsx("div",{className:"bg-brand-red py-4 overflow-hidden whitespace-nowrap border-y-4 border-brand-darkRed",children:T.jsx("div",{className:"inline-block animate-marquee font-titles text-2xl text-brand-black font-bold tracking-wider",children:"ROCKET LEAGUE  //  SUPER SMASH BROS  //  MINECRAFT  //  MARIO KART  //  FORTNITE  //  MARVEL RIVALS  //  CHESS  //  TETRIS  // ROCKET LEAGUE  //  SUPER SMASH BROS  //  MINECRAFT  //  MARIO KART  //  FORTNITE  //  MARVEL RIVALS  //  CHESS  //  TETRIS"})})]});const oM=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lM=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),rE=i=>{const e=lM(i);return e.charAt(0).toUpperCase()+e.slice(1)},iA=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),uM=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var cM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hM=k.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>k.createElement("svg",{ref:p,...cM,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:iA("lucide",o),...!u&&!uM(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,E])=>k.createElement(g,E)),...Array.isArray(u)?u:[u]]));const et=(i,e)=>{const n=k.forwardRef(({className:s,...o},u)=>k.createElement(hM,{ref:u,iconNode:e,className:iA(`lucide-${oM(rE(i))}`,`lucide-${i}`,s),...o}));return n.displayName=rE(i),n};const fM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],dM=et("activity",fM);const mM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Km=et("arrow-right",mM);const pM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Sh=et("calendar",pM);const gM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yM=et("circle-check-big",gM);const _M=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sA=et("clock",_M);const vM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bM=et("file-text",vM);const EM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],TM=et("funnel",EM);const AM=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],aA=et("gamepad-2",AM);const SM=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],iE=et("hash",SM);const wM=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],xM=et("inbox",wM);const RM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],CM=et("layout-dashboard",RM);const IM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],NM=et("log-out",IM);const DM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],OM=et("mail",DM);const MM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],oA=et("map-pin",MM);const VM=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],kM=et("menu",VM);const LM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],lA=et("message-square",LM);const UM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],PM=et("pencil",UM);const jM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zM=et("plus",jM);const BM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],uA=et("save",BM);const HM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qM=et("search",HM);const FM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],GM=et("send",FM);const YM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],KM=et("shield",YM);const $M=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Pg=et("trash-2",$M);const QM=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],jg=et("trophy",QM);const XM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cA=et("user",XM);const JM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ZM=et("users",JM);const WM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hA=et("x",WM),e3=({isOpen:i,toggleSidebar:e})=>{const{logout:n,userRole:s}=Yr(),o=wi(),h=[{label:"Dashboard",path:"/dashboard",icon:T.jsx(CM,{size:20}),roles:["all"]},{label:"Inbox",path:"/dashboard/inbox",icon:T.jsx(xM,{size:20}),roles:["admin","coach"]},{label:"Roster & Teams",path:"/dashboard/roster",icon:T.jsx(ZM,{size:20}),roles:["admin","coach"]},{label:"Join Team",path:"/dashboard/application",icon:T.jsx(bM,{size:20}),roles:["student","guest"]},{label:"Comms",path:"/dashboard/comms",icon:T.jsx(lA,{size:20}),roles:["all"]},{label:"Calendar",path:"/dashboard/calendar",icon:T.jsx(Sh,{size:20}),roles:["all"]},{label:"My Stats",path:"/dashboard/stats",icon:T.jsx(jg,{size:20}),roles:["all"]}].filter(m=>m.roles.includes("all")||m.roles.includes(s));return T.jsxs(T.Fragment,{children:[i&&T.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:e}),T.jsxs("div",{className:`
        fixed md:static inset-y-0 left-0 z-50
        w-64 bg-brand-black border-r border-brand-grey/20 flex flex-col
        transform transition-transform duration-300 ease-in-out
        ${i?"translate-x-0":"-translate-x-full"} 
        md:translate-x-0
      `,children:[T.jsxs("div",{className:"h-20 flex items-center justify-between px-6 border-b border-brand-grey/20",children:[T.jsxs("h1",{className:"font-titles text-2xl text-brand-red tracking-wider",children:["MJHS",T.jsx("span",{className:"text-white",children:"PORTAL"})]}),T.jsx("button",{onClick:e,className:"md:hidden text-brand-grey hover:text-white",children:T.jsx(hA,{size:24})})]}),T.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:h.map(m=>{const p=o.pathname===m.path;return T.jsxs(on,{to:m.path,onClick:()=>window.innerWidth<768&&e(),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group ${p?"bg-brand-red text-white shadow-[0_0_10px_rgba(176,12,26,0.4)]":"text-brand-grey hover:bg-white/5 hover:text-white"}`,children:[T.jsx("span",{className:p?"text-white":"text-brand-grey group-hover:text-white",children:m.icon}),T.jsx("span",{className:"font-titles tracking-wide text-sm",children:m.label.toUpperCase()})]},m.path)})}),T.jsx("div",{className:"p-4 border-t border-brand-grey/20",children:T.jsxs("button",{onClick:n,className:"flex items-center gap-3 px-4 py-3 w-full rounded-lg text-brand-grey hover:bg-brand-red/10 hover:text-brand-red transition-all duration-200",children:[T.jsx(NM,{size:20}),T.jsx("span",{className:"font-titles tracking-wide text-sm",children:"LOG OUT"})]})})]})]})},t3=()=>{const[i,e]=k.useState(!1),n=()=>e(!i);return T.jsxs("div",{className:"flex min-h-screen bg-[#0a0a0a]",children:[T.jsx(e3,{isOpen:i,toggleSidebar:n}),T.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[T.jsxs("div",{className:"md:hidden h-16 flex items-center justify-between px-4 border-b border-brand-grey/20 bg-brand-black",children:[T.jsx("h1",{className:"font-titles text-xl text-brand-white",children:"MJHS ESPORTS"}),T.jsx("button",{onClick:n,className:"text-brand-white p-2",children:T.jsx(kM,{size:24})})]}),T.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto overflow-x-hidden",children:T.jsx("div",{className:"max-w-7xl mx-auto",children:T.jsx(Qw,{})})})]})]})},n3=()=>{const{currentUser:i,userRole:e}=Yr(),[n,s]=k.useState(null),[o,u]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const p=new Date().toISOString().split("T")[0],g=Ef(ma(Ht,"events"),Ig("date",">=",p),Og("date","asc"),MO(1)),E=await Vg(g);if(E.empty)s(null);else{const v=E.docs[0].data();s({id:E.docs[0].id,...v})}}catch(p){console.error("Error fetching next event:",p)}finally{u(!1)}})()},[]);const h=m=>{if(!m)return"";const p={weekday:"short",month:"short",day:"numeric"};return new Date(m).toLocaleDateString("en-US",p)};return T.jsxs("div",{className:"space-y-8 animate-fade-in",children:[T.jsxs("div",{children:[T.jsxs("h1",{className:"font-titles text-4xl md:text-5xl text-brand-white mb-2",children:["WELCOME BACK, ",T.jsx("span",{className:"text-brand-red",children:i.displayName||"PLAYER"})]}),T.jsxs("p",{className:"font-body text-brand-grey text-lg",children:["System Status: ",T.jsx("span",{className:"text-brand-green font-bold",children:"ONLINE"})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[T.jsxs("div",{className:"lg:col-span-2 bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden relative group",children:[T.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition",children:T.jsx(Sh,{size:120})}),T.jsxs("div",{className:"p-8 relative z-10",children:[T.jsxs("h2",{className:"font-titles text-2xl text-brand-yellow mb-6 flex items-center gap-2",children:[T.jsx(Sh,{className:"text-brand-red"})," UPCOMING EVENT"]}),o?T.jsx("div",{className:"h-24 flex items-center text-brand-grey animate-pulse",children:"Loading schedule..."}):n?T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-brand-grey text-sm font-bold tracking-widest mb-1",children:"EVENT TITLE"}),T.jsx("div",{className:"font-titles text-4xl md:text-5xl text-brand-white tracking-wide",children:n.title.toUpperCase()})]}),T.jsxs("div",{className:"flex flex-wrap gap-6 mt-4",children:[T.jsxs("div",{className:"flex items-center gap-2 text-brand-grey",children:[T.jsx("div",{className:"bg-brand-red p-2 rounded text-white",children:T.jsx(Sh,{size:18})}),T.jsx("span",{className:"text-lg text-white",children:h(n.date)})]}),T.jsxs("div",{className:"flex items-center gap-2 text-brand-grey",children:[T.jsx("div",{className:"bg-brand-yellow p-2 rounded text-brand-black",children:T.jsx(sA,{size:18})}),T.jsx("span",{className:"text-lg text-white",children:n.time})]}),T.jsxs("div",{className:"flex items-center gap-2 text-brand-grey",children:[T.jsx("div",{className:"bg-brand-grey p-2 rounded text-white",children:T.jsx(oA,{size:18})}),T.jsx("span",{className:"text-lg text-white",children:n.location})]})]}),T.jsx("div",{className:"mt-6 pt-6 border-t border-brand-grey/10",children:T.jsx("span",{className:`px-3 py-1 rounded text-sm font-bold border ${n.type==="Match"?"bg-brand-red text-white border-brand-red":n.type==="Practice"?"bg-brand-yellow text-brand-black border-brand-yellow":"bg-brand-grey text-white border-brand-grey"}`,children:n.type.toUpperCase()})})]}):T.jsxs("div",{className:"py-8",children:[T.jsx("h3",{className:"text-2xl text-brand-white font-titles",children:"NO UPCOMING EVENTS"}),T.jsx("p",{className:"text-brand-grey mt-2",children:"The calendar is currently clear."}),T.jsx(on,{to:"/dashboard/calendar",className:"inline-block mt-4 text-brand-red hover:text-white transition",children:"View Full Schedule "})]})]})]}),T.jsx("div",{className:"bg-brand-black border border-brand-grey/20 rounded-xl p-6 flex flex-col justify-between",children:T.jsxs("div",{children:[T.jsx("h2",{className:"font-titles text-xl text-brand-white mb-4",children:"QUICK ACTIONS"}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs(on,{to:"/dashboard/comms",className:"flex items-center justify-between bg-brand-red text-white p-4 rounded hover:bg-brand-darkRed group transition border border-brand-red",children:[T.jsx("span",{className:"font-bold",children:"TEAM CHAT"}),T.jsx(Km,{size:18,className:"text-white/70 group-hover:text-white"})]}),T.jsxs(on,{to:"/dashboard/stats",className:"flex items-center justify-between bg-brand-yellow text-brand-black p-4 rounded hover:bg-yellow-400 group transition border border-brand-yellow",children:[T.jsx("span",{className:"font-bold",children:"UPDATE PROFILE"}),T.jsx(Km,{size:18,className:"text-brand-black/50 group-hover:text-brand-black"})]}),(e==="admin"||e==="coach")&&T.jsxs(on,{to:"/dashboard/roster",className:"flex items-center justify-between bg-brand-white text-brand-black p-4 rounded hover:bg-gray-200 group transition border border-brand-white",children:[T.jsx("span",{className:"font-bold",children:"MANAGE ROSTER"}),T.jsx(Km,{size:18,className:"text-brand-black/50 group-hover:text-brand-black"})]})]})]})}),T.jsxs("div",{className:"md:col-span-3 bg-brand-red text-white rounded-xl p-8 flex flex-col md:flex-row items-center justify-between relative overflow-hidden",children:[T.jsxs("div",{className:"relative z-10",children:[T.jsx("h2",{className:"font-titles text-3xl mb-2",children:"ARE YOU GAME READY?"}),T.jsx("p",{className:"opacity-90 max-w-xl",children:"Ensure your profile is up to date with your current rank and active games. Coaches use this data for roster selection."})]}),T.jsx("div",{className:"relative z-10 mt-6 md:mt-0",children:T.jsx(on,{to:"/dashboard/stats",children:T.jsx("button",{className:"bg-brand-black text-white px-6 py-3 rounded font-titles font-bold hover:bg-brand-yellow hover:text-brand-black transition border-2 border-brand-black",children:"UPDATE MY STATS"})})}),T.jsx(jg,{className:"absolute -right-10 -bottom-10 text-brand-darkRed opacity-50 rotate-12",size:200})]})]})]})},r3=["Rocket League","Super Smash Bros Ultimate","Minecraft (Bed Wars)","Mario Kart","Fortnite (Zone Wars)","Marvel Rivals","Chess","Tetris"],i3=()=>{const{currentUser:i}=Yr(),[e,n]=k.useState(!1),[s,o]=k.useState({gamertag:"",discord:"",grade:"",bio:"",games:[]});k.useEffect(()=>{(async()=>{if(i){const g=Yn(Ht,"users",i.uid),E=await Ep(g);if(E.exists()){const v=E.data();o({gamertag:v.gamertag||"",discord:v.discord||"",grade:v.grade||"",bio:v.bio||"",games:v.games||[]})}}})()},[i]);const u=p=>{o({...s,[p.target.name]:p.target.value})},h=p=>{o(g=>g.games.includes(p)?{...g,games:g.games.filter(v=>v!==p)}:{...g,games:[...g.games,p]})},m=async p=>{p.preventDefault(),n(!0);const g=Yn(Ht,"users",i.uid),E=hu(g,{gamertag:s.gamertag,discord:s.discord,grade:s.grade,bio:s.bio,games:s.games,updatedAt:new Date});try{await rM.promise(E,{loading:"Saving Profile...",success:"Profile Updated Successfully!",error:"Failed to update profile."})}catch(v){console.error("Error updating profile:",v)}n(!1)};return T.jsxs("div",{className:"max-w-4xl",children:[T.jsx("h2",{className:"font-titles text-3xl text-brand-white mb-6 border-b border-brand-grey/20 pb-4",children:"PLAYER PROFILE"}),T.jsxs("form",{onSubmit:m,className:"space-y-8",children:[T.jsxs("div",{className:"bg-brand-black border border-brand-grey/20 p-6 rounded-xl",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-6 text-brand-red",children:[T.jsx(cA,{size:24}),T.jsx("h3",{className:"font-titles text-xl",children:"IDENTITY"})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-brand-grey text-sm mb-2",children:"Gamertag"}),T.jsx("input",{type:"text",name:"gamertag",value:s.gamertag,onChange:u,placeholder:"Ex: NinjaCuber99",className:"w-full bg-[#111] border border-brand-grey/30 rounded p-3 text-white focus:border-brand-red focus:outline-none"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-brand-grey text-sm mb-2",children:"Discord Username"}),T.jsx("input",{type:"text",name:"discord",value:s.discord,onChange:u,placeholder:"username#0000",className:"w-full bg-[#111] border border-brand-grey/30 rounded p-3 text-white focus:border-brand-red focus:outline-none"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-brand-grey text-sm mb-2",children:"Grade Level"}),T.jsxs("select",{name:"grade",value:s.grade,onChange:u,className:"w-full bg-[#111] border border-brand-grey/30 rounded p-3 text-white focus:border-brand-red focus:outline-none",children:[T.jsx("option",{value:"",children:"Select Grade"}),T.jsx("option",{value:"6",children:"6th Grade"}),T.jsx("option",{value:"7",children:"7th Grade"}),T.jsx("option",{value:"8",children:"8th Grade"}),T.jsx("option",{value:"Staff",children:"Staff / Coach"})]})]})]})]}),T.jsxs("div",{className:"bg-brand-black border border-brand-grey/20 p-6 rounded-xl",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-6 text-brand-red",children:[T.jsx(aA,{size:24}),T.jsx("h3",{className:"font-titles text-xl",children:"ACTIVE GAMES"})]}),T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:r3.map(p=>T.jsx("button",{type:"button",onClick:()=>h(p),className:`p-4 rounded-lg text-sm font-bold transition-all duration-200 border ${s.games.includes(p)?"bg-brand-red text-white border-brand-red shadow-[0_0_10px_rgba(176,12,26,0.4)]":"bg-[#111] text-brand-grey border-brand-grey/20 hover:border-brand-white"}`,children:p},p))})]}),T.jsx("div",{className:"flex justify-end",children:T.jsxs("button",{type:"submit",disabled:e,className:"flex items-center gap-2 bg-brand-yellow text-brand-black px-8 py-3 rounded font-titles font-bold hover:bg-white transition",children:[T.jsx(uA,{size:20}),e?"SAVING...":"SAVE PROFILE"]})})]})]})},zg=()=>T.jsx("div",{className:"flex justify-center items-center py-20",children:T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-brand-red"})}),s3=({player:i,onClose:e,onUpdate:n})=>{const[s,o]=k.useState(!1),[u,h]=k.useState({gamertag:i.gamertag||"",discord:i.discord||"",role:i.role||"student",stats:{goals:i.stats?.goals||0,assists:i.stats?.assists||0,wins:i.stats?.wins||0,mvps:i.stats?.mvps||0}}),m=(g,E)=>{h(v=>({...v,stats:{...v.stats,[g]:parseInt(E)||0}}))},p=async g=>{g.preventDefault(),o(!0);try{const E=Yn(Ht,"users",i.id);await hu(E,{gamertag:u.gamertag,discord:u.discord,role:u.role,stats:u.stats}),n(),e()}catch(E){console.error("Error updating player:",E),alert("Failed to update profile.")}finally{o(!1)}};return T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4 backdrop-blur-sm",children:T.jsxs("div",{className:"bg-[#111] w-full max-w-2xl rounded-xl border border-brand-red/50 shadow-[0_0_30px_rgba(176,12,26,0.2)] overflow-hidden animate-fade-in",children:[T.jsxs("div",{className:"bg-brand-red p-4 flex justify-between items-center",children:[T.jsxs("h2",{className:"font-titles text-xl text-white",children:["EDIT PLAYER: ",i.gamertag]}),T.jsx("button",{onClick:e,className:"text-white hover:text-brand-black",children:T.jsx(hA,{})})]}),T.jsxs("form",{onSubmit:p,className:"p-6 space-y-6 overflow-y-auto max-h-[80vh]",children:[T.jsxs("div",{className:"space-y-4",children:[T.jsxs("h3",{className:"text-brand-grey text-sm font-bold flex items-center gap-2",children:[T.jsx(dM,{size:16})," PROFILE DETAILS"]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Gamertag"}),T.jsx("input",{type:"text",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.gamertag,onChange:g=>h({...u,gamertag:g.target.value})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Discord"}),T.jsx("input",{type:"text",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.discord,onChange:g=>h({...u,discord:g.target.value})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Role (Permission Level)"}),T.jsxs("select",{className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.role,onChange:g=>h({...u,role:g.target.value}),children:[T.jsx("option",{value:"student",children:"Student (No Access)"}),T.jsx("option",{value:"player",children:"Player (Roster Access)"}),T.jsx("option",{value:"coach",children:"Coach (Admin Access)"})]})]})]})]}),T.jsxs("div",{className:"space-y-4 pt-4 border-t border-brand-grey/20",children:[T.jsxs("h3",{className:"text-brand-yellow text-sm font-bold flex items-center gap-2",children:[T.jsx(jg,{size:16})," SEASON STATISTICS"]}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Goals / Points"}),T.jsx("input",{type:"number",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.stats.goals,onChange:g=>m("goals",g.target.value)})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Assists"}),T.jsx("input",{type:"number",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.stats.assists,onChange:g=>m("assists",g.target.value)})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"Wins"}),T.jsx("input",{type:"number",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.stats.wins,onChange:g=>m("wins",g.target.value)})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs text-brand-grey mb-1 block",children:"MVPs"}),T.jsx("input",{type:"number",className:"w-full bg-brand-black border border-brand-grey/30 rounded p-2 text-white",value:u.stats.mvps,onChange:g=>m("mvps",g.target.value)})]})]})]}),T.jsx("button",{disabled:s,className:"w-full bg-brand-red text-white font-titles py-3 rounded hover:bg-brand-darkRed transition flex justify-center items-center gap-2",children:s?"SAVING...":T.jsxs(T.Fragment,{children:[T.jsx(uA,{size:20})," SAVE CHANGES"]})})]})]})})},a3=["All","Rocket League","Super Smash Bros Ultimate","Minecraft (Bed Wars)","Mario Kart","Fortnite (Zone Wars)","Marvel Rivals","Chess","Tetris"],o3=()=>{const{userRole:i}=Yr(),[e,n]=k.useState([]),[s,o]=k.useState(!0),[u,h]=k.useState("All"),[m,p]=k.useState(""),[g,E]=k.useState(null),v=async()=>{try{const G=(await Vg(ma(Ht,"users"))).docs.map(F=>({id:F.id,...F.data()}));n(G)}catch(P){console.error("Error fetching roster:",P)}finally{o(!1)}};k.useEffect(()=>{v()},[]);const w=async P=>{if(window.confirm("Are you sure you want to remove this player? This cannot be undone."))try{await kg(Yn(Ht,"users",P)),n(G=>G.filter(F=>F.id!==P))}catch(G){console.error("Error deleting player:",G),alert("Could not delete player.")}},D=e.filter(P=>{const G=u==="All"?!0:P.games&&P.games.includes(u),F=P.gamertag?.toLowerCase().includes(m.toLowerCase())||P.email?.toLowerCase().includes(m.toLowerCase());return G&&F});return T.jsxs("div",{className:"space-y-6",children:[g&&T.jsx(s3,{player:g,onClose:()=>E(null),onUpdate:v}),T.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end border-b border-brand-grey/20 pb-4 gap-4",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"TEAM ROSTER"}),T.jsx("p",{className:"text-brand-grey text-sm",children:"Manage players and view game assignments"})]}),T.jsxs("div",{className:"bg-brand-red px-4 py-1 rounded text-white font-titles text-sm",children:["TOTAL PLAYERS: ",D.length]})]}),T.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-brand-black border border-brand-grey/20 p-4 rounded-xl",children:[T.jsxs("div",{className:"relative flex-1",children:[T.jsx(qM,{className:"absolute left-3 top-3 text-brand-grey",size:20}),T.jsx("input",{type:"text",placeholder:"Search Gamertag or Email...",className:"w-full bg-[#111] border border-brand-grey/30 rounded pl-10 pr-4 py-2 text-white focus:border-brand-red focus:outline-none",value:m,onChange:P=>p(P.target.value)})]}),T.jsxs("div",{className:"relative w-full md:w-64",children:[T.jsx(TM,{className:"absolute left-3 top-3 text-brand-grey",size:20}),T.jsx("select",{className:"w-full bg-[#111] border border-brand-grey/30 rounded pl-10 pr-4 py-2 text-white focus:border-brand-red focus:outline-none appearance-none",value:u,onChange:P=>h(P.target.value),children:a3.map(P=>T.jsx("option",{value:P,children:P},P))})]})]}),s?T.jsx(zg,{}):T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(P=>T.jsxs("div",{className:"bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden hover:border-brand-red/50 transition group relative",children:[(i==="admin"||i==="coach")&&T.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[T.jsx("button",{onClick:()=>E(P),className:"p-2 bg-brand-yellow text-brand-black rounded hover:bg-white",title:"Edit Player",children:T.jsx(PM,{size:16})}),T.jsx("button",{onClick:()=>w(P.id),className:"p-2 bg-brand-red text-white rounded hover:bg-red-700",title:"Remove Player",children:T.jsx(Pg,{size:16})})]}),T.jsxs("div",{className:"bg-[#111] p-4 border-b border-brand-grey/10 flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"font-titles text-xl text-brand-white group-hover:text-brand-yellow truncate",children:P.gamertag||"No Gamertag"}),T.jsxs("div",{className:"flex items-center gap-2 text-brand-grey text-xs mt-1",children:[T.jsx(OM,{size:12}),T.jsx("span",{className:"truncate max-w-[150px]",children:P.email})]})]}),T.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase border ${P.role==="coach"?"bg-brand-red text-white border-brand-red":P.role==="player"?"bg-brand-grey/10 text-brand-grey border-brand-grey/20":"bg-brand-yellow/10 text-brand-yellow border-brand-yellow/20"}`,children:P.role||"Student"})]}),T.jsxs("div",{className:"p-4 space-y-4",children:[T.jsxs("div",{className:"flex items-center gap-3 text-sm text-brand-grey",children:[T.jsx(lA,{size:16,className:"text-brand-purple"}),T.jsx("span",{children:P.discord||"No Discord linked"})]}),T.jsxs("div",{className:"flex items-center gap-3 text-sm text-brand-grey",children:[T.jsx(cA,{size:16,className:"text-brand-red"}),T.jsx("span",{children:P.grade?`${P.grade}th Grade`:"Grade not set"})]}),P.stats&&(P.stats.wins>0||P.stats.goals>0)&&T.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-[#0a0a0a] p-2 rounded border border-brand-grey/10",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("span",{className:"block font-titles text-brand-red",children:P.stats.wins}),T.jsx("span",{className:"text-[10px] text-brand-grey",children:"WINS"})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("span",{className:"block font-titles text-brand-white",children:P.stats.goals}),T.jsx("span",{className:"text-[10px] text-brand-grey",children:"GOALS"})]})]}),T.jsxs("div",{className:"pt-2 border-t border-brand-grey/10",children:[T.jsxs("p",{className:"text-xs text-brand-grey mb-2 flex items-center gap-1",children:[T.jsx(aA,{size:12})," ACTIVE GAMES"]}),T.jsx("div",{className:"flex flex-wrap gap-2",children:P.games&&P.games.length>0?P.games.map(G=>T.jsx("span",{className:"text-[10px] px-2 py-1 bg-brand-red/10 text-brand-red border border-brand-red/30 rounded",children:G},G)):T.jsx("span",{className:"text-[10px] text-brand-grey italic",children:"No games selected"})})]})]})]},P.id))})]})},l3=[{id:"general",name:"general",locked:!1},{id:"announcements",name:"announcements",locked:!0},{id:"rocket-league",name:"rocket-league",locked:!1},{id:"smash-bros",name:"smash-bros",locked:!1},{id:"minecraft",name:"minecraft",locked:!1}],u3=()=>{const{currentUser:i,userRole:e}=Yr(),[n,s]=k.useState("general"),[o,u]=k.useState([]),[h,m]=k.useState(""),p=k.useRef();k.useEffect(()=>{const v=Ef(ma(Ht,"messages"),Ig("channel","==",n),Og("createdAt","asc")),w=G1(v,D=>{const P=D.docs.map(G=>({id:G.id,...G.data()}));u(P),p.current?.scrollIntoView({behavior:"smooth"})});return()=>w()},[n]);const g=async v=>{if(v.preventDefault(),!!h.trim()){if(n==="announcements"&&e==="student"){alert("Only Staff can post in Announcements.");return}try{await F1(ma(Ht,"messages"),{text:h,createdAt:DO(),uid:i.uid,displayName:i.displayName||i.email.split("@")[0],photoURL:i.photoURL,role:e,channel:n}),m("")}catch(w){console.error("Error sending message:",w)}}},E=async v=>{window.confirm("Delete this message?")&&await kg(Yn(Ht,"messages",v))};return T.jsxs("div",{className:"flex h-[calc(100vh-140px)] bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden",children:[T.jsxs("div",{className:"w-64 bg-[#111] border-r border-brand-grey/20 flex flex-col",children:[T.jsx("div",{className:"p-4 border-b border-brand-grey/20",children:T.jsx("h3",{className:"font-titles text-brand-white tracking-wider",children:"CHANNELS"})}),T.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:l3.map(v=>T.jsxs("button",{onClick:()=>s(v.id),className:`w-full flex items-center gap-2 px-3 py-2 rounded text-sm font-bold transition ${n===v.id?"bg-brand-red/20 text-brand-white border-l-2 border-brand-red":"text-brand-grey hover:bg-brand-grey/10 hover:text-brand-white"}`,children:[T.jsx(iE,{size:16}),v.name,v.locked&&T.jsx(KM,{size:12,className:"ml-auto text-brand-yellow"})]},v.id))})]}),T.jsxs("div",{className:"flex-1 flex flex-col bg-brand-black relative",children:[T.jsxs("div",{className:"h-14 border-b border-brand-grey/20 flex items-center px-6 bg-[#0a0a0a]",children:[T.jsx(iE,{className:"text-brand-grey mr-2",size:20}),T.jsx("span",{className:"font-titles text-lg text-white",children:n}),n==="announcements"&&T.jsx("span",{className:"ml-4 text-xs text-brand-yellow border border-brand-yellow/30 px-2 py-1 rounded",children:"READ ONLY"})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[o.map(v=>{const w=v.uid===i.uid;return T.jsxs("div",{className:`flex gap-3 group ${w?"flex-row-reverse":""}`,children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-grey/30 flex items-center justify-center overflow-hidden flex-shrink-0 border border-brand-grey/20",children:v.photoURL?T.jsx("img",{src:v.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):T.jsx("span",{className:"text-xs font-bold text-white",children:v.displayName?.[0]?.toUpperCase()})}),T.jsxs("div",{className:`flex flex-col ${w?"items-end":"items-start"} max-w-[70%]`,children:[T.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[T.jsx("span",{className:"text-xs font-bold text-brand-grey",children:v.displayName}),v.role==="admin"&&T.jsx("span",{className:"text-[10px] bg-brand-red text-white px-1 rounded",children:"ADMIN"})]}),T.jsx("div",{className:`px-4 py-2 rounded-lg text-sm ${w?"bg-brand-red text-white rounded-tr-none":"bg-[#222] text-gray-200 border border-brand-grey/20 rounded-tl-none"}`,children:v.text}),(e==="admin"||e==="coach")&&T.jsx("button",{onClick:()=>E(v.id),className:"opacity-0 group-hover:opacity-100 absolute -right-8 top-2 text-brand-grey hover:text-brand-red transition",children:T.jsx(Pg,{size:14})})]})]},v.id)}),T.jsx("div",{ref:p})]}),T.jsx("div",{className:"p-4 bg-[#111] border-t border-brand-grey/20",children:T.jsxs("form",{onSubmit:g,className:"flex gap-2",children:[T.jsx("input",{type:"text",value:h,onChange:v=>m(v.target.value),disabled:n==="announcements"&&e==="student",placeholder:n==="announcements"&&e==="student"?"Read Only Channel":`Message #${n}`,className:"flex-1 bg-brand-black border border-brand-grey/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-brand-red disabled:opacity-50 disabled:cursor-not-allowed"}),T.jsx("button",{type:"submit",disabled:!h.trim()||n==="announcements"&&e==="student",className:"bg-brand-red text-white p-3 rounded-lg hover:bg-brand-darkRed transition disabled:opacity-50 disabled:cursor-not-allowed",children:T.jsx(GM,{size:20})})]})})]})]})},$m=[{label:"Match",color:"bg-brand-red text-white border-brand-red"},{label:"Practice",color:"bg-brand-yellow text-brand-black border-brand-yellow"},{label:"Meeting",color:"bg-brand-grey text-white border-brand-grey"}],c3=()=>{const{userRole:i}=Yr(),[e,n]=k.useState([]),[s,o]=k.useState(!0),[u,h]=k.useState(!1),[m,p]=k.useState({title:"",date:"",time:"",location:"Esports Lab",type:"Practice"});k.useEffect(()=>{const v=Ef(ma(Ht,"events"),Og("date","asc")),w=G1(v,D=>{const P=D.docs.map(G=>({id:G.id,...G.data()}));n(P),o(!1)});return()=>w()},[]);const g=async v=>{if(v.preventDefault(),!(!m.title||!m.date))try{await F1(ma(Ht,"events"),{...m,createdAt:new Date}),h(!1),p({title:"",date:"",time:"",location:"Esports Lab",type:"Practice"})}catch(w){console.error("Error adding event:",w)}},E=async v=>{window.confirm("Remove this event?")&&await kg(Yn(Ht,"events",v))};return T.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[T.jsxs("div",{className:"flex justify-between items-end border-b border-brand-grey/20 pb-4",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"TEAM SCHEDULE"}),T.jsx("p",{className:"text-brand-grey text-sm",children:"Upcoming matches and practices"})]}),(i==="admin"||i==="coach")&&T.jsxs("button",{onClick:()=>h(!u),className:"flex items-center gap-2 bg-brand-red text-white px-4 py-2 rounded font-bold hover:bg-brand-darkRed transition",children:[u?"CLOSE":"ADD EVENT"," ",T.jsx(zM,{size:20})]})]}),u&&T.jsxs("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/30 animate-fade-in",children:[T.jsx("h3",{className:"font-titles text-xl mb-4 text-brand-yellow",children:"NEW EVENT DETAILS"}),T.jsxs("form",{onSubmit:g,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsx("input",{type:"text",placeholder:"Event Title (e.g., VS Floyd Central)",className:"md:col-span-2 bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.title,onChange:v=>p({...m,title:v.target.value})}),T.jsx("input",{type:"date",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.date,onChange:v=>p({...m,date:v.target.value})}),T.jsx("input",{type:"time",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.time,onChange:v=>p({...m,time:v.target.value})}),T.jsx("select",{className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.type,onChange:v=>p({...m,type:v.target.value}),children:$m.map(v=>T.jsx("option",{value:v.label,children:v.label},v.label))}),T.jsx("input",{type:"text",placeholder:"Location",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:m.location,onChange:v=>p({...m,location:v.target.value})}),T.jsx("button",{className:"md:col-span-2 bg-brand-white text-brand-black font-bold p-3 rounded hover:bg-gray-200",children:"PUBLISH TO SCHEDULE"})]})]}),T.jsxs("div",{className:"space-y-4",children:[s&&T.jsx(zg,{}),e.length===0&&!s&&T.jsx("div",{className:"text-center text-brand-grey py-10",children:"No upcoming events scheduled."}),e.map(v=>{const w=$m.find(D=>D.label===v.type)||$m[0];return T.jsxs("div",{className:"flex flex-col md:flex-row bg-brand-black border border-brand-grey/20 rounded-xl overflow-hidden group hover:border-brand-grey/50 transition",children:[T.jsxs("div",{className:"bg-[#111] p-6 flex flex-col items-center justify-center min-w-[120px] border-b md:border-b-0 md:border-r border-brand-grey/20",children:[T.jsx("span",{className:"font-titles text-3xl text-brand-white",children:new Date(v.date).getDate()}),T.jsx("span",{className:"text-brand-red font-bold uppercase text-sm",children:new Date(v.date).toLocaleString("default",{month:"short"})}),T.jsx("span",{className:"text-brand-grey text-xs mt-1",children:new Date(v.date).toLocaleString("default",{weekday:"long"})})]}),T.jsxs("div",{className:"p-6 flex-1 flex flex-col justify-center",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[T.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold border ${w.color}`,children:v.type.toUpperCase()}),T.jsxs("div",{className:"flex items-center gap-1 text-brand-grey text-sm",children:[T.jsx(sA,{size:14})," ",v.time]})]}),T.jsx("h3",{className:"font-titles text-2xl text-white group-hover:text-brand-yellow transition",children:v.title}),T.jsxs("div",{className:"flex items-center gap-2 text-brand-grey text-sm mt-2",children:[T.jsx(oA,{size:16,className:"text-brand-red"}),v.location]})]}),(i==="admin"||i==="coach")&&T.jsx("button",{onClick:()=>E(v.id),className:"bg-brand-red/10 text-brand-red p-4 flex items-center justify-center opacity-0 group-hover:opacity-100 hover:bg-brand-red hover:text-white transition w-16",children:T.jsx(Pg,{size:24})})]},v.id)})]})]})},h3=()=>{const{currentUser:i,userRole:e}=Yr(),[n,s]=k.useState(!1),[o,u]=k.useState(!1),[h,m]=k.useState({gamertag:"",discord:"",grade:"",gpa:"",guardianName:"",guardianEmail:"",jerseySize:"M",games:[]}),p=["Rocket League","Super Smash Bros","Minecraft","Valorant","Overwatch 2"],g=v=>{m(w=>({...w,games:w.games.includes(v)?w.games.filter(D=>D!==v):[...w.games,v]}))},E=async v=>{v.preventDefault(),s(!0);try{const w=Yn(Ht,"users",i.uid);await hu(w,{...h,applicationStatus:"submitted",updatedAt:new Date}),u(!0)}catch(w){console.error("Error submitting application:",w),alert("Failed to submit application.")}finally{s(!1)}};return o||e==="player"?T.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-center space-y-4",children:[T.jsx(yM,{size:64,className:"text-brand-green"}),T.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"APPLICATION RECEIVED"}),T.jsx("p",{className:"text-brand-grey",children:"Your coach will review your application and schedule a tryout."}),T.jsx("div",{className:"bg-brand-grey/10 p-4 rounded border border-brand-grey/30",children:T.jsxs("p",{className:"font-bold text-brand-yellow",children:["CURRENT STATUS: ",e==="player"?"ROSTERED":"PENDING TRYOUT"]})})]}):T.jsxs("div",{className:"max-w-3xl mx-auto",children:[T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"PLAYER APPLICATION"}),T.jsx("p",{className:"text-brand-grey",children:"Complete your profile to tryout for the season."})]}),T.jsxs("form",{onSubmit:E,className:"bg-[#111] p-8 rounded-xl border border-brand-grey/20 space-y-6",children:[T.jsxs("div",{className:"space-y-4",children:[T.jsx("h3",{className:"text-xl font-titles text-brand-red border-b border-brand-grey/20 pb-2",children:"PLAYER INFO"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsx("input",{required:!0,type:"text",placeholder:"Gamertag",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.gamertag,onChange:v=>m({...h,gamertag:v.target.value})}),T.jsx("input",{required:!0,type:"text",placeholder:"Discord Username",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.discord,onChange:v=>m({...h,discord:v.target.value})}),T.jsxs("select",{required:!0,className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.grade,onChange:v=>m({...h,grade:v.target.value}),children:[T.jsx("option",{value:"",children:"Select Grade"}),[9,10,11,12].map(v=>T.jsxs("option",{value:v,children:[v,"th Grade"]},v))]}),T.jsx("input",{required:!0,type:"number",step:"0.01",placeholder:"Current GPA",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.gpa,onChange:v=>m({...h,gpa:v.target.value})})]})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("h3",{className:"text-xl font-titles text-brand-red border-b border-brand-grey/20 pb-2",children:"GUARDIAN INFO"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsx("input",{required:!0,type:"text",placeholder:"Parent/Guardian Name",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.guardianName,onChange:v=>m({...h,guardianName:v.target.value})}),T.jsx("input",{required:!0,type:"email",placeholder:"Parent Email",className:"bg-brand-black border border-brand-grey/30 p-3 rounded text-white",value:h.guardianEmail,onChange:v=>m({...h,guardianEmail:v.target.value})})]})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("h3",{className:"text-xl font-titles text-brand-red border-b border-brand-grey/20 pb-2",children:"GAMES OF INTEREST"}),T.jsx("div",{className:"flex flex-wrap gap-3",children:p.map(v=>T.jsx("button",{type:"button",onClick:()=>g(v),className:`px-4 py-2 rounded border transition ${h.games.includes(v)?"bg-brand-red text-white border-brand-red":"bg-transparent text-brand-grey border-brand-grey/30 hover:border-brand-grey"}`,children:v},v))})]}),T.jsx("button",{disabled:n,className:"w-full bg-brand-white text-brand-black font-titles text-xl py-4 rounded hover:bg-gray-200 transition",children:n?"SUBMITTING...":"SUBMIT APPLICATION"})]})]})},f3=()=>{const[i,e]=k.useState([]),[n,s]=k.useState(!0),o=async()=>{s(!0);try{const m=Ef(ma(Ht,"users"),Ig("applicationStatus","in",["submitted","tryout"])),p=await Vg(m);e(p.docs.map(g=>({id:g.id,...g.data()})))}catch(m){console.error("Error fetching apps:",m)}finally{s(!1)}};k.useEffect(()=>{o()},[]);const u=async m=>{confirm("Move to 'Tryout' phase? This will notify the student.")&&(await hu(Yn(Ht,"users",m),{applicationStatus:"tryout"}),o())},h=async m=>{confirm("Approve for Roster? This grants 'Player' permissions.")&&(await hu(Yn(Ht,"users",m),{applicationStatus:"approved",role:"player"}),o())};return T.jsxs("div",{className:"space-y-6",children:[T.jsx("div",{className:"flex justify-between items-end border-b border-brand-grey/20 pb-4",children:T.jsxs("div",{children:[T.jsx("h2",{className:"font-titles text-3xl text-brand-white",children:"APPLICATION INBOX"}),T.jsx("p",{className:"text-brand-grey text-sm",children:"Review pending student applications"})]})}),n?T.jsx(zg,{}):T.jsxs("div",{className:"grid gap-4",children:[i.length===0&&T.jsx("p",{className:"text-brand-grey",children:"No pending applications."}),i.map(m=>T.jsxs("div",{className:"bg-[#111] p-6 rounded-xl border border-brand-grey/20 flex flex-col md:flex-row justify-between gap-4",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("h3",{className:"font-titles text-2xl text-white",children:m.displayName}),T.jsx("span",{className:`px-2 py-0.5 text-xs font-bold uppercase rounded border ${m.applicationStatus==="tryout"?"bg-brand-yellow text-brand-black border-brand-yellow":"bg-brand-grey/20 text-brand-grey border-brand-grey"}`,children:m.applicationStatus})]}),T.jsxs("div",{className:"text-brand-grey text-sm mt-1 grid grid-cols-2 gap-x-8 gap-y-1",children:[T.jsxs("p",{children:["Gamertag: ",T.jsx("span",{className:"text-white",children:m.gamertag})]}),T.jsxs("p",{children:["GPA: ",T.jsx("span",{className:"text-white",children:m.gpa})]}),T.jsxs("p",{children:["Grade: ",T.jsx("span",{className:"text-white",children:m.grade})]}),T.jsxs("p",{children:["Games: ",T.jsx("span",{className:"text-white",children:m.games?.join(", ")})]})]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[m.applicationStatus==="submitted"&&T.jsx("button",{onClick:()=>u(m.id),className:"bg-brand-yellow text-brand-black px-4 py-2 rounded font-bold hover:bg-yellow-400 transition",children:"SCHEDULE TRYOUT"}),m.applicationStatus==="tryout"&&T.jsx("button",{onClick:()=>h(m.id),className:"bg-brand-green text-white px-4 py-2 rounded font-bold hover:bg-green-600 transition border border-brand-green",children:"APPROVE ROSTER"})]})]},m.id))]})]})},d3=()=>{const{loginWithGoogle:i,currentUser:e}=Yr();return e?T.jsx(bE,{to:"/dashboard"}):T.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-brand-black text-brand-white space-y-8",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("h1",{className:"font-titles text-6xl text-brand-red tracking-wider",children:"MJHS ESPORTS"}),T.jsx("p",{className:"font-body text-brand-grey mt-2 text-xl",children:"PORTAL LOGIN"})]}),T.jsxs("div",{className:"flex gap-6",children:[T.jsx("button",{onClick:()=>i(),className:"bg-brand-red px-8 py-4 rounded-lg font-bold hover:bg-brand-darkRed transition border-2 border-brand-red text-white",children:"LOGIN WITH SCHOOL EMAIL"}),T.jsx("button",{onClick:()=>i(),className:"bg-transparent border-2 border-brand-grey px-8 py-4 rounded-lg font-bold hover:bg-brand-grey/20 transition text-brand-grey",children:"GUEST / PARENT"})]})]})},m3=({children:i})=>{const{currentUser:e}=Yr();return e?i:T.jsx(bE,{to:"/login"})};function p3(){return T.jsxs(m4,{children:[T.jsx(nM,{position:"bottom-right",toastOptions:{style:{background:"#333",color:"#fff",border:"1px solid #B00C1A"}}}),T.jsx(Ex,{children:T.jsxs(Jw,{children:[T.jsx(sr,{path:"/",element:T.jsx(aM,{})}),T.jsx(sr,{path:"/login",element:T.jsx(d3,{})}),T.jsxs(sr,{path:"/dashboard",element:T.jsx(m3,{children:T.jsx(t3,{})}),children:[T.jsx(sr,{index:!0,element:T.jsx(n3,{})}),T.jsx(sr,{path:"stats",element:T.jsx(i3,{})}),T.jsx(sr,{path:"roster",element:T.jsx(o3,{})}),T.jsx(sr,{path:"comms",element:T.jsx(u3,{})}),T.jsx(sr,{path:"calendar",element:T.jsx(c3,{})}),T.jsx(sr,{path:"application",element:T.jsx(h3,{})}),T.jsx(sr,{path:"inbox",element:T.jsx(f3,{})})]})]})})]})}JS.createRoot(document.getElementById("root")).render(T.jsx(k.StrictMode,{children:T.jsx(p3,{})}));
